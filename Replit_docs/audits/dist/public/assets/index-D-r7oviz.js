function Ute(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t2={exports:{}},Fp={};var ID;function Vte(){if(ID)return Fp;ID=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(s,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:e,type:s,key:o,ref:a!==void 0?a:null,props:i}}return Fp.Fragment=t,Fp.jsx=r,Fp.jsxs=r,Fp}var LD;function Kte(){return LD||(LD=1,t2.exports=Vte()),t2.exports}var n=Kte(),n2={exports:{}},Bp={},r2={exports:{}},s2={};var $D;function Hte(){return $D||($D=1,(function(e){function t(I,K){var U=I.length;I.push(K);e:for(;0<U;){var B=U-1>>>1,ie=I[B];if(0<a(ie,K))I[B]=K,I[U]=ie,U=B;else break e}}function r(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var K=I[0],U=I.pop();if(U!==K){I[0]=U;e:for(var B=0,ie=I.length,G=ie>>>1;B<G;){var Y=2*(B+1)-1,se=I[Y],he=Y+1,Q=I[he];if(0>a(se,U))he<ie&&0>a(Q,se)?(I[B]=Q,I[he]=U,B=he):(I[B]=se,I[Y]=U,B=Y);else if(he<ie&&0>a(Q,U))I[B]=Q,I[he]=U,B=he;else break e}}return K}function a(I,K){var U=I.sortIndex-K.sortIndex;return U!==0?U:I.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],m=[],f=1,h=null,g=3,b=!1,w=!1,y=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(I){for(var K=r(m);K!==null;){if(K.callback===null)s(m);else if(K.startTime<=I)s(m),K.sortIndex=K.expirationTime,t(d,K);else break;K=r(m)}}function A(I){if(y=!1,T(I),!w)if(r(d)!==null)w=!0,k||(k=!0,$());else{var K=r(m);K!==null&&q(A,K.startTime-I)}}var k=!1,P=-1,O=5,M=-1;function F(){return j?!0:!(e.unstable_now()-M<O)}function D(){if(j=!1,k){var I=e.unstable_now();M=I;var K=!0;try{e:{w=!1,y&&(y=!1,C(P),P=-1),b=!0;var U=g;try{t:{for(T(I),h=r(d);h!==null&&!(h.expirationTime>I&&F());){var B=h.callback;if(typeof B=="function"){h.callback=null,g=h.priorityLevel;var ie=B(h.expirationTime<=I);if(I=e.unstable_now(),typeof ie=="function"){h.callback=ie,T(I),K=!0;break t}h===r(d)&&s(d),T(I)}else s(d);h=r(d)}if(h!==null)K=!0;else{var G=r(m);G!==null&&q(A,G.startTime-I),K=!1}}break e}finally{h=null,g=U,b=!1}K=void 0}}finally{K?$():k=!1}}}var $;if(typeof E=="function")$=function(){E(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=D,$=function(){z.postMessage(null)}}else $=function(){N(D,0)};function q(I,K){P=N(function(){I(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var U=g;g=K;try{return I()}finally{g=U}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(I,K){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=g;g=I;try{return K()}finally{g=U}},e.unstable_scheduleCallback=function(I,K,U){var B=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?B+U:B):U=B,I){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=U+ie,I={id:f++,callback:K,priorityLevel:I,startTime:U,expirationTime:ie,sortIndex:-1},U>B?(I.sortIndex=U,t(m,I),r(d)===null&&I===r(m)&&(y?(C(P),P=-1):y=!0,q(A,U-B))):(I.sortIndex=ie,t(d,I),w||b||(w=!0,k||(k=!0,$()))),I},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(I){var K=g;return function(){var U=g;g=K;try{return I.apply(this,arguments)}finally{g=U}}}})(s2)),s2}var zD;function Gte(){return zD||(zD=1,r2.exports=Hte()),r2.exports}var a2={exports:{}},Tt={};var qD;function Wte(){if(qD)return Tt;qD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,j={};function N(G,Y,se){this.props=G,this.context=Y,this.refs=j,this.updater=se||w}N.prototype.isReactComponent={},N.prototype.setState=function(G,Y){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Y,"setState")},N.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function C(){}C.prototype=N.prototype;function E(G,Y,se){this.props=G,this.context=Y,this.refs=j,this.updater=se||w}var T=E.prototype=new C;T.constructor=E,y(T,N.prototype),T.isPureReactComponent=!0;var A=Array.isArray;function k(){}var P={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function M(G,Y,se){var he=se.ref;return{$$typeof:e,type:G,key:Y,ref:he!==void 0?he:null,props:se}}function F(G,Y){return M(G.type,Y,G.props)}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function $(G){var Y={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(se){return Y[se]})}var V=/\/+/g;function z(G,Y){return typeof G=="object"&&G!==null&&G.key!=null?$(""+G.key):Y.toString(36)}function q(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(k,k):(G.status="pending",G.then(function(Y){G.status==="pending"&&(G.status="fulfilled",G.value=Y)},function(Y){G.status==="pending"&&(G.status="rejected",G.reason=Y)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function I(G,Y,se,he,Q){var xe=typeof G;(xe==="undefined"||xe==="boolean")&&(G=null);var me=!1;if(G===null)me=!0;else switch(xe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(G.$$typeof){case e:case t:me=!0;break;case f:return me=G._init,I(me(G._payload),Y,se,he,Q)}}if(me)return Q=Q(G),me=he===""?"."+z(G,0):he,A(Q)?(se="",me!=null&&(se=me.replace(V,"$&/")+"/"),I(Q,Y,se,"",function(Ee){return Ee})):Q!=null&&(D(Q)&&(Q=F(Q,se+(Q.key==null||G&&G.key===Q.key?"":(""+Q.key).replace(V,"$&/")+"/")+me)),Y.push(Q)),1;me=0;var Ue=he===""?".":he+":";if(A(G))for(var ge=0;ge<G.length;ge++)he=G[ge],xe=Ue+z(he,ge),me+=I(he,Y,se,xe,Q);else if(ge=b(G),typeof ge=="function")for(G=ge.call(G),ge=0;!(he=G.next()).done;)he=he.value,xe=Ue+z(he,ge++),me+=I(he,Y,se,xe,Q);else if(xe==="object"){if(typeof G.then=="function")return I(q(G),Y,se,he,Q);throw Y=String(G),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return me}function K(G,Y,se){if(G==null)return G;var he=[],Q=0;return I(G,he,"","",function(xe){return Y.call(se,xe,Q++)}),he}function U(G){if(G._status===-1){var Y=G._result;Y=Y(),Y.then(function(se){(G._status===0||G._status===-1)&&(G._status=1,G._result=se)},function(se){(G._status===0||G._status===-1)&&(G._status=2,G._result=se)}),G._status===-1&&(G._status=0,G._result=Y)}if(G._status===1)return G._result.default;throw G._result}var B=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ie={map:K,forEach:function(G,Y,se){K(G,function(){Y.apply(this,arguments)},se)},count:function(G){var Y=0;return K(G,function(){Y++}),Y},toArray:function(G){return K(G,function(Y){return Y})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return Tt.Activity=h,Tt.Children=ie,Tt.Component=N,Tt.Fragment=r,Tt.Profiler=a,Tt.PureComponent=E,Tt.StrictMode=s,Tt.Suspense=d,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return P.H.useMemoCache(G)}},Tt.cache=function(G){return function(){return G.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(G,Y,se){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var he=y({},G.props),Q=G.key;if(Y!=null)for(xe in Y.key!==void 0&&(Q=""+Y.key),Y)!O.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(he[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)he.children=se;else if(1<xe){for(var me=Array(xe),Ue=0;Ue<xe;Ue++)me[Ue]=arguments[Ue+2];he.children=me}return M(G.type,Q,he)},Tt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:i,_context:G},G},Tt.createElement=function(G,Y,se){var he,Q={},xe=null;if(Y!=null)for(he in Y.key!==void 0&&(xe=""+Y.key),Y)O.call(Y,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Q[he]=Y[he]);var me=arguments.length-2;if(me===1)Q.children=se;else if(1<me){for(var Ue=Array(me),ge=0;ge<me;ge++)Ue[ge]=arguments[ge+2];Q.children=Ue}if(G&&G.defaultProps)for(he in me=G.defaultProps,me)Q[he]===void 0&&(Q[he]=me[he]);return M(G,xe,Q)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(G){return{$$typeof:c,render:G}},Tt.isValidElement=D,Tt.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:U}},Tt.memo=function(G,Y){return{$$typeof:m,type:G,compare:Y===void 0?null:Y}},Tt.startTransition=function(G){var Y=P.T,se={};P.T=se;try{var he=G(),Q=P.S;Q!==null&&Q(se,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(k,B)}catch(xe){B(xe)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),P.T=Y}},Tt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Tt.use=function(G){return P.H.use(G)},Tt.useActionState=function(G,Y,se){return P.H.useActionState(G,Y,se)},Tt.useCallback=function(G,Y){return P.H.useCallback(G,Y)},Tt.useContext=function(G){return P.H.useContext(G)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(G,Y){return P.H.useDeferredValue(G,Y)},Tt.useEffect=function(G,Y){return P.H.useEffect(G,Y)},Tt.useEffectEvent=function(G){return P.H.useEffectEvent(G)},Tt.useId=function(){return P.H.useId()},Tt.useImperativeHandle=function(G,Y,se){return P.H.useImperativeHandle(G,Y,se)},Tt.useInsertionEffect=function(G,Y){return P.H.useInsertionEffect(G,Y)},Tt.useLayoutEffect=function(G,Y){return P.H.useLayoutEffect(G,Y)},Tt.useMemo=function(G,Y){return P.H.useMemo(G,Y)},Tt.useOptimistic=function(G,Y){return P.H.useOptimistic(G,Y)},Tt.useReducer=function(G,Y,se){return P.H.useReducer(G,Y,se)},Tt.useRef=function(G){return P.H.useRef(G)},Tt.useState=function(G){return P.H.useState(G)},Tt.useSyncExternalStore=function(G,Y,se){return P.H.useSyncExternalStore(G,Y,se)},Tt.useTransition=function(){return P.H.useTransition()},Tt.version="19.2.0",Tt}var FD;function lh(){return FD||(FD=1,a2.exports=Wte()),a2.exports}var i2={exports:{}},Cs={};var BD;function Yte(){if(BD)return Cs;BD=1;var e=lh();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)m+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,m,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:d,containerInfo:m,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Cs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Cs.createPortal=function(d,m){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return i(d,m,null,f)},Cs.flushSync=function(d){var m=o.T,f=s.p;try{if(o.T=null,s.p=2,d)return d()}finally{o.T=m,s.p=f,s.d.f()}},Cs.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},Cs.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Cs.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var f=m.as,h=c(f,m.crossOrigin),g=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;f==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:b}):f==="script"&&s.d.X(d,{crossOrigin:h,integrity:g,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Cs.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var f=c(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:f,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},Cs.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var f=m.as,h=c(f,m.crossOrigin);s.d.L(d,f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Cs.preloadModule=function(d,m){if(typeof d=="string")if(m){var f=c(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:f,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},Cs.requestFormReset=function(d){s.d.r(d)},Cs.unstable_batchedUpdates=function(d,m){return d(m)},Cs.useFormState=function(d,m,f){return o.H.useFormState(d,m,f)},Cs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Cs.version="19.2.0",Cs}var UD;function _U(){if(UD)return i2.exports;UD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),i2.exports=Yte(),i2.exports}var VD;function Qte(){if(VD)return Bp;VD=1;var e=Gte(),t=lh(),r=_U();function s(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function d(l){if(i(l)!==l)throw Error(s(188))}function m(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(s(188));return u!==l?null:l}for(var p=l,x=u;;){var S=p.return;if(S===null)break;var _=S.alternate;if(_===null){if(x=S.return,x!==null){p=x;continue}break}if(S.child===_.child){for(_=S.child;_;){if(_===p)return d(S),l;if(_===x)return d(S),u;_=_.sibling}throw Error(s(188))}if(p.return!==x.return)p=S,x=_;else{for(var L=!1,W=S.child;W;){if(W===p){L=!0,p=S,x=_;break}if(W===x){L=!0,x=S,p=_;break}W=W.sibling}if(!L){for(W=_.child;W;){if(W===p){L=!0,p=_,x=S;break}if(W===x){L=!0,x=_,p=S;break}W=W.sibling}if(!L)throw Error(s(189))}}if(p.alternate!==x)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function $(l){return l===null||typeof l!="object"?null:(l=D&&l[D]||l["@@iterator"],typeof l=="function"?l:null)}var V=Symbol.for("react.client.reference");function z(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===V?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case y:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case A:return"Suspense";case k:return"SuspenseList";case M:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case w:return"Portal";case E:return l.displayName||"Context";case C:return(l._context.displayName||"Context")+".Consumer";case T:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case P:return u=l.displayName||null,u!==null?u:z(l.type)||"Memo";case O:u=l._payload,l=l._init;try{return z(l(u))}catch{}}return null}var q=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},B=[],ie=-1;function G(l){return{current:l}}function Y(l){0>ie||(l.current=B[ie],B[ie]=null,ie--)}function se(l,u){ie++,B[ie]=l.current,l.current=u}var he=G(null),Q=G(null),xe=G(null),me=G(null);function Ue(l,u){switch(se(xe,u),se(Q,l),se(he,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?aD(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=aD(u),l=iD(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Y(he),se(he,l)}function ge(){Y(he),Y(Q),Y(xe)}function Ee(l){l.memoizedState!==null&&se(me,l);var u=he.current,p=iD(u,l.type);u!==p&&(se(Q,l),se(he,p))}function Z(l){Q.current===l&&(Y(he),Y(Q)),me.current===l&&(Y(me),Lp._currentValue=U)}var re,le;function Re(l){if(re===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);re=u&&u[1]||"",le=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+l+le}var Pt=!1;function Ot(l,u){if(!l||Pt)return"";Pt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(pe){var fe=pe}Reflect.construct(l,[],_e)}else{try{_e.call()}catch(pe){fe=pe}l.call(_e.prototype)}}else{try{throw Error()}catch(pe){fe=pe}(_e=l())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(pe){if(pe&&fe&&typeof pe.stack=="string")return[pe.stack,fe.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=x.DetermineComponentFrameRoot(),L=_[0],W=_[1];if(L&&W){var te=L.split(`
`),de=W.split(`
`);for(S=x=0;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;for(;S<de.length&&!de[S].includes("DetermineComponentFrameRoot");)S++;if(x===te.length||S===de.length)for(x=te.length-1,S=de.length-1;1<=x&&0<=S&&te[x]!==de[S];)S--;for(;1<=x&&0<=S;x--,S--)if(te[x]!==de[S]){if(x!==1||S!==1)do if(x--,S--,0>S||te[x]!==de[S]){var we=`
`+te[x].replace(" at new "," at ");return l.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",l.displayName)),we}while(1<=x&&0<=S);break}}}finally{Pt=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?Re(p):""}function _n(l,u){switch(l.tag){case 26:case 27:case 5:return Re(l.type);case 16:return Re("Lazy");case 13:return l.child!==u&&u!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Ot(l.type,!1);case 11:return Ot(l.type.render,!1);case 1:return Ot(l.type,!0);case 31:return Re("Activity");default:return""}}function ss(l){try{var u="",p=null;do u+=_n(l,p),p=l,l=l.return;while(l);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Yr=Object.prototype.hasOwnProperty,Ns=e.unstable_scheduleCallback,Jn=e.unstable_cancelCallback,vn=e.unstable_shouldYield,as=e.unstable_requestPaint,er=e.unstable_now,bi=e.unstable_getCurrentPriorityLevel,du=e.unstable_ImmediatePriority,Ph=e.unstable_UserBlockingPriority,Wl=e.unstable_NormalPriority,dy=e.unstable_LowPriority,Zd=e.unstable_IdlePriority,my=e.log,Oh=e.unstable_setDisableYieldValue,ji=null,is=null;function wi(l){if(typeof my=="function"&&Oh(l),is&&typeof is.setStrictMode=="function")try{is.setStrictMode(ji,l)}catch{}}var os=Math.clz32?Math.clz32:hy,fy=Math.log,kh=Math.LN2;function hy(l){return l>>>=0,l===0?32:31-(fy(l)/kh|0)|0}var Yl=256,qo=262144,Ql=4194304;function ga(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function mu(l,u,p){var x=l.pendingLanes;if(x===0)return 0;var S=0,_=l.suspendedLanes,L=l.pingedLanes;l=l.warmLanes;var W=x&134217727;return W!==0?(x=W&~_,x!==0?S=ga(x):(L&=W,L!==0?S=ga(L):p||(p=W&~l,p!==0&&(S=ga(p))))):(W=x&~_,W!==0?S=ga(W):L!==0?S=ga(L):p||(p=x&~l,p!==0&&(S=ga(p)))),S===0?0:u!==0&&u!==S&&(u&_)===0&&(_=S&-S,p=u&-u,_>=p||_===32&&(p&4194048)!==0)?u:S}function Fo(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function py(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xl(){var l=Ql;return Ql<<=1,(Ql&62914560)===0&&(Ql=4194304),l}function Jd(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function Zl(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Hw(l,u,p,x,S,_){var L=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var W=l.entanglements,te=l.expirationTimes,de=l.hiddenUpdates;for(p=L&~p;0<p;){var we=31-os(p),_e=1<<we;W[we]=0,te[we]=-1;var fe=de[we];if(fe!==null)for(de[we]=null,we=0;we<fe.length;we++){var pe=fe[we];pe!==null&&(pe.lane&=-536870913)}p&=~_e}x!==0&&Mh(l,x,0),_!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=_&~(L&~u))}function Mh(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var x=31-os(u);l.entangledLanes|=u,l.entanglements[x]=l.entanglements[x]|1073741824|p&261930}function gy(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var x=31-os(p),S=1<<x;S&u|l[x]&u&&(l[x]|=u),p&=~S}}function Rh(l,u){var p=u&-u;return p=(p&42)!==0?1:em(p),(p&(l.suspendedLanes|u))!==0?0:p}function em(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Jl(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function tm(){var l=K.p;return l!==0?l:(l=window.event,l===void 0?32:TD(l.type))}function fu(l,u){var p=K.p;try{return K.p=l,u()}finally{K.p=p}}var Fa=Math.random().toString(36).slice(2),dr="__reactFiber$"+Fa,Ir="__reactProps$"+Fa,ec="__reactContainer$"+Fa,tc="__reactEvents$"+Fa,xy="__reactListeners$"+Fa,Dh="__reactHandles$"+Fa,hu="__reactResources$"+Fa,to="__reactMarker$"+Fa;function Ih(l){delete l[dr],delete l[Ir],delete l[tc],delete l[xy],delete l[Dh]}function no(l){var u=l[dr];if(u)return u;for(var p=l.parentNode;p;){if(u=p[ec]||p[dr]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=fD(l);l!==null;){if(p=l[dr])return p;l=fD(l)}return u}l=p,p=l.parentNode}return null}function ro(l){if(l=l[dr]||l[ec]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function nc(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(s(33))}function so(l){var u=l[hu];return u||(u=l[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function mr(l){l[to]=!0}var Lh=new Set,$h={};function ao(l,u){Bo(l,u),Bo(l+"Capture",u)}function Bo(l,u){for($h[l]=u,l=0;l<u.length;l++)Lh.add(u[l])}var zh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qh={},Ba={};function Fh(l){return Yr.call(Ba,l)?!0:Yr.call(qh,l)?!1:zh.test(l)?Ba[l]=!0:(qh[l]=!0,!1)}function pu(l,u,p){if(Fh(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function gu(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function Ua(l,u,p,x){if(x===null)l.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+x)}}function $s(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function xu(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function yy(l,u,p){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var S=x.get,_=x.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(L){p=""+L,_.call(this,L)}}),Object.defineProperty(l,u,{enumerable:x.enumerable}),{getValue:function(){return p},setValue:function(L){p=""+L},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Bh(l){if(!l._valueTracker){var u=xu(l)?"checked":"value";l._valueTracker=yy(l,u,""+l[u])}}function yu(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),x="";return l&&(x=xu(l)?l.checked?"true":"false":l.value),l=x,l!==p?(u.setValue(l),!0):!1}function Uo(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Gw=/[\n"\\]/g;function ls(l){return l.replace(Gw,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Uh(l,u,p,x,S,_,L,W){l.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?l.type=L:l.removeAttribute("type"),u!=null?L==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+$s(u)):l.value!==""+$s(u)&&(l.value=""+$s(u)):L!=="submit"&&L!=="reset"||l.removeAttribute("value"),u!=null?Vh(l,L,$s(u)):p!=null?Vh(l,L,$s(p)):x!=null&&l.removeAttribute("value"),S==null&&_!=null&&(l.defaultChecked=!!_),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?l.name=""+$s(W):l.removeAttribute("name")}function vu(l,u,p,x,S,_,L,W){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(l.type=_),u!=null||p!=null){if(!(_!=="submit"&&_!=="reset"||u!=null)){Bh(l);return}p=p!=null?""+$s(p):"",u=u!=null?""+$s(u):p,W||u===l.value||(l.value=u),l.defaultValue=u}x=x??S,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=W?l.checked:!!x,l.defaultChecked=!!x,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(l.name=L),Bh(l)}function Vh(l,u,p){u==="number"&&Uo(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function rc(l,u,p,x){if(l=l.options,u){u={};for(var S=0;S<p.length;S++)u["$"+p[S]]=!0;for(p=0;p<l.length;p++)S=u.hasOwnProperty("$"+l[p].value),l[p].selected!==S&&(l[p].selected=S),S&&x&&(l[p].defaultSelected=!0)}else{for(p=""+$s(p),u=null,S=0;S<l.length;S++){if(l[S].value===p){l[S].selected=!0,x&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function bu(l,u,p){if(u!=null&&(u=""+$s(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+$s(p):""}function ln(l,u,p,x){if(u==null){if(x!=null){if(p!=null)throw Error(s(92));if(q(x)){if(1<x.length)throw Error(s(93));x=x[0]}p=x}p==null&&(p=""),u=p}p=$s(u),l.defaultValue=p,x=l.textContent,x===p&&x!==""&&x!==null&&(l.value=x),Bh(l)}function cs(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var Ww=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vy(l,u,p){var x=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?x?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":x?l.setProperty(u,p):typeof p!="number"||p===0||Ww.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function nm(l,u,p){if(u!=null&&typeof u!="object")throw Error(s(62));if(l=l.style,p!=null){for(var x in p)!p.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var S in u)x=u[S],u.hasOwnProperty(S)&&p[S]!==x&&vy(l,S,x)}else for(var _ in u)u.hasOwnProperty(_)&&vy(l,_,u[_])}function Kh(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),by=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rm(l){return by.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Va(){}var sm=null;function Hh(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var sc=null,ac=null;function Gh(l){var u=ro(l);if(u&&(l=u.stateNode)){var p=l[Ir]||null;e:switch(l=u.stateNode,u.type){case"input":if(Uh(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ls(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var x=p[u];if(x!==l&&x.form===l.form){var S=x[Ir]||null;if(!S)throw Error(s(90));Uh(x,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<p.length;u++)x=p[u],x.form===l.form&&yu(x)}break e;case"textarea":bu(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&rc(l,!!p.multiple,u,!1)}}}var Wh=!1;function ju(l,u,p){if(Wh)return l(u,p);Wh=!0;try{var x=l(u);return x}finally{if(Wh=!1,(sc!==null||ac!==null)&&(mv(),sc&&(u=sc,l=ac,ac=sc=null,Gh(u),l)))for(u=0;u<l.length;u++)Gh(l[u])}}function wu(l,u){var p=l.stateNode;if(p===null)return null;var x=p[Ir]||null;if(x===null)return null;p=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(s(231,u,typeof p));return p}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yh=!1;if(wr)try{var am={};Object.defineProperty(am,"passive",{get:function(){Yh=!0}}),window.addEventListener("test",am,am),window.removeEventListener("test",am,am)}catch{Yh=!1}var Ss=null,Qh=null,tr=null;function jy(){if(tr)return tr;var l,u=Qh,p=u.length,x,S="value"in Ss?Ss.value:Ss.textContent,_=S.length;for(l=0;l<p&&u[l]===S[l];l++);var L=p-l;for(x=1;x<=L&&u[p-x]===S[_-x];x++);return tr=S.slice(l,1<x?1-x:void 0)}function Nu(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function im(){return!0}function om(){return!1}function De(l){function u(p,x,S,_,L){this._reactName=p,this._targetInst=S,this.type=x,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var W in l)l.hasOwnProperty(W)&&(p=l[W],this[W]=p?p(_):_[W]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?im:om,this.isPropagationStopped=om,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=im)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=im)},persist:function(){},isPersistent:im}),u}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Su=De(Ni),Vo=h({},Ni,{view:0,detail:0}),Xh=De(Vo),Cu,Au,Ko,ic=h({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rp,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ko&&(Ko&&l.type==="mousemove"?(Cu=l.screenX-Ko.screenX,Au=l.screenY-Ko.screenY):Au=Cu=0,Ko=l),Cu)},movementY:function(l){return"movementY"in l?l.movementY:Au}}),wy=De(ic),Ny=h({},ic,{dataTransfer:0}),Zh=De(Ny),Jh=h({},Vo,{relatedTarget:0}),Eu=De(Jh),Yw=h({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Qw=De(Yw),ep=h({},Ni,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Sy=De(ep),Cy=h({},Ni,{data:0}),tp=De(Cy),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ey(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Xw[l])?!!u[l]:!1}function rp(){return Ey}var Zw=h({},Vo,{key:function(l){if(l.key){var u=np[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Nu(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Ay[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rp,charCode:function(l){return l.type==="keypress"?Nu(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Nu(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),io=De(Zw),Jw=h({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_y=De(Jw),e1=h({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rp}),t1=De(e1),n1=h({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),r1=De(n1),s1=h({},ic,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),sp=De(s1),Ty=h({},Ni,{newState:0,oldState:0}),a1=De(Ty),i1=[9,13,27,32],R=wr&&"CompositionEvent"in window,be=null;wr&&"documentMode"in document&&(be=document.documentMode);var Ye=wr&&"TextEvent"in window&&!be,_t=wr&&(!R||be&&8<be&&11>=be),ir=" ",Py=!1;function lm(l,u){switch(l){case"keyup":return i1.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cm(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var oc=!1;function o1(l,u){switch(l){case"compositionend":return cm(u);case"keypress":return u.which!==32?null:(Py=!0,ir);case"textInput":return l=u.data,l===ir&&Py?null:l;default:return null}}function hee(l,u){if(oc)return l==="compositionend"||!R&&lm(l,u)?(l=jy(),tr=Qh=Ss=null,oc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return _t&&u.locale!=="ko"?null:u.data;default:return null}}var pee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gM(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!pee[l.type]:u==="textarea"}function xM(l,u,p,x){sc?ac?ac.push(x):ac=[x]:sc=x,u=vv(u,"onChange"),0<u.length&&(p=new Su("onChange","change",null,p,x),l.push({event:p,listeners:u}))}var ap=null,ip=null;function gee(l){JR(l,0)}function Oy(l){var u=nc(l);if(yu(u))return l}function yM(l,u){if(l==="change")return u}var vM=!1;if(wr){var l1;if(wr){var c1="oninput"in document;if(!c1){var bM=document.createElement("div");bM.setAttribute("oninput","return;"),c1=typeof bM.oninput=="function"}l1=c1}else l1=!1;vM=l1&&(!document.documentMode||9<document.documentMode)}function jM(){ap&&(ap.detachEvent("onpropertychange",wM),ip=ap=null)}function wM(l){if(l.propertyName==="value"&&Oy(ip)){var u=[];xM(u,ip,l,Hh(l)),ju(gee,u)}}function xee(l,u,p){l==="focusin"?(jM(),ap=u,ip=p,ap.attachEvent("onpropertychange",wM)):l==="focusout"&&jM()}function yee(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Oy(ip)}function vee(l,u){if(l==="click")return Oy(u)}function bee(l,u){if(l==="input"||l==="change")return Oy(u)}function jee(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var xa=typeof Object.is=="function"?Object.is:jee;function op(l,u){if(xa(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),x=Object.keys(u);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var S=p[x];if(!Yr.call(u,S)||!xa(l[S],u[S]))return!1}return!0}function NM(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function SM(l,u){var p=NM(l);l=0;for(var x;p;){if(p.nodeType===3){if(x=l+p.textContent.length,l<=u&&x>=u)return{node:p,offset:u-l};l=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=NM(p)}}function CM(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?CM(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function AM(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Uo(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Uo(l.document)}return u}function u1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var wee=wr&&"documentMode"in document&&11>=document.documentMode,um=null,d1=null,lp=null,m1=!1;function EM(l,u,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;m1||um==null||um!==Uo(x)||(x=um,"selectionStart"in x&&u1(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),lp&&op(lp,x)||(lp=x,x=vv(d1,"onSelect"),0<x.length&&(u=new Su("onSelect","select",null,u,p),l.push({event:u,listeners:x}),u.target=um)))}function _u(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var dm={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionrun:_u("Transition","TransitionRun"),transitionstart:_u("Transition","TransitionStart"),transitioncancel:_u("Transition","TransitionCancel"),transitionend:_u("Transition","TransitionEnd")},f1={},_M={};wr&&(_M=document.createElement("div").style,"AnimationEvent"in window||(delete dm.animationend.animation,delete dm.animationiteration.animation,delete dm.animationstart.animation),"TransitionEvent"in window||delete dm.transitionend.transition);function Tu(l){if(f1[l])return f1[l];if(!dm[l])return l;var u=dm[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in _M)return f1[l]=u[p];return l}var TM=Tu("animationend"),PM=Tu("animationiteration"),OM=Tu("animationstart"),Nee=Tu("transitionrun"),See=Tu("transitionstart"),Cee=Tu("transitioncancel"),kM=Tu("transitionend"),MM=new Map,h1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h1.push("scrollEnd");function Si(l,u){MM.set(l,u),ao(u,[l])}var ky=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Ka=[],mm=0,p1=0;function My(){for(var l=mm,u=p1=mm=0;u<l;){var p=Ka[u];Ka[u++]=null;var x=Ka[u];Ka[u++]=null;var S=Ka[u];Ka[u++]=null;var _=Ka[u];if(Ka[u++]=null,x!==null&&S!==null){var L=x.pending;L===null?S.next=S:(S.next=L.next,L.next=S),x.pending=S}_!==0&&RM(p,S,_)}}function Ry(l,u,p,x){Ka[mm++]=l,Ka[mm++]=u,Ka[mm++]=p,Ka[mm++]=x,p1|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function g1(l,u,p,x){return Ry(l,u,p,x),Dy(l)}function Pu(l,u){return Ry(l,null,null,u),Dy(l)}function RM(l,u,p){l.lanes|=p;var x=l.alternate;x!==null&&(x.lanes|=p);for(var S=!1,_=l.return;_!==null;)_.childLanes|=p,x=_.alternate,x!==null&&(x.childLanes|=p),_.tag===22&&(l=_.stateNode,l===null||l._visibility&1||(S=!0)),l=_,_=_.return;return l.tag===3?(_=l.stateNode,S&&u!==null&&(S=31-os(p),l=_.hiddenUpdates,x=l[S],x===null?l[S]=[u]:x.push(u),u.lane=p|536870912),_):null}function Dy(l){if(50<Pp)throw Pp=0,CN=null,Error(s(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var fm={};function Aee(l,u,p,x){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ya(l,u,p,x){return new Aee(l,u,p,x)}function x1(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ho(l,u){var p=l.alternate;return p===null?(p=ya(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function DM(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Iy(l,u,p,x,S,_){var L=0;if(x=l,typeof l=="function")x1(l)&&(L=1);else if(typeof l=="string")L=Ote(l,p,he.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case M:return l=ya(31,p,u,S),l.elementType=M,l.lanes=_,l;case y:return Ou(p.children,S,_,u);case j:L=8,S|=24;break;case N:return l=ya(12,p,u,S|2),l.elementType=N,l.lanes=_,l;case A:return l=ya(13,p,u,S),l.elementType=A,l.lanes=_,l;case k:return l=ya(19,p,u,S),l.elementType=k,l.lanes=_,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case E:L=10;break e;case C:L=9;break e;case T:L=11;break e;case P:L=14;break e;case O:L=16,x=null;break e}L=29,p=Error(s(130,l===null?"null":typeof l,"")),x=null}return u=ya(L,p,u,S),u.elementType=l,u.type=x,u.lanes=_,u}function Ou(l,u,p,x){return l=ya(7,l,x,u),l.lanes=p,l}function y1(l,u,p){return l=ya(6,l,null,u),l.lanes=p,l}function IM(l){var u=ya(18,null,null,0);return u.stateNode=l,u}function v1(l,u,p){return u=ya(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var LM=new WeakMap;function Ha(l,u){if(typeof l=="object"&&l!==null){var p=LM.get(l);return p!==void 0?p:(u={value:l,source:u,stack:ss(u)},LM.set(l,u),u)}return{value:l,source:u,stack:ss(u)}}var hm=[],pm=0,Ly=null,cp=0,Ga=[],Wa=0,lc=null,oo=1,lo="";function Go(l,u){hm[pm++]=cp,hm[pm++]=Ly,Ly=l,cp=u}function $M(l,u,p){Ga[Wa++]=oo,Ga[Wa++]=lo,Ga[Wa++]=lc,lc=l;var x=oo;l=lo;var S=32-os(x)-1;x&=~(1<<S),p+=1;var _=32-os(u)+S;if(30<_){var L=S-S%5;_=(x&(1<<L)-1).toString(32),x>>=L,S-=L,oo=1<<32-os(u)+S|p<<S|x,lo=_+l}else oo=1<<_|p<<S|x,lo=l}function b1(l){l.return!==null&&(Go(l,1),$M(l,1,0))}function j1(l){for(;l===Ly;)Ly=hm[--pm],hm[pm]=null,cp=hm[--pm],hm[pm]=null;for(;l===lc;)lc=Ga[--Wa],Ga[Wa]=null,lo=Ga[--Wa],Ga[Wa]=null,oo=Ga[--Wa],Ga[Wa]=null}function zM(l,u){Ga[Wa++]=oo,Ga[Wa++]=lo,Ga[Wa++]=lc,oo=u.id,lo=u.overflow,lc=l}var us=null,Un=null,Jt=!1,cc=null,Ya=!1,w1=Error(s(519));function uc(l){var u=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw up(Ha(u,l)),w1}function qM(l){var u=l.stateNode,p=l.type,x=l.memoizedProps;switch(u[dr]=l,u[Ir]=x,p){case"dialog":Kt("cancel",u),Kt("close",u);break;case"iframe":case"object":case"embed":Kt("load",u);break;case"video":case"audio":for(p=0;p<kp.length;p++)Kt(kp[p],u);break;case"source":Kt("error",u);break;case"img":case"image":case"link":Kt("error",u),Kt("load",u);break;case"details":Kt("toggle",u);break;case"input":Kt("invalid",u),vu(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Kt("invalid",u);break;case"textarea":Kt("invalid",u),ln(u,x.value,x.defaultValue,x.children)}p=x.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||x.suppressHydrationWarning===!0||rD(u.textContent,p)?(x.popover!=null&&(Kt("beforetoggle",u),Kt("toggle",u)),x.onScroll!=null&&Kt("scroll",u),x.onScrollEnd!=null&&Kt("scrollend",u),x.onClick!=null&&(u.onclick=Va),u=!0):u=!1,u||uc(l,!0)}function FM(l){for(us=l.return;us;)switch(us.tag){case 5:case 31:case 13:Ya=!1;return;case 27:case 3:Ya=!0;return;default:us=us.return}}function gm(l){if(l!==us)return!1;if(!Jt)return FM(l),Jt=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||qN(l.type,l.memoizedProps)),p=!p),p&&Un&&uc(l),FM(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));Un=mD(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));Un=mD(l)}else u===27?(u=Un,Sc(l.type)?(l=KN,KN=null,Un=l):Un=u):Un=us?Xa(l.stateNode.nextSibling):null;return!0}function ku(){Un=us=null,Jt=!1}function N1(){var l=cc;return l!==null&&(ta===null?ta=l:ta.push.apply(ta,l),cc=null),l}function up(l){cc===null?cc=[l]:cc.push(l)}var S1=G(null),Mu=null,Wo=null;function dc(l,u,p){se(S1,u._currentValue),u._currentValue=p}function Yo(l){l._currentValue=S1.current,Y(S1)}function C1(l,u,p){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===p)break;l=l.return}}function A1(l,u,p,x){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var _=S.dependencies;if(_!==null){var L=S.child;_=_.firstContext;e:for(;_!==null;){var W=_;_=S;for(var te=0;te<u.length;te++)if(W.context===u[te]){_.lanes|=p,W=_.alternate,W!==null&&(W.lanes|=p),C1(_.return,p,l),x||(L=null);break e}_=W.next}}else if(S.tag===18){if(L=S.return,L===null)throw Error(s(341));L.lanes|=p,_=L.alternate,_!==null&&(_.lanes|=p),C1(L,p,l),L=null}else L=S.child;if(L!==null)L.return=S;else for(L=S;L!==null;){if(L===l){L=null;break}if(S=L.sibling,S!==null){S.return=L.return,L=S;break}L=L.return}S=L}}function xm(l,u,p,x){l=null;for(var S=u,_=!1;S!==null;){if(!_){if((S.flags&524288)!==0)_=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var L=S.alternate;if(L===null)throw Error(s(387));if(L=L.memoizedProps,L!==null){var W=S.type;xa(S.pendingProps.value,L.value)||(l!==null?l.push(W):l=[W])}}else if(S===me.current){if(L=S.alternate,L===null)throw Error(s(387));L.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Lp):l=[Lp])}S=S.return}l!==null&&A1(u,l,p,x),u.flags|=262144}function $y(l){for(l=l.firstContext;l!==null;){if(!xa(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ru(l){Mu=l,Wo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ds(l){return BM(Mu,l)}function zy(l,u){return Mu===null&&Ru(l),BM(l,u)}function BM(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},Wo===null){if(l===null)throw Error(s(308));Wo=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Wo=Wo.next=u;return p}var Eee=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,x){l.push(x)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},_ee=e.unstable_scheduleCallback,Tee=e.unstable_NormalPriority,Nr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E1(){return{controller:new Eee,data:new Map,refCount:0}}function dp(l){l.refCount--,l.refCount===0&&_ee(Tee,function(){l.controller.abort()})}var mp=null,_1=0,ym=0,vm=null;function Pee(l,u){if(mp===null){var p=mp=[];_1=0,ym=ON(),vm={status:"pending",value:void 0,then:function(x){p.push(x)}}}return _1++,u.then(UM,UM),u}function UM(){if(--_1===0&&mp!==null){vm!==null&&(vm.status="fulfilled");var l=mp;mp=null,ym=0,vm=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function Oee(l,u){var p=[],x={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return l.then(function(){x.status="fulfilled",x.value=u;for(var S=0;S<p.length;S++)(0,p[S])(u)},function(S){for(x.status="rejected",x.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),x}var VM=I.S;I.S=function(l,u){ER=er(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&Pee(l,u),VM!==null&&VM(l,u)};var Du=G(null);function T1(){var l=Du.current;return l!==null?l:Rn.pooledCache}function qy(l,u){u===null?se(Du,Du.current):se(Du,u.pool)}function KM(){var l=T1();return l===null?null:{parent:Nr._currentValue,pool:l}}var bm=Error(s(460)),P1=Error(s(474)),Fy=Error(s(542)),By={then:function(){}};function HM(l){return l=l.status,l==="fulfilled"||l==="rejected"}function GM(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(Va,Va),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,YM(l),l;default:if(typeof u.status=="string")u.then(Va,Va);else{if(l=Rn,l!==null&&100<l.shellSuspendCounter)throw Error(s(482));l=u,l.status="pending",l.then(function(x){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=x}},function(x){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,YM(l),l}throw Lu=u,bm}}function Iu(l){try{var u=l._init;return u(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Lu=p,bm):p}}var Lu=null;function WM(){if(Lu===null)throw Error(s(459));var l=Lu;return Lu=null,l}function YM(l){if(l===bm||l===Fy)throw Error(s(483))}var jm=null,fp=0;function Uy(l){var u=fp;return fp+=1,jm===null&&(jm=[]),GM(jm,l,u)}function hp(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Vy(l,u){throw u.$$typeof===g?Error(s(525)):(l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function QM(l){function u(oe,ae){if(l){var ue=oe.deletions;ue===null?(oe.deletions=[ae],oe.flags|=16):ue.push(ae)}}function p(oe,ae){if(!l)return null;for(;ae!==null;)u(oe,ae),ae=ae.sibling;return null}function x(oe){for(var ae=new Map;oe!==null;)oe.key!==null?ae.set(oe.key,oe):ae.set(oe.index,oe),oe=oe.sibling;return ae}function S(oe,ae){return oe=Ho(oe,ae),oe.index=0,oe.sibling=null,oe}function _(oe,ae,ue){return oe.index=ue,l?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<ae?(oe.flags|=67108866,ae):ue):(oe.flags|=67108866,ae)):(oe.flags|=1048576,ae)}function L(oe){return l&&oe.alternate===null&&(oe.flags|=67108866),oe}function W(oe,ae,ue,Ce){return ae===null||ae.tag!==6?(ae=y1(ue,oe.mode,Ce),ae.return=oe,ae):(ae=S(ae,ue),ae.return=oe,ae)}function te(oe,ae,ue,Ce){var lt=ue.type;return lt===y?we(oe,ae,ue.props.children,Ce,ue.key):ae!==null&&(ae.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===O&&Iu(lt)===ae.type)?(ae=S(ae,ue.props),hp(ae,ue),ae.return=oe,ae):(ae=Iy(ue.type,ue.key,ue.props,null,oe.mode,Ce),hp(ae,ue),ae.return=oe,ae)}function de(oe,ae,ue,Ce){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ue.containerInfo||ae.stateNode.implementation!==ue.implementation?(ae=v1(ue,oe.mode,Ce),ae.return=oe,ae):(ae=S(ae,ue.children||[]),ae.return=oe,ae)}function we(oe,ae,ue,Ce,lt){return ae===null||ae.tag!==7?(ae=Ou(ue,oe.mode,Ce,lt),ae.return=oe,ae):(ae=S(ae,ue),ae.return=oe,ae)}function _e(oe,ae,ue){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=y1(""+ae,oe.mode,ue),ae.return=oe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return ue=Iy(ae.type,ae.key,ae.props,null,oe.mode,ue),hp(ue,ae),ue.return=oe,ue;case w:return ae=v1(ae,oe.mode,ue),ae.return=oe,ae;case O:return ae=Iu(ae),_e(oe,ae,ue)}if(q(ae)||$(ae))return ae=Ou(ae,oe.mode,ue,null),ae.return=oe,ae;if(typeof ae.then=="function")return _e(oe,Uy(ae),ue);if(ae.$$typeof===E)return _e(oe,zy(oe,ae),ue);Vy(oe,ae)}return null}function fe(oe,ae,ue,Ce){var lt=ae!==null?ae.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return lt!==null?null:W(oe,ae,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return ue.key===lt?te(oe,ae,ue,Ce):null;case w:return ue.key===lt?de(oe,ae,ue,Ce):null;case O:return ue=Iu(ue),fe(oe,ae,ue,Ce)}if(q(ue)||$(ue))return lt!==null?null:we(oe,ae,ue,Ce,null);if(typeof ue.then=="function")return fe(oe,ae,Uy(ue),Ce);if(ue.$$typeof===E)return fe(oe,ae,zy(oe,ue),Ce);Vy(oe,ue)}return null}function pe(oe,ae,ue,Ce,lt){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return oe=oe.get(ue)||null,W(ae,oe,""+Ce,lt);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case b:return oe=oe.get(Ce.key===null?ue:Ce.key)||null,te(ae,oe,Ce,lt);case w:return oe=oe.get(Ce.key===null?ue:Ce.key)||null,de(ae,oe,Ce,lt);case O:return Ce=Iu(Ce),pe(oe,ae,ue,Ce,lt)}if(q(Ce)||$(Ce))return oe=oe.get(ue)||null,we(ae,oe,Ce,lt,null);if(typeof Ce.then=="function")return pe(oe,ae,ue,Uy(Ce),lt);if(Ce.$$typeof===E)return pe(oe,ae,ue,zy(ae,Ce),lt);Vy(ae,Ce)}return null}function Xe(oe,ae,ue,Ce){for(var lt=null,cn=null,et=ae,Dt=ae=0,Xt=null;et!==null&&Dt<ue.length;Dt++){et.index>Dt?(Xt=et,et=null):Xt=et.sibling;var un=fe(oe,et,ue[Dt],Ce);if(un===null){et===null&&(et=Xt);break}l&&et&&un.alternate===null&&u(oe,et),ae=_(un,ae,Dt),cn===null?lt=un:cn.sibling=un,cn=un,et=Xt}if(Dt===ue.length)return p(oe,et),Jt&&Go(oe,Dt),lt;if(et===null){for(;Dt<ue.length;Dt++)et=_e(oe,ue[Dt],Ce),et!==null&&(ae=_(et,ae,Dt),cn===null?lt=et:cn.sibling=et,cn=et);return Jt&&Go(oe,Dt),lt}for(et=x(et);Dt<ue.length;Dt++)Xt=pe(et,oe,Dt,ue[Dt],Ce),Xt!==null&&(l&&Xt.alternate!==null&&et.delete(Xt.key===null?Dt:Xt.key),ae=_(Xt,ae,Dt),cn===null?lt=Xt:cn.sibling=Xt,cn=Xt);return l&&et.forEach(function(Tc){return u(oe,Tc)}),Jt&&Go(oe,Dt),lt}function ft(oe,ae,ue,Ce){if(ue==null)throw Error(s(151));for(var lt=null,cn=null,et=ae,Dt=ae=0,Xt=null,un=ue.next();et!==null&&!un.done;Dt++,un=ue.next()){et.index>Dt?(Xt=et,et=null):Xt=et.sibling;var Tc=fe(oe,et,un.value,Ce);if(Tc===null){et===null&&(et=Xt);break}l&&et&&Tc.alternate===null&&u(oe,et),ae=_(Tc,ae,Dt),cn===null?lt=Tc:cn.sibling=Tc,cn=Tc,et=Xt}if(un.done)return p(oe,et),Jt&&Go(oe,Dt),lt;if(et===null){for(;!un.done;Dt++,un=ue.next())un=_e(oe,un.value,Ce),un!==null&&(ae=_(un,ae,Dt),cn===null?lt=un:cn.sibling=un,cn=un);return Jt&&Go(oe,Dt),lt}for(et=x(et);!un.done;Dt++,un=ue.next())un=pe(et,oe,Dt,un.value,Ce),un!==null&&(l&&un.alternate!==null&&et.delete(un.key===null?Dt:un.key),ae=_(un,ae,Dt),cn===null?lt=un:cn.sibling=un,cn=un);return l&&et.forEach(function(Bte){return u(oe,Bte)}),Jt&&Go(oe,Dt),lt}function On(oe,ae,ue,Ce){if(typeof ue=="object"&&ue!==null&&ue.type===y&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:e:{for(var lt=ue.key;ae!==null;){if(ae.key===lt){if(lt=ue.type,lt===y){if(ae.tag===7){p(oe,ae.sibling),Ce=S(ae,ue.props.children),Ce.return=oe,oe=Ce;break e}}else if(ae.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===O&&Iu(lt)===ae.type){p(oe,ae.sibling),Ce=S(ae,ue.props),hp(Ce,ue),Ce.return=oe,oe=Ce;break e}p(oe,ae);break}else u(oe,ae);ae=ae.sibling}ue.type===y?(Ce=Ou(ue.props.children,oe.mode,Ce,ue.key),Ce.return=oe,oe=Ce):(Ce=Iy(ue.type,ue.key,ue.props,null,oe.mode,Ce),hp(Ce,ue),Ce.return=oe,oe=Ce)}return L(oe);case w:e:{for(lt=ue.key;ae!==null;){if(ae.key===lt)if(ae.tag===4&&ae.stateNode.containerInfo===ue.containerInfo&&ae.stateNode.implementation===ue.implementation){p(oe,ae.sibling),Ce=S(ae,ue.children||[]),Ce.return=oe,oe=Ce;break e}else{p(oe,ae);break}else u(oe,ae);ae=ae.sibling}Ce=v1(ue,oe.mode,Ce),Ce.return=oe,oe=Ce}return L(oe);case O:return ue=Iu(ue),On(oe,ae,ue,Ce)}if(q(ue))return Xe(oe,ae,ue,Ce);if($(ue)){if(lt=$(ue),typeof lt!="function")throw Error(s(150));return ue=lt.call(ue),ft(oe,ae,ue,Ce)}if(typeof ue.then=="function")return On(oe,ae,Uy(ue),Ce);if(ue.$$typeof===E)return On(oe,ae,zy(oe,ue),Ce);Vy(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ae!==null&&ae.tag===6?(p(oe,ae.sibling),Ce=S(ae,ue),Ce.return=oe,oe=Ce):(p(oe,ae),Ce=y1(ue,oe.mode,Ce),Ce.return=oe,oe=Ce),L(oe)):p(oe,ae)}return function(oe,ae,ue,Ce){try{fp=0;var lt=On(oe,ae,ue,Ce);return jm=null,lt}catch(et){if(et===bm||et===Fy)throw et;var cn=ya(29,et,null,oe.mode);return cn.lanes=Ce,cn.return=oe,cn}}}var $u=QM(!0),XM=QM(!1),mc=!1;function O1(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function k1(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function fc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function hc(l,u,p){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(pn&2)!==0){var S=x.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),x.pending=u,u=Dy(l),RM(l,null,p),u}return Ry(l,x,u,p),Dy(l)}function pp(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,gy(l,p)}}function M1(l,u){var p=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var S=null,_=null;if(p=p.firstBaseUpdate,p!==null){do{var L={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};_===null?S=_=L:_=_.next=L,p=p.next}while(p!==null);_===null?S=_=u:_=_.next=u}else S=_=u;p={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:_,shared:x.shared,callbacks:x.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var R1=!1;function gp(){if(R1){var l=vm;if(l!==null)throw l}}function xp(l,u,p,x){R1=!1;var S=l.updateQueue;mc=!1;var _=S.firstBaseUpdate,L=S.lastBaseUpdate,W=S.shared.pending;if(W!==null){S.shared.pending=null;var te=W,de=te.next;te.next=null,L===null?_=de:L.next=de,L=te;var we=l.alternate;we!==null&&(we=we.updateQueue,W=we.lastBaseUpdate,W!==L&&(W===null?we.firstBaseUpdate=de:W.next=de,we.lastBaseUpdate=te))}if(_!==null){var _e=S.baseState;L=0,we=de=te=null,W=_;do{var fe=W.lane&-536870913,pe=fe!==W.lane;if(pe?(Qt&fe)===fe:(x&fe)===fe){fe!==0&&fe===ym&&(R1=!0),we!==null&&(we=we.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Xe=l,ft=W;fe=u;var On=p;switch(ft.tag){case 1:if(Xe=ft.payload,typeof Xe=="function"){_e=Xe.call(On,_e,fe);break e}_e=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=ft.payload,fe=typeof Xe=="function"?Xe.call(On,_e,fe):Xe,fe==null)break e;_e=h({},_e,fe);break e;case 2:mc=!0}}fe=W.callback,fe!==null&&(l.flags|=64,pe&&(l.flags|=8192),pe=S.callbacks,pe===null?S.callbacks=[fe]:pe.push(fe))}else pe={lane:fe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},we===null?(de=we=pe,te=_e):we=we.next=pe,L|=fe;if(W=W.next,W===null){if(W=S.shared.pending,W===null)break;pe=W,W=pe.next,pe.next=null,S.lastBaseUpdate=pe,S.shared.pending=null}}while(!0);we===null&&(te=_e),S.baseState=te,S.firstBaseUpdate=de,S.lastBaseUpdate=we,_===null&&(S.shared.lanes=0),vc|=L,l.lanes=L,l.memoizedState=_e}}function ZM(l,u){if(typeof l!="function")throw Error(s(191,l));l.call(u)}function JM(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)ZM(p[l],u)}var wm=G(null),Ky=G(0);function e5(l,u){l=sl,se(Ky,l),se(wm,u),sl=l|u.baseLanes}function D1(){se(Ky,sl),se(wm,wm.current)}function I1(){sl=Ky.current,Y(wm),Y(Ky)}var va=G(null),Qa=null;function pc(l){var u=l.alternate;se(fr,fr.current&1),se(va,l),Qa===null&&(u===null||wm.current!==null||u.memoizedState!==null)&&(Qa=l)}function L1(l){se(fr,fr.current),se(va,l),Qa===null&&(Qa=l)}function t5(l){l.tag===22?(se(fr,fr.current),se(va,l),Qa===null&&(Qa=l)):gc()}function gc(){se(fr,fr.current),se(va,va.current)}function ba(l){Y(va),Qa===l&&(Qa=null),Y(fr)}var fr=G(0);function Hy(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||UN(p)||VN(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Qo=0,kt=null,Tn=null,Sr=null,Gy=!1,Nm=!1,zu=!1,Wy=0,yp=0,Sm=null,kee=0;function or(){throw Error(s(321))}function $1(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!xa(l[p],u[p]))return!1;return!0}function z1(l,u,p,x,S,_){return Qo=_,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,I.H=l===null||l.memoizedState===null?$5:eN,zu=!1,_=p(x,S),zu=!1,Nm&&(_=r5(u,p,x,S)),n5(l),_}function n5(l){I.H=jp;var u=Tn!==null&&Tn.next!==null;if(Qo=0,Sr=Tn=kt=null,Gy=!1,yp=0,Sm=null,u)throw Error(s(300));l===null||Cr||(l=l.dependencies,l!==null&&$y(l)&&(Cr=!0))}function r5(l,u,p,x){kt=l;var S=0;do{if(Nm&&(Sm=null),yp=0,Nm=!1,25<=S)throw Error(s(301));if(S+=1,Sr=Tn=null,l.updateQueue!=null){var _=l.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}I.H=z5,_=u(p,x)}while(Nm);return _}function Mee(){var l=I.H,u=l.useState()[0];return u=typeof u.then=="function"?vp(u):u,l=l.useState()[0],(Tn!==null?Tn.memoizedState:null)!==l&&(kt.flags|=1024),u}function q1(){var l=Wy!==0;return Wy=0,l}function F1(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function B1(l){if(Gy){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Gy=!1}Qo=0,Sr=Tn=kt=null,Nm=!1,yp=Wy=0,Sm=null}function zs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?kt.memoizedState=Sr=l:Sr=Sr.next=l,Sr}function hr(){if(Tn===null){var l=kt.alternate;l=l!==null?l.memoizedState:null}else l=Tn.next;var u=Sr===null?kt.memoizedState:Sr.next;if(u!==null)Sr=u,Tn=l;else{if(l===null)throw kt.alternate===null?Error(s(467)):Error(s(310));Tn=l,l={memoizedState:Tn.memoizedState,baseState:Tn.baseState,baseQueue:Tn.baseQueue,queue:Tn.queue,next:null},Sr===null?kt.memoizedState=Sr=l:Sr=Sr.next=l}return Sr}function Yy(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vp(l){var u=yp;return yp+=1,Sm===null&&(Sm=[]),l=GM(Sm,l,u),u=kt,(Sr===null?u.memoizedState:Sr.next)===null&&(u=u.alternate,I.H=u===null||u.memoizedState===null?$5:eN),l}function Qy(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return vp(l);if(l.$$typeof===E)return ds(l)}throw Error(s(438,String(l)))}function U1(l){var u=null,p=kt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var x=kt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Yy(),kt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),x=0;x<l;x++)p[x]=F;return u.index++,p}function Xo(l,u){return typeof u=="function"?u(l):u}function Xy(l){var u=hr();return V1(u,Tn,l)}function V1(l,u,p){var x=l.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=p;var S=l.baseQueue,_=x.pending;if(_!==null){if(S!==null){var L=S.next;S.next=_.next,_.next=L}u.baseQueue=S=_,x.pending=null}if(_=l.baseState,S===null)l.memoizedState=_;else{u=S.next;var W=L=null,te=null,de=u,we=!1;do{var _e=de.lane&-536870913;if(_e!==de.lane?(Qt&_e)===_e:(Qo&_e)===_e){var fe=de.revertLane;if(fe===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),_e===ym&&(we=!0);else if((Qo&fe)===fe){de=de.next,fe===ym&&(we=!0);continue}else _e={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},te===null?(W=te=_e,L=_):te=te.next=_e,kt.lanes|=fe,vc|=fe;_e=de.action,zu&&p(_,_e),_=de.hasEagerState?de.eagerState:p(_,_e)}else fe={lane:_e,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},te===null?(W=te=fe,L=_):te=te.next=fe,kt.lanes|=_e,vc|=_e;de=de.next}while(de!==null&&de!==u);if(te===null?L=_:te.next=W,!xa(_,l.memoizedState)&&(Cr=!0,we&&(p=vm,p!==null)))throw p;l.memoizedState=_,l.baseState=L,l.baseQueue=te,x.lastRenderedState=_}return S===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function K1(l){var u=hr(),p=u.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=l;var x=p.dispatch,S=p.pending,_=u.memoizedState;if(S!==null){p.pending=null;var L=S=S.next;do _=l(_,L.action),L=L.next;while(L!==S);xa(_,u.memoizedState)||(Cr=!0),u.memoizedState=_,u.baseQueue===null&&(u.baseState=_),p.lastRenderedState=_}return[_,x]}function s5(l,u,p){var x=kt,S=hr(),_=Jt;if(_){if(p===void 0)throw Error(s(407));p=p()}else p=u();var L=!xa((Tn||S).memoizedState,p);if(L&&(S.memoizedState=p,Cr=!0),S=S.queue,W1(o5.bind(null,x,S,l),[l]),S.getSnapshot!==u||L||Sr!==null&&Sr.memoizedState.tag&1){if(x.flags|=2048,Cm(9,{destroy:void 0},i5.bind(null,x,S,p,u),null),Rn===null)throw Error(s(349));_||(Qo&127)!==0||a5(x,u,p)}return p}function a5(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=kt.updateQueue,u===null?(u=Yy(),kt.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function i5(l,u,p,x){u.value=p,u.getSnapshot=x,l5(u)&&c5(l)}function o5(l,u,p){return p(function(){l5(u)&&c5(l)})}function l5(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!xa(l,p)}catch{return!0}}function c5(l){var u=Pu(l,2);u!==null&&na(u,l,2)}function H1(l){var u=zs();if(typeof l=="function"){var p=l;if(l=p(),zu){wi(!0);try{p()}finally{wi(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:l},u}function u5(l,u,p,x){return l.baseState=p,V1(l,Tn,typeof x=="function"?x:Xo)}function Ree(l,u,p,x,S){if(ev(l))throw Error(s(485));if(l=u.action,l!==null){var _={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){_.listeners.push(L)}};I.T!==null?p(!0):_.isTransition=!1,x(_),p=u.pending,p===null?(_.next=u.pending=_,d5(u,_)):(_.next=p.next,u.pending=p.next=_)}}function d5(l,u){var p=u.action,x=u.payload,S=l.state;if(u.isTransition){var _=I.T,L={};I.T=L;try{var W=p(S,x),te=I.S;te!==null&&te(L,W),m5(l,u,W)}catch(de){G1(l,u,de)}finally{_!==null&&L.types!==null&&(_.types=L.types),I.T=_}}else try{_=p(S,x),m5(l,u,_)}catch(de){G1(l,u,de)}}function m5(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(x){f5(l,u,x)},function(x){return G1(l,u,x)}):f5(l,u,p)}function f5(l,u,p){u.status="fulfilled",u.value=p,h5(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,d5(l,p)))}function G1(l,u,p){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=p,h5(u),u=u.next;while(u!==x)}l.action=null}function h5(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function p5(l,u){return u}function g5(l,u){if(Jt){var p=Rn.formState;if(p!==null){e:{var x=kt;if(Jt){if(Un){t:{for(var S=Un,_=Ya;S.nodeType!==8;){if(!_){S=null;break t}if(S=Xa(S.nextSibling),S===null){S=null;break t}}_=S.data,S=_==="F!"||_==="F"?S:null}if(S){Un=Xa(S.nextSibling),x=S.data==="F!";break e}}uc(x)}x=!1}x&&(u=p[0])}}return p=zs(),p.memoizedState=p.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p5,lastRenderedState:u},p.queue=x,p=D5.bind(null,kt,x),x.dispatch=p,x=H1(!1),_=J1.bind(null,kt,!1,x.queue),x=zs(),S={state:u,dispatch:null,action:l,pending:null},x.queue=S,p=Ree.bind(null,kt,S,_,p),S.dispatch=p,x.memoizedState=l,[u,p,!1]}function x5(l){var u=hr();return y5(u,Tn,l)}function y5(l,u,p){if(u=V1(l,u,p5)[0],l=Xy(Xo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=vp(u)}catch(L){throw L===bm?Fy:L}else x=u;u=hr();var S=u.queue,_=S.dispatch;return p!==u.memoizedState&&(kt.flags|=2048,Cm(9,{destroy:void 0},Dee.bind(null,S,p),null)),[x,_,l]}function Dee(l,u){l.action=u}function v5(l){var u=hr(),p=Tn;if(p!==null)return y5(u,p,l);hr(),u=u.memoizedState,p=hr();var x=p.queue.dispatch;return p.memoizedState=l,[u,x,!1]}function Cm(l,u,p,x){return l={tag:l,create:p,deps:x,inst:u,next:null},u=kt.updateQueue,u===null&&(u=Yy(),kt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(x=p.next,p.next=l,l.next=x,u.lastEffect=l),l}function b5(){return hr().memoizedState}function Zy(l,u,p,x){var S=zs();kt.flags|=l,S.memoizedState=Cm(1|u,{destroy:void 0},p,x===void 0?null:x)}function Jy(l,u,p,x){var S=hr();x=x===void 0?null:x;var _=S.memoizedState.inst;Tn!==null&&x!==null&&$1(x,Tn.memoizedState.deps)?S.memoizedState=Cm(u,_,p,x):(kt.flags|=l,S.memoizedState=Cm(1|u,_,p,x))}function j5(l,u){Zy(8390656,8,l,u)}function W1(l,u){Jy(2048,8,l,u)}function Iee(l){kt.flags|=4;var u=kt.updateQueue;if(u===null)u=Yy(),kt.updateQueue=u,u.events=[l];else{var p=u.events;p===null?u.events=[l]:p.push(l)}}function w5(l){var u=hr().memoizedState;return Iee({ref:u,nextImpl:l}),function(){if((pn&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}function N5(l,u){return Jy(4,2,l,u)}function S5(l,u){return Jy(4,4,l,u)}function C5(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function A5(l,u,p){p=p!=null?p.concat([l]):null,Jy(4,4,C5.bind(null,u,l),p)}function Y1(){}function E5(l,u){var p=hr();u=u===void 0?null:u;var x=p.memoizedState;return u!==null&&$1(u,x[1])?x[0]:(p.memoizedState=[l,u],l)}function _5(l,u){var p=hr();u=u===void 0?null:u;var x=p.memoizedState;if(u!==null&&$1(u,x[1]))return x[0];if(x=l(),zu){wi(!0);try{l()}finally{wi(!1)}}return p.memoizedState=[x,u],x}function Q1(l,u,p){return p===void 0||(Qo&1073741824)!==0&&(Qt&261930)===0?l.memoizedState=u:(l.memoizedState=p,l=TR(),kt.lanes|=l,vc|=l,p)}function T5(l,u,p,x){return xa(p,u)?p:wm.current!==null?(l=Q1(l,p,x),xa(l,u)||(Cr=!0),l):(Qo&42)===0||(Qo&1073741824)!==0&&(Qt&261930)===0?(Cr=!0,l.memoizedState=p):(l=TR(),kt.lanes|=l,vc|=l,u)}function P5(l,u,p,x,S){var _=K.p;K.p=_!==0&&8>_?_:8;var L=I.T,W={};I.T=W,J1(l,!1,u,p);try{var te=S(),de=I.S;if(de!==null&&de(W,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var we=Oee(te,x);bp(l,u,we,Na(l))}else bp(l,u,x,Na(l))}catch(_e){bp(l,u,{then:function(){},status:"rejected",reason:_e},Na())}finally{K.p=_,L!==null&&W.types!==null&&(L.types=W.types),I.T=L}}function Lee(){}function X1(l,u,p,x){if(l.tag!==5)throw Error(s(476));var S=O5(l).queue;P5(l,S,u,U,p===null?Lee:function(){return k5(l),p(x)})}function O5(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:U},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function k5(l){var u=O5(l);u.next===null&&(u=l.alternate.memoizedState),bp(l,u.next.queue,{},Na())}function Z1(){return ds(Lp)}function M5(){return hr().memoizedState}function R5(){return hr().memoizedState}function $ee(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=Na();l=fc(p);var x=hc(u,l,p);x!==null&&(na(x,u,p),pp(x,u,p)),u={cache:E1()},l.payload=u;return}u=u.return}}function zee(l,u,p){var x=Na();p={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ev(l)?I5(u,p):(p=g1(l,u,p,x),p!==null&&(na(p,l,x),L5(p,u,x)))}function D5(l,u,p){var x=Na();bp(l,u,p,x)}function bp(l,u,p,x){var S={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(ev(l))I5(u,S);else{var _=l.alternate;if(l.lanes===0&&(_===null||_.lanes===0)&&(_=u.lastRenderedReducer,_!==null))try{var L=u.lastRenderedState,W=_(L,p);if(S.hasEagerState=!0,S.eagerState=W,xa(W,L))return Ry(l,u,S,0),Rn===null&&My(),!1}catch{}if(p=g1(l,u,S,x),p!==null)return na(p,l,x),L5(p,u,x),!0}return!1}function J1(l,u,p,x){if(x={lane:2,revertLane:ON(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},ev(l)){if(u)throw Error(s(479))}else u=g1(l,p,x,2),u!==null&&na(u,l,2)}function ev(l){var u=l.alternate;return l===kt||u!==null&&u===kt}function I5(l,u){Nm=Gy=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function L5(l,u,p){if((p&4194048)!==0){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,gy(l,p)}}var jp={readContext:ds,use:Qy,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useLayoutEffect:or,useInsertionEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useSyncExternalStore:or,useId:or,useHostTransitionStatus:or,useFormState:or,useActionState:or,useOptimistic:or,useMemoCache:or,useCacheRefresh:or};jp.useEffectEvent=or;var $5={readContext:ds,use:Qy,useCallback:function(l,u){return zs().memoizedState=[l,u===void 0?null:u],l},useContext:ds,useEffect:j5,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,Zy(4194308,4,C5.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Zy(4194308,4,l,u)},useInsertionEffect:function(l,u){Zy(4,2,l,u)},useMemo:function(l,u){var p=zs();u=u===void 0?null:u;var x=l();if(zu){wi(!0);try{l()}finally{wi(!1)}}return p.memoizedState=[x,u],x},useReducer:function(l,u,p){var x=zs();if(p!==void 0){var S=p(u);if(zu){wi(!0);try{p(u)}finally{wi(!1)}}}else S=u;return x.memoizedState=x.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},x.queue=l,l=l.dispatch=zee.bind(null,kt,l),[x.memoizedState,l]},useRef:function(l){var u=zs();return l={current:l},u.memoizedState=l},useState:function(l){l=H1(l);var u=l.queue,p=D5.bind(null,kt,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:Y1,useDeferredValue:function(l,u){var p=zs();return Q1(p,l,u)},useTransition:function(){var l=H1(!1);return l=P5.bind(null,kt,l.queue,!0,!1),zs().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var x=kt,S=zs();if(Jt){if(p===void 0)throw Error(s(407));p=p()}else{if(p=u(),Rn===null)throw Error(s(349));(Qt&127)!==0||a5(x,u,p)}S.memoizedState=p;var _={value:p,getSnapshot:u};return S.queue=_,j5(o5.bind(null,x,_,l),[l]),x.flags|=2048,Cm(9,{destroy:void 0},i5.bind(null,x,_,p,u),null),p},useId:function(){var l=zs(),u=Rn.identifierPrefix;if(Jt){var p=lo,x=oo;p=(x&~(1<<32-os(x)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Wy++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=kee++,u="_"+u+"r_"+p.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:Z1,useFormState:g5,useActionState:g5,useOptimistic:function(l){var u=zs();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=J1.bind(null,kt,!0,p),p.dispatch=u,[l,u]},useMemoCache:U1,useCacheRefresh:function(){return zs().memoizedState=$ee.bind(null,kt)},useEffectEvent:function(l){var u=zs(),p={impl:l};return u.memoizedState=p,function(){if((pn&2)!==0)throw Error(s(440));return p.impl.apply(void 0,arguments)}}},eN={readContext:ds,use:Qy,useCallback:E5,useContext:ds,useEffect:W1,useImperativeHandle:A5,useInsertionEffect:N5,useLayoutEffect:S5,useMemo:_5,useReducer:Xy,useRef:b5,useState:function(){return Xy(Xo)},useDebugValue:Y1,useDeferredValue:function(l,u){var p=hr();return T5(p,Tn.memoizedState,l,u)},useTransition:function(){var l=Xy(Xo)[0],u=hr().memoizedState;return[typeof l=="boolean"?l:vp(l),u]},useSyncExternalStore:s5,useId:M5,useHostTransitionStatus:Z1,useFormState:x5,useActionState:x5,useOptimistic:function(l,u){var p=hr();return u5(p,Tn,l,u)},useMemoCache:U1,useCacheRefresh:R5};eN.useEffectEvent=w5;var z5={readContext:ds,use:Qy,useCallback:E5,useContext:ds,useEffect:W1,useImperativeHandle:A5,useInsertionEffect:N5,useLayoutEffect:S5,useMemo:_5,useReducer:K1,useRef:b5,useState:function(){return K1(Xo)},useDebugValue:Y1,useDeferredValue:function(l,u){var p=hr();return Tn===null?Q1(p,l,u):T5(p,Tn.memoizedState,l,u)},useTransition:function(){var l=K1(Xo)[0],u=hr().memoizedState;return[typeof l=="boolean"?l:vp(l),u]},useSyncExternalStore:s5,useId:M5,useHostTransitionStatus:Z1,useFormState:v5,useActionState:v5,useOptimistic:function(l,u){var p=hr();return Tn!==null?u5(p,Tn,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:U1,useCacheRefresh:R5};z5.useEffectEvent=w5;function tN(l,u,p,x){u=l.memoizedState,p=p(x,u),p=p==null?u:h({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var nN={enqueueSetState:function(l,u,p){l=l._reactInternals;var x=Na(),S=fc(x);S.payload=u,p!=null&&(S.callback=p),u=hc(l,S,x),u!==null&&(na(u,l,x),pp(u,l,x))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var x=Na(),S=fc(x);S.tag=1,S.payload=u,p!=null&&(S.callback=p),u=hc(l,S,x),u!==null&&(na(u,l,x),pp(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Na(),x=fc(p);x.tag=2,u!=null&&(x.callback=u),u=hc(l,x,p),u!==null&&(na(u,l,p),pp(u,l,p))}};function q5(l,u,p,x,S,_,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,_,L):u.prototype&&u.prototype.isPureReactComponent?!op(p,x)||!op(S,_):!0}function F5(l,u,p,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,x),u.state!==l&&nN.enqueueReplaceState(u,u.state,null)}function qu(l,u){var p=u;if("ref"in u){p={};for(var x in u)x!=="ref"&&(p[x]=u[x])}if(l=l.defaultProps){p===u&&(p=h({},p));for(var S in l)p[S]===void 0&&(p[S]=l[S])}return p}function B5(l){ky(l)}function U5(l){console.error(l)}function V5(l){ky(l)}function tv(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function K5(l,u,p){try{var x=l.onCaughtError;x(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function rN(l,u,p){return p=fc(p),p.tag=3,p.payload={element:null},p.callback=function(){tv(l,u)},p}function H5(l){return l=fc(l),l.tag=3,l}function G5(l,u,p,x){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var _=x.value;l.payload=function(){return S(_)},l.callback=function(){K5(u,p,x)}}var L=p.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(l.callback=function(){K5(u,p,x),typeof S!="function"&&(bc===null?bc=new Set([this]):bc.add(this));var W=x.stack;this.componentDidCatch(x.value,{componentStack:W!==null?W:""})})}function qee(l,u,p,x,S){if(p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=p.alternate,u!==null&&xm(u,p,S,!0),p=va.current,p!==null){switch(p.tag){case 31:case 13:return Qa===null?fv():p.alternate===null&&lr===0&&(lr=3),p.flags&=-257,p.flags|=65536,p.lanes=S,x===By?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([x]):u.add(x),_N(l,x,S)),!1;case 22:return p.flags|=65536,x===By?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([x]):p.add(x)),_N(l,x,S)),!1}throw Error(s(435,p.tag))}return _N(l,x,S),fv(),!1}if(Jt)return u=va.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,x!==w1&&(l=Error(s(422),{cause:x}),up(Ha(l,p)))):(x!==w1&&(u=Error(s(423),{cause:x}),up(Ha(u,p))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,x=Ha(x,p),S=rN(l.stateNode,x,S),M1(l,S),lr!==4&&(lr=2)),!1;var _=Error(s(520),{cause:x});if(_=Ha(_,p),Tp===null?Tp=[_]:Tp.push(_),lr!==4&&(lr=2),u===null)return!0;x=Ha(x,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=S&-S,p.lanes|=l,l=rN(p.stateNode,x,l),M1(p,l),!1;case 1:if(u=p.type,_=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(bc===null||!bc.has(_))))return p.flags|=65536,S&=-S,p.lanes|=S,S=H5(S),G5(S,l,p,x),M1(p,S),!1}p=p.return}while(p!==null);return!1}var sN=Error(s(461)),Cr=!1;function ms(l,u,p,x){u.child=l===null?XM(u,null,p,x):$u(u,l.child,p,x)}function W5(l,u,p,x,S){p=p.render;var _=u.ref;if("ref"in x){var L={};for(var W in x)W!=="ref"&&(L[W]=x[W])}else L=x;return Ru(u),x=z1(l,u,p,L,_,S),W=q1(),l!==null&&!Cr?(F1(l,u,S),Zo(l,u,S)):(Jt&&W&&b1(u),u.flags|=1,ms(l,u,x,S),u.child)}function Y5(l,u,p,x,S){if(l===null){var _=p.type;return typeof _=="function"&&!x1(_)&&_.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=_,Q5(l,u,_,x,S)):(l=Iy(p.type,null,x,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(_=l.child,!mN(l,S)){var L=_.memoizedProps;if(p=p.compare,p=p!==null?p:op,p(L,x)&&l.ref===u.ref)return Zo(l,u,S)}return u.flags|=1,l=Ho(_,x),l.ref=u.ref,l.return=u,u.child=l}function Q5(l,u,p,x,S){if(l!==null){var _=l.memoizedProps;if(op(_,x)&&l.ref===u.ref)if(Cr=!1,u.pendingProps=x=_,mN(l,S))(l.flags&131072)!==0&&(Cr=!0);else return u.lanes=l.lanes,Zo(l,u,S)}return aN(l,u,p,x,S)}function X5(l,u,p,x){var S=x.children,_=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((u.flags&128)!==0){if(_=_!==null?_.baseLanes|p:p,l!==null){for(x=u.child=l.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;x=S&~_}else x=0,u.child=null;return Z5(l,u,_,p,x)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&qy(u,_!==null?_.cachePool:null),_!==null?e5(u,_):D1(),t5(u);else return x=u.lanes=536870912,Z5(l,u,_!==null?_.baseLanes|p:p,p,x)}else _!==null?(qy(u,_.cachePool),e5(u,_),gc(),u.memoizedState=null):(l!==null&&qy(u,null),D1(),gc());return ms(l,u,S,p),u.child}function wp(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Z5(l,u,p,x,S){var _=T1();return _=_===null?null:{parent:Nr._currentValue,pool:_},u.memoizedState={baseLanes:p,cachePool:_},l!==null&&qy(u,null),D1(),t5(u),l!==null&&xm(l,u,x,!0),u.childLanes=S,null}function nv(l,u){return u=sv({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function J5(l,u,p){return $u(u,l.child,null,p),l=nv(u,u.pendingProps),l.flags|=2,ba(u),u.memoizedState=null,l}function Fee(l,u,p){var x=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(Jt){if(x.mode==="hidden")return l=nv(u,x),u.lanes=536870912,wp(null,l);if(L1(u),(l=Un)?(l=dD(l,Ya),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:lc!==null?{id:oo,overflow:lo}:null,retryLane:536870912,hydrationErrors:null},p=IM(l),p.return=u,u.child=p,us=u,Un=null)):l=null,l===null)throw uc(u);return u.lanes=536870912,null}return nv(u,x)}var _=l.memoizedState;if(_!==null){var L=_.dehydrated;if(L1(u),S)if(u.flags&256)u.flags&=-257,u=J5(l,u,p);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(s(558));else if(Cr||xm(l,u,p,!1),S=(p&l.childLanes)!==0,Cr||S){if(x=Rn,x!==null&&(L=Rh(x,p),L!==0&&L!==_.retryLane))throw _.retryLane=L,Pu(l,L),na(x,l,L),sN;fv(),u=J5(l,u,p)}else l=_.treeContext,Un=Xa(L.nextSibling),us=u,Jt=!0,cc=null,Ya=!1,l!==null&&zM(u,l),u=nv(u,x),u.flags|=4096;return u}return l=Ho(l.child,{mode:x.mode,children:x.children}),l.ref=u.ref,u.child=l,l.return=u,l}function rv(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(s(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function aN(l,u,p,x,S){return Ru(u),p=z1(l,u,p,x,void 0,S),x=q1(),l!==null&&!Cr?(F1(l,u,S),Zo(l,u,S)):(Jt&&x&&b1(u),u.flags|=1,ms(l,u,p,S),u.child)}function eR(l,u,p,x,S,_){return Ru(u),u.updateQueue=null,p=r5(u,x,p,S),n5(l),x=q1(),l!==null&&!Cr?(F1(l,u,_),Zo(l,u,_)):(Jt&&x&&b1(u),u.flags|=1,ms(l,u,p,_),u.child)}function tR(l,u,p,x,S){if(Ru(u),u.stateNode===null){var _=fm,L=p.contextType;typeof L=="object"&&L!==null&&(_=ds(L)),_=new p(x,_),u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=nN,u.stateNode=_,_._reactInternals=u,_=u.stateNode,_.props=x,_.state=u.memoizedState,_.refs={},O1(u),L=p.contextType,_.context=typeof L=="object"&&L!==null?ds(L):fm,_.state=u.memoizedState,L=p.getDerivedStateFromProps,typeof L=="function"&&(tN(u,p,L,x),_.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(L=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),L!==_.state&&nN.enqueueReplaceState(_,_.state,null),xp(u,x,_,S),gp(),_.state=u.memoizedState),typeof _.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(l===null){_=u.stateNode;var W=u.memoizedProps,te=qu(p,W);_.props=te;var de=_.context,we=p.contextType;L=fm,typeof we=="object"&&we!==null&&(L=ds(we));var _e=p.getDerivedStateFromProps;we=typeof _e=="function"||typeof _.getSnapshotBeforeUpdate=="function",W=u.pendingProps!==W,we||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(W||de!==L)&&F5(u,_,x,L),mc=!1;var fe=u.memoizedState;_.state=fe,xp(u,x,_,S),gp(),de=u.memoizedState,W||fe!==de||mc?(typeof _e=="function"&&(tN(u,p,_e,x),de=u.memoizedState),(te=mc||q5(u,p,te,x,fe,de,L))?(we||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(u.flags|=4194308)):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=de),_.props=x,_.state=de,_.context=L,x=te):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{_=u.stateNode,k1(l,u),L=u.memoizedProps,we=qu(p,L),_.props=we,_e=u.pendingProps,fe=_.context,de=p.contextType,te=fm,typeof de=="object"&&de!==null&&(te=ds(de)),W=p.getDerivedStateFromProps,(de=typeof W=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L!==_e||fe!==te)&&F5(u,_,x,te),mc=!1,fe=u.memoizedState,_.state=fe,xp(u,x,_,S),gp();var pe=u.memoizedState;L!==_e||fe!==pe||mc||l!==null&&l.dependencies!==null&&$y(l.dependencies)?(typeof W=="function"&&(tN(u,p,W,x),pe=u.memoizedState),(we=mc||q5(u,p,we,x,fe,pe,te)||l!==null&&l.dependencies!==null&&$y(l.dependencies))?(de||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(x,pe,te),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(x,pe,te)),typeof _.componentDidUpdate=="function"&&(u.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof _.componentDidUpdate!="function"||L===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=pe),_.props=x,_.state=pe,_.context=te,x=we):(typeof _.componentDidUpdate!="function"||L===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||L===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),x=!1)}return _=x,rv(l,u),x=(u.flags&128)!==0,_||x?(_=u.stateNode,p=x&&typeof p.getDerivedStateFromError!="function"?null:_.render(),u.flags|=1,l!==null&&x?(u.child=$u(u,l.child,null,S),u.child=$u(u,null,p,S)):ms(l,u,p,S),u.memoizedState=_.state,l=u.child):l=Zo(l,u,S),l}function nR(l,u,p,x){return ku(),u.flags|=256,ms(l,u,p,x),u.child}var iN={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oN(l){return{baseLanes:l,cachePool:KM()}}function lN(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=wa),l}function rR(l,u,p){var x=u.pendingProps,S=!1,_=(u.flags&128)!==0,L;if((L=_)||(L=l!==null&&l.memoizedState===null?!1:(fr.current&2)!==0),L&&(S=!0,u.flags&=-129),L=(u.flags&32)!==0,u.flags&=-33,l===null){if(Jt){if(S?pc(u):gc(),(l=Un)?(l=dD(l,Ya),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:lc!==null?{id:oo,overflow:lo}:null,retryLane:536870912,hydrationErrors:null},p=IM(l),p.return=u,u.child=p,us=u,Un=null)):l=null,l===null)throw uc(u);return VN(l)?u.lanes=32:u.lanes=536870912,null}var W=x.children;return x=x.fallback,S?(gc(),S=u.mode,W=sv({mode:"hidden",children:W},S),x=Ou(x,S,p,null),W.return=u,x.return=u,W.sibling=x,u.child=W,x=u.child,x.memoizedState=oN(p),x.childLanes=lN(l,L,p),u.memoizedState=iN,wp(null,x)):(pc(u),cN(u,W))}var te=l.memoizedState;if(te!==null&&(W=te.dehydrated,W!==null)){if(_)u.flags&256?(pc(u),u.flags&=-257,u=uN(l,u,p)):u.memoizedState!==null?(gc(),u.child=l.child,u.flags|=128,u=null):(gc(),W=x.fallback,S=u.mode,x=sv({mode:"visible",children:x.children},S),W=Ou(W,S,p,null),W.flags|=2,x.return=u,W.return=u,x.sibling=W,u.child=x,$u(u,l.child,null,p),x=u.child,x.memoizedState=oN(p),x.childLanes=lN(l,L,p),u.memoizedState=iN,u=wp(null,x));else if(pc(u),VN(W)){if(L=W.nextSibling&&W.nextSibling.dataset,L)var de=L.dgst;L=de,x=Error(s(419)),x.stack="",x.digest=L,up({value:x,source:null,stack:null}),u=uN(l,u,p)}else if(Cr||xm(l,u,p,!1),L=(p&l.childLanes)!==0,Cr||L){if(L=Rn,L!==null&&(x=Rh(L,p),x!==0&&x!==te.retryLane))throw te.retryLane=x,Pu(l,x),na(L,l,x),sN;UN(W)||fv(),u=uN(l,u,p)}else UN(W)?(u.flags|=192,u.child=l.child,u=null):(l=te.treeContext,Un=Xa(W.nextSibling),us=u,Jt=!0,cc=null,Ya=!1,l!==null&&zM(u,l),u=cN(u,x.children),u.flags|=4096);return u}return S?(gc(),W=x.fallback,S=u.mode,te=l.child,de=te.sibling,x=Ho(te,{mode:"hidden",children:x.children}),x.subtreeFlags=te.subtreeFlags&65011712,de!==null?W=Ho(de,W):(W=Ou(W,S,p,null),W.flags|=2),W.return=u,x.return=u,x.sibling=W,u.child=x,wp(null,x),x=u.child,W=l.child.memoizedState,W===null?W=oN(p):(S=W.cachePool,S!==null?(te=Nr._currentValue,S=S.parent!==te?{parent:te,pool:te}:S):S=KM(),W={baseLanes:W.baseLanes|p,cachePool:S}),x.memoizedState=W,x.childLanes=lN(l,L,p),u.memoizedState=iN,wp(l.child,x)):(pc(u),p=l.child,l=p.sibling,p=Ho(p,{mode:"visible",children:x.children}),p.return=u,p.sibling=null,l!==null&&(L=u.deletions,L===null?(u.deletions=[l],u.flags|=16):L.push(l)),u.child=p,u.memoizedState=null,p)}function cN(l,u){return u=sv({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function sv(l,u){return l=ya(22,l,null,u),l.lanes=0,l}function uN(l,u,p){return $u(u,l.child,null,p),l=cN(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function sR(l,u,p){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),C1(l.return,u,p)}function dN(l,u,p,x,S,_){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:S,treeForkCount:_}:(L.isBackwards=u,L.rendering=null,L.renderingStartTime=0,L.last=x,L.tail=p,L.tailMode=S,L.treeForkCount=_)}function aR(l,u,p){var x=u.pendingProps,S=x.revealOrder,_=x.tail;x=x.children;var L=fr.current,W=(L&2)!==0;if(W?(L=L&1|2,u.flags|=128):L&=1,se(fr,L),ms(l,u,x,p),x=Jt?cp:0,!W&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&sR(l,p,u);else if(l.tag===19)sR(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(p=u.child,S=null;p!==null;)l=p.alternate,l!==null&&Hy(l)===null&&(S=p),p=p.sibling;p=S,p===null?(S=u.child,u.child=null):(S=p.sibling,p.sibling=null),dN(u,!1,S,p,_,x);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Hy(l)===null){u.child=S;break}l=S.sibling,S.sibling=p,p=S,S=l}dN(u,!0,p,null,_,x);break;case"together":dN(u,!1,null,null,void 0,x);break;default:u.memoizedState=null}return u.child}function Zo(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),vc|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(xm(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(l=u.child,p=Ho(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=Ho(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function mN(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&$y(l)))}function Bee(l,u,p){switch(u.tag){case 3:Ue(u,u.stateNode.containerInfo),dc(u,Nr,l.memoizedState.cache),ku();break;case 27:case 5:Ee(u);break;case 4:Ue(u,u.stateNode.containerInfo);break;case 10:dc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,L1(u),null;break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(pc(u),u.flags|=128,null):(p&u.child.childLanes)!==0?rR(l,u,p):(pc(u),l=Zo(l,u,p),l!==null?l.sibling:null);pc(u);break;case 19:var S=(l.flags&128)!==0;if(x=(p&u.childLanes)!==0,x||(xm(l,u,p,!1),x=(p&u.childLanes)!==0),S){if(x)return aR(l,u,p);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),se(fr,fr.current),x)break;return null;case 22:return u.lanes=0,X5(l,u,p,u.pendingProps);case 24:dc(u,Nr,l.memoizedState.cache)}return Zo(l,u,p)}function iR(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)Cr=!0;else{if(!mN(l,p)&&(u.flags&128)===0)return Cr=!1,Bee(l,u,p);Cr=(l.flags&131072)!==0}else Cr=!1,Jt&&(u.flags&1048576)!==0&&$M(u,cp,u.index);switch(u.lanes=0,u.tag){case 16:e:{var x=u.pendingProps;if(l=Iu(u.elementType),u.type=l,typeof l=="function")x1(l)?(x=qu(l,x),u.tag=1,u=tR(null,u,l,x,p)):(u.tag=0,u=aN(null,u,l,x,p));else{if(l!=null){var S=l.$$typeof;if(S===T){u.tag=11,u=W5(null,u,l,x,p);break e}else if(S===P){u.tag=14,u=Y5(null,u,l,x,p);break e}}throw u=z(l)||l,Error(s(306,u,""))}}return u;case 0:return aN(l,u,u.type,u.pendingProps,p);case 1:return x=u.type,S=qu(x,u.pendingProps),tR(l,u,x,S,p);case 3:e:{if(Ue(u,u.stateNode.containerInfo),l===null)throw Error(s(387));x=u.pendingProps;var _=u.memoizedState;S=_.element,k1(l,u),xp(u,x,null,p);var L=u.memoizedState;if(x=L.cache,dc(u,Nr,x),x!==_.cache&&A1(u,[Nr],p,!0),gp(),x=L.element,_.isDehydrated)if(_={element:x,isDehydrated:!1,cache:L.cache},u.updateQueue.baseState=_,u.memoizedState=_,u.flags&256){u=nR(l,u,x,p);break e}else if(x!==S){S=Ha(Error(s(424)),u),up(S),u=nR(l,u,x,p);break e}else for(l=u.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,Un=Xa(l.firstChild),us=u,Jt=!0,cc=null,Ya=!0,p=XM(u,null,x,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(ku(),x===S){u=Zo(l,u,p);break e}ms(l,u,x,p)}u=u.child}return u;case 26:return rv(l,u),l===null?(p=xD(u.type,null,u.pendingProps,null))?u.memoizedState=p:Jt||(p=u.type,l=u.pendingProps,x=bv(xe.current).createElement(p),x[dr]=u,x[Ir]=l,fs(x,p,l),mr(x),u.stateNode=x):u.memoizedState=xD(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ee(u),l===null&&Jt&&(x=u.stateNode=hD(u.type,u.pendingProps,xe.current),us=u,Ya=!0,S=Un,Sc(u.type)?(KN=S,Un=Xa(x.firstChild)):Un=S),ms(l,u,u.pendingProps.children,p),rv(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Jt&&((S=x=Un)&&(x=yte(x,u.type,u.pendingProps,Ya),x!==null?(u.stateNode=x,us=u,Un=Xa(x.firstChild),Ya=!1,S=!0):S=!1),S||uc(u)),Ee(u),S=u.type,_=u.pendingProps,L=l!==null?l.memoizedProps:null,x=_.children,qN(S,_)?x=null:L!==null&&qN(S,L)&&(u.flags|=32),u.memoizedState!==null&&(S=z1(l,u,Mee,null,null,p),Lp._currentValue=S),rv(l,u),ms(l,u,x,p),u.child;case 6:return l===null&&Jt&&((l=p=Un)&&(p=vte(p,u.pendingProps,Ya),p!==null?(u.stateNode=p,us=u,Un=null,l=!0):l=!1),l||uc(u)),null;case 13:return rR(l,u,p);case 4:return Ue(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=$u(u,null,x,p):ms(l,u,x,p),u.child;case 11:return W5(l,u,u.type,u.pendingProps,p);case 7:return ms(l,u,u.pendingProps,p),u.child;case 8:return ms(l,u,u.pendingProps.children,p),u.child;case 12:return ms(l,u,u.pendingProps.children,p),u.child;case 10:return x=u.pendingProps,dc(u,u.type,x.value),ms(l,u,x.children,p),u.child;case 9:return S=u.type._context,x=u.pendingProps.children,Ru(u),S=ds(S),x=x(S),u.flags|=1,ms(l,u,x,p),u.child;case 14:return Y5(l,u,u.type,u.pendingProps,p);case 15:return Q5(l,u,u.type,u.pendingProps,p);case 19:return aR(l,u,p);case 31:return Fee(l,u,p);case 22:return X5(l,u,p,u.pendingProps);case 24:return Ru(u),x=ds(Nr),l===null?(S=T1(),S===null&&(S=Rn,_=E1(),S.pooledCache=_,_.refCount++,_!==null&&(S.pooledCacheLanes|=p),S=_),u.memoizedState={parent:x,cache:S},O1(u),dc(u,Nr,S)):((l.lanes&p)!==0&&(k1(l,u),xp(u,null,null,p),gp()),S=l.memoizedState,_=u.memoizedState,S.parent!==x?(S={parent:x,cache:x},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),dc(u,Nr,x)):(x=_.cache,dc(u,Nr,x),x!==S.cache&&A1(u,[Nr],p,!0))),ms(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(s(156,u.tag))}function Jo(l){l.flags|=4}function fN(l,u,p,x,S){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(MR())l.flags|=8192;else throw Lu=By,P1}else l.flags&=-16777217}function oR(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!wD(u))if(MR())l.flags|=8192;else throw Lu=By,P1}function av(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Xl():536870912,l.lanes|=u,Tm|=u)}function Np(l,u){if(!Jt)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Vn(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,x=0;if(u)for(var S=l.child;S!==null;)p|=S.lanes|S.childLanes,x|=S.subtreeFlags&65011712,x|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)p|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=x,l.childLanes=p,u}function Uee(l,u,p){var x=u.pendingProps;switch(j1(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(u),null;case 1:return Vn(u),null;case 3:return p=u.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),Yo(Nr),ge(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(gm(u)?Jo(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,N1())),Vn(u),null;case 26:var S=u.type,_=u.memoizedState;return l===null?(Jo(u),_!==null?(Vn(u),oR(u,_)):(Vn(u),fN(u,S,null,x,p))):_?_!==l.memoizedState?(Jo(u),Vn(u),oR(u,_)):(Vn(u),u.flags&=-16777217):(l=l.memoizedProps,l!==x&&Jo(u),Vn(u),fN(u,S,l,x,p)),null;case 27:if(Z(u),p=xe.current,S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&Jo(u);else{if(!x){if(u.stateNode===null)throw Error(s(166));return Vn(u),null}l=he.current,gm(u)?qM(u):(l=hD(S,x,p),u.stateNode=l,Jo(u))}return Vn(u),null;case 5:if(Z(u),S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&Jo(u);else{if(!x){if(u.stateNode===null)throw Error(s(166));return Vn(u),null}if(_=he.current,gm(u))qM(u);else{var L=bv(xe.current);switch(_){case 1:_=L.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:_=L.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":_=L.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":_=L.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":_=L.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof x.is=="string"?L.createElement("select",{is:x.is}):L.createElement("select"),x.multiple?_.multiple=!0:x.size&&(_.size=x.size);break;default:_=typeof x.is=="string"?L.createElement(S,{is:x.is}):L.createElement(S)}}_[dr]=u,_[Ir]=x;e:for(L=u.child;L!==null;){if(L.tag===5||L.tag===6)_.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===u)break e;for(;L.sibling===null;){if(L.return===null||L.return===u)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}u.stateNode=_;e:switch(fs(_,S,x),S){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Jo(u)}}return Vn(u),fN(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,p),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==x&&Jo(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(s(166));if(l=xe.current,gm(u)){if(l=u.stateNode,p=u.memoizedProps,x=null,S=us,S!==null)switch(S.tag){case 27:case 5:x=S.memoizedProps}l[dr]=u,l=!!(l.nodeValue===p||x!==null&&x.suppressHydrationWarning===!0||rD(l.nodeValue,p)),l||uc(u,!0)}else l=bv(l).createTextNode(x),l[dr]=u,u.stateNode=l}return Vn(u),null;case 31:if(p=u.memoizedState,l===null||l.memoizedState!==null){if(x=gm(u),p!==null){if(l===null){if(!x)throw Error(s(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(557));l[dr]=u}else ku(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Vn(u),l=!1}else p=N1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return u.flags&256?(ba(u),u):(ba(u),null);if((u.flags&128)!==0)throw Error(s(558))}return Vn(u),null;case 13:if(x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=gm(u),x!==null&&x.dehydrated!==null){if(l===null){if(!S)throw Error(s(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));S[dr]=u}else ku(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Vn(u),S=!1}else S=N1(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(ba(u),u):(ba(u),null)}return ba(u),(u.flags&128)!==0?(u.lanes=p,u):(p=x!==null,l=l!==null&&l.memoizedState!==null,p&&(x=u.child,S=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(S=x.alternate.memoizedState.cachePool.pool),_=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(_=x.memoizedState.cachePool.pool),_!==S&&(x.flags|=2048)),p!==l&&p&&(u.child.flags|=8192),av(u,u.updateQueue),Vn(u),null);case 4:return ge(),l===null&&DN(u.stateNode.containerInfo),Vn(u),null;case 10:return Yo(u.type),Vn(u),null;case 19:if(Y(fr),x=u.memoizedState,x===null)return Vn(u),null;if(S=(u.flags&128)!==0,_=x.rendering,_===null)if(S)Np(x,!1);else{if(lr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(_=Hy(l),_!==null){for(u.flags|=128,Np(x,!1),l=_.updateQueue,u.updateQueue=l,av(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)DM(p,l),p=p.sibling;return se(fr,fr.current&1|2),Jt&&Go(u,x.treeForkCount),u.child}l=l.sibling}x.tail!==null&&er()>uv&&(u.flags|=128,S=!0,Np(x,!1),u.lanes=4194304)}else{if(!S)if(l=Hy(_),l!==null){if(u.flags|=128,S=!0,l=l.updateQueue,u.updateQueue=l,av(u,l),Np(x,!0),x.tail===null&&x.tailMode==="hidden"&&!_.alternate&&!Jt)return Vn(u),null}else 2*er()-x.renderingStartTime>uv&&p!==536870912&&(u.flags|=128,S=!0,Np(x,!1),u.lanes=4194304);x.isBackwards?(_.sibling=u.child,u.child=_):(l=x.last,l!==null?l.sibling=_:u.child=_,x.last=_)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=er(),l.sibling=null,p=fr.current,se(fr,S?p&1|2:p&1),Jt&&Go(u,x.treeForkCount),l):(Vn(u),null);case 22:case 23:return ba(u),I1(),x=u.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(p&536870912)!==0&&(u.flags&128)===0&&(Vn(u),u.subtreeFlags&6&&(u.flags|=8192)):Vn(u),p=u.updateQueue,p!==null&&av(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==p&&(u.flags|=2048),l!==null&&Y(Du),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),Yo(Nr),Vn(u),null;case 25:return null;case 30:return null}throw Error(s(156,u.tag))}function Vee(l,u){switch(j1(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Yo(Nr),ge(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Z(u),null;case 31:if(u.memoizedState!==null){if(ba(u),u.alternate===null)throw Error(s(340));ku()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(ba(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));ku()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Y(fr),null;case 4:return ge(),null;case 10:return Yo(u.type),null;case 22:case 23:return ba(u),I1(),l!==null&&Y(Du),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Yo(Nr),null;case 25:return null;default:return null}}function lR(l,u){switch(j1(u),u.tag){case 3:Yo(Nr),ge();break;case 26:case 27:case 5:Z(u);break;case 4:ge();break;case 31:u.memoizedState!==null&&ba(u);break;case 13:ba(u);break;case 19:Y(fr);break;case 10:Yo(u.type);break;case 22:case 23:ba(u),I1(),l!==null&&Y(Du);break;case 24:Yo(Nr)}}function Sp(l,u){try{var p=u.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var S=x.next;p=S;do{if((p.tag&l)===l){x=void 0;var _=p.create,L=p.inst;x=_(),L.destroy=x}p=p.next}while(p!==S)}}catch(W){An(u,u.return,W)}}function xc(l,u,p){try{var x=u.updateQueue,S=x!==null?x.lastEffect:null;if(S!==null){var _=S.next;x=_;do{if((x.tag&l)===l){var L=x.inst,W=L.destroy;if(W!==void 0){L.destroy=void 0,S=u;var te=p,de=W;try{de()}catch(we){An(S,te,we)}}}x=x.next}while(x!==_)}}catch(we){An(u,u.return,we)}}function cR(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{JM(u,p)}catch(x){An(l,l.return,x)}}}function uR(l,u,p){p.props=qu(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(x){An(l,u,x)}}function Cp(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof p=="function"?l.refCleanup=p(x):p.current=x}}catch(S){An(l,u,S)}}function co(l,u){var p=l.ref,x=l.refCleanup;if(p!==null)if(typeof x=="function")try{x()}catch(S){An(l,u,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){An(l,u,S)}else p.current=null}function dR(l){var u=l.type,p=l.memoizedProps,x=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&x.focus();break e;case"img":p.src?x.src=p.src:p.srcSet&&(x.srcset=p.srcSet)}}catch(S){An(l,l.return,S)}}function hN(l,u,p){try{var x=l.stateNode;mte(x,l.type,p,u),x[Ir]=u}catch(S){An(l,l.return,S)}}function mR(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Sc(l.type)||l.tag===4}function pN(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||mR(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Sc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function gN(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Va));else if(x!==4&&(x===27&&Sc(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(gN(l,u,p),l=l.sibling;l!==null;)gN(l,u,p),l=l.sibling}function iv(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(x!==4&&(x===27&&Sc(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(iv(l,u,p),l=l.sibling;l!==null;)iv(l,u,p),l=l.sibling}function fR(l){var u=l.stateNode,p=l.memoizedProps;try{for(var x=l.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);fs(u,x,p),u[dr]=l,u[Ir]=p}catch(_){An(l,l.return,_)}}var el=!1,Ar=!1,xN=!1,hR=typeof WeakSet=="function"?WeakSet:Set,Qr=null;function Kee(l,u){if(l=l.containerInfo,$N=Ev,l=AM(l),u1(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var S=x.anchorOffset,_=x.focusNode;x=x.focusOffset;try{p.nodeType,_.nodeType}catch{p=null;break e}var L=0,W=-1,te=-1,de=0,we=0,_e=l,fe=null;t:for(;;){for(var pe;_e!==p||S!==0&&_e.nodeType!==3||(W=L+S),_e!==_||x!==0&&_e.nodeType!==3||(te=L+x),_e.nodeType===3&&(L+=_e.nodeValue.length),(pe=_e.firstChild)!==null;)fe=_e,_e=pe;for(;;){if(_e===l)break t;if(fe===p&&++de===S&&(W=L),fe===_&&++we===x&&(te=L),(pe=_e.nextSibling)!==null)break;_e=fe,fe=_e.parentNode}_e=pe}p=W===-1||te===-1?null:{start:W,end:te}}else p=null}p=p||{start:0,end:0}}else p=null;for(zN={focusedElem:l,selectionRange:p},Ev=!1,Qr=u;Qr!==null;)if(u=Qr,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Qr=l;else for(;Qr!==null;){switch(u=Qr,_=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)S=l[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&_!==null){l=void 0,p=u,S=_.memoizedProps,_=_.memoizedState,x=p.stateNode;try{var Xe=qu(p.type,S);l=x.getSnapshotBeforeUpdate(Xe,_),x.__reactInternalSnapshotBeforeUpdate=l}catch(ft){An(p,p.return,ft)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)BN(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":BN(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(s(163))}if(l=u.sibling,l!==null){l.return=u.return,Qr=l;break}Qr=u.return}}function pR(l,u,p){var x=p.flags;switch(p.tag){case 0:case 11:case 15:nl(l,p),x&4&&Sp(5,p);break;case 1:if(nl(l,p),x&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(L){An(p,p.return,L)}else{var S=qu(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(S,u,l.__reactInternalSnapshotBeforeUpdate)}catch(L){An(p,p.return,L)}}x&64&&cR(p),x&512&&Cp(p,p.return);break;case 3:if(nl(l,p),x&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{JM(l,u)}catch(L){An(p,p.return,L)}}break;case 27:u===null&&x&4&&fR(p);case 26:case 5:nl(l,p),u===null&&x&4&&dR(p),x&512&&Cp(p,p.return);break;case 12:nl(l,p);break;case 31:nl(l,p),x&4&&yR(l,p);break;case 13:nl(l,p),x&4&&vR(l,p),x&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=ete.bind(null,p),bte(l,p))));break;case 22:if(x=p.memoizedState!==null||el,!x){u=u!==null&&u.memoizedState!==null||Ar,S=el;var _=Ar;el=x,(Ar=u)&&!_?rl(l,p,(p.subtreeFlags&8772)!==0):nl(l,p),el=S,Ar=_}break;case 30:break;default:nl(l,p)}}function gR(l){var u=l.alternate;u!==null&&(l.alternate=null,gR(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Ih(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Yn=null,Zs=!1;function tl(l,u,p){for(p=p.child;p!==null;)xR(l,u,p),p=p.sibling}function xR(l,u,p){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(ji,p)}catch{}switch(p.tag){case 26:Ar||co(p,u),tl(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Ar||co(p,u);var x=Yn,S=Zs;Sc(p.type)&&(Yn=p.stateNode,Zs=!1),tl(l,u,p),Rp(p.stateNode),Yn=x,Zs=S;break;case 5:Ar||co(p,u);case 6:if(x=Yn,S=Zs,Yn=null,tl(l,u,p),Yn=x,Zs=S,Yn!==null)if(Zs)try{(Yn.nodeType===9?Yn.body:Yn.nodeName==="HTML"?Yn.ownerDocument.body:Yn).removeChild(p.stateNode)}catch(_){An(p,u,_)}else try{Yn.removeChild(p.stateNode)}catch(_){An(p,u,_)}break;case 18:Yn!==null&&(Zs?(l=Yn,cD(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),Lm(l)):cD(Yn,p.stateNode));break;case 4:x=Yn,S=Zs,Yn=p.stateNode.containerInfo,Zs=!0,tl(l,u,p),Yn=x,Zs=S;break;case 0:case 11:case 14:case 15:xc(2,p,u),Ar||xc(4,p,u),tl(l,u,p);break;case 1:Ar||(co(p,u),x=p.stateNode,typeof x.componentWillUnmount=="function"&&uR(p,u,x)),tl(l,u,p);break;case 21:tl(l,u,p);break;case 22:Ar=(x=Ar)||p.memoizedState!==null,tl(l,u,p),Ar=x;break;default:tl(l,u,p)}}function yR(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Lm(l)}catch(p){An(u,u.return,p)}}}function vR(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Lm(l)}catch(p){An(u,u.return,p)}}function Hee(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new hR),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new hR),u;default:throw Error(s(435,l.tag))}}function ov(l,u){var p=Hee(l);u.forEach(function(x){if(!p.has(x)){p.add(x);var S=tte.bind(null,l,x);x.then(S,S)}})}function Js(l,u){var p=u.deletions;if(p!==null)for(var x=0;x<p.length;x++){var S=p[x],_=l,L=u,W=L;e:for(;W!==null;){switch(W.tag){case 27:if(Sc(W.type)){Yn=W.stateNode,Zs=!1;break e}break;case 5:Yn=W.stateNode,Zs=!1;break e;case 3:case 4:Yn=W.stateNode.containerInfo,Zs=!0;break e}W=W.return}if(Yn===null)throw Error(s(160));xR(_,L,S),Yn=null,Zs=!1,_=S.alternate,_!==null&&(_.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)bR(u,l),u=u.sibling}var Ci=null;function bR(l,u){var p=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Js(u,l),ea(l),x&4&&(xc(3,l,l.return),Sp(3,l),xc(5,l,l.return));break;case 1:Js(u,l),ea(l),x&512&&(Ar||p===null||co(p,p.return)),x&64&&el&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?x:p.concat(x))));break;case 26:var S=Ci;if(Js(u,l),ea(l),x&512&&(Ar||p===null||co(p,p.return)),x&4){var _=p!==null?p.memoizedState:null;if(x=l.memoizedState,p===null)if(x===null)if(l.stateNode===null){e:{x=l.type,p=l.memoizedProps,S=S.ownerDocument||S;t:switch(x){case"title":_=S.getElementsByTagName("title")[0],(!_||_[to]||_[dr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=S.createElement(x),S.head.insertBefore(_,S.querySelector("head > title"))),fs(_,x,p),_[dr]=l,mr(_),x=_;break e;case"link":var L=bD("link","href",S).get(x+(p.href||""));if(L){for(var W=0;W<L.length;W++)if(_=L[W],_.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&_.getAttribute("rel")===(p.rel==null?null:p.rel)&&_.getAttribute("title")===(p.title==null?null:p.title)&&_.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){L.splice(W,1);break t}}_=S.createElement(x),fs(_,x,p),S.head.appendChild(_);break;case"meta":if(L=bD("meta","content",S).get(x+(p.content||""))){for(W=0;W<L.length;W++)if(_=L[W],_.getAttribute("content")===(p.content==null?null:""+p.content)&&_.getAttribute("name")===(p.name==null?null:p.name)&&_.getAttribute("property")===(p.property==null?null:p.property)&&_.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&_.getAttribute("charset")===(p.charSet==null?null:p.charSet)){L.splice(W,1);break t}}_=S.createElement(x),fs(_,x,p),S.head.appendChild(_);break;default:throw Error(s(468,x))}_[dr]=l,mr(_),x=_}l.stateNode=x}else jD(S,l.type,l.stateNode);else l.stateNode=vD(S,x,l.memoizedProps);else _!==x?(_===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):_.count--,x===null?jD(S,l.type,l.stateNode):vD(S,x,l.memoizedProps)):x===null&&l.stateNode!==null&&hN(l,l.memoizedProps,p.memoizedProps)}break;case 27:Js(u,l),ea(l),x&512&&(Ar||p===null||co(p,p.return)),p!==null&&x&4&&hN(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Js(u,l),ea(l),x&512&&(Ar||p===null||co(p,p.return)),l.flags&32){S=l.stateNode;try{cs(S,"")}catch(Xe){An(l,l.return,Xe)}}x&4&&l.stateNode!=null&&(S=l.memoizedProps,hN(l,S,p!==null?p.memoizedProps:S)),x&1024&&(xN=!0);break;case 6:if(Js(u,l),ea(l),x&4){if(l.stateNode===null)throw Error(s(162));x=l.memoizedProps,p=l.stateNode;try{p.nodeValue=x}catch(Xe){An(l,l.return,Xe)}}break;case 3:if(Nv=null,S=Ci,Ci=jv(u.containerInfo),Js(u,l),Ci=S,ea(l),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Lm(u.containerInfo)}catch(Xe){An(l,l.return,Xe)}xN&&(xN=!1,jR(l));break;case 4:x=Ci,Ci=jv(l.stateNode.containerInfo),Js(u,l),ea(l),Ci=x;break;case 12:Js(u,l),ea(l);break;case 31:Js(u,l),ea(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ov(l,x)));break;case 13:Js(u,l),ea(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(cv=er()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ov(l,x)));break;case 22:S=l.memoizedState!==null;var te=p!==null&&p.memoizedState!==null,de=el,we=Ar;if(el=de||S,Ar=we||te,Js(u,l),Ar=we,el=de,ea(l),x&8192)e:for(u=l.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(p===null||te||el||Ar||Fu(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){te=p=u;try{if(_=te.stateNode,S)L=_.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{W=te.stateNode;var _e=te.memoizedProps.style,fe=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;W.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Xe){An(te,te.return,Xe)}}}else if(u.tag===6){if(p===null){te=u;try{te.stateNode.nodeValue=S?"":te.memoizedProps}catch(Xe){An(te,te.return,Xe)}}}else if(u.tag===18){if(p===null){te=u;try{var pe=te.stateNode;S?uD(pe,!0):uD(te.stateNode,!1)}catch(Xe){An(te,te.return,Xe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=l.updateQueue,x!==null&&(p=x.retryQueue,p!==null&&(x.retryQueue=null,ov(l,p))));break;case 19:Js(u,l),ea(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ov(l,x)));break;case 30:break;case 21:break;default:Js(u,l),ea(l)}}function ea(l){var u=l.flags;if(u&2){try{for(var p,x=l.return;x!==null;){if(mR(x)){p=x;break}x=x.return}if(p==null)throw Error(s(160));switch(p.tag){case 27:var S=p.stateNode,_=pN(l);iv(l,_,S);break;case 5:var L=p.stateNode;p.flags&32&&(cs(L,""),p.flags&=-33);var W=pN(l);iv(l,W,L);break;case 3:case 4:var te=p.stateNode.containerInfo,de=pN(l);gN(l,de,te);break;default:throw Error(s(161))}}catch(we){An(l,l.return,we)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function jR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;jR(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function nl(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)pR(l,u.alternate,u),u=u.sibling}function Fu(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:xc(4,u,u.return),Fu(u);break;case 1:co(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&uR(u,u.return,p),Fu(u);break;case 27:Rp(u.stateNode);case 26:case 5:co(u,u.return),Fu(u);break;case 22:u.memoizedState===null&&Fu(u);break;case 30:Fu(u);break;default:Fu(u)}l=l.sibling}}function rl(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,S=l,_=u,L=_.flags;switch(_.tag){case 0:case 11:case 15:rl(S,_,p),Sp(4,_);break;case 1:if(rl(S,_,p),x=_,S=x.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(de){An(x,x.return,de)}if(x=_,S=x.updateQueue,S!==null){var W=x.stateNode;try{var te=S.shared.hiddenCallbacks;if(te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<te.length;S++)ZM(te[S],W)}catch(de){An(x,x.return,de)}}p&&L&64&&cR(_),Cp(_,_.return);break;case 27:fR(_);case 26:case 5:rl(S,_,p),p&&x===null&&L&4&&dR(_),Cp(_,_.return);break;case 12:rl(S,_,p);break;case 31:rl(S,_,p),p&&L&4&&yR(S,_);break;case 13:rl(S,_,p),p&&L&4&&vR(S,_);break;case 22:_.memoizedState===null&&rl(S,_,p),Cp(_,_.return);break;case 30:break;default:rl(S,_,p)}u=u.sibling}}function yN(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&dp(p))}function vN(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&dp(l))}function Ai(l,u,p,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)wR(l,u,p,x),u=u.sibling}function wR(l,u,p,x){var S=u.flags;switch(u.tag){case 0:case 11:case 15:Ai(l,u,p,x),S&2048&&Sp(9,u);break;case 1:Ai(l,u,p,x);break;case 3:Ai(l,u,p,x),S&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&dp(l)));break;case 12:if(S&2048){Ai(l,u,p,x),l=u.stateNode;try{var _=u.memoizedProps,L=_.id,W=_.onPostCommit;typeof W=="function"&&W(L,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(te){An(u,u.return,te)}}else Ai(l,u,p,x);break;case 31:Ai(l,u,p,x);break;case 13:Ai(l,u,p,x);break;case 23:break;case 22:_=u.stateNode,L=u.alternate,u.memoizedState!==null?_._visibility&2?Ai(l,u,p,x):Ap(l,u):_._visibility&2?Ai(l,u,p,x):(_._visibility|=2,Am(l,u,p,x,(u.subtreeFlags&10256)!==0||!1)),S&2048&&yN(L,u);break;case 24:Ai(l,u,p,x),S&2048&&vN(u.alternate,u);break;default:Ai(l,u,p,x)}}function Am(l,u,p,x,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var _=l,L=u,W=p,te=x,de=L.flags;switch(L.tag){case 0:case 11:case 15:Am(_,L,W,te,S),Sp(8,L);break;case 23:break;case 22:var we=L.stateNode;L.memoizedState!==null?we._visibility&2?Am(_,L,W,te,S):Ap(_,L):(we._visibility|=2,Am(_,L,W,te,S)),S&&de&2048&&yN(L.alternate,L);break;case 24:Am(_,L,W,te,S),S&&de&2048&&vN(L.alternate,L);break;default:Am(_,L,W,te,S)}u=u.sibling}}function Ap(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,x=u,S=x.flags;switch(x.tag){case 22:Ap(p,x),S&2048&&yN(x.alternate,x);break;case 24:Ap(p,x),S&2048&&vN(x.alternate,x);break;default:Ap(p,x)}u=u.sibling}}var Ep=8192;function Em(l,u,p){if(l.subtreeFlags&Ep)for(l=l.child;l!==null;)NR(l,u,p),l=l.sibling}function NR(l,u,p){switch(l.tag){case 26:Em(l,u,p),l.flags&Ep&&l.memoizedState!==null&&kte(p,Ci,l.memoizedState,l.memoizedProps);break;case 5:Em(l,u,p);break;case 3:case 4:var x=Ci;Ci=jv(l.stateNode.containerInfo),Em(l,u,p),Ci=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=Ep,Ep=16777216,Em(l,u,p),Ep=x):Em(l,u,p));break;default:Em(l,u,p)}}function SR(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function _p(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];Qr=x,AR(x,l)}SR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)CR(l),l=l.sibling}function CR(l){switch(l.tag){case 0:case 11:case 15:_p(l),l.flags&2048&&xc(9,l,l.return);break;case 3:_p(l);break;case 12:_p(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,lv(l)):_p(l);break;default:_p(l)}}function lv(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];Qr=x,AR(x,l)}SR(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:xc(8,u,u.return),lv(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,lv(u));break;default:lv(u)}l=l.sibling}}function AR(l,u){for(;Qr!==null;){var p=Qr;switch(p.tag){case 0:case 11:case 15:xc(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var x=p.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:dp(p.memoizedState.cache)}if(x=p.child,x!==null)x.return=p,Qr=x;else e:for(p=l;Qr!==null;){x=Qr;var S=x.sibling,_=x.return;if(gR(x),x===p){Qr=null;break e}if(S!==null){S.return=_,Qr=S;break e}Qr=_}}}var Gee={getCacheForType:function(l){var u=ds(Nr),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p},cacheSignal:function(){return ds(Nr).controller.signal}},Wee=typeof WeakMap=="function"?WeakMap:Map,pn=0,Rn=null,Vt=null,Qt=0,Cn=0,ja=null,yc=!1,_m=!1,bN=!1,sl=0,lr=0,vc=0,Bu=0,jN=0,wa=0,Tm=0,Tp=null,ta=null,wN=!1,cv=0,ER=0,uv=1/0,dv=null,bc=null,Lr=0,jc=null,Pm=null,al=0,NN=0,SN=null,_R=null,Pp=0,CN=null;function Na(){return(pn&2)!==0&&Qt!==0?Qt&-Qt:I.T!==null?ON():tm()}function TR(){if(wa===0)if((Qt&536870912)===0||Jt){var l=qo;qo<<=1,(qo&3932160)===0&&(qo=262144),wa=l}else wa=536870912;return l=va.current,l!==null&&(l.flags|=32),wa}function na(l,u,p){(l===Rn&&(Cn===2||Cn===9)||l.cancelPendingCommit!==null)&&(Om(l,0),wc(l,Qt,wa,!1)),Zl(l,p),((pn&2)===0||l!==Rn)&&(l===Rn&&((pn&2)===0&&(Bu|=p),lr===4&&wc(l,Qt,wa,!1)),uo(l))}function PR(l,u,p){if((pn&6)!==0)throw Error(s(327));var x=!p&&(u&127)===0&&(u&l.expiredLanes)===0||Fo(l,u),S=x?Xee(l,u):EN(l,u,!0),_=x;do{if(S===0){_m&&!x&&wc(l,u,0,!1);break}else{if(p=l.current.alternate,_&&!Yee(p)){S=EN(l,u,!1),_=!1;continue}if(S===2){if(_=u,l.errorRecoveryDisabledLanes&_)var L=0;else L=l.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){u=L;e:{var W=l;S=Tp;var te=W.current.memoizedState.isDehydrated;if(te&&(Om(W,L).flags|=256),L=EN(W,L,!1),L!==2){if(bN&&!te){W.errorRecoveryDisabledLanes|=_,Bu|=_,S=4;break e}_=ta,ta=S,_!==null&&(ta===null?ta=_:ta.push.apply(ta,_))}S=L}if(_=!1,S!==2)continue}}if(S===1){Om(l,0),wc(l,u,0,!0);break}e:{switch(x=l,_=S,_){case 0:case 1:throw Error(s(345));case 4:if((u&4194048)!==u)break;case 6:wc(x,u,wa,!yc);break e;case 2:ta=null;break;case 3:case 5:break;default:throw Error(s(329))}if((u&62914560)===u&&(S=cv+300-er(),10<S)){if(wc(x,u,wa,!yc),mu(x,0,!0)!==0)break e;al=u,x.timeoutHandle=oD(OR.bind(null,x,p,ta,dv,wN,u,wa,Bu,Tm,yc,_,"Throttled",-0,0),S);break e}OR(x,p,ta,dv,wN,u,wa,Bu,Tm,yc,_,null,-0,0)}}break}while(!0);uo(l)}function OR(l,u,p,x,S,_,L,W,te,de,we,_e,fe,pe){if(l.timeoutHandle=-1,_e=u.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Va},NR(u,_,_e);var Xe=(_&62914560)===_?cv-er():(_&4194048)===_?ER-er():0;if(Xe=Mte(_e,Xe),Xe!==null){al=_,l.cancelPendingCommit=Xe(zR.bind(null,l,u,_,p,x,S,L,W,te,we,_e,null,fe,pe)),wc(l,_,L,!de);return}}zR(l,u,_,p,x,S,L,W,te)}function Yee(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var x=0;x<p.length;x++){var S=p[x],_=S.getSnapshot;S=S.value;try{if(!xa(_(),S))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function wc(l,u,p,x){u&=~jN,u&=~Bu,l.suspendedLanes|=u,l.pingedLanes&=~u,x&&(l.warmLanes|=u),x=l.expirationTimes;for(var S=u;0<S;){var _=31-os(S),L=1<<_;x[_]=-1,S&=~L}p!==0&&Mh(l,p,u)}function mv(){return(pn&6)===0?(Op(0),!1):!0}function AN(){if(Vt!==null){if(Cn===0)var l=Vt.return;else l=Vt,Wo=Mu=null,B1(l),jm=null,fp=0,l=Vt;for(;l!==null;)lR(l.alternate,l),l=l.return;Vt=null}}function Om(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,pte(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),al=0,AN(),Rn=l,Vt=p=Ho(l.current,null),Qt=u,Cn=0,ja=null,yc=!1,_m=Fo(l,u),bN=!1,Tm=wa=jN=Bu=vc=lr=0,ta=Tp=null,wN=!1,(u&8)!==0&&(u|=u&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=u;0<x;){var S=31-os(x),_=1<<S;u|=l[S],x&=~_}return sl=u,My(),p}function kR(l,u){kt=null,I.H=jp,u===bm||u===Fy?(u=WM(),Cn=3):u===P1?(u=WM(),Cn=4):Cn=u===sN?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ja=u,Vt===null&&(lr=1,tv(l,Ha(u,l.current)))}function MR(){var l=va.current;return l===null?!0:(Qt&4194048)===Qt?Qa===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?l===Qa:!1}function RR(){var l=I.H;return I.H=jp,l===null?jp:l}function DR(){var l=I.A;return I.A=Gee,l}function fv(){lr=4,yc||(Qt&4194048)!==Qt&&va.current!==null||(_m=!0),(vc&134217727)===0&&(Bu&134217727)===0||Rn===null||wc(Rn,Qt,wa,!1)}function EN(l,u,p){var x=pn;pn|=2;var S=RR(),_=DR();(Rn!==l||Qt!==u)&&(dv=null,Om(l,u)),u=!1;var L=lr;e:do try{if(Cn!==0&&Vt!==null){var W=Vt,te=ja;switch(Cn){case 8:AN(),L=6;break e;case 3:case 2:case 9:case 6:va.current===null&&(u=!0);var de=Cn;if(Cn=0,ja=null,km(l,W,te,de),p&&_m){L=0;break e}break;default:de=Cn,Cn=0,ja=null,km(l,W,te,de)}}Qee(),L=lr;break}catch(we){kR(l,we)}while(!0);return u&&l.shellSuspendCounter++,Wo=Mu=null,pn=x,I.H=S,I.A=_,Vt===null&&(Rn=null,Qt=0,My()),L}function Qee(){for(;Vt!==null;)IR(Vt)}function Xee(l,u){var p=pn;pn|=2;var x=RR(),S=DR();Rn!==l||Qt!==u?(dv=null,uv=er()+500,Om(l,u)):_m=Fo(l,u);e:do try{if(Cn!==0&&Vt!==null){u=Vt;var _=ja;t:switch(Cn){case 1:Cn=0,ja=null,km(l,u,_,1);break;case 2:case 9:if(HM(_)){Cn=0,ja=null,LR(u);break}u=function(){Cn!==2&&Cn!==9||Rn!==l||(Cn=7),uo(l)},_.then(u,u);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:HM(_)?(Cn=0,ja=null,LR(u)):(Cn=0,ja=null,km(l,u,_,7));break;case 5:var L=null;switch(Vt.tag){case 26:L=Vt.memoizedState;case 5:case 27:var W=Vt;if(L?wD(L):W.stateNode.complete){Cn=0,ja=null;var te=W.sibling;if(te!==null)Vt=te;else{var de=W.return;de!==null?(Vt=de,hv(de)):Vt=null}break t}}Cn=0,ja=null,km(l,u,_,5);break;case 6:Cn=0,ja=null,km(l,u,_,6);break;case 8:AN(),lr=6;break e;default:throw Error(s(462))}}Zee();break}catch(we){kR(l,we)}while(!0);return Wo=Mu=null,I.H=x,I.A=S,pn=p,Vt!==null?0:(Rn=null,Qt=0,My(),lr)}function Zee(){for(;Vt!==null&&!vn();)IR(Vt)}function IR(l){var u=iR(l.alternate,l,sl);l.memoizedProps=l.pendingProps,u===null?hv(l):Vt=u}function LR(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=eR(p,u,u.pendingProps,u.type,void 0,Qt);break;case 11:u=eR(p,u,u.pendingProps,u.type.render,u.ref,Qt);break;case 5:B1(u);default:lR(p,u),u=Vt=DM(u,sl),u=iR(p,u,sl)}l.memoizedProps=l.pendingProps,u===null?hv(l):Vt=u}function km(l,u,p,x){Wo=Mu=null,B1(u),jm=null,fp=0;var S=u.return;try{if(qee(l,S,u,p,Qt)){lr=1,tv(l,Ha(p,l.current)),Vt=null;return}}catch(_){if(S!==null)throw Vt=S,_;lr=1,tv(l,Ha(p,l.current)),Vt=null;return}u.flags&32768?(Jt||x===1?l=!0:_m||(Qt&536870912)!==0?l=!1:(yc=l=!0,(x===2||x===9||x===3||x===6)&&(x=va.current,x!==null&&x.tag===13&&(x.flags|=16384))),$R(u,l)):hv(u)}function hv(l){var u=l;do{if((u.flags&32768)!==0){$R(u,yc);return}l=u.return;var p=Uee(u.alternate,u,sl);if(p!==null){Vt=p;return}if(u=u.sibling,u!==null){Vt=u;return}Vt=u=l}while(u!==null);lr===0&&(lr=5)}function $R(l,u){do{var p=Vee(l.alternate,l);if(p!==null){p.flags&=32767,Vt=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){Vt=l;return}Vt=l=p}while(l!==null);lr=6,Vt=null}function zR(l,u,p,x,S,_,L,W,te){l.cancelPendingCommit=null;do pv();while(Lr!==0);if((pn&6)!==0)throw Error(s(327));if(u!==null){if(u===l.current)throw Error(s(177));if(_=u.lanes|u.childLanes,_|=p1,Hw(l,p,_,L,W,te),l===Rn&&(Vt=Rn=null,Qt=0),Pm=u,jc=l,al=p,NN=_,SN=S,_R=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,nte(Wl,function(){return VR(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=I.T,I.T=null,S=K.p,K.p=2,L=pn,pn|=4;try{Kee(l,u,p)}finally{pn=L,K.p=S,I.T=x}}Lr=1,qR(),FR(),BR()}}function qR(){if(Lr===1){Lr=0;var l=jc,u=Pm,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=I.T,I.T=null;var x=K.p;K.p=2;var S=pn;pn|=4;try{bR(u,l);var _=zN,L=AM(l.containerInfo),W=_.focusedElem,te=_.selectionRange;if(L!==W&&W&&W.ownerDocument&&CM(W.ownerDocument.documentElement,W)){if(te!==null&&u1(W)){var de=te.start,we=te.end;if(we===void 0&&(we=de),"selectionStart"in W)W.selectionStart=de,W.selectionEnd=Math.min(we,W.value.length);else{var _e=W.ownerDocument||document,fe=_e&&_e.defaultView||window;if(fe.getSelection){var pe=fe.getSelection(),Xe=W.textContent.length,ft=Math.min(te.start,Xe),On=te.end===void 0?ft:Math.min(te.end,Xe);!pe.extend&&ft>On&&(L=On,On=ft,ft=L);var oe=SM(W,ft),ae=SM(W,On);if(oe&&ae&&(pe.rangeCount!==1||pe.anchorNode!==oe.node||pe.anchorOffset!==oe.offset||pe.focusNode!==ae.node||pe.focusOffset!==ae.offset)){var ue=_e.createRange();ue.setStart(oe.node,oe.offset),pe.removeAllRanges(),ft>On?(pe.addRange(ue),pe.extend(ae.node,ae.offset)):(ue.setEnd(ae.node,ae.offset),pe.addRange(ue))}}}}for(_e=[],pe=W;pe=pe.parentNode;)pe.nodeType===1&&_e.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<_e.length;W++){var Ce=_e[W];Ce.element.scrollLeft=Ce.left,Ce.element.scrollTop=Ce.top}}Ev=!!$N,zN=$N=null}finally{pn=S,K.p=x,I.T=p}}l.current=u,Lr=2}}function FR(){if(Lr===2){Lr=0;var l=jc,u=Pm,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=I.T,I.T=null;var x=K.p;K.p=2;var S=pn;pn|=4;try{pR(l,u.alternate,u)}finally{pn=S,K.p=x,I.T=p}}Lr=3}}function BR(){if(Lr===4||Lr===3){Lr=0,as();var l=jc,u=Pm,p=al,x=_R;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Lr=5:(Lr=0,Pm=jc=null,UR(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(bc=null),Jl(p),u=u.stateNode,is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(ji,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=I.T,S=K.p,K.p=2,I.T=null;try{for(var _=l.onRecoverableError,L=0;L<x.length;L++){var W=x[L];_(W.value,{componentStack:W.stack})}}finally{I.T=u,K.p=S}}(al&3)!==0&&pv(),uo(l),S=l.pendingLanes,(p&261930)!==0&&(S&42)!==0?l===CN?Pp++:(Pp=0,CN=l):Pp=0,Op(0)}}function UR(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,dp(u)))}function pv(){return qR(),FR(),BR(),VR()}function VR(){if(Lr!==5)return!1;var l=jc,u=NN;NN=0;var p=Jl(al),x=I.T,S=K.p;try{K.p=32>p?32:p,I.T=null,p=SN,SN=null;var _=jc,L=al;if(Lr=0,Pm=jc=null,al=0,(pn&6)!==0)throw Error(s(331));var W=pn;if(pn|=4,CR(_.current),wR(_,_.current,L,p),pn=W,Op(0,!1),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(ji,_)}catch{}return!0}finally{K.p=S,I.T=x,UR(l,u)}}function KR(l,u,p){u=Ha(p,u),u=rN(l.stateNode,u,2),l=hc(l,u,2),l!==null&&(Zl(l,2),uo(l))}function An(l,u,p){if(l.tag===3)KR(l,l,p);else for(;u!==null;){if(u.tag===3){KR(u,l,p);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(bc===null||!bc.has(x))){l=Ha(p,l),p=H5(2),x=hc(u,p,2),x!==null&&(G5(p,x,u,l),Zl(x,2),uo(x));break}}u=u.return}}function _N(l,u,p){var x=l.pingCache;if(x===null){x=l.pingCache=new Wee;var S=new Set;x.set(u,S)}else S=x.get(u),S===void 0&&(S=new Set,x.set(u,S));S.has(p)||(bN=!0,S.add(p),l=Jee.bind(null,l,u,p),u.then(l,l))}function Jee(l,u,p){var x=l.pingCache;x!==null&&x.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Rn===l&&(Qt&p)===p&&(lr===4||lr===3&&(Qt&62914560)===Qt&&300>er()-cv?(pn&2)===0&&Om(l,0):jN|=p,Tm===Qt&&(Tm=0)),uo(l)}function HR(l,u){u===0&&(u=Xl()),l=Pu(l,u),l!==null&&(Zl(l,u),uo(l))}function ete(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),HR(l,p)}function tte(l,u){var p=0;switch(l.tag){case 31:case 13:var x=l.stateNode,S=l.memoizedState;S!==null&&(p=S.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(s(314))}x!==null&&x.delete(u),HR(l,p)}function nte(l,u){return Ns(l,u)}var gv=null,Mm=null,TN=!1,xv=!1,PN=!1,Nc=0;function uo(l){l!==Mm&&l.next===null&&(Mm===null?gv=Mm=l:Mm=Mm.next=l),xv=!0,TN||(TN=!0,ste())}function Op(l,u){if(!PN&&xv){PN=!0;do for(var p=!1,x=gv;x!==null;){if(l!==0){var S=x.pendingLanes;if(S===0)var _=0;else{var L=x.suspendedLanes,W=x.pingedLanes;_=(1<<31-os(42|l)+1)-1,_&=S&~(L&~W),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(p=!0,QR(x,_))}else _=Qt,_=mu(x,x===Rn?_:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(_&3)===0||Fo(x,_)||(p=!0,QR(x,_));x=x.next}while(p);PN=!1}}function rte(){GR()}function GR(){xv=TN=!1;var l=0;Nc!==0&&hte()&&(l=Nc);for(var u=er(),p=null,x=gv;x!==null;){var S=x.next,_=WR(x,u);_===0?(x.next=null,p===null?gv=S:p.next=S,S===null&&(Mm=p)):(p=x,(l!==0||(_&3)!==0)&&(xv=!0)),x=S}Lr!==0&&Lr!==5||Op(l),Nc!==0&&(Nc=0)}function WR(l,u){for(var p=l.suspendedLanes,x=l.pingedLanes,S=l.expirationTimes,_=l.pendingLanes&-62914561;0<_;){var L=31-os(_),W=1<<L,te=S[L];te===-1?((W&p)===0||(W&x)!==0)&&(S[L]=py(W,u)):te<=u&&(l.expiredLanes|=W),_&=~W}if(u=Rn,p=Qt,p=mu(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,p===0||l===u&&(Cn===2||Cn===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&Jn(x),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||Fo(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(x!==null&&Jn(x),Jl(p)){case 2:case 8:p=Ph;break;case 32:p=Wl;break;case 268435456:p=Zd;break;default:p=Wl}return x=YR.bind(null,l),p=Ns(p,x),l.callbackPriority=u,l.callbackNode=p,u}return x!==null&&x!==null&&Jn(x),l.callbackPriority=2,l.callbackNode=null,2}function YR(l,u){if(Lr!==0&&Lr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(pv()&&l.callbackNode!==p)return null;var x=Qt;return x=mu(l,l===Rn?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(PR(l,x,u),WR(l,er()),l.callbackNode!=null&&l.callbackNode===p?YR.bind(null,l):null)}function QR(l,u){if(pv())return null;PR(l,u,!0)}function ste(){gte(function(){(pn&6)!==0?Ns(du,rte):GR()})}function ON(){if(Nc===0){var l=ym;l===0&&(l=Yl,Yl<<=1,(Yl&261888)===0&&(Yl=256)),Nc=l}return Nc}function XR(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:rm(""+l)}function ZR(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function ate(l,u,p,x,S){if(u==="submit"&&p&&p.stateNode===S){var _=XR((S[Ir]||null).action),L=x.submitter;L&&(u=(u=L[Ir]||null)?XR(u.formAction):L.getAttribute("formAction"),u!==null&&(_=u,L=null));var W=new Su("action","action",null,x,S);l.push({event:W,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Nc!==0){var te=L?ZR(S,L):new FormData(S);X1(p,{pending:!0,data:te,method:S.method,action:_},null,te)}}else typeof _=="function"&&(W.preventDefault(),te=L?ZR(S,L):new FormData(S),X1(p,{pending:!0,data:te,method:S.method,action:_},_,te))},currentTarget:S}]})}}for(var kN=0;kN<h1.length;kN++){var MN=h1[kN],ite=MN.toLowerCase(),ote=MN[0].toUpperCase()+MN.slice(1);Si(ite,"on"+ote)}Si(TM,"onAnimationEnd"),Si(PM,"onAnimationIteration"),Si(OM,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Nee,"onTransitionRun"),Si(See,"onTransitionStart"),Si(Cee,"onTransitionCancel"),Si(kM,"onTransitionEnd"),Bo("onMouseEnter",["mouseout","mouseover"]),Bo("onMouseLeave",["mouseout","mouseover"]),Bo("onPointerEnter",["pointerout","pointerover"]),Bo("onPointerLeave",["pointerout","pointerover"]),ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ao("onBeforeInput",["compositionend","keypress","textInput","paste"]),ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lte=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kp));function JR(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var x=l[p],S=x.event;x=x.listeners;e:{var _=void 0;if(u)for(var L=x.length-1;0<=L;L--){var W=x[L],te=W.instance,de=W.currentTarget;if(W=W.listener,te!==_&&S.isPropagationStopped())break e;_=W,S.currentTarget=de;try{_(S)}catch(we){ky(we)}S.currentTarget=null,_=te}else for(L=0;L<x.length;L++){if(W=x[L],te=W.instance,de=W.currentTarget,W=W.listener,te!==_&&S.isPropagationStopped())break e;_=W,S.currentTarget=de;try{_(S)}catch(we){ky(we)}S.currentTarget=null,_=te}}}}function Kt(l,u){var p=u[tc];p===void 0&&(p=u[tc]=new Set);var x=l+"__bubble";p.has(x)||(eD(u,l,2,!1),p.add(x))}function RN(l,u,p){var x=0;u&&(x|=4),eD(p,l,x,u)}var yv="_reactListening"+Math.random().toString(36).slice(2);function DN(l){if(!l[yv]){l[yv]=!0,Lh.forEach(function(p){p!=="selectionchange"&&(lte.has(p)||RN(p,!1,l),RN(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[yv]||(u[yv]=!0,RN("selectionchange",!1,u))}}function eD(l,u,p,x){switch(TD(u)){case 2:var S=Ite;break;case 8:S=Lte;break;default:S=QN}p=S.bind(null,u,p,l),S=void 0,!Yh||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),x?S!==void 0?l.addEventListener(u,p,{capture:!0,passive:S}):l.addEventListener(u,p,!0):S!==void 0?l.addEventListener(u,p,{passive:S}):l.addEventListener(u,p,!1)}function IN(l,u,p,x,S){var _=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var W=x.stateNode.containerInfo;if(W===S)break;if(L===4)for(L=x.return;L!==null;){var te=L.tag;if((te===3||te===4)&&L.stateNode.containerInfo===S)return;L=L.return}for(;W!==null;){if(L=no(W),L===null)return;if(te=L.tag,te===5||te===6||te===26||te===27){x=_=L;continue e}W=W.parentNode}}x=x.return}ju(function(){var de=_,we=Hh(p),_e=[];e:{var fe=MM.get(l);if(fe!==void 0){var pe=Su,Xe=l;switch(l){case"keypress":if(Nu(p)===0)break e;case"keydown":case"keyup":pe=io;break;case"focusin":Xe="focus",pe=Eu;break;case"focusout":Xe="blur",pe=Eu;break;case"beforeblur":case"afterblur":pe=Eu;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=wy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=t1;break;case TM:case PM:case OM:pe=Qw;break;case kM:pe=r1;break;case"scroll":case"scrollend":pe=Xh;break;case"wheel":pe=sp;break;case"copy":case"cut":case"paste":pe=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=_y;break;case"toggle":case"beforetoggle":pe=a1}var ft=(u&4)!==0,On=!ft&&(l==="scroll"||l==="scrollend"),oe=ft?fe!==null?fe+"Capture":null:fe;ft=[];for(var ae=de,ue;ae!==null;){var Ce=ae;if(ue=Ce.stateNode,Ce=Ce.tag,Ce!==5&&Ce!==26&&Ce!==27||ue===null||oe===null||(Ce=wu(ae,oe),Ce!=null&&ft.push(Mp(ae,Ce,ue))),On)break;ae=ae.return}0<ft.length&&(fe=new pe(fe,Xe,null,p,we),_e.push({event:fe,listeners:ft}))}}if((u&7)===0){e:{if(fe=l==="mouseover"||l==="pointerover",pe=l==="mouseout"||l==="pointerout",fe&&p!==sm&&(Xe=p.relatedTarget||p.fromElement)&&(no(Xe)||Xe[ec]))break e;if((pe||fe)&&(fe=we.window===we?we:(fe=we.ownerDocument)?fe.defaultView||fe.parentWindow:window,pe?(Xe=p.relatedTarget||p.toElement,pe=de,Xe=Xe?no(Xe):null,Xe!==null&&(On=i(Xe),ft=Xe.tag,Xe!==On||ft!==5&&ft!==27&&ft!==6)&&(Xe=null)):(pe=null,Xe=de),pe!==Xe)){if(ft=wy,Ce="onMouseLeave",oe="onMouseEnter",ae="mouse",(l==="pointerout"||l==="pointerover")&&(ft=_y,Ce="onPointerLeave",oe="onPointerEnter",ae="pointer"),On=pe==null?fe:nc(pe),ue=Xe==null?fe:nc(Xe),fe=new ft(Ce,ae+"leave",pe,p,we),fe.target=On,fe.relatedTarget=ue,Ce=null,no(we)===de&&(ft=new ft(oe,ae+"enter",Xe,p,we),ft.target=ue,ft.relatedTarget=On,Ce=ft),On=Ce,pe&&Xe)t:{for(ft=cte,oe=pe,ae=Xe,ue=0,Ce=oe;Ce;Ce=ft(Ce))ue++;Ce=0;for(var lt=ae;lt;lt=ft(lt))Ce++;for(;0<ue-Ce;)oe=ft(oe),ue--;for(;0<Ce-ue;)ae=ft(ae),Ce--;for(;ue--;){if(oe===ae||ae!==null&&oe===ae.alternate){ft=oe;break t}oe=ft(oe),ae=ft(ae)}ft=null}else ft=null;pe!==null&&tD(_e,fe,pe,ft,!1),Xe!==null&&On!==null&&tD(_e,On,Xe,ft,!0)}}e:{if(fe=de?nc(de):window,pe=fe.nodeName&&fe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&fe.type==="file")var cn=yM;else if(gM(fe))if(vM)cn=bee;else{cn=yee;var et=xee}else pe=fe.nodeName,!pe||pe.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&Kh(de.elementType)&&(cn=yM):cn=vee;if(cn&&(cn=cn(l,de))){xM(_e,cn,p,we);break e}et&&et(l,fe,de),l==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&Vh(fe,"number",fe.value)}switch(et=de?nc(de):window,l){case"focusin":(gM(et)||et.contentEditable==="true")&&(um=et,d1=de,lp=null);break;case"focusout":lp=d1=um=null;break;case"mousedown":m1=!0;break;case"contextmenu":case"mouseup":case"dragend":m1=!1,EM(_e,p,we);break;case"selectionchange":if(wee)break;case"keydown":case"keyup":EM(_e,p,we)}var Dt;if(R)e:{switch(l){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else oc?lm(l,p)&&(Xt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Xt="onCompositionStart");Xt&&(_t&&p.locale!=="ko"&&(oc||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&oc&&(Dt=jy()):(Ss=we,Qh="value"in Ss?Ss.value:Ss.textContent,oc=!0)),et=vv(de,Xt),0<et.length&&(Xt=new tp(Xt,l,null,p,we),_e.push({event:Xt,listeners:et}),Dt?Xt.data=Dt:(Dt=cm(p),Dt!==null&&(Xt.data=Dt)))),(Dt=Ye?o1(l,p):hee(l,p))&&(Xt=vv(de,"onBeforeInput"),0<Xt.length&&(et=new tp("onBeforeInput","beforeinput",null,p,we),_e.push({event:et,listeners:Xt}),et.data=Dt)),ate(_e,l,de,p,we)}JR(_e,u)})}function Mp(l,u,p){return{instance:l,listener:u,currentTarget:p}}function vv(l,u){for(var p=u+"Capture",x=[];l!==null;){var S=l,_=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||_===null||(S=wu(l,p),S!=null&&x.unshift(Mp(l,S,_)),S=wu(l,u),S!=null&&x.push(Mp(l,S,_))),l.tag===3)return x;l=l.return}return[]}function cte(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function tD(l,u,p,x,S){for(var _=u._reactName,L=[];p!==null&&p!==x;){var W=p,te=W.alternate,de=W.stateNode;if(W=W.tag,te!==null&&te===x)break;W!==5&&W!==26&&W!==27||de===null||(te=de,S?(de=wu(p,_),de!=null&&L.unshift(Mp(p,de,te))):S||(de=wu(p,_),de!=null&&L.push(Mp(p,de,te)))),p=p.return}L.length!==0&&l.push({event:u,listeners:L})}var ute=/\r\n?/g,dte=/\u0000|\uFFFD/g;function nD(l){return(typeof l=="string"?l:""+l).replace(ute,`
`).replace(dte,"")}function rD(l,u){return u=nD(u),nD(l)===u}function Pn(l,u,p,x,S,_){switch(p){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||cs(l,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&cs(l,""+x);break;case"className":gu(l,"class",x);break;case"tabIndex":gu(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":gu(l,p,x);break;case"style":nm(l,x,_);break;case"data":if(u!=="object"){gu(l,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(p);break}x=rm(""+x),l.setAttribute(p,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(p==="formAction"?(u!=="input"&&Pn(l,u,"name",S.name,S,null),Pn(l,u,"formEncType",S.formEncType,S,null),Pn(l,u,"formMethod",S.formMethod,S,null),Pn(l,u,"formTarget",S.formTarget,S,null)):(Pn(l,u,"encType",S.encType,S,null),Pn(l,u,"method",S.method,S,null),Pn(l,u,"target",S.target,S,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(p);break}x=rm(""+x),l.setAttribute(p,x);break;case"onClick":x!=null&&(l.onclick=Va);break;case"onScroll":x!=null&&Kt("scroll",l);break;case"onScrollEnd":x!=null&&Kt("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(s(61));if(p=x.__html,p!=null){if(S.children!=null)throw Error(s(60));l.innerHTML=p}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}p=rm(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,""+x):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":x===!0?l.setAttribute(p,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,x):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(p,x):l.removeAttribute(p);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(p):l.setAttribute(p,x);break;case"popover":Kt("beforetoggle",l),Kt("toggle",l),pu(l,"popover",x);break;case"xlinkActuate":Ua(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Ua(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Ua(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Ua(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Ua(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Ua(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Ua(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Ua(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Ua(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":pu(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Zt.get(p)||p,pu(l,p,x))}}function LN(l,u,p,x,S,_){switch(p){case"style":nm(l,x,_);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(s(61));if(p=x.__html,p!=null){if(S.children!=null)throw Error(s(60));l.innerHTML=p}}break;case"children":typeof x=="string"?cs(l,x):(typeof x=="number"||typeof x=="bigint")&&cs(l,""+x);break;case"onScroll":x!=null&&Kt("scroll",l);break;case"onScrollEnd":x!=null&&Kt("scrollend",l);break;case"onClick":x!=null&&(l.onclick=Va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$h.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),u=p.slice(2,S?p.length-7:void 0),_=l[Ir]||null,_=_!=null?_[p]:null,typeof _=="function"&&l.removeEventListener(u,_,S),typeof x=="function")){typeof _!="function"&&_!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,x,S);break e}p in l?l[p]=x:x===!0?l.setAttribute(p,""):pu(l,p,x)}}}function fs(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",l),Kt("load",l);var x=!1,S=!1,_;for(_ in p)if(p.hasOwnProperty(_)){var L=p[_];if(L!=null)switch(_){case"src":x=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,u));default:Pn(l,u,_,L,p,null)}}S&&Pn(l,u,"srcSet",p.srcSet,p,null),x&&Pn(l,u,"src",p.src,p,null);return;case"input":Kt("invalid",l);var W=_=L=S=null,te=null,de=null;for(x in p)if(p.hasOwnProperty(x)){var we=p[x];if(we!=null)switch(x){case"name":S=we;break;case"type":L=we;break;case"checked":te=we;break;case"defaultChecked":de=we;break;case"value":_=we;break;case"defaultValue":W=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,u));break;default:Pn(l,u,x,we,p,null)}}vu(l,_,W,te,de,L,S,!1);return;case"select":Kt("invalid",l),x=L=_=null;for(S in p)if(p.hasOwnProperty(S)&&(W=p[S],W!=null))switch(S){case"value":_=W;break;case"defaultValue":L=W;break;case"multiple":x=W;default:Pn(l,u,S,W,p,null)}u=_,p=L,l.multiple=!!x,u!=null?rc(l,!!x,u,!1):p!=null&&rc(l,!!x,p,!0);return;case"textarea":Kt("invalid",l),_=S=x=null;for(L in p)if(p.hasOwnProperty(L)&&(W=p[L],W!=null))switch(L){case"value":x=W;break;case"defaultValue":S=W;break;case"children":_=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(91));break;default:Pn(l,u,L,W,p,null)}ln(l,x,S,_);return;case"option":for(te in p)p.hasOwnProperty(te)&&(x=p[te],x!=null)&&(te==="selected"?l.selected=x&&typeof x!="function"&&typeof x!="symbol":Pn(l,u,te,x,p,null));return;case"dialog":Kt("beforetoggle",l),Kt("toggle",l),Kt("cancel",l),Kt("close",l);break;case"iframe":case"object":Kt("load",l);break;case"video":case"audio":for(x=0;x<kp.length;x++)Kt(kp[x],l);break;case"image":Kt("error",l),Kt("load",l);break;case"details":Kt("toggle",l);break;case"embed":case"source":case"link":Kt("error",l),Kt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in p)if(p.hasOwnProperty(de)&&(x=p[de],x!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,u));default:Pn(l,u,de,x,p,null)}return;default:if(Kh(u)){for(we in p)p.hasOwnProperty(we)&&(x=p[we],x!==void 0&&LN(l,u,we,x,p,void 0));return}}for(W in p)p.hasOwnProperty(W)&&(x=p[W],x!=null&&Pn(l,u,W,x,p,null))}function mte(l,u,p,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,_=null,L=null,W=null,te=null,de=null,we=null;for(pe in p){var _e=p[pe];if(p.hasOwnProperty(pe)&&_e!=null)switch(pe){case"checked":break;case"value":break;case"defaultValue":te=_e;default:x.hasOwnProperty(pe)||Pn(l,u,pe,null,x,_e)}}for(var fe in x){var pe=x[fe];if(_e=p[fe],x.hasOwnProperty(fe)&&(pe!=null||_e!=null))switch(fe){case"type":_=pe;break;case"name":S=pe;break;case"checked":de=pe;break;case"defaultChecked":we=pe;break;case"value":L=pe;break;case"defaultValue":W=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,u));break;default:pe!==_e&&Pn(l,u,fe,pe,x,_e)}}Uh(l,L,W,te,de,we,_,S);return;case"select":pe=L=W=fe=null;for(_ in p)if(te=p[_],p.hasOwnProperty(_)&&te!=null)switch(_){case"value":break;case"multiple":pe=te;default:x.hasOwnProperty(_)||Pn(l,u,_,null,x,te)}for(S in x)if(_=x[S],te=p[S],x.hasOwnProperty(S)&&(_!=null||te!=null))switch(S){case"value":fe=_;break;case"defaultValue":W=_;break;case"multiple":L=_;default:_!==te&&Pn(l,u,S,_,x,te)}u=W,p=L,x=pe,fe!=null?rc(l,!!p,fe,!1):!!x!=!!p&&(u!=null?rc(l,!!p,u,!0):rc(l,!!p,p?[]:"",!1));return;case"textarea":pe=fe=null;for(W in p)if(S=p[W],p.hasOwnProperty(W)&&S!=null&&!x.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Pn(l,u,W,null,x,S)}for(L in x)if(S=x[L],_=p[L],x.hasOwnProperty(L)&&(S!=null||_!=null))switch(L){case"value":fe=S;break;case"defaultValue":pe=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:S!==_&&Pn(l,u,L,S,x,_)}bu(l,fe,pe);return;case"option":for(var Xe in p)fe=p[Xe],p.hasOwnProperty(Xe)&&fe!=null&&!x.hasOwnProperty(Xe)&&(Xe==="selected"?l.selected=!1:Pn(l,u,Xe,null,x,fe));for(te in x)fe=x[te],pe=p[te],x.hasOwnProperty(te)&&fe!==pe&&(fe!=null||pe!=null)&&(te==="selected"?l.selected=fe&&typeof fe!="function"&&typeof fe!="symbol":Pn(l,u,te,fe,x,pe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in p)fe=p[ft],p.hasOwnProperty(ft)&&fe!=null&&!x.hasOwnProperty(ft)&&Pn(l,u,ft,null,x,fe);for(de in x)if(fe=x[de],pe=p[de],x.hasOwnProperty(de)&&fe!==pe&&(fe!=null||pe!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(s(137,u));break;default:Pn(l,u,de,fe,x,pe)}return;default:if(Kh(u)){for(var On in p)fe=p[On],p.hasOwnProperty(On)&&fe!==void 0&&!x.hasOwnProperty(On)&&LN(l,u,On,void 0,x,fe);for(we in x)fe=x[we],pe=p[we],!x.hasOwnProperty(we)||fe===pe||fe===void 0&&pe===void 0||LN(l,u,we,fe,x,pe);return}}for(var oe in p)fe=p[oe],p.hasOwnProperty(oe)&&fe!=null&&!x.hasOwnProperty(oe)&&Pn(l,u,oe,null,x,fe);for(_e in x)fe=x[_e],pe=p[_e],!x.hasOwnProperty(_e)||fe===pe||fe==null&&pe==null||Pn(l,u,_e,fe,x,pe)}function sD(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fte(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,p=performance.getEntriesByType("resource"),x=0;x<p.length;x++){var S=p[x],_=S.transferSize,L=S.initiatorType,W=S.duration;if(_&&W&&sD(L)){for(L=0,W=S.responseEnd,x+=1;x<p.length;x++){var te=p[x],de=te.startTime;if(de>W)break;var we=te.transferSize,_e=te.initiatorType;we&&sD(_e)&&(te=te.responseEnd,L+=we*(te<W?1:(W-de)/(te-de)))}if(--x,u+=8*(_+L)/(S.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var $N=null,zN=null;function bv(l){return l.nodeType===9?l:l.ownerDocument}function aD(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iD(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function qN(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var FN=null;function hte(){var l=window.event;return l&&l.type==="popstate"?l===FN?!1:(FN=l,!0):(FN=null,!1)}var oD=typeof setTimeout=="function"?setTimeout:void 0,pte=typeof clearTimeout=="function"?clearTimeout:void 0,lD=typeof Promise=="function"?Promise:void 0,gte=typeof queueMicrotask=="function"?queueMicrotask:typeof lD<"u"?function(l){return lD.resolve(null).then(l).catch(xte)}:oD;function xte(l){setTimeout(function(){throw l})}function Sc(l){return l==="head"}function cD(l,u){var p=u,x=0;do{var S=p.nextSibling;if(l.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(x===0){l.removeChild(S),Lm(u);return}x--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")x++;else if(p==="html")Rp(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,Rp(p);for(var _=p.firstChild;_;){var L=_.nextSibling,W=_.nodeName;_[to]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&_.rel.toLowerCase()==="stylesheet"||p.removeChild(_),_=L}}else p==="body"&&Rp(l.ownerDocument.body);p=S}while(p);Lm(u)}function uD(l,u){var p=l;l=0;do{var x=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=x}while(p)}function BN(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":BN(p),Ih(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function yte(l,u,p,x){for(;l.nodeType===1;){var S=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[to])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(_=l.getAttribute("rel"),_==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(_!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(_=l.getAttribute("src"),(_!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&_&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var _=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===_)return l}else return l;if(l=Xa(l.nextSibling),l===null)break}return null}function vte(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Xa(l.nextSibling),l===null))return null;return l}function dD(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=Xa(l.nextSibling),l===null))return null;return l}function UN(l){return l.data==="$?"||l.data==="$~"}function VN(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function bte(l,u){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||p.readyState!=="loading")u();else{var x=function(){u(),p.removeEventListener("DOMContentLoaded",x)};p.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function Xa(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var KN=null;function mD(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(u===0)return Xa(l.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}l=l.nextSibling}return null}function fD(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return l;u--}else p!=="/$"&&p!=="/&"||u++}l=l.previousSibling}return null}function hD(l,u,p){switch(u=bv(p),l){case"html":if(l=u.documentElement,!l)throw Error(s(452));return l;case"head":if(l=u.head,!l)throw Error(s(453));return l;case"body":if(l=u.body,!l)throw Error(s(454));return l;default:throw Error(s(451))}}function Rp(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Ih(l)}var Za=new Map,pD=new Set;function jv(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var il=K.d;K.d={f:jte,r:wte,D:Nte,C:Ste,L:Cte,m:Ate,X:_te,S:Ete,M:Tte};function jte(){var l=il.f(),u=mv();return l||u}function wte(l){var u=ro(l);u!==null&&u.tag===5&&u.type==="form"?k5(u):il.r(l)}var Rm=typeof document>"u"?null:document;function gD(l,u,p){var x=Rm;if(x&&typeof u=="string"&&u){var S=ls(u);S='link[rel="'+l+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),pD.has(S)||(pD.add(S),l={rel:l,crossOrigin:p,href:u},x.querySelector(S)===null&&(u=x.createElement("link"),fs(u,"link",l),mr(u),x.head.appendChild(u)))}}function Nte(l){il.D(l),gD("dns-prefetch",l,null)}function Ste(l,u){il.C(l,u),gD("preconnect",l,u)}function Cte(l,u,p){il.L(l,u,p);var x=Rm;if(x&&l&&u){var S='link[rel="preload"][as="'+ls(u)+'"]';u==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+ls(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+ls(p.imageSizes)+'"]')):S+='[href="'+ls(l)+'"]';var _=S;switch(u){case"style":_=Dm(l);break;case"script":_=Im(l)}Za.has(_)||(l=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),Za.set(_,l),x.querySelector(S)!==null||u==="style"&&x.querySelector(Dp(_))||u==="script"&&x.querySelector(Ip(_))||(u=x.createElement("link"),fs(u,"link",l),mr(u),x.head.appendChild(u)))}}function Ate(l,u){il.m(l,u);var p=Rm;if(p&&l){var x=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+ls(x)+'"][href="'+ls(l)+'"]',_=S;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Im(l)}if(!Za.has(_)&&(l=h({rel:"modulepreload",href:l},u),Za.set(_,l),p.querySelector(S)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Ip(_)))return}x=p.createElement("link"),fs(x,"link",l),mr(x),p.head.appendChild(x)}}}function Ete(l,u,p){il.S(l,u,p);var x=Rm;if(x&&l){var S=so(x).hoistableStyles,_=Dm(l);u=u||"default";var L=S.get(_);if(!L){var W={loading:0,preload:null};if(L=x.querySelector(Dp(_)))W.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":u},p),(p=Za.get(_))&&HN(l,p);var te=L=x.createElement("link");mr(te),fs(te,"link",l),te._p=new Promise(function(de,we){te.onload=de,te.onerror=we}),te.addEventListener("load",function(){W.loading|=1}),te.addEventListener("error",function(){W.loading|=2}),W.loading|=4,wv(L,u,x)}L={type:"stylesheet",instance:L,count:1,state:W},S.set(_,L)}}}function _te(l,u){il.X(l,u);var p=Rm;if(p&&l){var x=so(p).hoistableScripts,S=Im(l),_=x.get(S);_||(_=p.querySelector(Ip(S)),_||(l=h({src:l,async:!0},u),(u=Za.get(S))&&GN(l,u),_=p.createElement("script"),mr(_),fs(_,"link",l),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},x.set(S,_))}}function Tte(l,u){il.M(l,u);var p=Rm;if(p&&l){var x=so(p).hoistableScripts,S=Im(l),_=x.get(S);_||(_=p.querySelector(Ip(S)),_||(l=h({src:l,async:!0,type:"module"},u),(u=Za.get(S))&&GN(l,u),_=p.createElement("script"),mr(_),fs(_,"link",l),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},x.set(S,_))}}function xD(l,u,p,x){var S=(S=xe.current)?jv(S):null;if(!S)throw Error(s(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Dm(p.href),p=so(S).hoistableStyles,x=p.get(u),x||(x={type:"style",instance:null,count:0,state:null},p.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=Dm(p.href);var _=so(S).hoistableStyles,L=_.get(l);if(L||(S=S.ownerDocument||S,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(l,L),(_=S.querySelector(Dp(l)))&&!_._p&&(L.instance=_,L.state.loading=5),Za.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Za.set(l,p),_||Pte(S,l,p,L.state))),u&&x===null)throw Error(s(528,""));return L}if(u&&x!==null)throw Error(s(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Im(p),p=so(S).hoistableScripts,x=p.get(u),x||(x={type:"script",instance:null,count:0,state:null},p.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,l))}}function Dm(l){return'href="'+ls(l)+'"'}function Dp(l){return'link[rel="stylesheet"]['+l+"]"}function yD(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function Pte(l,u,p,x){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=l.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),fs(u,"link",p),mr(u),l.head.appendChild(u))}function Im(l){return'[src="'+ls(l)+'"]'}function Ip(l){return"script[async]"+l}function vD(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var x=l.querySelector('style[data-href~="'+ls(p.href)+'"]');if(x)return u.instance=x,mr(x),x;var S=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),mr(x),fs(x,"style",S),wv(x,p.precedence,l),u.instance=x;case"stylesheet":S=Dm(p.href);var _=l.querySelector(Dp(S));if(_)return u.state.loading|=4,u.instance=_,mr(_),_;x=yD(p),(S=Za.get(S))&&HN(x,S),_=(l.ownerDocument||l).createElement("link"),mr(_);var L=_;return L._p=new Promise(function(W,te){L.onload=W,L.onerror=te}),fs(_,"link",x),u.state.loading|=4,wv(_,p.precedence,l),u.instance=_;case"script":return _=Im(p.src),(S=l.querySelector(Ip(_)))?(u.instance=S,mr(S),S):(x=p,(S=Za.get(_))&&(x=h({},p),GN(x,S)),l=l.ownerDocument||l,S=l.createElement("script"),mr(S),fs(S,"link",x),l.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(s(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,wv(x,p.precedence,l));return u.instance}function wv(l,u,p){for(var x=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=x.length?x[x.length-1]:null,_=S,L=0;L<x.length;L++){var W=x[L];if(W.dataset.precedence===u)_=W;else if(_!==S)break}_?_.parentNode.insertBefore(l,_.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function HN(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function GN(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var Nv=null;function bD(l,u,p){if(Nv===null){var x=new Map,S=Nv=new Map;S.set(p,x)}else S=Nv,x=S.get(p),x||(x=new Map,S.set(p,x));if(x.has(l))return x;for(x.set(l,null),p=p.getElementsByTagName(l),S=0;S<p.length;S++){var _=p[S];if(!(_[to]||_[dr]||l==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var L=_.getAttribute(u)||"";L=l+L;var W=x.get(L);W?W.push(_):x.set(L,[_])}}return x}function jD(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function Ote(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(l=u.disabled,typeof u.precedence=="string"&&l==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function wD(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function kte(l,u,p,x){if(p.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=Dm(x.href),_=u.querySelector(Dp(S));if(_){u=_._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Sv.bind(l),u.then(l,l)),p.state.loading|=4,p.instance=_,mr(_);return}_=u.ownerDocument||u,x=yD(x),(S=Za.get(S))&&HN(x,S),_=_.createElement("link"),mr(_);var L=_;L._p=new Promise(function(W,te){L.onload=W,L.onerror=te}),fs(_,"link",x),p.instance=_}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=Sv.bind(l),u.addEventListener("load",p),u.addEventListener("error",p))}}var WN=0;function Mte(l,u){return l.stylesheets&&l.count===0&&Av(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var x=setTimeout(function(){if(l.stylesheets&&Av(l,l.stylesheets),l.unsuspend){var _=l.unsuspend;l.unsuspend=null,_()}},6e4+u);0<l.imgBytes&&WN===0&&(WN=62500*fte());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Av(l,l.stylesheets),l.unsuspend)){var _=l.unsuspend;l.unsuspend=null,_()}},(l.imgBytes>WN?50:800)+u);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(S)}}:null}function Sv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Av(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Cv=null;function Av(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Cv=new Map,u.forEach(Rte,l),Cv=null,Sv.call(l))}function Rte(l,u){if(!(u.state.loading&4)){var p=Cv.get(l);if(p)var x=p.get(null);else{p=new Map,Cv.set(l,p);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<S.length;_++){var L=S[_];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(p.set(L.dataset.precedence,L),x=L)}x&&p.set(null,x)}S=u.instance,L=S.getAttribute("data-precedence"),_=p.get(L)||x,_===x&&p.set(null,S),p.set(L,S),this.count++,x=Sv.bind(this),S.addEventListener("load",x),S.addEventListener("error",x),_?_.parentNode.insertBefore(S,_.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),u.state.loading|=4}}var Lp={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Dte(l,u,p,x,S,_,L,W,te){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jd(0),this.hiddenUpdates=Jd(null),this.identifierPrefix=x,this.onUncaughtError=S,this.onCaughtError=_,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function ND(l,u,p,x,S,_,L,W,te,de,we,_e){return l=new Dte(l,u,p,L,te,de,we,_e,W),u=1,_===!0&&(u|=24),_=ya(3,null,null,u),l.current=_,_.stateNode=l,u=E1(),u.refCount++,l.pooledCache=u,u.refCount++,_.memoizedState={element:x,isDehydrated:p,cache:u},O1(_),l}function SD(l){return l?(l=fm,l):fm}function CD(l,u,p,x,S,_){S=SD(S),x.context===null?x.context=S:x.pendingContext=S,x=fc(u),x.payload={element:p},_=_===void 0?null:_,_!==null&&(x.callback=_),p=hc(l,x,u),p!==null&&(na(p,l,u),pp(p,l,u))}function AD(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function YN(l,u){AD(l,u),(l=l.alternate)&&AD(l,u)}function ED(l){if(l.tag===13||l.tag===31){var u=Pu(l,67108864);u!==null&&na(u,l,67108864),YN(l,67108864)}}function _D(l){if(l.tag===13||l.tag===31){var u=Na();u=em(u);var p=Pu(l,u);p!==null&&na(p,l,u),YN(l,u)}}var Ev=!0;function Ite(l,u,p,x){var S=I.T;I.T=null;var _=K.p;try{K.p=2,QN(l,u,p,x)}finally{K.p=_,I.T=S}}function Lte(l,u,p,x){var S=I.T;I.T=null;var _=K.p;try{K.p=8,QN(l,u,p,x)}finally{K.p=_,I.T=S}}function QN(l,u,p,x){if(Ev){var S=XN(x);if(S===null)IN(l,u,x,_v,p),PD(l,x);else if(zte(S,l,u,p,x))x.stopPropagation();else if(PD(l,x),u&4&&-1<$te.indexOf(l)){for(;S!==null;){var _=ro(S);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var L=ga(_.pendingLanes);if(L!==0){var W=_;for(W.pendingLanes|=2,W.entangledLanes|=2;L;){var te=1<<31-os(L);W.entanglements[1]|=te,L&=~te}uo(_),(pn&6)===0&&(uv=er()+500,Op(0))}}break;case 31:case 13:W=Pu(_,2),W!==null&&na(W,_,2),mv(),YN(_,2)}if(_=XN(x),_===null&&IN(l,u,x,_v,p),_===S)break;S=_}S!==null&&x.stopPropagation()}else IN(l,u,x,null,p)}}function XN(l){return l=Hh(l),ZN(l)}var _v=null;function ZN(l){if(_v=null,l=no(l),l!==null){var u=i(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=o(u),l!==null)return l;l=null}else if(p===31){if(l=c(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return _v=l,null}function TD(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bi()){case du:return 2;case Ph:return 8;case Wl:case dy:return 32;case Zd:return 268435456;default:return 32}default:return 32}}var JN=!1,Cc=null,Ac=null,Ec=null,$p=new Map,zp=new Map,_c=[],$te="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PD(l,u){switch(l){case"focusin":case"focusout":Cc=null;break;case"dragenter":case"dragleave":Ac=null;break;case"mouseover":case"mouseout":Ec=null;break;case"pointerover":case"pointerout":$p.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":zp.delete(u.pointerId)}}function qp(l,u,p,x,S,_){return l===null||l.nativeEvent!==_?(l={blockedOn:u,domEventName:p,eventSystemFlags:x,nativeEvent:_,targetContainers:[S]},u!==null&&(u=ro(u),u!==null&&ED(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function zte(l,u,p,x,S){switch(u){case"focusin":return Cc=qp(Cc,l,u,p,x,S),!0;case"dragenter":return Ac=qp(Ac,l,u,p,x,S),!0;case"mouseover":return Ec=qp(Ec,l,u,p,x,S),!0;case"pointerover":var _=S.pointerId;return $p.set(_,qp($p.get(_)||null,l,u,p,x,S)),!0;case"gotpointercapture":return _=S.pointerId,zp.set(_,qp(zp.get(_)||null,l,u,p,x,S)),!0}return!1}function OD(l){var u=no(l.target);if(u!==null){var p=i(u);if(p!==null){if(u=p.tag,u===13){if(u=o(p),u!==null){l.blockedOn=u,fu(l.priority,function(){_D(p)});return}}else if(u===31){if(u=c(p),u!==null){l.blockedOn=u,fu(l.priority,function(){_D(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Tv(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=XN(l.nativeEvent);if(p===null){p=l.nativeEvent;var x=new p.constructor(p.type,p);sm=x,p.target.dispatchEvent(x),sm=null}else return u=ro(p),u!==null&&ED(u),l.blockedOn=p,!1;u.shift()}return!0}function kD(l,u,p){Tv(l)&&p.delete(u)}function qte(){JN=!1,Cc!==null&&Tv(Cc)&&(Cc=null),Ac!==null&&Tv(Ac)&&(Ac=null),Ec!==null&&Tv(Ec)&&(Ec=null),$p.forEach(kD),zp.forEach(kD)}function Pv(l,u){l.blockedOn===u&&(l.blockedOn=null,JN||(JN=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qte)))}var Ov=null;function MD(l){Ov!==l&&(Ov=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ov===l&&(Ov=null);for(var u=0;u<l.length;u+=3){var p=l[u],x=l[u+1],S=l[u+2];if(typeof x!="function"){if(ZN(x||p)===null)continue;break}var _=ro(p);_!==null&&(l.splice(u,3),u-=3,X1(_,{pending:!0,data:S,method:p.method,action:x},x,S))}}))}function Lm(l){function u(te){return Pv(te,l)}Cc!==null&&Pv(Cc,l),Ac!==null&&Pv(Ac,l),Ec!==null&&Pv(Ec,l),$p.forEach(u),zp.forEach(u);for(var p=0;p<_c.length;p++){var x=_c[p];x.blockedOn===l&&(x.blockedOn=null)}for(;0<_c.length&&(p=_c[0],p.blockedOn===null);)OD(p),p.blockedOn===null&&_c.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(x=0;x<p.length;x+=3){var S=p[x],_=p[x+1],L=S[Ir]||null;if(typeof _=="function")L||MD(p);else if(L){var W=null;if(_&&_.hasAttribute("formAction")){if(S=_,L=_[Ir]||null)W=L.formAction;else if(ZN(S)!==null)continue}else W=L.action;typeof W=="function"?p[x+1]=W:(p.splice(x,3),x-=3),MD(p)}}}function RD(){function l(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(L){return S=L})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),x||setTimeout(p,20)}function p(){if(!x&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function e2(l){this._internalRoot=l}kv.prototype.render=e2.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(s(409));var p=u.current,x=Na();CD(p,x,l,u,null,null)},kv.prototype.unmount=e2.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;CD(l.current,2,null,l,null,null),mv(),u[ec]=null}};function kv(l){this._internalRoot=l}kv.prototype.unstable_scheduleHydration=function(l){if(l){var u=tm();l={blockedOn:null,target:l,priority:u};for(var p=0;p<_c.length&&u!==0&&u<_c[p].priority;p++);_c.splice(p,0,l),p===0&&OD(l)}};var DD=t.version;if(DD!=="19.2.0")throw Error(s(527,DD,"19.2.0"));K.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=m(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var Fte={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mv.isDisabled&&Mv.supportsFiber)try{ji=Mv.inject(Fte),is=Mv}catch{}}return Bp.createRoot=function(l,u){if(!a(l))throw Error(s(299));var p=!1,x="",S=B5,_=U5,L=V5;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError)),u=ND(l,1,!1,null,null,p,x,null,S,_,L,RD),l[ec]=u.current,DN(l),new e2(u)},Bp.hydrateRoot=function(l,u,p){if(!a(l))throw Error(s(299));var x=!1,S="",_=B5,L=U5,W=V5,te=null;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(_=p.onUncaughtError),p.onCaughtError!==void 0&&(L=p.onCaughtError),p.onRecoverableError!==void 0&&(W=p.onRecoverableError),p.formState!==void 0&&(te=p.formState)),u=ND(l,1,!0,u,p??null,x,S,te,_,L,W,RD),u.context=SD(null),p=u.current,x=Na(),x=em(x),S=fc(x),S.callback=null,hc(p,S,x),p=x,u.current.lanes=p,Zl(u,p),uo(u),l[ec]=u.current,DN(l),new kv(u)},Bp.version="19.2.0",Bp}var KD;function Xte(){if(KD)return n2.exports;KD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),n2.exports=Qte(),n2.exports}var Zte=Xte();function Jte(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,s,a,i,o=[],c="",d=e.split("/");for(d[0]||d.shift();a=d.shift();)r=a[0],r==="*"?(o.push(r),c+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~s?s:~i?i:a.length)),c+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(c+=(~s?"?":"")+"\\"+a.substring(i))):c+="/"+a;return{keys:o,pattern:new RegExp("^"+c+(t?"(?=$|/)":"/?$"),"i")}}var v=lh();const J=yn(v),qa=Ute({__proto__:null,default:J},[v]);var o2={exports:{}},l2={};var HD;function ene(){if(HD)return l2;HD=1;var e=lh();function t(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:t,s=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(h,g){var b=g(),w=s({inst:{value:b,getSnapshot:g}}),y=w[0].inst,j=w[1];return i(function(){y.value=b,y.getSnapshot=g,d(y)&&j({inst:y})},[h,b,g]),a(function(){return d(y)&&j({inst:y}),h(function(){d(y)&&j({inst:y})})},[h]),o(b),b}function d(h){var g=h.getSnapshot;h=h.value;try{var b=g();return!r(h,b)}catch{return!0}}function m(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return l2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,l2}var GD;function tne(){return GD||(GD=1,o2.exports=ene()),o2.exports}var n4=tne();const nne=qa.useInsertionEffect,rne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sne=rne?v.useLayoutEffect:v.useEffect,ane=nne||sne,TU=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return ane(()=>{t[0]=e}),t[1]},ine="popstate",r4="pushState",s4="replaceState",one="hashchange",WD=[ine,r4,s4,one],lne=e=>{for(const t of WD)addEventListener(t,e);return()=>{for(const t of WD)removeEventListener(t,e)}},PU=(e,t)=>n4.useSyncExternalStore(lne,e,t),cne=()=>location.search,une=({ssrSearch:e=""}={})=>PU(cne,()=>e),YD=()=>location.pathname,dne=({ssrPath:e}={})=>PU(YD,e?()=>e:YD),mne=(e,{replace:t=!1,state:r=null}={})=>history[t?s4:r4](r,"",e),fne=(e={})=>[dne(e),mne],QD=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[QD]>"u"){for(const e of[r4,s4]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,QD,{value:!0})}const hne=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",OU=(e="")=>e==="/"?"":e,pne=(e,t)=>e[0]==="~"?e.slice(1):OU(t)+e,gne=(e="",t)=>hne(p_(OU(e)),p_(t)),xne=e=>e[0]==="?"?e.slice(1):e,p_=e=>{try{return decodeURI(e)}catch{return e}},yne=e=>p_(xne(e)),kU={hook:fne,searchHook:une,parser:Jte,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},MU=v.createContext(kU),$d=()=>v.useContext(MU),RU={},DU=v.createContext(RU),IU=()=>v.useContext(DU),xj=e=>{const[t,r]=e.hook(e);return[gne(e.base,t),TU((s,a)=>r(pne(s,e.base),a))]},zt=()=>xj($d()),Fx=()=>{const e=$d();return yne(e.searchHook(e))},a4=(e,t,r,s)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),o=a.exec(r)||[],[c,...d]=o;return c!==void 0?[!0,(()=>{const m=i!==!1?Object.fromEntries(i.map((h,g)=>[h,d[g]])):o.groups;let f={...d};return m&&Object.assign(f,m),f})(),...s?[c]:[]]:[!1,null]},LU=e=>a4($d().parser,e,zt()[0]),vne=({children:e,...t})=>{const r=$d(),s=t.hook?kU:r;let a=s;const[i,o]=t.ssrPath?.split("?")??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs;let c=v.useRef({}),d=c.current,m=d;for(let f in s){const h=f==="base"?s[f]+(t[f]||""):t[f]||s[f];d===m&&h!==m[f]&&(c.current=m={...m}),m[f]=h,h!==s[f]&&(a=m)}return v.createElement(MU.Provider,{value:a,children:e})},XD=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,bne=e=>{let t=v.useRef(RU),r=t.current;for(const s in e)e[s]!==r[s]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},ze=({path:e,nest:t,match:r,...s})=>{const a=$d(),[i]=xj(a),[o,c,d]=r??a4(a.parser,e,i,t),m=bne({...IU(),...c});if(!o)return null;const f=d?v.createElement(vne,{base:d},XD(s,m)):XD(s,m);return v.createElement(DU.Provider,{value:m,children:f})},$e=v.forwardRef((e,t)=>{const r=$d(),[s,a]=xj(r),{to:i="",href:o=i,onClick:c,asChild:d,children:m,className:f,replace:h,state:g,...b}=e,w=TU(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(c?.(j),j.defaultPrevented||(j.preventDefault(),a(o,e)))}),y=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return d&&v.isValidElement(m)?v.cloneElement(m,{onClick:w,href:y}):v.createElement("a",{...b,onClick:w,href:y,className:f?.call?f(s===o):f,children:m,ref:t})}),$U=e=>Array.isArray(e)?e.flatMap(t=>$U(t&&t.type===v.Fragment?t.props.children:t)):[e],zU=({children:e,location:t})=>{const r=$d(),[s]=xj(r);for(const a of $U(e)){let i=0;if(v.isValidElement(a)&&(i=a4(r.parser,a.props.path,t||s,a.props.nest))[0])return v.cloneElement(a,{match:i})}return null};var ch=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vd=typeof window>"u"||"Deno"in globalThis;function ai(){}function jne(e,t){return typeof e=="function"?e(t):e}function g_(e){return typeof e=="number"&&e>=0&&e!==1/0}function qU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mf(e,t){return typeof e=="function"?e(t):e}function Ri(e,t){return typeof e=="function"?e(t):e}function ZD(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:i,queryKey:o,stale:c}=e;if(o){if(s){if(t.queryHash!==i4(o,t.options))return!1}else if(!_g(t.queryKey,o))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function JD(e,t){const{exact:r,status:s,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(bd(t.options.mutationKey)!==bd(i))return!1}else if(!_g(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||a&&!a(t))}function i4(e,t){return(t?.queryKeyHashFn||bd)(e)}function bd(e){return JSON.stringify(e,(t,r)=>x_(r)?Object.keys(r).sort().reduce((s,a)=>(s[a]=r[a],s),{}):r)}function _g(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!_g(e[r],t[r])):!1}function FU(e,t){if(e===t)return e;const r=e6(e)&&e6(t);if(r||x_(e)&&x_(t)){const s=r?e:Object.keys(e),a=s.length,i=r?t:Object.keys(t),o=i.length,c=r?[]:{};let d=0;for(let m=0;m<o;m++){const f=r?m:i[m];(!r&&s.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(c[f]=void 0,d++):(c[f]=FU(e[f],t[f]),c[f]===e[f]&&e[f]!==void 0&&d++)}return a===o&&d===a?e:c}return t}function P0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function e6(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function x_(e){if(!t6(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!t6(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function t6(e){return Object.prototype.toString.call(e)==="[object Object]"}function wne(e){return new Promise(t=>{setTimeout(t,e)})}function y_(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?FU(e,t):t}function Nne(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Sne(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var o4=Symbol();function BU(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===o4?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Cne=class extends ch{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!vd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},l4=new Cne,Ane=class extends ch{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!vd&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},O0=new Ane;function v_(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function s(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{s({status:"fulfilled",value:a}),e(a)},r.reject=a=>{s({status:"rejected",reason:a}),t(a)},r}function Ene(e){return Math.min(1e3*2**e,3e4)}function UU(e){return(e??"online")==="online"?O0.isOnline():!0}var VU=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function c2(e){return e instanceof VU}function KU(e){let t=!1,r=0,s=!1,a;const i=v_(),o=y=>{s||(g(new VU(y)),e.abort?.())},c=()=>{t=!0},d=()=>{t=!1},m=()=>l4.isFocused()&&(e.networkMode==="always"||O0.isOnline())&&e.canRun(),f=()=>UU(e.networkMode)&&e.canRun(),h=y=>{s||(s=!0,e.onSuccess?.(y),a?.(),i.resolve(y))},g=y=>{s||(s=!0,e.onError?.(y),a?.(),i.reject(y))},b=()=>new Promise(y=>{a=j=>{(s||m())&&y(j)},e.onPause?.()}).then(()=>{a=void 0,s||e.onContinue?.()}),w=()=>{if(s)return;let y;const j=r===0?e.initialPromise:void 0;try{y=j??e.fn()}catch(N){y=Promise.reject(N)}Promise.resolve(y).then(h).catch(N=>{if(s)return;const C=e.retry??(vd?0:3),E=e.retryDelay??Ene,T=typeof E=="function"?E(r,N):E,A=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,N);if(t||!A){g(N);return}r++,e.onFail?.(r,N),wne(T).then(()=>m()?void 0:b()).then(()=>{t?g(N):w()})})};return{promise:i,cancel:o,continue:()=>(a?.(),i),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?w():b().then(w),i)}}function _ne(){let e=[],t=0,r=c=>{c()},s=c=>{c()},a=c=>setTimeout(c,0);const i=c=>{t?e.push(c):a(()=>{r(c)})},o=()=>{const c=e;e=[],c.length&&a(()=>{s(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||o()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{a=c}}}var Vr=_ne(),HU=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),g_(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vd?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},Tne=class extends HU{#e;#t;#r;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Pne(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=y_(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(ai).catch(ai):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ri(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!qU(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const c=BU(this.options,t),d={queryKey:this.queryKey,meta:this.meta};return s(d),this.#a=!1,this.options.persister?this.options.persister(c,d,this):c(d)},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),this.options.behavior?.onFetch(i,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==i.fetchOptions?.meta)&&this.#s({type:"fetch",meta:i.fetchOptions?.meta});const o=c=>{c2(c)&&c.silent||this.#s({type:"error",error:c}),c2(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=KU({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){o(d);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:o,onFail:(c,d)=>{this.#s({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...GU(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return c2(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Vr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function GU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Pne(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,s=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var One=class extends ch{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const s=t.queryKey,a=t.queryHash??i4(s,t);let i=this.get(a);return i||(i=new Tne({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Vr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>ZD(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>ZD(e,r)):t}notify(e){Vr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Vr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Vr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kne=class extends HU{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||WU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=KU({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,a)=>{this.#n({type:"failed",failureCount:s,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:r})}const s=await this.#r.start();return await this.#t.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#t.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Vr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function WU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mne=class extends ch{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const s=new kne({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){const t=Dv(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=Dv(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(s=>s!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(Dv(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(Dv(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Vr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>JD(t,r))}findAll(e={}){return this.getAll().filter(t=>JD(e,t))}notify(e){Vr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Vr.batch(()=>Promise.all(e.map(t=>t.continue().catch(ai))))}};function Dv(e){return e.options.scope?.id??String(e.mutationId)}function n6(e){return{onFetch:(t,r)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const m=async()=>{let f=!1;const h=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=BU(t.options,t.fetchOptions),b=async(w,y,j)=>{if(f)return Promise.reject();if(y==null&&w.pages.length)return Promise.resolve(w);const N={queryKey:t.queryKey,pageParam:y,direction:j?"backward":"forward",meta:t.options.meta};h(N);const C=await g(N),{maxPages:E}=t.options,T=j?Sne:Nne;return{pages:T(w.pages,C,E),pageParams:T(w.pageParams,y,E)}};if(a&&i.length){const w=a==="backward",y=w?Rne:r6,j={pages:i,pageParams:o},N=y(s,j);c=await b(j,N,w)}else{const w=e??i.length;do{const y=d===0?o[0]??s.initialPageParam:r6(s,c);if(d>0&&y==null)break;c=await b(c,y),d++}while(d<w)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(m,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=m}}}function r6(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function Rne(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Dne=class{#e;#t;#r;#n;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new One,this.#t=e.mutationCache||new Mne,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=l4.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=O0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),s=this.#e.build(this,r);return e.revalidateIfStale&&s.isStaleByTime(mf(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const s=r.data;return[t,s]})}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(s.queryHash)?.state.data,o=jne(t,i);if(o!==void 0)return this.#e.build(this,s).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Vr.batch(()=>this.#e.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Vr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,s={type:"active",...e};return Vr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},s=Vr.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(s).then(ai).catch(ai)}invalidateQueries(e={},t={}){return Vr.batch(()=>{if(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},s=Vr.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ai)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ai)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(mf(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ai).catch(ai)}fetchInfiniteQuery(e){return e.behavior=n6(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ai).catch(ai)}ensureInfiniteQueryData(e){return e.behavior=n6(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return O0.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(bd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let r={};return t.forEach(s=>{_g(e,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(e,t){this.#i.set(bd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let r={};return t.forEach(s=>{_g(e,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=i4(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===o4&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ine=class extends ch{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#s=v_(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#s;#o;#p;#m;#f;#c;#u;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),s6(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return b_(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return b_(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e,t){const r=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ri(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),r._defaulted&&!P0(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&a6(this.#t,s,this.options,r)&&this.#d(),this.updateResult(t),a&&(this.#t!==s||Ri(this.options.enabled,this.#t)!==Ri(r.enabled,this.#t)||mf(this.options.staleTime,this.#t)!==mf(r.staleTime,this.#t))&&this.#g();const i=this.#x();a&&(this.#t!==s||Ri(this.options.enabled,this.#t)!==Ri(r.enabled,this.#t)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return $ne(this,r)&&(this.#n=r,this.#a=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(e,t){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),t?.(s),e[s])})}),r}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ai)),t}#g(){this.#b();const e=mf(this.options.staleTime,this.#t);if(vd||this.#n.isStale||!g_(e))return;const r=qU(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#j(),this.#l=e,!(vd||Ri(this.options.enabled,this.#t)===!1||!g_(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||l4.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#y(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#j(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,s=this.options,a=this.#n,i=this.#i,o=this.#a,d=e!==r?e.state:this.#r,{state:m}=e;let f={...m},h=!1,g;if(t._optimisticResults){const P=this.hasListeners(),O=!P&&s6(e,t),M=P&&a6(e,r,t,s);(O||M)&&(f={...f,...GU(m.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:w,status:y}=f;if(t.select&&f.data!==void 0)if(a&&f.data===i?.data&&t.select===this.#p)g=this.#m;else try{this.#p=t.select,g=t.select(f.data),g=y_(a?.data,g,t),this.#m=g,this.#o=null}catch(P){this.#o=P}else g=f.data;if(t.placeholderData!==void 0&&g===void 0&&y==="pending"){let P;if(a?.isPlaceholderData&&t.placeholderData===o?.placeholderData)P=a.data;else if(P=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,t.select&&P!==void 0)try{P=t.select(P),this.#o=null}catch(O){this.#o=O}P!==void 0&&(y="success",g=y_(a?.data,P,t),h=!0)}this.#o&&(b=this.#o,g=this.#m,w=Date.now(),y="error");const j=f.fetchStatus==="fetching",N=y==="pending",C=y==="error",E=N&&j,T=g!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:N,isSuccess:y==="success",isError:C,isInitialLoading:E,isLoading:E,data:g,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!N,isLoadingError:C&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&T,isStale:c4(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const P=F=>{k.status==="error"?F.reject(k.error):k.data!==void 0&&F.resolve(k.data)},O=()=>{const F=this.#s=k.promise=v_();P(F)},M=this.#s;switch(M.status){case"pending":e.queryHash===r.queryHash&&P(M);break;case"fulfilled":(k.status==="error"||k.data!==M.value)&&O();break;case"rejected":(k.status!=="error"||k.error!==M.reason)&&O();break}}return k}updateResult(e){const t=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#t),P0(r,t))return;this.#n=r;const s={},a=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#h.size)return!0;const c=new Set(o??this.#h);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(d=>{const m=d;return this.#n[m]!==t[m]&&c.has(m)})};e?.listeners!==!1&&a()&&(s.listeners=!0),this.#N({...s,...e})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){Vr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Lne(e,t){return Ri(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function s6(e,t){return Lne(e,t)||e.state.data!==void 0&&b_(e,t,t.refetchOnMount)}function b_(e,t,r){if(Ri(t.enabled,e)!==!1){const s=typeof r=="function"?r(e):r;return s==="always"||s!==!1&&c4(e,t)}return!1}function a6(e,t,r,s){return(e!==t||Ri(s.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&c4(e,r)}function c4(e,t){return Ri(t.enabled,e)!==!1&&e.isStaleByTime(mf(t.staleTime,e))}function $ne(e,t){return!P0(e.getCurrentResult(),t)}var zne=class extends ch{#e;#t=void 0;#r;#n;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),P0(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&bd(r.mutationKey)!==bd(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??WU();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Vr.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,s=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,s),this.#n.onSettled?.(t.data,null,r,s)):t?.type==="error"&&(this.#n.onError?.(t.error,r,s),this.#n.onSettled?.(void 0,t.error,r,s))}this.listeners.forEach(r=>{r(this.#t)})})}},YU=v.createContext(void 0),Wt=e=>{const t=v.useContext(YU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qne=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(YU.Provider,{value:e,children:t})),QU=v.createContext(!1),Fne=()=>v.useContext(QU);QU.Provider;function Bne(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Une=v.createContext(Bne()),Vne=()=>v.useContext(Une);function XU(e,t){return typeof e=="function"?e(...t):!!e}function j_(){}var Kne=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Hne=e=>{v.useEffect(()=>{e.clearReset()},[e])},Gne=({result:e,errorResetBoundary:t,throwOnError:r,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&XU(r,[e.error,s]),Wne=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Yne=(e,t)=>e.isLoading&&e.isFetching&&!t,Qne=(e,t)=>e?.suspense&&t.isPending,i6=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Xne(e,t,r){const s=Wt(),a=Fne(),i=Vne(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=a?"isRestoring":"optimistic",Wne(o),Kne(o,i),Hne(i);const c=!s.getQueryCache().get(o.queryHash),[d]=v.useState(()=>new t(s,o)),m=d.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(f=>{const h=a?j_:d.subscribe(Vr.batchCalls(f));return d.updateResult(),h},[d,a]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),Qne(o,m))throw i6(o,d,i);if(Gne({result:m,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw m.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,m),o.experimental_prefetchInRender&&!vd&&Yne(m,a)&&(c?i6(o,d,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(j_).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?m:d.trackResult(m)}function Pe(e,t){return Xne(e,Ine)}function qe(e,t){const r=Wt(),[s]=v.useState(()=>new zne(r,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const a=v.useSyncExternalStore(v.useCallback(o=>s.subscribe(Vr.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=v.useCallback((o,c)=>{s.mutate(o,c).catch(j_)},[s]);if(a.error&&XU(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var Af;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Af||(Af={}));class u2 extends Error{constructor(t,r,s){super(t),this.message=t,this.code=r,this.data=s}}const Zne=e=>{var t,r;return e?.androidBridge?"android":!((r=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Jne=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},s=r.Plugins=r.Plugins||{},a=()=>t!==null?t.name:Zne(e),i=()=>a()!=="web",o=h=>{const g=m.get(h);return!!(g?.platforms.has(a())||c(h))},c=h=>{var g;return(g=r.PluginHeaders)===null||g===void 0?void 0:g.find(b=>b.name===h)},d=h=>e.console.error(h),m=new Map,f=(h,g={})=>{const b=m.get(h);if(b)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),b.proxy;const w=a(),y=c(h);let j;const N=async()=>(!j&&w in g?j=typeof g[w]=="function"?j=await g[w]():j=g[w]:t!==null&&!j&&"web"in g&&(j=typeof g.web=="function"?j=await g.web():j=g.web),j),C=(O,M)=>{var F,D;if(y){const $=y?.methods.find(V=>M===V.name);if($)return $.rtype==="promise"?V=>r.nativePromise(h,M.toString(),V):(V,z)=>r.nativeCallback(h,M.toString(),V,z);if(O)return(F=O[M])===null||F===void 0?void 0:F.bind(O)}else{if(O)return(D=O[M])===null||D===void 0?void 0:D.bind(O);throw new u2(`"${h}" plugin is not implemented on ${w}`,Af.Unimplemented)}},E=O=>{let M;const F=(...D)=>{const $=N().then(V=>{const z=C(V,O);if(z){const q=z(...D);return M=q?.remove,q}else throw new u2(`"${h}.${O}()" is not implemented on ${w}`,Af.Unimplemented)});return O==="addListener"&&($.remove=async()=>M()),$};return F.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:O,writable:!1,configurable:!1}),F},T=E("addListener"),A=E("removeListener"),k=(O,M)=>{const F=T({eventName:O},M),D=async()=>{const V=await F;A({eventName:O,callbackId:V},M)},$=new Promise(V=>F.then(()=>V({remove:D})));return $.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await D()},$},P=new Proxy({},{get(O,M){switch(M){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?k:T;case"removeListener":return A;default:return E(M)}}});return s[h]=P,m.set(h,{name:h,proxy:P,platforms:new Set([...Object.keys(g),...y?[w]:[]])}),P};return r.convertFileSrc||(r.convertFileSrc=h=>h),r.getPlatform=a,r.handleError=d,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=f,r.Exception=u2,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},ere=e=>e.Capacitor=Jne(e),Hn=ere(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),yj=Hn.registerPlugin;class u4{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let s=!1;this.listeners[t]||(this.listeners[t]=[],s=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,s){const a=this.listeners[t];if(!a){if(s){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(t="not implemented"){return new Hn.Exception(t,Af.Unimplemented)}unavailable(t="not available"){return new Hn.Exception(t,Af.Unavailable)}async removeListener(t,r){const s=this.listeners[t];if(!s)return;const a=s.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(s=>{this.notifyListeners(t,s)}))}}const o6=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),l6=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class tre extends u4{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(s=>{if(s.length<=0)return;let[a,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=l6(a).trim(),i=l6(i).trim(),r[a]=i}),r}async setCookie(t){try{const r=o6(t.key),s=o6(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${s||""}${a}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}yj("CapacitorCookies",{web:()=>new tre});const nre=async e=>new Promise((t,r)=>{const s=new FileReader;s.onload=()=>{const a=s.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>r(a),s.readAsDataURL(e)}),rre=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=e[t[o]],a),{})},sre=(e,t=!0)=>e?Object.entries(e).reduce((s,a)=>{const[i,o]=a;let c,d;return Array.isArray(o)?(d="",o.forEach(m=>{c=t?encodeURIComponent(m):m,d+=`${i}=${c}&`}),d.slice(0,-1)):(c=t?encodeURIComponent(o):o,d=`${i}=${c}`),`${s}&${d}`},"").substr(1):null,are=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=rre(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,c]of Object.entries(e.data||{}))i.set(o,c);r.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((c,d)=>{i.append(d,c)});else for(const c of Object.keys(e.data))i.append(c,e.data[c]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class ire extends u4{async request(t){const r=are(t,t.webFetchExtra),s=sre(t.params,t.shouldEncodeUrlParams),a=s?`${t.url}?${s}`:t.url,i=await fetch(a,r),o=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?t:{};o.includes("application/json")&&(c="json");let d,m;switch(c){case"arraybuffer":case"blob":m=await i.blob(),d=await nre(m);break;case"json":d=await i.json();break;default:d=await i.text()}const f={};return i.headers.forEach((h,g)=>{f[g]=h}),{data:d,headers:f,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}const ore=yj("CapacitorHttp",{web:()=>new ire});var c6;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(c6||(c6={}));var u6;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(u6||(u6={}));class lre extends u4{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}yj("SystemBars",{web:()=>new lre});var ed={};const cre="https://f29eb80f-1e4c-49d0-8b10-34d7cd478318-00-3mr6d0w3piux9.kirk.replit.dev";function ure(){return typeof process<"u"&&ed?!!(ed.REPL_ID||ed.REPLIT_DEV_DOMAIN||ed.REPLIT_INTERNAL_APP_DOMAIN):!1}function d6(){return typeof process<"u"&&ed?!ure():!1}function dre(){const t=typeof process<"u"&&ed?ed.PRODUCTION_API_URL:void 0;if(t){if(d6()&&t.includes("replit"))throw new Error("FATAL: Replit URL detected in PRODUCTION_API_URL on external production host. Set PRODUCTION_API_URL to your production domain (e.g., https://api.koomy.app).");return t}if(d6())throw new Error("FATAL: PRODUCTION_API_URL is required on external production hosts. Set PRODUCTION_API_URL to your production domain (e.g., https://api.koomy.app).");return cre}const ZU=dre(),mre=[/sandbox/i,/-sandbox\./i,/demo-/i,/-dev\./i],fre=[/api\.koomy\.app/i],hre=[/cdn\.koomy\.app/i];function pre(e){return mre.some(t=>t.test(e))}function gre(e){return fre.some(t=>t.test(e))}function xre(e){return hre.some(t=>t.test(e))}function yre(){return{hostname:typeof window<"u"?window.location.hostname:"",apiBaseUrl:"https://api.koomy.app",cdnBaseUrl:"https://cdn.koomy.app"}}function vre(){const{hostname:e,apiBaseUrl:t,cdnBaseUrl:r}=yre(),s=pre(e),a={detected:!1,type:null,message:null,hostname:e,apiBaseUrl:t,cdnBaseUrl:r,isSandbox:s};return s&&gre(t)&&(a.detected=!0,a.type="api",a.message=`Environment mismatch: Sandbox hostname (${e}) is configured to use production API (${t}). This could cause sandbox operations to affect production data.`,console.error("[EnvGuard]",a.message)),s&&xre(r)&&(a.detected||(a.detected=!0,a.type="cdn",a.message=`Environment mismatch: Sandbox hostname (${e}) is configured to use production CDN (${r}).`,console.warn("[EnvGuard]",a.message))),a.detected||console.log(`[EnvGuard] Environment check passed. Hostname: ${e}, API: ${t}, Sandbox: ${s}`),a}let Tg=null,ff=!1,d2=null;const bre=ZU;let Ts={platform:"unknown",isNative:!1,apiBaseUrl:"",wlJsonLoaded:!1,wlJsonContent:null,buildVersion:"17",timestamp:new Date().toISOString(),lastRequest:null,lastResponse:null,lastError:null,requestHistory:[]},m6=!1;function jre(){if(m6)return;m6=!0;const e=Hn.isNativePlatform(),t=Hn.getPlatform(),r="(not set)",s="(not set, using fallback)",i="https://cdn.koomy.app",o="/objects/public/news/sample.jpg",c=ar(o,"boot-test");console.log(""),console.log("                     KOOMY APP BOOT                         "),console.log(""),console.log(` Platform:          ${t.padEnd(42)}`),console.log(` isNative:          ${String(e).padEnd(42)}`),console.log(` VITE_API_BASE_URL: ${r.substring(0,42).padEnd(42)}`),console.log(` VITE_CDN_BASE_URL: ${s.substring(0,42).padEnd(42)}`),console.log(` Effective CDN:     ${i.substring(0,42).padEnd(42)}`),console.log(""),console.log(" Sample URL test:                                             "),console.log(`   Input:  ${o.padEnd(52)}`),console.log(`   Output: ${c.substring(0,52).padEnd(52)}`),console.log("");const d=vre();d.detected&&(console.error(""),console.error("             ENVIRONMENT MISMATCH DETECTED                 "),console.error(""),console.error(` ${(d.message||"Unknown error").substring(0,62).padEnd(62)}`),console.error(""))}function zd(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return`TR-${t}`}function lg(e){Ts={...Ts,...e,timestamp:new Date().toISOString()}}function wre(e){Ts.lastRequest=e,Ts.timestamp=new Date().toISOString(),console.log(`[API TRACE ${e.traceId}]  REQUEST`,{method:e.method,path:e.path,fullUrl:e.fullUrl,headers:e.headers,bodyKeys:e.bodyKeys})}function Nre(e){Ts.lastResponse=e,Ts.timestamp=new Date().toISOString();const t=Ts.requestHistory.find(r=>r.request.traceId===e.traceId);t&&(t.response=e),console.log(`[API TRACE ${e.traceId}]  RESPONSE`,{status:e.status,ok:e.ok,durationMs:e.durationMs,bodySnippet:e.bodySnippet})}function Sre(e){Ts.lastError=e,Ts.timestamp=new Date().toISOString();const t=Ts.requestHistory.find(r=>r.request.traceId===e.traceId);t&&(t.error=e),console.error(`[API TRACE ${e.traceId}]  ERROR`,{message:e.message,code:e.code,stack:e.stack?.substring(0,200)})}function Cre(e){Ts.requestHistory.unshift({request:e}),Ts.requestHistory.length>20&&(Ts.requestHistory=Ts.requestHistory.slice(0,20))}function Iv(){return{...Ts}}function Are(){const e=Ts,t=[`=== KOOMY DIAGNOSTICS v${e.buildVersion} ===`,`Timestamp: ${e.timestamp}`,"","== Platform ==",`Platform: ${e.platform}`,`Is Native: ${e.isNative}`,"","== API Config ==",`wl.json Loaded: ${e.wlJsonLoaded}`,`API Base URL: ${e.apiBaseUrl||"(empty)"}`,"","== wl.json Content ==",e.wlJsonContent?JSON.stringify(e.wlJsonContent,null,2):"(not loaded)",""];return e.lastRequest&&(t.push("== Last Request =="),t.push(`Trace ID: ${e.lastRequest.traceId}`),t.push(`Method: ${e.lastRequest.method}`),t.push(`Full URL: ${e.lastRequest.fullUrl}`),t.push(`Path: ${e.lastRequest.path}`),t.push(`Headers: ${JSON.stringify(e.lastRequest.headers)}`),t.push(`Body Keys: ${e.lastRequest.bodyKeys.join(", ")||"(none)"}`),t.push("")),e.lastResponse&&(t.push("== Last Response =="),t.push(`Trace ID: ${e.lastResponse.traceId}`),t.push(`Status: ${e.lastResponse.status}`),t.push(`OK: ${e.lastResponse.ok}`),t.push(`Duration: ${e.lastResponse.durationMs}ms`),t.push(`Body: ${e.lastResponse.bodySnippet}`),t.push("")),e.lastError&&(t.push("== Last Error =="),t.push(`Trace ID: ${e.lastError.traceId}`),t.push(`Message: ${e.lastError.message}`),t.push(`Code: ${e.lastError.code||"(none)"}`),t.push(`Stack: ${e.lastError.stack?.substring(0,300)||"(none)"}`),t.push("")),t.join(`
`)}async function Ere(){if(ff)return Tg;console.log("[WL] Loading wl.json...");try{const e=await fetch("/wl.json");if(console.log("[WL] wl.json fetch response:",e.status,e.ok),e.ok){const t=await e.json(),r={tenant:t.tenant,apiBaseUrl:t.apiBaseUrl,appName:t.app?.appName||t.appName,brandName:t.brandName,version:t.version};if(lg({wlJsonContent:r}),console.log("[WL]  loaded apiBaseUrl="+t.apiBaseUrl),console.log("[WL] Content:",r),t.apiBaseUrl)return Tg=t.apiBaseUrl,ff=!0,lg({wlJsonLoaded:!0,apiBaseUrl:t.apiBaseUrl}),t.apiBaseUrl;console.warn("[WL]  wl.json found but apiBaseUrl is MISSING!"),lg({wlJsonLoaded:!1})}else console.warn("[WL]  wl.json fetch failed with status:",e.status)}catch(e){console.error("[WL]  Error loading wl.json:",e)}return ff=!0,null}async function cg(){ff||(d2||(d2=Ere().then(()=>{lg({platform:Hn.getPlatform(),isNative:Hn.isNativePlatform(),apiBaseUrl:Lt(),wlJsonLoaded:!0})})),await d2)}function _re(){return ff}function Tre(){const e=Lt();return!!(e&&e.startsWith("http")&&!e.includes("localhost"))}const Lt=()=>{let e="",t="";if(Tg)e=Tg,t="wl.json cache";else if(Hn.isNativePlatform())e=bre,t="DEFAULT_NATIVE_URL (native)";else if(typeof window<"u"){const r=window.location.hostname;(r==="koomy.app"||r.endsWith(".koomy.app"))&&(e="https://api.koomy.app",t=`domain detection (${r})`)}return e||(e="https://api.koomy.app",t="fallback (production default)"),Lt._logged||(console.log(`[API] baseUrl resolved = ${e} (source: ${t})`),Lt._logged=!0),e};Lt._logged=!1;const f6=e=>{Tg=e,ff=!0,lg({apiBaseUrl:e,wlJsonLoaded:!0}),console.log("[API Config] API base URL set to:",e)};function Pre(e,t){const r=e.replace(/\/+$/,""),s=t.startsWith("/")?t:`/${t}`,a=`${r}${s}`;return a.includes("//")&&!a.startsWith("http")&&console.error("[API Config]  Invalid URL detected (double slashes):",a),a}const $m=new Set;function ar(e,t){if(!e)return"";const r=e.trim();if(r.startsWith("http://")||r.startsWith("https://")||["/icons/","/community-logos/","/wl-logo.png","/assets/","/img/","/images/"].some(d=>r.startsWith(d)))return r;const i=r.startsWith("/objects/")||r.startsWith("objects/")||r.startsWith("/public/")||r.startsWith("public/"),o="https://cdn.koomy.app";if(i){let d=r.replace(/^\/?objects\//,"");d=d.replace(/^objects\//,"");const m=d.replace(/^\/+/,""),f=`${o.replace(/\/+$/,"")}/${m}`;return t&&!$m.has(t)&&($m.add(t),console.log(`[resolveImageUrl:${t}] CDN`,{input:r,output:f})),f}const c=Lt();if(c&&i){const d=c.replace(/\/+$/,""),m=r.startsWith("/")?r:`/${r}`,f=`${d}${m}`;return t&&!$m.has(t)&&($m.add(t),console.log(`[resolveImageUrl:${t}] API base`,{input:r,output:f})),f}if(i){const d=ZU.replace(/\/+$/,""),m=r.startsWith("/")?r:`/${r}`,f=`${d}${m}`;return t&&!$m.has(t)&&($m.add(t),console.log(`[resolveImageUrl:${t}] fallback`,{input:r,output:f})),f}return r}const Ore="modulepreload",kre=function(e){return"/"+e},h6={},hf=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){let d=function(m){return Promise.all(m.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");a=d(r.map(m=>{if(m=kre(m),m in h6)return;h6[m]=!0;const f=m.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Ore,f||(g.as="script"),g.crossOrigin="",g.href=m,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((b,w)=>{g.addEventListener("load",b),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},Oa=yj("Preferences",{web:()=>hf(()=>import("./web-D6kcrUx9.js"),[]).then(e=>new e.PreferencesWeb)}),jr=Hn.isNativePlatform(),Mre=Hn.getPlatform();function Gt(e,t){const r=new Date().toISOString().split("T")[1].slice(0,12);console.log(`[STORAGE ${r}] ${e}`,t!==void 0?t:"")}let w_={platform:Mre,isNative:jr,storageType:jr?"preferences":"localStorage",tokenPresent:!1,tokenLength:0,tokenLastSetAt:null,accountId:null,accountPresent:!1,authReady:!1,isAuthenticated:!1,lastMeStatus:null,lastMeTraceId:null,lastMeError:null,lastOperation:"init",lastOperationTime:new Date().toISOString()};function ug(){return{...w_}}function gn(e){w_={...w_,...e,lastOperationTime:new Date().toISOString()},Gt("Diagnostics updated:",e)}const jl="koomy_auth_token",wl="koomy_auth_token_ts",Br="koomy_account",oi="koomy_user",Xr="koomy_current_membership";async function vj(e){const t=new Date().toISOString();Gt("SET AUTH TOKEN",{length:e.length,isNative:jr});try{jr?(await Oa.set({key:jl,value:e}),await Oa.set({key:wl,value:t}),Gt("SET AUTH TOKEN  (Preferences)")):(localStorage.setItem(jl,e),localStorage.setItem(wl,t),Gt("SET AUTH TOKEN  (localStorage)")),gn({tokenPresent:!0,tokenLength:e.length,tokenLastSetAt:t,lastOperation:"setAuthToken"})}catch(r){throw Gt("SET AUTH TOKEN  FAILED",r),r}}async function ld(){Gt("GET AUTH TOKEN",{isNative:jr});try{let e=null,t=null;if(jr){const r=await Oa.get({key:jl}),s=await Oa.get({key:wl});e=r.value,t=s.value,Gt("GET AUTH TOKEN  (Preferences)",{found:!!e,length:e?.length||0})}else e=localStorage.getItem(jl),t=localStorage.getItem(wl),Gt("GET AUTH TOKEN  (localStorage)",{found:!!e,length:e?.length||0});return gn({tokenPresent:!!e,tokenLength:e?.length||0,tokenLastSetAt:t,lastOperation:"getAuthToken"}),e}catch(e){return Gt("GET AUTH TOKEN  FAILED",e),null}}async function ho(e,t){Gt(`SET ${e}`,{length:t.length,isNative:jr});try{if(jr?(await Oa.set({key:e,value:t}),Gt(`SET ${e}  (Preferences)`)):(localStorage.setItem(e,t),Gt(`SET ${e}  (localStorage)`)),e===Br)try{const r=JSON.parse(t);gn({accountPresent:!0,accountId:r.id,lastOperation:`set:${e}`})}catch{gn({accountPresent:!0,lastOperation:`set:${e}`})}else gn({lastOperation:`set:${e}`})}catch(r){throw Gt(`SET ${e}  FAILED`,r),r}}async function cd(e){Gt(`GET ${e}`,{isNative:jr});try{let t=null;if(jr?(t=(await Oa.get({key:e})).value,Gt(`GET ${e}  (Preferences)`,{found:!!t,length:t?.length||0})):(t=localStorage.getItem(e),Gt(`GET ${e}  (localStorage)`,{found:!!t,length:t?.length||0})),e===Br&&t)try{const r=JSON.parse(t);gn({accountPresent:!0,accountId:r.id,lastOperation:`get:${e}`})}catch{gn({lastOperation:`get:${e}`})}else gn({lastOperation:`get:${e}`});return t}catch(t){return Gt(`GET ${e}  FAILED`,t),null}}async function Jm(e){Gt(`REMOVE ${e}`,{isNative:jr});try{jr?(await Oa.remove({key:e}),Gt(`REMOVE ${e}  (Preferences)`)):(localStorage.removeItem(e),Gt(`REMOVE ${e}  (localStorage)`)),gn(e===Br?{accountPresent:!1,accountId:null,lastOperation:`remove:${e}`}:{lastOperation:`remove:${e}`})}catch(t){Gt(`REMOVE ${e}  FAILED`,t)}}async function k0(){Gt("CLEAR ALL AUTH",{isNative:jr});try{jr?(await Oa.remove({key:jl}),await Oa.remove({key:wl}),await Oa.remove({key:Br}),await Oa.remove({key:oi}),await Oa.remove({key:Xr}),Gt("CLEAR ALL AUTH  (Preferences)")):(localStorage.removeItem(jl),localStorage.removeItem(wl),localStorage.removeItem(Br),localStorage.removeItem(oi),localStorage.removeItem(Xr),Gt("CLEAR ALL AUTH  (localStorage)")),gn({tokenPresent:!1,tokenLength:0,tokenLastSetAt:null,accountPresent:!1,accountId:null,isAuthenticated:!1,lastOperation:"clearAllAuth"})}catch(e){Gt("CLEAR ALL AUTH  FAILED",e)}}function h0(e){if(jr)return Gt(`GET_SYNC ${e} - WARNING: sync not available on native, returning null`),null;const t=localStorage.getItem(e);return Gt(`GET_SYNC ${e}`,{found:!!t,length:t?.length||0}),t}function JU(){if(jr)return Gt("GET AUTH TOKEN SYNC - WARNING: sync not available on native, returning null"),null;const e=localStorage.getItem(jl);return Gt("GET AUTH TOKEN SYNC",{found:!!e,length:e?.length||0}),e}function e9(){const e=Math.random().toString(36).substring(2,10);if(jr){Gt(`[${e}] CLEAR ALL AUTH SYNC - WARNING: using async on native`),k0().catch(console.error);return}Gt(`[${e}] [AUTH] Token missing, forcing logout`),localStorage.removeItem(jl),localStorage.removeItem(wl),localStorage.removeItem(Br),localStorage.removeItem(oi),localStorage.removeItem(Xr),Gt(`[${e}] CLEAR ALL AUTH SYNC  (localStorage)`),gn({tokenPresent:!1,tokenLength:0,tokenLastSetAt:null,accountPresent:!1,accountId:null,isAuthenticated:!1,lastOperation:"clearAllAuthSync"})}function Yu(e,t){if(jr){Gt(`SET_SYNC ${e} - WARNING: sync not available on native, using async`),ho(e,t).catch(console.error);return}localStorage.setItem(e,t),Gt(`SET_SYNC ${e}`,{length:t.length})}function Oc(e){if(jr){Gt(`REMOVE_SYNC ${e} - WARNING: sync not available on native, using async`),Jm(e).catch(console.error);return}localStorage.removeItem(e),Gt(`REMOVE_SYNC ${e}`)}async function Rre(){Gt("DUMP AUTH STATE",{isNative:jr});const[e,t,r,s,a]=await Promise.all([ld(),jr?Oa.get({key:wl}).then(i=>i.value):Promise.resolve(localStorage.getItem(wl)),cd(Br),cd(oi),cd(Xr)]);return{token:e,tokenTimestamp:t,account:r?JSON.parse(r):null,user:s?JSON.parse(s):null,membership:a?JSON.parse(a):null}}const p0=Object.freeze(Object.defineProperty({__proto__:null,ACCOUNT_KEY:Br,AUTH_TOKEN_KEY:jl,MEMBERSHIP_KEY:Xr,USER_KEY:oi,clearAllAuth:k0,clearAllAuthSync:e9,dumpAuthState:Rre,getAuthToken:ld,getAuthTokenSync:JU,getItem:cd,getItemSync:h0,getStorageDiagnostics:ug,removeItem:Jm,removeItemSync:Oc,setAuthToken:vj,setItem:ho,setItemSync:Yu,updateDiagnostics:gn},Symbol.toStringTag,{value:"Module"}));async function Qi(e,t={}){const r=Hn.getPlatform(),s=Hn.isNativePlatform(),a=t.traceId||zd(),i=Date.now();s&&!t.skipConfigCheck&&!_re()&&(console.log(`[TRACE ${a}]  Waiting for API config to load...`),await cg(),console.log(`[TRACE ${a}]  API config loaded, proceeding`));const o=Lt(),c=Pre(o,e),d=t.method||"GET",m={"Content-Type":"application/json","X-Trace-Id":a,"X-Platform":r,"X-Is-Native":String(s),...s&&d==="GET"?{"Cache-Control":"no-cache"}:{},...t.headers},f={traceId:a,timestamp:new Date().toISOString(),method:d,path:e,fullUrl:c,headers:{...m},bodyKeys:t.body?Object.keys(t.body):[]};wre(f),Cre(f);try{let h,g,b="";if(s){console.log(`[TRACE ${a}]  Using CapacitorHttp`);const N={url:c,method:d,headers:m,data:t.body,readTimeout:3e4,connectTimeout:3e4},C=await ore.request(N);g=C.status,h=C.data,b=typeof C.data=="string"?C.data.substring(0,200):JSON.stringify(C.data).substring(0,200)}else{console.log(`[TRACE ${a}]  Using fetch`);const N=await fetch(c,{method:d,headers:m,body:t.body?JSON.stringify(t.body):void 0,credentials:"include"});g=N.status,g===304?(h={},b="(304 Not Modified - no body)"):(h=await N.json().catch(()=>({})),b=JSON.stringify(h).substring(0,200))}const w=Date.now()-i,y=g>=200&&g<300||g===304,j={traceId:a,timestamp:new Date().toISOString(),status:g,durationMs:w,bodySnippet:b,ok:y};return Nre(j),g===404&&console.error(`[TRACE ${a}]  404 NOT FOUND`,{fullUrl:c,baseUrl:o,path:e,platform:r}),{ok:y,status:g,data:h,traceId:a,durationMs:w}}catch(h){const g=Date.now()-i,b={traceId:a,timestamp:new Date().toISOString(),message:h?.message||"Unknown error",stack:h?.stack,code:h?.code};return Sre(b),{ok:!1,status:0,data:{error:h?.message||"Network error",traceId:a},traceId:a,durationMs:g}}}async function Dre(){const e=await Qi("/api/health",{skipConfigCheck:!1});return{ok:e.ok,status:e.status,message:e.ok?`Server OK (${e.durationMs}ms)`:`Server returned ${e.status}`,traceId:e.traceId,durationMs:e.durationMs}}async function Ire(e){return Qi("/api/debug/echo",{method:"POST",body:e,skipConfigCheck:!1})}async function ia(e,t){return Qi(e,{method:"GET",headers:t})}async function da(e,t,r){return Qi(e,{method:"POST",body:t,headers:r})}async function Lre(e,t,r){return Qi(e,{method:"PATCH",body:t,headers:r})}async function Bx(){const e=await ld();if(e)return console.log("[AUTH] Including auth header (token length:",e.length,")"),{headers:{Authorization:`Bearer ${e}`},token:e};const t=zd();return console.error(`[AUTH] [${t}] No token available - blocking request`),null}function Ux(e){return{ok:!1,status:401,data:{error:"Session expire, reconnectez-vous",authMissing:!0,traceId:e},traceId:e,durationMs:0}}async function wo(e,t){const r=zd(),s=await Bx();return s?Qi(e,{method:"GET",headers:{...s.headers,...t},traceId:r}):Ux(r)}async function kr(e,t,r){const s=zd(),a=await Bx();return a?Qi(e,{method:"POST",body:t,headers:{...a.headers,...r},traceId:s}):Ux(s)}async function Vx(e,t,r){const s=zd(),a=await Bx();return a?Qi(e,{method:"PUT",body:t,headers:{...a.headers,...r},traceId:s}):Ux(s)}async function Ps(e,t,r){const s=zd(),a=await Bx();return a?Qi(e,{method:"PATCH",body:t,headers:{...a.headers,...r},traceId:s}):Ux(s)}async function qd(e,t){const r=zd(),s=await Bx();return s?Qi(e,{method:"DELETE",headers:{...s.headers,...t},traceId:r}):Ux(r)}function $re(e){return async({queryKey:t})=>{const r=t.join("/"),s=await Qi(r,{method:"GET"});if(!s.ok){const a=typeof s.data=="object"&&s.data!==null&&"error"in s.data?s.data.error:`Request failed with status ${s.status}`;throw new Error(`${s.status}: ${a}`)}return s.data}}const zre=new Dne({defaultOptions:{queries:{queryFn:$re(),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),qre=1,Fre=1e6;let m2=0;function Bre(){return m2=(m2+1)%Number.MAX_SAFE_INTEGER,m2.toString()}const f2=new Map,p6=e=>{if(f2.has(e))return;const t=setTimeout(()=>{f2.delete(e),dg({type:"REMOVE_TOAST",toastId:e})},Fre);f2.set(e,t)},Ure=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qre)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?p6(r):e.toasts.forEach(s=>{p6(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},g0=[];let x0={toasts:[]};function dg(e){x0=Ure(x0,e),g0.forEach(t=>{t(x0)})}function Ut({...e}){const t=Bre(),r=a=>dg({type:"UPDATE_TOAST",toast:{...a,id:t}}),s=()=>dg({type:"DISMISS_TOAST",toastId:t});return dg({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||s()}}}),{id:t,dismiss:s,update:r}}function Vre(){const[e,t]=v.useState(x0);return v.useEffect(()=>(g0.push(t),()=>{const r=g0.indexOf(t);r>-1&&g0.splice(r,1)}),[e]),{...e,toast:Ut,dismiss:r=>dg({type:"DISMISS_TOAST",toastId:r})}}var Fd=_U();const t9=yn(Fd);function ka(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function g6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ro(...e){return t=>{let r=!1;const s=e.map(a=>{const i=g6(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():g6(e[a],null)}}}}function xt(...e){return v.useCallback(Ro(...e),e)}function Kre(e,t){const r=v.createContext(t),s=i=>{const{children:o,...c}=i,d=v.useMemo(()=>c,Object.values(c));return n.jsx(r.Provider,{value:d,children:o})};s.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[s,a]}function ts(e,t=[]){let r=[];function s(i,o){const c=v.createContext(o),d=r.length;r=[...r,o];const m=h=>{const{scope:g,children:b,...w}=h,y=g?.[e]?.[d]||c,j=v.useMemo(()=>w,Object.values(w));return n.jsx(y.Provider,{value:j,children:b})};m.displayName=i+"Provider";function f(h,g){const b=g?.[e]?.[d]||c,w=v.useContext(b);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[m,f]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(c){const d=c?.[e]||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[s,Hre(a,...t)]}function Hre(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((c,{useScope:d,scopeName:m})=>{const h=d(i)[`__scope${m}`];return{...c,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function N_(e){const t=Gre(e),r=v.forwardRef((s,a)=>{const{children:i,...o}=s,c=v.Children.toArray(i),d=c.find(Yre);if(d){const m=d.props.children,f=c.map(h=>h===d?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:h);return n.jsx(t,{...o,ref:a,children:v.isValidElement(m)?v.cloneElement(m,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Gre(e){const t=v.forwardRef((r,s)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=Xre(a),c=Qre(i,a.props);return a.type!==v.Fragment&&(c.ref=s?Ro(s,o):o),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wre=Symbol("radix.slottable");function Yre(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wre}function Qre(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...c)=>{i(...c),a(...c)}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Xre(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zre(e){const t=e+"CollectionProvider",[r,s]=ts(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:j,children:N}=y,C=J.useRef(null),E=J.useRef(new Map).current;return n.jsx(a,{scope:j,itemMap:E,collectionRef:C,children:N})};o.displayName=t;const c=e+"CollectionSlot",d=N_(c),m=J.forwardRef((y,j)=>{const{scope:N,children:C}=y,E=i(c,N),T=xt(j,E.collectionRef);return n.jsx(d,{ref:T,children:C})});m.displayName=c;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=N_(f),b=J.forwardRef((y,j)=>{const{scope:N,children:C,...E}=y,T=J.useRef(null),A=xt(j,T),k=i(f,N);return J.useEffect(()=>(k.itemMap.set(T,{ref:T,...E}),()=>{k.itemMap.delete(T)})),n.jsx(g,{[h]:"",ref:A,children:C})});b.displayName=f;function w(y){const j=i(e+"CollectionConsumer",y);return J.useCallback(()=>{const C=j.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((k,P)=>E.indexOf(k.ref.current)-E.indexOf(P.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:m,ItemSlot:b},w,s]}var Jre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Do=Jre.reduce((e,t)=>{const r=N_(`Primitive.${t}`),s=v.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function n9(e,t){e&&Fd.flushSync(()=>e.dispatchEvent(t))}function qn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>t.current?.(...r),[])}function r9(e,t=globalThis?.document){const r=qn(e);v.useEffect(()=>{const s=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var ese="DismissableLayer",S_="dismissableLayer.update",tse="dismissableLayer.pointerDownOutside",nse="dismissableLayer.focusOutside",x6,s9=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),a9=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,m=v.useContext(s9),[f,h]=v.useState(null),g=f?.ownerDocument??globalThis?.document,[,b]=v.useState({}),w=xt(t,P=>h(P)),y=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(j),C=f?y.indexOf(f):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,T=C>=N,A=sse(P=>{const O=P.target,M=[...m.branches].some(F=>F.contains(O));!T||M||(a?.(P),o?.(P),P.defaultPrevented||c?.())},g),k=ase(P=>{const O=P.target;[...m.branches].some(F=>F.contains(O))||(i?.(P),o?.(P),P.defaultPrevented||c?.())},g);return r9(P=>{C===m.layers.size-1&&(s?.(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},g),v.useEffect(()=>{if(f)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(x6=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(f)),m.layers.add(f),y6(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=x6)}},[f,g,r,m]),v.useEffect(()=>()=>{f&&(m.layers.delete(f),m.layersWithOutsidePointerEventsDisabled.delete(f),y6())},[f,m]),v.useEffect(()=>{const P=()=>b({});return document.addEventListener(S_,P),()=>document.removeEventListener(S_,P)},[]),n.jsx(Do.div,{...d,ref:w,style:{pointerEvents:E?T?"auto":"none":void 0,...e.style},onFocusCapture:ka(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ka(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ka(e.onPointerDownCapture,A.onPointerDownCapture)})});a9.displayName=ese;var rse="DismissableLayerBranch",i9=v.forwardRef((e,t)=>{const r=v.useContext(s9),s=v.useRef(null),a=xt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(Do.div,{...e,ref:a})});i9.displayName=rse;function sse(e,t=globalThis?.document){const r=qn(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!s.current){let d=function(){o9(tse,r,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function ase(e,t=globalThis?.document){const r=qn(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&o9(nse,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function y6(){const e=new CustomEvent(S_);document.dispatchEvent(e)}function o9(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?n9(a,i):a.dispatchEvent(i)}var ise=a9,ose=i9,an=globalThis?.document?v.useLayoutEffect:()=>{},lse="Portal",l9=v.forwardRef((e,t)=>{const{container:r,...s}=e,[a,i]=v.useState(!1);an(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?t9.createPortal(n.jsx(Do.div,{...s,ref:t}),o):null});l9.displayName=lse;function cse(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var c9=e=>{const{present:t,children:r}=e,s=use(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=xt(s.ref,dse(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};c9.displayName="Presence";function use(e){const[t,r]=v.useState(),s=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,d]=cse(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=Lv(s.current);i.current=c==="mounted"?m:"none"},[c]),an(()=>{const m=s.current,f=a.current;if(f!==e){const g=i.current,b=Lv(m);e?d("MOUNT"):b==="none"||m?.display==="none"?d("UNMOUNT"):d(f&&g!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),an(()=>{if(t){let m;const f=t.ownerDocument.defaultView??window,h=b=>{const y=Lv(s.current).includes(b.animationName);if(b.target===t&&y&&(d("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",m=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},g=b=>{b.target===t&&(i.current=Lv(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(m),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(m=>{m&&(s.current=getComputedStyle(m)),r(m)},[])}}function Lv(e){return e?.animationName||"none"}function dse(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function mse({prop:e,defaultProp:t,onChange:r=()=>{}}){const[s,a]=fse({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:s,c=qn(r),d=v.useCallback(m=>{if(i){const h=typeof m=="function"?m(e):m;h!==e&&c(h)}else a(m)},[i,e,a,c]);return[o,d]}function fse({defaultProp:e,onChange:t}){const r=v.useState(e),[s]=r,a=v.useRef(s),i=qn(t);return v.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),r}var hse="VisuallyHidden",d4=v.forwardRef((e,t)=>n.jsx(Do.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));d4.displayName=hse;var m4="ToastProvider",[f4,pse,gse]=Zre("Toast"),[u9]=ts("Toast",[gse]),[xse,bj]=u9(m4),d9=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[c,d]=v.useState(null),[m,f]=v.useState(0),h=v.useRef(!1),g=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${m4}\`. Expected non-empty \`string\`.`),n.jsx(f4.Provider,{scope:t,children:n.jsx(xse,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:i,toastCount:m,viewport:c,onViewportChange:d,onToastAdd:v.useCallback(()=>f(b=>b+1),[]),onToastRemove:v.useCallback(()=>f(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:g,children:o})})};d9.displayName=m4;var m9="ToastViewport",yse=["F8"],C_="toast.viewportPause",A_="toast.viewportResume",f9=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:s=yse,label:a="Notifications ({hotkey})",...i}=e,o=bj(m9,r),c=pse(r),d=v.useRef(null),m=v.useRef(null),f=v.useRef(null),h=v.useRef(null),g=xt(t,h,o.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;v.useEffect(()=>{const j=N=>{s.length!==0&&s.every(E=>N[E]||N.code===E)&&h.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),v.useEffect(()=>{const j=d.current,N=h.current;if(w&&j&&N){const C=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(C_);N.dispatchEvent(k),o.isClosePausedRef.current=!0}},E=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(A_);N.dispatchEvent(k),o.isClosePausedRef.current=!1}},T=k=>{!j.contains(k.relatedTarget)&&E()},A=()=>{j.contains(document.activeElement)||E()};return j.addEventListener("focusin",C),j.addEventListener("focusout",T),j.addEventListener("pointermove",C),j.addEventListener("pointerleave",A),window.addEventListener("blur",C),window.addEventListener("focus",E),()=>{j.removeEventListener("focusin",C),j.removeEventListener("focusout",T),j.removeEventListener("pointermove",C),j.removeEventListener("pointerleave",A),window.removeEventListener("blur",C),window.removeEventListener("focus",E)}}},[w,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:j})=>{const C=c().map(E=>{const T=E.ref.current,A=[T,...Ose(T)];return j==="forwards"?A:A.reverse()});return(j==="forwards"?C.reverse():C).flat()},[c]);return v.useEffect(()=>{const j=h.current;if(j){const N=C=>{const E=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!E){const A=document.activeElement,k=C.shiftKey;if(C.target===j&&k){m.current?.focus();return}const M=y({tabbingDirection:k?"backwards":"forwards"}),F=M.findIndex(D=>D===A);h2(M.slice(F+1))?C.preventDefault():k?m.current?.focus():f.current?.focus()}};return j.addEventListener("keydown",N),()=>j.removeEventListener("keydown",N)}},[c,y]),n.jsxs(ose,{ref:d,role:"region","aria-label":a.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&n.jsx(E_,{ref:m,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"forwards"});h2(j)}}),n.jsx(f4.Slot,{scope:r,children:n.jsx(Do.ol,{tabIndex:-1,...i,ref:g})}),w&&n.jsx(E_,{ref:f,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"backwards"});h2(j)}})]})});f9.displayName=m9;var h9="ToastFocusProxy",E_=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,i=bj(h9,r);return n.jsx(d4,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{const c=o.relatedTarget;!i.viewport?.contains(c)&&s()}})});E_.displayName=h9;var jj="Toast",vse="toast.swipeStart",bse="toast.swipeMove",jse="toast.swipeCancel",wse="toast.swipeEnd",p9=v.forwardRef((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:i,...o}=e,[c=!0,d]=mse({prop:s,defaultProp:a,onChange:i});return n.jsx(c9,{present:r||c,children:n.jsx(Cse,{open:c,...o,ref:t,onClose:()=>d(!1),onPause:qn(e.onPause),onResume:qn(e.onResume),onSwipeStart:ka(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ka(e.onSwipeMove,m=>{const{x:f,y:h}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ka(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ka(e.onSwipeEnd,m=>{const{x:f,y:h}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),d(!1)})})})});p9.displayName=jj;var[Nse,Sse]=u9(jj,{onClose(){}}),Cse=v.forwardRef((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:c,onPause:d,onResume:m,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:b,...w}=e,y=bj(jj,r),[j,N]=v.useState(null),C=xt(t,z=>N(z)),E=v.useRef(null),T=v.useRef(null),A=a||y.duration,k=v.useRef(0),P=v.useRef(A),O=v.useRef(0),{onToastAdd:M,onToastRemove:F}=y,D=qn(()=>{j?.contains(document.activeElement)&&y.viewport?.focus(),o()}),$=v.useCallback(z=>{!z||z===1/0||(window.clearTimeout(O.current),k.current=new Date().getTime(),O.current=window.setTimeout(D,z))},[D]);v.useEffect(()=>{const z=y.viewport;if(z){const q=()=>{$(P.current),m?.()},I=()=>{const K=new Date().getTime()-k.current;P.current=P.current-K,window.clearTimeout(O.current),d?.()};return z.addEventListener(C_,I),z.addEventListener(A_,q),()=>{z.removeEventListener(C_,I),z.removeEventListener(A_,q)}}},[y.viewport,A,d,m,$]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&$(A)},[i,A,y.isClosePausedRef,$]),v.useEffect(()=>(M(),()=>F()),[M,F]);const V=v.useMemo(()=>j?w9(j):null,[j]);return y.viewport?n.jsxs(n.Fragment,{children:[V&&n.jsx(Ase,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),n.jsx(Nse,{scope:r,onClose:D,children:Fd.createPortal(n.jsx(f4.ItemSlot,{scope:r,children:n.jsx(ise,{asChild:!0,onEscapeKeyDown:ka(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Do.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ka(e.onKeyDown,z=>{z.key==="Escape"&&(c?.(z.nativeEvent),z.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ka(e.onPointerDown,z=>{z.button===0&&(E.current={x:z.clientX,y:z.clientY})}),onPointerMove:ka(e.onPointerMove,z=>{if(!E.current)return;const q=z.clientX-E.current.x,I=z.clientY-E.current.y,K=!!T.current,U=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ie=U?B(0,q):0,G=U?0:B(0,I),Y=z.pointerType==="touch"?10:2,se={x:ie,y:G},he={originalEvent:z,delta:se};K?(T.current=se,$v(bse,h,he,{discrete:!1})):v6(se,y.swipeDirection,Y)?(T.current=se,$v(vse,f,he,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(q)>Y||Math.abs(I)>Y)&&(E.current=null)}),onPointerUp:ka(e.onPointerUp,z=>{const q=T.current,I=z.target;if(I.hasPointerCapture(z.pointerId)&&I.releasePointerCapture(z.pointerId),T.current=null,E.current=null,q){const K=z.currentTarget,U={originalEvent:z,delta:q};v6(q,y.swipeDirection,y.swipeThreshold)?$v(wse,b,U,{discrete:!0}):$v(jse,g,U,{discrete:!0}),K.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Ase=e=>{const{__scopeToast:t,children:r,...s}=e,a=bj(jj,t),[i,o]=v.useState(!1),[c,d]=v.useState(!1);return Tse(()=>o(!0)),v.useEffect(()=>{const m=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(m)},[]),c?null:n.jsx(l9,{asChild:!0,children:n.jsx(d4,{...s,children:i&&n.jsxs(n.Fragment,{children:[a.label," ",r]})})})},Ese="ToastTitle",g9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Do.div,{...s,ref:t})});g9.displayName=Ese;var _se="ToastDescription",x9=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e;return n.jsx(Do.div,{...s,ref:t})});x9.displayName=_se;var y9="ToastAction",v9=v.forwardRef((e,t)=>{const{altText:r,...s}=e;return r.trim()?n.jsx(j9,{altText:r,asChild:!0,children:n.jsx(h4,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${y9}\`. Expected non-empty \`string\`.`),null)});v9.displayName=y9;var b9="ToastClose",h4=v.forwardRef((e,t)=>{const{__scopeToast:r,...s}=e,a=Sse(b9,r);return n.jsx(j9,{asChild:!0,children:n.jsx(Do.button,{type:"button",...s,ref:t,onClick:ka(e.onClick,a.onClose)})})});h4.displayName=b9;var j9=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return n.jsx(Do.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})});function w9(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Pse(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=s.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...w9(s))}}),t}function $v(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?n9(a,i):a.dispatchEvent(i)}var v6=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),i=s>a;return t==="left"||t==="right"?i&&s>r:!i&&a>r};function Tse(e=()=>{}){const t=qn(e);an(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[t])}function Pse(e){return e.nodeType===e.ELEMENT_NODE}function Ose(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function h2(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var kse=d9,N9=f9,S9=p9,C9=g9,A9=x9,E9=v9,_9=h4;function T9(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=T9(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Et(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=T9(e))&&(s&&(s+=" "),s+=t);return s}const b6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,j6=Et,wj=(e,t)=>r=>{var s;if(t?.variants==null)return j6(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(m=>{const f=r?.[m],h=i?.[m];if(f===null)return null;const g=b6(f)||b6(h);return a[m][g]}),c=r&&Object.entries(r).reduce((m,f)=>{let[h,g]=f;return g===void 0||(m[h]=g),m},{}),d=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((m,f)=>{let{class:h,className:g,...b}=f;return Object.entries(b).every(w=>{let[y,j]=w;return Array.isArray(j)?j.includes({...i,...c}[y]):{...i,...c}[y]===j})?[...m,h,g]:m},[]);return j6(e,o,d,r?.class,r?.className)};const Mse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rse=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),w6=e=>{const t=Rse(e);return t.charAt(0).toUpperCase()+t.slice(1)},P9=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim(),Dse=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Ise={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Lse=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...c},d)=>v.createElement("svg",{ref:d,...Ise,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:P9("lucide",a),...!i&&!Dse(c)&&{"aria-hidden":"true"},...c},[...o.map(([m,f])=>v.createElement(m,f)),...Array.isArray(i)?i:[i]]));const ye=(e,t)=>{const r=v.forwardRef(({className:s,...a},i)=>v.createElement(Lse,{ref:i,iconNode:t,className:P9(`lucide-${Mse(w6(e))}`,`lucide-${e}`,s),...a}));return r.displayName=w6(e),r};const $se=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Uu=ye("activity",$se);const zse=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],O9=ye("arrow-down-right",zse);const qse=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bn=ye("arrow-left",qse);const Fse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],En=ye("arrow-right",Fse);const Bse=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],k9=ye("arrow-up-right",Bse);const Use=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vse=ye("ban",Use);const Kse=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],__=ye("banknote",Kse);const Hse=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gse=ye("bell",Hse);const Wse=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Yse=ye("bold",Wse);const Qse=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xse=ye("book-open",Qse);const Zse=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],p2=ye("bot",Zse);const Jse=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],eae=ye("briefcase",Jse);const tae=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],nae=ye("bug",tae);const rae=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ys=ye("building-2",rae);const sae=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],aae=ye("calendar-plus",sae);const iae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gn=ye("calendar",iae);const oae=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],M9=ye("camera",oae);const lae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],cae=ye("chart-bar",lae);const uae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],R9=ye("chart-column",uae);const dae=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],mae=ye("chart-no-axes-column-increasing",dae);const fae=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],hae=ye("chart-no-axes-column",fae);const pae=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],gae=ye("chart-pie",pae);const xae=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ws=ye("check",xae);const yae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nj=ye("chevron-down",yae);const vae=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bae=ye("chevron-left",vae);const jae=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xs=ye("chevron-right",jae);const wae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nae=ye("chevron-up",wae);const Sae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_s=ye("circle-alert",Sae);const Cae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vs=ye("circle-check",Cae);const Aae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vr=ye("circle-check-big",Aae);const Eae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Il=ye("circle-question-mark",Eae);const _ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nl=ye("circle-x",_ae);const Tae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D9=ye("circle",Tae);const Pae=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ln=ye("clock",Pae);const Oae=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],N6=ye("cookie",Oae);const kae=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],uh=ye("copy",kae);const Mae=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],mn=ye("credit-card",Mae);const Rae=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ii=ye("crown",Rae);const Dae=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],y0=ye("database",Dae);const Iae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p4=ye("download",Iae);const Lae=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],g4=ye("ellipsis-vertical",Lae);const $ae=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],zae=ye("ellipsis",$ae);const qae=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],oa=ye("euro",qae);const Fae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],x4=ye("external-link",Fae);const Bae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ma=ye("eye-off",Bae);const Uae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ws=ye("eye",Uae);const Vae=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Kae=ye("facebook",Vae);const Hae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jd=ye("file-text",Hae);const Gae=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Wae=ye("flask-conical",Gae);const Yae=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],T_=ye("folder-open",Yae);const Qae=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],I9=ye("funnel",Qae);const Xae=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],mg=ye("gift",Xae);const Zae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ui=ye("globe",Zae);const Jae=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],eie=ye("grip-vertical",Jae);const tie=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],nie=ye("hard-drive",tie);const rie=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Ra=ye("headphones",rie);const sie=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],aie=ye("heart-pulse",sie);const iie=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],oie=ye("heart",iie);const lie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Kx=ye("house",lie);const cie=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],L9=ye("image-off",cie);const uie=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],$9=ye("image-plus",uie);const die=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mie=ye("image",die);const fie=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],hie=ye("instagram",fie);const pie=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],gie=ye("italic",pie);const xie=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],yie=ye("key-round",xie);const vie=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],y4=ye("key",vie);const bie=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],jie=ye("landmark",bie);const wie=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],v4=ye("layout-dashboard",wie);const Nie=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Sie=ye("layers",Nie);const Cie=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],b4=ye("link-2",Cie);const Aie=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Eie=ye("link",Aie);const _ie=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Tie=ye("linkedin",_ie);const Pie=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Oie=ye("list-ordered",Pie);const kie=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Mie=ye("list",kie);const Rie=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Oe=ye("loader-circle",Rie);const Die=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],M0=ye("log-in",Die);const Iie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pl=ye("log-out",Iie);const Lie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vi=ye("lock",Lie);const $ie=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bs=ye("mail",$ie);const zie=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hr=ye("map-pin",zie);const qie=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Fie=ye("menu",qie);const Bie=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],S6=ye("message-circle-plus",Bie);const Uie=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],R0=ye("message-circle",Uie);const Vie=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],P_=ye("message-square-plus",Vie);const Kie=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],xo=ye("message-square",Kie);const Hie=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],eu=ye("newspaper",Hie);const Gie=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],D0=ye("palette",Gie);const Wie=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Yie=ye("paperclip",Wie);const Qie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Xie=ye("pencil",Qie);const Zie=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Jie=ye("percent",Zie);const eoe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ll=ye("phone",eoe);const toe=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],C6=ye("piggy-bank",toe);const noe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sn=ye("plus",noe);const roe=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],$l=ye("qr-code",roe);const soe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],aoe=ye("receipt",soe);const ioe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sl=ye("refresh-cw",ioe);const ooe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],loe=ye("rocket",ooe);const coe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],A6=ye("rotate-ccw",coe);const uoe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fl=ye("save",uoe);const doe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],za=ye("search",doe);const moe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Rs=ye("send",moe);const foe=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],v0=ye("server",foe);const hoe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cl=ye("settings",hoe);const poe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],I0=ye("share-2",poe);const goe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xoe=ye("shield-check",goe);const yoe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Mr=ye("shield",yoe);const voe=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Bd=ye("smartphone",voe);const boe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ef=ye("sparkles",boe);const joe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],zl=ye("square-pen",joe);const woe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],z9=ye("star",woe);const Noe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],E6=ye("tag",Noe);const Soe=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],zi=ye("tags",Soe);const Coe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wd=ye("target",Coe);const Aoe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],Eoe=ye("text-align-center",Aoe);const _oe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],Toe=ye("text-align-end",_oe);const Poe=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Ooe=ye("text-align-start",Poe);const koe=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],L0=ye("ticket",koe);const Moe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],js=ye("trash-2",Moe);const Roe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Doe=ye("trending-down",Roe);const Ioe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],po=ye("trending-up",Ioe);const Loe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],br=ye("triangle-alert",Loe);const $oe=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],zoe=ye("twitter",$oe);const qoe=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Foe=ye("underline",qoe);const Boe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Uc=ye("upload",Boe);const Uoe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],q9=ye("user-check",Uoe);const Voe=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],F9=ye("user-cog",Voe);const Koe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Vc=ye("user-plus",Koe);const Hoe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Goe=ye("user-x",Hoe);const Woe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],It=ye("users",Woe);const Yoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gi=ye("user",Yoe);const Qoe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Xoe=ye("video",Qoe);const Zoe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],tu=ye("wallet",Zoe);const Joe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],ele=ye("wrench",Joe);const tle=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fn=ye("x",tle);const nle=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pg=ye("zap",nle);const rle=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],sle=ye("zoom-in",rle),j4="-",ale=e=>{const t=ole(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const c=o.split(j4);return c[0]===""&&c.length!==1&&c.shift(),B9(c,t)||ile(o)},getConflictingClassGroupIds:(o,c)=>{const d=r[o]||[];return c&&s[o]?[...d,...s[o]]:d}}},B9=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),a=s?B9(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(j4);return t.validators.find(({validator:o})=>o(i))?.classGroupId},_6=/^\[(.+)\]$/,ile=e=>{if(_6.test(e)){const t=_6.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ole=e=>{const{theme:t,classGroups:r}=e,s={nextPart:new Map,validators:[]};for(const a in r)O_(r[a],s,a,t);return s},O_=(e,t,r,s)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:T6(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(lle(a)){O_(a(s),t,r,s);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{O_(o,T6(t,i),r,s)})})},T6=(e,t)=>{let r=e;return t.split(j4).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},lle=e=>e.isThemeGetter,cle=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},k_="!",M_=":",ule=M_.length,dle=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=a=>{const i=[];let o=0,c=0,d=0,m;for(let w=0;w<a.length;w++){let y=a[w];if(o===0&&c===0){if(y===M_){i.push(a.slice(d,w)),d=w+ule;continue}if(y==="/"){m=w;continue}}y==="["?o++:y==="]"?o--:y==="("?c++:y===")"&&c--}const f=i.length===0?a:a.substring(d),h=mle(f),g=h!==f,b=m&&m>d?m-d:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:b}};if(t){const a=t+M_,i=s;s=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const a=s;s=i=>r({className:i,parseClassName:a})}return s},mle=e=>e.endsWith(k_)?e.substring(0,e.length-1):e.startsWith(k_)?e.substring(1):e,fle=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(o=>{o[0]==="["||t[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},hle=e=>({cache:cle(e.cacheSize),parseClassName:dle(e),sortModifiers:fle(e),...ale(e)}),ple=/\s+/,gle=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],c=e.trim().split(ple);let d="";for(let m=c.length-1;m>=0;m-=1){const f=c[m],{isExternal:h,modifiers:g,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:y}=r(f);if(h){d=f+(d.length>0?" "+d:d);continue}let j=!!y,N=s(j?w.substring(0,y):w);if(!N){if(!j){d=f+(d.length>0?" "+d:d);continue}if(N=s(w),!N){d=f+(d.length>0?" "+d:d);continue}j=!1}const C=i(g).join(":"),E=b?C+k_:C,T=E+N;if(o.includes(T))continue;o.push(T);const A=a(N,j);for(let k=0;k<A.length;++k){const P=A[k];o.push(E+P)}d=f+(d.length>0?" "+d:d)}return d};function xle(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=U9(t))&&(s&&(s+=" "),s+=r);return s}const U9=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=U9(e[s]))&&(r&&(r+=" "),r+=t);return r};function yle(e,...t){let r,s,a,i=o;function o(d){const m=t.reduce((f,h)=>h(f),e());return r=hle(m),s=r.cache.get,a=r.cache.set,i=c,c(d)}function c(d){const m=s(d);if(m)return m;const f=gle(d,r);return a(d,f),f}return function(){return i(xle.apply(null,arguments))}}const $r=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},V9=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,K9=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vle=/^\d+\/\d+$/,ble=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jle=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wle=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Nle=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sle=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zm=e=>vle.test(e),qt=e=>!!e&&!Number.isNaN(Number(e)),Pc=e=>!!e&&Number.isInteger(Number(e)),g2=e=>e.endsWith("%")&&qt(e.slice(0,-1)),ol=e=>ble.test(e),Cle=()=>!0,Ale=e=>jle.test(e)&&!wle.test(e),H9=()=>!1,Ele=e=>Nle.test(e),_le=e=>Sle.test(e),Tle=e=>!Ze(e)&&!Je(e),Ple=e=>dh(e,Y9,H9),Ze=e=>V9.test(e),Vu=e=>dh(e,Q9,Ale),x2=e=>dh(e,Dle,qt),P6=e=>dh(e,G9,H9),Ole=e=>dh(e,W9,_le),zv=e=>dh(e,X9,Ele),Je=e=>K9.test(e),Up=e=>mh(e,Q9),kle=e=>mh(e,Ile),O6=e=>mh(e,G9),Mle=e=>mh(e,Y9),Rle=e=>mh(e,W9),qv=e=>mh(e,X9,!0),dh=(e,t,r)=>{const s=V9.exec(e);return s?s[1]?t(s[1]):r(s[2]):!1},mh=(e,t,r=!1)=>{const s=K9.exec(e);return s?s[1]?t(s[1]):r:!1},G9=e=>e==="position"||e==="percentage",W9=e=>e==="image"||e==="url",Y9=e=>e==="length"||e==="size"||e==="bg-size",Q9=e=>e==="length",Dle=e=>e==="number",Ile=e=>e==="family-name",X9=e=>e==="shadow",Lle=()=>{const e=$r("color"),t=$r("font"),r=$r("text"),s=$r("font-weight"),a=$r("tracking"),i=$r("leading"),o=$r("breakpoint"),c=$r("container"),d=$r("spacing"),m=$r("radius"),f=$r("shadow"),h=$r("inset-shadow"),g=$r("text-shadow"),b=$r("drop-shadow"),w=$r("blur"),y=$r("perspective"),j=$r("aspect"),N=$r("ease"),C=$r("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...T(),Je,Ze],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],O=()=>[Je,Ze,d],M=()=>[zm,"full","auto",...O()],F=()=>[Pc,"none","subgrid",Je,Ze],D=()=>["auto",{span:["full",Pc,Je,Ze]},Pc,Je,Ze],$=()=>[Pc,"auto",Je,Ze],V=()=>["auto","min","max","fr",Je,Ze],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...O()],K=()=>[zm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],U=()=>[e,Je,Ze],B=()=>[...T(),O6,P6,{position:[Je,Ze]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",Mle,Ple,{size:[Je,Ze]}],Y=()=>[g2,Up,Vu],se=()=>["","none","full",m,Je,Ze],he=()=>["",qt,Up,Vu],Q=()=>["solid","dashed","dotted","double"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[qt,g2,O6,P6],Ue=()=>["","none",w,Je,Ze],ge=()=>["none",qt,Je,Ze],Ee=()=>["none",qt,Je,Ze],Z=()=>[qt,Je,Ze],re=()=>[zm,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ol],breakpoint:[ol],color:[Cle],container:[ol],"drop-shadow":[ol],ease:["in","out","in-out"],font:[Tle],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ol],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ol],shadow:[ol],spacing:["px",qt],text:[ol],"text-shadow":[ol],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",zm,Ze,Je,j]}],container:["container"],columns:[{columns:[qt,Ze,Je,c]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Pc,"auto",Je,Ze]}],basis:[{basis:[zm,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qt,zm,"auto","initial","none",Ze]}],grow:[{grow:["",qt,Je,Ze]}],shrink:[{shrink:["",qt,Je,Ze]}],order:[{order:[Pc,"first","last","none",Je,Ze]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[c,"screen",...K()]}],"min-w":[{"min-w":[c,"screen","none",...K()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",r,Up,Vu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Je,x2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",g2,Ze]}],"font-family":[{font:[kle,Ze,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Je,Ze]}],"line-clamp":[{"line-clamp":[qt,"none",Je,x2]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",Je,Ze]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Ze]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[qt,"from-font","auto",Je,Vu]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[qt,"auto",Je,Ze]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pc,Je,Ze],radial:["",Je,Ze],conic:[Pc,Je,Ze]},Rle,Ole]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qt,Je,Ze]}],"outline-w":[{outline:["",qt,Up,Vu]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",f,qv,zv]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",h,qv,zv]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[qt,Vu]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",g,qv,zv]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[qt,Je,Ze]}],"mix-blend":[{"mix-blend":[...xe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":xe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qt]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[Je,Ze]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[qt]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Ze]}],filter:[{filter:["","none",Je,Ze]}],blur:[{blur:Ue()}],brightness:[{brightness:[qt,Je,Ze]}],contrast:[{contrast:[qt,Je,Ze]}],"drop-shadow":[{"drop-shadow":["","none",b,qv,zv]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",qt,Je,Ze]}],"hue-rotate":[{"hue-rotate":[qt,Je,Ze]}],invert:[{invert:["",qt,Je,Ze]}],saturate:[{saturate:[qt,Je,Ze]}],sepia:[{sepia:["",qt,Je,Ze]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Ze]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[qt,Je,Ze]}],"backdrop-contrast":[{"backdrop-contrast":[qt,Je,Ze]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qt,Je,Ze]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qt,Je,Ze]}],"backdrop-invert":[{"backdrop-invert":["",qt,Je,Ze]}],"backdrop-opacity":[{"backdrop-opacity":[qt,Je,Ze]}],"backdrop-saturate":[{"backdrop-saturate":[qt,Je,Ze]}],"backdrop-sepia":[{"backdrop-sepia":["",qt,Je,Ze]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Ze]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qt,"initial",Je,Ze]}],ease:[{ease:["linear","initial",N,Je,Ze]}],delay:[{delay:[qt,Je,Ze]}],animate:[{animate:["none",C,Je,Ze]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Je,Ze]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ge()}],"rotate-x":[{"rotate-x":ge()}],"rotate-y":[{"rotate-y":ge()}],"rotate-z":[{"rotate-z":ge()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Z()}],"skew-x":[{"skew-x":Z()}],"skew-y":[{"skew-y":Z()}],transform:[{transform:[Je,Ze,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Ze]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Ze]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[qt,Up,Vu,x2]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$le=yle(Lle);function Le(...e){return $le(Et(e))}const zle=kse,Z9=v.forwardRef(({className:e,...t},r)=>n.jsx(N9,{ref:r,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Z9.displayName=N9.displayName;const qle=wj("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),J9=v.forwardRef(({className:e,variant:t,...r},s)=>n.jsx(S9,{ref:s,className:Le(qle({variant:t}),e),...r}));J9.displayName=S9.displayName;const Fle=v.forwardRef(({className:e,...t},r)=>n.jsx(E9,{ref:r,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Fle.displayName=E9.displayName;const e7=v.forwardRef(({className:e,...t},r)=>n.jsx(_9,{ref:r,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(fn,{className:"h-4 w-4"})}));e7.displayName=_9.displayName;const t7=v.forwardRef(({className:e,...t},r)=>n.jsx(C9,{ref:r,className:Le("text-sm font-semibold",e),...t}));t7.displayName=C9.displayName;const n7=v.forwardRef(({className:e,...t},r)=>n.jsx(A9,{ref:r,className:Le("text-sm opacity-90",e),...t}));n7.displayName=A9.displayName;function Ble(){const{toasts:e}=Vre();return n.jsxs(zle,{children:[e.map(function({id:t,title:r,description:s,action:a,...i}){return n.jsxs(J9,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(t7,{children:r}),s&&n.jsx(n7,{children:s})]}),a,n.jsx(e7,{})]},t)}),n.jsx(Z9,{})]})}const r7=v.createContext(void 0);function ct(e,t){const r=new Date().toISOString().split("T")[1].slice(0,12);console.log(`[AUTH ${r}] ${e}`,t!==void 0?t:"")}function Ule(){if(ct("Hydrating from storage (sync)..."),Hn.isNativePlatform())return ct("Native platform - skipping sync hydration, will hydrate async"),{account:null,user:null,membership:null};const t=h0(Br),r=h0(oi),s=h0(Xr),a=JU();if(ct("Hydration result (sync):",{hasToken:!!a,tokenLength:a?.length||0,hasAccount:!!t,hasUser:!!r,hasMembership:!!s}),(t||r)&&!a){const i=Math.random().toString(36).substring(2,10);return ct(`[${i}] [AUTH] Token missing but account/user present - forcing logout`),e9(),{account:null,user:null,membership:null}}return{account:t?JSON.parse(t):null,user:r?JSON.parse(r):null,membership:null}}function Vle({children:e}){const t=Hn.isNativePlatform(),r=Ule(),[s,a]=v.useState(!t),[i,o]=v.useState(null),[c,d]=v.useState(r.account),[m,f]=v.useState(r.user),[h,g]=v.useState(r.user?.id||null),[b,w]=v.useState(r.membership),[y,j]=v.useState(null);v.useEffect(()=>{t?(ct("Native platform detected - hydrating from Preferences async..."),N()):r.account&&C()},[]);const N=async()=>{try{ct("Starting async hydration from Preferences...");const q=await ld(),[I,K,U]=await Promise.all([cd(Br),cd(oi),cd(Xr)]);if(ct("Async hydration result:",{hasToken:!!q,tokenLength:q?.length||0,hasAccount:!!I,hasUser:!!K,hasMembership:!!U}),!q||!I){ct("No token or account found - user is logged out"),gn({authReady:!0,isAuthenticated:!1}),a(!0);return}ct("Token found, verifying with /api/accounts/me...");try{const B=await ia("/api/accounts/me",{Authorization:`Bearer ${q}`});if(gn({lastMeStatus:B.status,lastMeTraceId:B.traceId,lastMeError:B.ok?null:B.data?.error||"Unknown error"}),ct("/me response:",{ok:B.ok,status:B.status,traceId:B.traceId}),!B.ok)if(B.status===401){ct("Token invalid (401) - clearing auth and logging out"),o({type:"auth",message:"Session expire",traceId:B.traceId}),await k0(),gn({authReady:!0,isAuthenticated:!1}),a(!0);return}else if(B.status===0||!B.status){ct("Network error - keeping local session but showing offline");const G=JSON.parse(I);d(G),o({type:"network",message:"Hors ligne",traceId:B.traceId}),gn({authReady:!0,isAuthenticated:!0,accountId:G.id}),a(!0);return}else{ct("Server error - keeping local session");const G=JSON.parse(I);d(G),o({type:"unknown",message:`Erreur serveur (${B.status})`,traceId:B.traceId}),gn({authReady:!0,isAuthenticated:!0}),a(!0);return}ct(" Session verified! Setting account from /me response");const ie={...B.data.account,memberships:B.data.memberships};if(d(ie),o(null),K){const G=JSON.parse(K);f(G),g(G.id)}gn({authReady:!0,isAuthenticated:!0,accountPresent:!0,accountId:ie.id}),ct(" Async hydration complete, authReady = true"),a(!0)}catch(B){ct("Network error during /me call:",B?.message);const ie=JSON.parse(I);d(ie),o({type:"network",message:"Connexion impossible"}),gn({authReady:!0,isAuthenticated:!0,lastMeError:B?.message}),a(!0)}}catch(q){ct(" Async hydration failed:",q),o({type:"unknown",message:q?.message||"Erreur inconnue"}),gn({authReady:!0,isAuthenticated:!1,lastMeError:q?.message}),a(!0)}},C=async()=>{const q=localStorage.getItem("koomy_auth_token");if(!q){ct("No token in localStorage on startup"),c&&(ct("Account exists but no token - clearing account to prevent isAuthenticated=true without auth"),d(null),localStorage.removeItem(Br),gn({isAuthenticated:!1,accountPresent:!1}));return}try{const I=await ia("/api/accounts/me",{Authorization:`Bearer ${q}`});gn({lastMeStatus:I.status,lastMeTraceId:I.traceId,lastMeError:I.ok?null:I.data?.error}),I.ok?(ct(" Web session verified on startup"),gn({isAuthenticated:!0})):I.status===401&&(ct("Web session invalid on startup - clearing"),localStorage.removeItem("koomy_auth_token"),localStorage.removeItem(Br),d(null),gn({isAuthenticated:!1}))}catch(I){ct("Could not verify web session on startup (network):",I)}},{data:E=[]}=Pe({queryKey:["/api/communities"],enabled:!!(c||m)&&s}),T=v.useCallback(q=>{if(ct("setAccount called:",{hasAccount:!!q,id:q?.id,email:q?.email,memberships:q?.memberships?.length||0}),d(q),o(null),q){const I=JSON.stringify(q);ct("Saving account to storage:",{length:I.length}),t?ho(Br,I).then(()=>ct(" Account saved to Preferences")).catch(K=>ct(" Failed to save account:",K)):(Yu(Br,I),ct(" Account saved to localStorage")),gn({accountPresent:!0,accountId:q.id,isAuthenticated:!0})}else ct("Removing account from storage"),t?Jm(Br).catch(console.error):Oc(Br),gn({accountPresent:!1,accountId:null,isAuthenticated:!1})},[t]),A=v.useCallback(q=>{ct("setUser called:",{hasUser:!!q,id:q?.id,email:q?.email});const I=m?.id||h;if(f(q),q){const K=JSON.stringify(q);t?ho(oi,K).then(()=>ct(" User saved to Preferences")).catch(U=>ct(" Failed to save user:",U)):Yu(oi,K),I&&I!==q.id&&(w(null),j(null),t?Jm(Xr).catch(console.error):Oc(Xr)),g(q.id)}else t?(Jm(oi).catch(console.error),Jm(Xr).catch(console.error)):(Oc(oi),Oc(Xr)),w(null),j(null),g(null)},[t,m,h]),k=v.useCallback(q=>{if(ct("selectMembership:",{membershipId:q}),c){const I=c.memberships.find(K=>K.id===q);if(I){w(I);const K=JSON.stringify(I);if(t?ho(Xr,K).catch(console.error):Yu(Xr,K),I.community)j(I.community);else if(I.communityId){const U=E.find(B=>B.id===I.communityId);U&&j(U)}}}},[c,E,t]),P=v.useCallback(q=>{if(ct("selectCommunity:",{communityId:q}),m){const I=m.memberships.find(K=>K.communityId===q);if(I){w(I);const K=JSON.stringify(I);if(t?ho(Xr,K).catch(console.error):Yu(Xr,K),I.community)j(I.community);else{const U=E.find(B=>B.id===q);U&&j(U)}}}else if(c){const I=c.memberships.find(K=>K.communityId===q);if(I){w(I);const K=JSON.stringify(I);t?ho(Xr,K).catch(console.error):Yu(Xr,K),I.community&&j(I.community)}}},[m,c,E,t]),O=async()=>{if(ct("refreshMemberships called"),c)try{const q=await ia(`/api/accounts/${c.id}/memberships`);if(q.ok){const I={...c,memberships:q.data};T(I),ct("Memberships refreshed:",{count:q.data.length})}}catch(q){ct(" Failed to refresh memberships:",q)}},M=v.useCallback(async()=>{ct("refreshMe called");const q=t?await ld():localStorage.getItem("koomy_auth_token");ct("refreshMe: token found:",!!q);try{const I={};q&&(I.Authorization=`Bearer ${q}`);const K=await ia("/api/accounts/me",I);if(ct("refreshMe response:",{ok:K.ok,status:K.status,traceId:K.traceId}),!K.ok)return ct("refreshMe failed:",K.data?.error),!1;const U={...K.data.account,memberships:K.data.memberships};ct("refreshMe success - account.avatar:",U.avatar),d(U),o(null);const B=JSON.stringify(U);return t?(await ho(Br,B),ct(" refreshMe: Account saved to Preferences")):(Yu(Br,B),ct(" refreshMe: Account saved to localStorage")),gn({accountPresent:!0,accountId:U.id,isAuthenticated:!0,lastMeStatus:K.status,lastMeTraceId:K.traceId,lastMeError:null}),!0}catch(I){return ct(" refreshMe error:",I?.message),!1}},[t]),F=async()=>{ct("verifySession called");const q=t?await ld():localStorage.getItem("koomy_auth_token");if(!q)return ct("No token to verify"),{valid:!1,error:"No token"};try{const I=await ia("/api/accounts/me",{Authorization:`Bearer ${q}`});return gn({lastMeStatus:I.status,lastMeTraceId:I.traceId,lastMeError:I.ok?null:I.data?.error}),ct("Session verification result:",{ok:I.ok,status:I.status,traceId:I.traceId}),I.ok?{valid:!0,traceId:I.traceId}:I.status===401?(ct("Session invalid - logging out"),await D(),{valid:!1,error:I.data?.error||"Unauthorized",traceId:I.traceId}):{valid:!1,error:`Server error (${I.status})`,traceId:I.traceId}}catch(I){return ct(" Session verification failed:",I),{valid:!1,error:I?.message||"Network error"}}};v.useEffect(()=>{if(b&&E.length>0&&!y){const q=E.find(I=>I.id===b.communityId);q&&j(q)}},[b,E,y]);const D=v.useCallback(async()=>{ct("logout called"),d(null),f(null),w(null),j(null),o(null),t?(await k0(),ct(" All auth data cleared from Preferences")):(localStorage.removeItem("koomy_auth_token"),localStorage.removeItem("koomy_auth_token_ts"),Oc(Br),Oc(oi),Oc(Xr),ct(" All auth data cleared from localStorage")),gn({tokenPresent:!1,tokenLength:0,tokenLastSetAt:null,accountPresent:!1,accountId:null,isAuthenticated:!1})},[t]),$=!!(c||m),V=!!(m&&b&&b.role==="admin"),z=!!(m&&m.globalRole==="platform_super_admin");return v.useEffect(()=>{gn({authReady:s,isAuthenticated:$})},[s,$]),ct("AuthContext render:",{authReady:s,isAuthenticated:$,hasAccount:!!c,hasUser:!!m,accountId:c?.id,hasError:!!i,errorType:i?.type,isNative:t}),n.jsx(r7.Provider,{value:{account:c,user:m,currentMembership:b,currentCommunity:y,allCommunities:E,isAuthenticated:$,isAdmin:V,isPlatformAdmin:z,authReady:s,authError:i,setAccount:T,setUser:A,selectMembership:k,selectCommunity:P,refreshMemberships:O,refreshMe:M,logout:D,verifySession:F},children:e})}function dt(){const e=v.useContext(r7);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Kle=[{pattern:/^sitepublic-sandbox\.koomy\.app$/i,mode:"SITE_PUBLIC",description:"Sandbox commercial website"},{pattern:/^sandbox\.koomy\.app$/i,mode:"WALLET",description:"Sandbox member wallet app"},{pattern:/^backoffice-sandbox\.koomy\.app$/i,mode:"BACKOFFICE",description:"Sandbox club backoffice"},{pattern:/^club-mobile-sandbox\.koomy\.app$/i,mode:"CLUB_MOBILE",description:"Sandbox club mobile app"},{pattern:/^saasowner-sandbox\.koomy\.app$/i,mode:"SAAS_OWNER",description:"Sandbox SaaS owner panel"}],Hle=[{pattern:/^koomy\.app$/i,mode:"SITE_PUBLIC",description:"Production commercial website"},{pattern:/^(app\.koomy\.app|app\.koomy\.local)$/i,mode:"WALLET",description:"Production member wallet app"},{pattern:/^backoffice\.koomy\.app$/i,mode:"BACKOFFICE",description:"Production club backoffice"},{pattern:/^app-pro\.koomy\.app$/i,mode:"CLUB_MOBILE",description:"Production club mobile app"},{pattern:/^lorpesikoomyadmin\.koomy\.app$/i,mode:"SAAS_OWNER",description:"Production SaaS owner panel"}];function s7(e){const t=e||(typeof window<"u"?window.location.hostname:"");console.log("[AppModeResolver] Resolving mode for hostname:",t);for(const{pattern:r,mode:s,description:a}of Kle)if(r.test(t))return console.log(`[AppModeResolver] SANDBOX FORCED MODE: ${s} (${a})`),{mode:s,isForcedMode:!0,isSandbox:!0,hostname:t};for(const{pattern:r,mode:s,description:a}of Hle)if(r.test(t))return console.log(`[AppModeResolver] PRODUCTION FORCED MODE: ${s} (${a})`),{mode:s,isForcedMode:!0,isSandbox:!1,hostname:t};return t.endsWith(".koomy.app")?(console.log("[AppModeResolver] Unknown *.koomy.app domain  WHITE_LABEL mode (will lookup)"),{mode:"WHITE_LABEL",isForcedMode:!1,isSandbox:!1,hostname:t}):t&&!t.includes("localhost")&&!t.includes("replit")?(console.log("[AppModeResolver] Custom domain detected  WHITE_LABEL mode"),{mode:"WHITE_LABEL",isForcedMode:!1,isSandbox:!1,hostname:t}):(console.log("[AppModeResolver] Development/unknown environment  STANDARD mode"),{mode:"STANDARD",isForcedMode:!1,isSandbox:!1,hostname:t})}function a7(e){return s7(e).isForcedMode}const i7=v.createContext(void 0),Gle="#6366f1",Wle="Koomy";function Yle(){return"https://api.koomy.app"}async function Qle(){const e=typeof window<"u"?window.location.hostname:"";if(console.log("[WhiteLabel] Hostname:",e),a7(e))return console.log("[WhiteLabel] Forced mode detected, skipping whitelabel detection for:",e),null;let t=!1;try{const r=await fetch("/wl.json",{cache:"no-store"}),s=r.headers.get("content-type")||"",a=await r.text(),i=a.slice(0,50);console.log("[WhiteLabel] /wl.json fetch:",{status:r.status,contentType:s,preview:i});const o=a.trimStart().startsWith("<")||a.toLowerCase().includes("<!doctype html");if(r.ok&&!o)try{const c=JSON.parse(a);if(c.tenant&&c.communityId)return console.log("[WhiteLabel] wl.json loaded OK tenant="+c.tenant+" communityId="+c.communityId),c.apiBaseUrl&&(f6(c.apiBaseUrl),console.log("[WhiteLabel] Set API base URL:",c.apiBaseUrl)),t=!0,c;console.warn("[WhiteLabel] wl.json missing required fields (tenant/communityId)")}catch(c){console.error("[WhiteLabel] wl.json parse error:",c)}else o&&console.warn("[WhiteLabel] /wl.json returned HTML (SPA fallback), not JSON - will use API fallback")}catch(r){console.log("[WhiteLabel] /wl.json fetch failed:",r)}if(!t&&e.endsWith(".koomy.app")){const r=Yle(),s=`${r}/api/whitelabel/by-host?host=${encodeURIComponent(e)}`;console.log("[WhiteLabel] Fallback by-host request:",s);try{const a=await fetch(s,{cache:"no-store"});if(console.log("[WhiteLabel] Fallback by-host host="+e+" status="+a.status),a.ok){const i=await a.json();if(console.log("[WhiteLabel] Fallback by-host response:",{whiteLabel:i.whiteLabel,communityId:i.communityId}),i.whiteLabel)return console.log("[WhiteLabel] API config loaded OK for:",i.communityName),f6(r),{tenant:i.host?.replace(".koomy.app","")||e.replace(".koomy.app",""),communityId:i.communityId,brandName:i.communityName,primaryColor:i.brandingPrimaryColor||i.brandConfig?.brandColor||"#2d92dc",baseUrl:`https://${e}`,apiBaseUrl:r,isWhiteLabel:!0,logoUrl:i.brandingLogoPath||i.communityLogo,privacyPolicyUrl:i.brandConfig?.privacyPolicyUrl,termsUrl:i.brandConfig?.termsUrl,deleteAccountUrl:i.brandConfig?.deleteAccountUrl};console.log("[WhiteLabel] API returned whiteLabel=false for host:",e)}}catch(a){console.error("[WhiteLabel] API fallback failed:",a)}}return console.log("[WhiteLabel] No valid config found, running in standard mode"),null}function Xle({children:e}){const[t,r]=v.useState(null),[s,a]=v.useState(null),[i,o]=v.useState(!1),c=a7();v.useEffect(()=>{Qle().then(M=>{if(M){a(M);const F={whiteLabel:M.isWhiteLabel,communityId:M.communityId,communityName:M.brandName,brandConfig:{appName:M.brandName,brandColor:M.primaryColor,logoUrl:M.logoUrl,showPoweredBy:!1,privacyPolicyUrl:M.privacyPolicyUrl,termsUrl:M.termsUrl,deleteAccountUrl:M.deleteAccountUrl}};r(F)}o(!0)})},[]);const d=i&&!s&&!c,{data:m,isLoading:f}=Pe({queryKey:["white-label-config"],queryFn:async()=>{const M=await ia("/api/white-label/config");if(!M.ok)throw new Error("Failed to fetch white-label config");return M.data},staleTime:1e3*60*5,refetchOnWindowFocus:!1,enabled:d});v.useEffect(()=>{m&&!s&&r(m)},[m,s]);const h=!i||d&&f,g=i&&!h;c&&i&&console.log("[WhiteLabel] Forced mode active, skipped all DB calls:",{isForcedMode:c,embeddedLoaded:i,shouldFetchFromAPI:d,isLoading:h,wlReady:g});const b=t?.whiteLabel??!1,w=b?t?.communityId??null:null,y=b?t?.brandConfig??null:null,j=y?.appName||t?.communityName||Wle,N=y?.brandColor||Gle,C=y?.logoUrl||t?.communityLogo||null,E=C?ar(C,"WhiteLabelContext-logo"):null,T=y?.showPoweredBy!==!1;v.useEffect(()=>{if(b&&N){document.documentElement.style.setProperty("--wl-brand-color",N);const M=Zle(N);M&&(document.documentElement.style.setProperty("--wl-brand-h",String(M.h)),document.documentElement.style.setProperty("--wl-brand-s",`${M.s}%`),document.documentElement.style.setProperty("--wl-brand-l",`${M.l}%`))}},[b,N]);const A=s?.apiBaseUrl??null,k=y?.privacyPolicyUrl||null,P=y?.termsUrl||null,O=y?.deleteAccountUrl||null;return n.jsx(i7.Provider,{value:{isWhiteLabel:b,whiteLabelConfig:t,communityId:w,brandConfig:y,isLoading:h,wlReady:g,appName:j,brandColor:N,logoUrl:E,showPoweredBy:T,apiBaseUrl:A,privacyPolicyUrl:k,termsUrl:P,deleteAccountUrl:O},children:e})}function Xi(){const e=v.useContext(i7);if(e===void 0)throw new Error("useWhiteLabel must be used within a WhiteLabelProvider");return e}function Zle(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!t)return null;let r=parseInt(t[1],16)/255,s=parseInt(t[2],16)/255,a=parseInt(t[3],16)/255;const i=Math.max(r,s,a),o=Math.min(r,s,a);let c=0,d=0;const m=(i+o)/2;if(i!==o){const f=i-o;switch(d=m>.5?f/(2-i-o):f/(i+o),i){case r:c=((s-a)/f+(s<a?6:0))/6;break;case s:c=((a-r)/f+2)/6;break;case a:c=((r-s)/f+4)/6;break}}return{h:Math.round(c*360),s:Math.round(d*100),l:Math.round(m*100)}}function Jle(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return`ERR-${t}`}class ece extends v.Component{constructor(t){super(t),this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,traceId:""}}static getDerivedStateFromError(t){return{hasError:!0,error:t,traceId:Jle()}}componentDidCatch(t,r){console.error("[ErrorBoundary]",this.state.traceId,t,r)}render(){return this.state.hasError?n.jsx("div",{"data-testid":"error-boundary-fallback",style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",backgroundColor:"#f8f9fa",fontFamily:"system-ui, -apple-system, sans-serif"},children:n.jsxs("div",{style:{maxWidth:"400px",textAlign:"center",backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:600,color:"#1a1a1a",marginBottom:"0.5rem"},children:"Erreur de chargement"}),n.jsx("p",{style:{color:"#666",marginBottom:"1.5rem",lineHeight:1.5},children:"Une erreur inattendue s'est produite. Veuillez rafrachir la page."}),n.jsx("button",{"data-testid":"button-reload",onClick:this.handleReload,style:{backgroundColor:"#2d92dc",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"1rem",fontWeight:500,cursor:"pointer"},children:"Rafrachir la page"}),n.jsxs("p",{style:{marginTop:"1.5rem",fontSize:"0.75rem",color:"#999"},children:["Code erreur : ",this.state.traceId]})]})}):this.props.children}}const ve=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("rounded-xl border bg-card text-card-foreground shadow",e),...t}));ve.displayName="Card";const Ge=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("flex flex-col space-y-1.5 p-6",e),...t}));Ge.displayName="CardHeader";const Ve=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("font-semibold leading-none tracking-tight",e),...t}));Ve.displayName="CardTitle";const Ct=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));Ct.displayName="CardDescription";const je=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("p-6 pt-0",e),...t}));je.displayName="CardContent";const fh=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Le("flex items-center p-6 pt-0",e),...t}));fh.displayName="CardFooter";function tce(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(ve,{className:"w-full max-w-md mx-4",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(_s,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const nce="/assets/Koomy-communitieslogo_1764495780161-Btwu9bjd.png",rce=[{id:"website",name:"Site Public",icon:Ui,href:"/website",color:"bg-slate-900",iconColor:"text-blue-400",badge:"NEW",badgeColor:"bg-green-500"},{id:"member",name:"App Membre",icon:Bd,href:"/app/login",color:"bg-blue-600",iconColor:"text-white"},{id:"admin",name:"Backoffice",icon:v4,href:"/admin/dashboard",color:"bg-purple-600",iconColor:"text-white"},{id:"mobile-admin",name:"App Pro",icon:$l,href:"/app/c_demo/admin",color:"bg-slate-700",iconColor:"text-white"},{id:"platform",name:"Plateforme",icon:mae,href:"/platform/dashboard",color:"bg-orange-500",iconColor:"text-white",badge:"OWNER",badgeColor:"bg-orange-700"}];function k6(){return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 flex flex-col items-center justify-center p-6",children:n.jsxs("div",{className:"max-w-4xl w-full space-y-12",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("img",{src:nce,alt:"Koomy",className:"h-14 mx-auto mb-4"}),n.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Koomy Prototype Portal"}),n.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"Slectionnez une application pour explorer la plateforme"})]}),n.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-4",children:rce.map(e=>{const t=e.icon,r=n.jsxs("div",{className:"group flex flex-col items-center gap-3 cursor-pointer","data-testid":`app-card-${e.id}`,children:[n.jsxs("div",{className:`relative w-16 h-16 ${e.color} rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 group-hover:shadow-xl transition-all duration-200`,children:[n.jsx(t,{className:e.iconColor,size:28}),e.badge&&n.jsx("span",{className:`absolute -top-1 -right-1 ${e.badgeColor} text-white text-[8px] font-bold px-1.5 py-0.5 rounded-full`,children:e.badge})]}),n.jsx("span",{className:"text-xs font-medium text-slate-600 group-hover:text-slate-900 transition-colors text-center",children:e.name})]},e.id);return n.jsx("a",{href:e.href,children:r},e.id)})}),n.jsx("div",{className:"text-center text-slate-400 text-xs pt-8",children:"Koomy SaaS Platform v2.1"})]})})}const w4=()=>Hn.isNativePlatform();function li({children:e}){return w4()?n.jsx("div",{className:"w-full h-screen bg-white overflow-hidden",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:n.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden",children:e})}):n.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:n.jsx("div",{className:"relative w-full max-w-[430px] h-[100dvh] max-h-[932px] bg-white overflow-hidden shadow-2xl",style:{borderRadius:"clamp(0px, 2vw, 40px)"},children:n.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden",children:e})})})}const sce="/favicon-koomy.png",ace="/favicon-pro.png";function ice(){const[e]=zt();return v.useEffect(()=>{const t=typeof window<"u"?window.location.hostname:"";let r=sce;(t==="app-pro.koomy.app"||t==="backoffice.koomy.app"||t==="lorpesikoomyadmin.koomy.app"||e.startsWith("/app-pro")||e.startsWith("/admin")||e.startsWith("/platform"))&&(r=ace);const s=document.querySelector('link[rel="icon"]'),a=document.querySelector('link[rel="apple-touch-icon"]');s&&s.setAttribute("href",r),a&&a.setAttribute("href",r)},[e]),null}function oce(){const[e]=zt();return v.useEffect(()=>{const t=typeof window<"u"?window.location.hostname:"";let r="/manifest.json";(t==="app-pro.koomy.app"||e.startsWith("/app-pro")||e.startsWith("/admin"))&&(r="/manifest-pro.json");const s=document.querySelector('link[rel="manifest"]');s&&s.setAttribute("href",r)},[e]),null}var lce=Symbol.for("react.lazy"),$0=qa[" use ".trim().toString()];function cce(e){return typeof e=="object"&&e!==null&&"then"in e}function o7(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===lce&&"_payload"in e&&cce(e._payload)}function Sj(e){const t=dce(e),r=v.forwardRef((s,a)=>{let{children:i,...o}=s;o7(i)&&typeof $0=="function"&&(i=$0(i._payload));const c=v.Children.toArray(i),d=c.find(fce);if(d){const m=d.props.children,f=c.map(h=>h===d?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:h);return n.jsx(t,{...o,ref:a,children:v.isValidElement(m)?v.cloneElement(m,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var uce=Sj("Slot");function dce(e){const t=v.forwardRef((r,s)=>{let{children:a,...i}=r;if(o7(a)&&typeof $0=="function"&&(a=$0(a._payload)),v.isValidElement(a)){const o=pce(a),c=hce(i,a.props);return a.type!==v.Fragment&&(c.ref=s?Ro(s,o):o),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mce=Symbol("radix.slottable");function fce(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mce}function hce(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function pce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const N4=wj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),H=v.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...a},i)=>{const o=s?uce:"button";return n.jsx(o,{className:Le(N4({variant:t,size:r,className:e})),ref:i,...a})});H.displayName="Button";const ne=v.forwardRef(({className:e,type:t,...r},s)=>n.jsx("input",{type:t,className:Le("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));ne.displayName="Input";function gce(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Array(12).fill(0);let R_=1;class xce{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:s,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:R_++,o=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:s}),{...d,...t,id:i,dismissible:c,title:s}):d):this.addToast({title:s,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(s=>s({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let s;r.loading!==void 0&&(s=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=s!==void 0,o;const c=a.then(async m=>{if(o=["resolve",m],J.isValidElement(m))i=!1,this.create({id:s,type:"default",message:m});else if(vce(m)&&!m.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${m.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${m.status}`):r.description,w=typeof h=="object"&&!J.isValidElement(h)?h:{message:h};this.create({id:s,type:"error",description:g,...w})}else if(m instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(m):r.error,g=typeof r.description=="function"?await r.description(m):r.description,w=typeof h=="object"&&!J.isValidElement(h)?h:{message:h};this.create({id:s,type:"error",description:g,...w})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(m):r.success,g=typeof r.description=="function"?await r.description(m):r.description,w=typeof h=="object"&&!J.isValidElement(h)?h:{message:h};this.create({id:s,type:"success",description:g,...w})}}).catch(async m=>{if(o=["reject",m],r.error!==void 0){i=!1;const f=typeof r.error=="function"?await r.error(m):r.error,h=typeof r.description=="function"?await r.description(m):r.description,b=typeof f=="object"&&!J.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:h,...b})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((m,f)=>c.then(()=>o[0]==="reject"?f(o[1]):m(o[1])).catch(f));return typeof s!="string"&&typeof s!="number"?{unwrap:d}:Object.assign(s,{unwrap:d})},this.custom=(t,r)=>{const s=r?.id||R_++;return this.create({jsx:t(s),id:s,...r}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const si=new xce,yce=(e,t)=>{const r=t?.id||R_++;return si.addToast({title:e,...t,id:r}),r},vce=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",bce=yce,jce=()=>si.toasts,wce=()=>si.getActiveToasts(),X=Object.assign(bce,{success:si.success,info:si.info,warning:si.warning,error:si.error,custom:si.custom,message:si.message,promise:si.promise,dismiss:si.dismiss,loading:si.loading},{getHistory:jce,getToasts:wce});gce("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Nce({StatusIcon:e}){const[t,r]=v.useState(ug()),[s,a]=v.useState(null),[i,o]=v.useState(!1),[c,d]=v.useState(!1),[m,f]=v.useState(null);v.useEffect(()=>{const w=setInterval(()=>{r(ug())},500);return()=>clearInterval(w)},[]);const h=async()=>{o(!0),a(null);try{const{getAuthToken:w,updateDiagnostics:y}=await hf(async()=>{const{getAuthToken:C,updateDiagnostics:E}=await Promise.resolve().then(()=>p0);return{getAuthToken:C,updateDiagnostics:E}},void 0),j=await w();if(!j){a({ok:!1,error:"No token in storage",status:0}),o(!1);return}const N=await ia("/api/accounts/me",{Authorization:`Bearer ${j}`});y({lastMeStatus:N.status,lastMeTraceId:N.traceId,lastMeError:N.ok?null:N.data?.error||"Error"}),a({ok:N.ok,status:N.status,data:N.data,traceId:N.traceId})}catch(w){a({ok:!1,error:w.message,status:0})}o(!1)},g=async()=>{const{dumpAuthState:w}=await hf(async()=>{const{dumpAuthState:j}=await Promise.resolve().then(()=>p0);return{dumpAuthState:j}},void 0),y=await w();f(y)},b=async()=>{d(!0);const{clearAllAuth:w}=await hf(async()=>{const{clearAllAuth:y}=await Promise.resolve().then(()=>p0);return{clearAllAuth:y}},void 0);await w(),r(ug()),f(null),a(null),d(!1)};return n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 font-bold text-pink-400",children:[n.jsx(y0,{className:"w-4 h-4"}),"Auth Persistence"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[n.jsx("div",{className:"text-gray-400",children:"Platform:"}),n.jsx("div",{className:"font-mono",children:t.platform}),n.jsx("div",{className:"text-gray-400",children:"Is Native:"}),n.jsx("div",{className:"font-mono",children:t.isNative?"Yes":"No"}),n.jsx("div",{className:"text-gray-400",children:"Storage Type:"}),n.jsx("div",{className:"font-mono",children:t.storageType}),n.jsx("div",{className:"col-span-2 border-t border-gray-700 my-1"}),n.jsx("div",{className:"text-gray-400",children:"Token Present:"}),n.jsx("div",{className:`font-mono ${t.tokenPresent?"text-green-400":"text-red-400"}`,children:t.tokenPresent?`Yes (${t.tokenLength} chars)`:"No"}),n.jsx("div",{className:"text-gray-400",children:"Token Set At:"}),n.jsx("div",{className:"font-mono text-[9px]",children:t.tokenLastSetAt||"-"}),n.jsx("div",{className:"text-gray-400",children:"Account ID:"}),n.jsx("div",{className:`font-mono ${t.accountId?"text-green-400":"text-red-400"}`,children:t.accountId?`${t.accountId.substring(0,8)}...`:"None"}),n.jsx("div",{className:"text-gray-400",children:"Account Present:"}),n.jsx("div",{className:`font-mono ${t.accountPresent?"text-green-400":"text-red-400"}`,children:t.accountPresent?"Yes":"No"}),n.jsx("div",{className:"col-span-2 border-t border-gray-700 my-1"}),n.jsx("div",{className:"text-gray-400",children:"authReady:"}),n.jsx("div",{className:`font-mono ${t.authReady?"text-green-400":"text-yellow-400"}`,children:t.authReady?"true":"false"}),n.jsx("div",{className:"text-gray-400",children:"isAuthenticated:"}),n.jsx("div",{className:`font-mono ${t.isAuthenticated?"text-green-400":"text-red-400"}`,children:t.isAuthenticated?"true":"false"}),n.jsx("div",{className:"col-span-2 border-t border-gray-700 my-1"}),n.jsx("div",{className:"text-gray-400",children:"Last /me Status:"}),n.jsx("div",{className:`font-mono ${t.lastMeStatus===200?"text-green-400":t.lastMeStatus===401?"text-red-400":"text-gray-400"}`,children:t.lastMeStatus??"-"}),n.jsx("div",{className:"text-gray-400",children:"Last /me Trace:"}),n.jsx("div",{className:"font-mono text-[9px]",children:t.lastMeTraceId||"-"}),t.lastMeError&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-gray-400",children:"Last /me Error:"}),n.jsx("div",{className:"font-mono text-red-400 text-[9px]",children:t.lastMeError})]}),n.jsx("div",{className:"text-gray-400",children:"Last Op:"}),n.jsx("div",{className:"font-mono text-[9px]",children:t.lastOperation})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(H,{onClick:h,disabled:i,className:"w-full h-9 bg-pink-600 hover:bg-pink-700","data-testid":"button-verify-me",children:[i?n.jsx(Oe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(gi,{className:"w-4 h-4 mr-2"}),"Verify /me"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{onClick:g,variant:"outline",className:"flex-1 h-9 text-xs","data-testid":"button-dump-auth",children:"Dump Auth State"}),n.jsx(H,{onClick:b,disabled:c,variant:"destructive",className:"flex-1 h-9 text-xs","data-testid":"button-clear-auth",children:c?n.jsx(Oe,{className:"w-3 h-3 animate-spin"}):"Clear Auth"})]})]}),s&&n.jsxs("div",{className:`p-2 rounded text-xs ${s.ok?"bg-green-900/50":"bg-red-900/50"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(e,{ok:s.ok}),n.jsx("span",{children:s.ok?`/me  ${s.status} OK`:`/me  ${s.status||"Error"}`})]}),s.traceId&&n.jsxs("div",{className:"text-gray-400 mt-1",children:["Trace: ",s.traceId]}),s.error&&n.jsxs("div",{className:"text-red-300 mt-1",children:["Error: ",s.error]}),s.data&&n.jsx("div",{className:"font-mono text-[8px] mt-1 break-all max-h-20 overflow-auto",children:JSON.stringify(s.data,null,2)})]}),m&&n.jsxs("div",{className:"bg-black/30 p-2 rounded text-[8px] font-mono max-h-32 overflow-auto",children:[n.jsx("div",{className:"text-yellow-400 mb-1",children:"Auth State Dump:"}),n.jsxs("div",{children:["token: ",m.token?`${m.token.substring(0,20)}...`:"null"]}),n.jsxs("div",{children:["tokenTs: ",m.tokenTimestamp||"null"]}),n.jsxs("div",{children:["account: ",m.account?JSON.stringify(m.account).substring(0,50)+"...":"null"]}),n.jsxs("div",{children:["user: ",m.user?"present":"null"]}),n.jsxs("div",{children:["membership: ",m.membership?"present":"null"]})]})]})}function Sce({onClose:e}){const[t,r]=v.useState(Iv()),[s,a]=v.useState(null),[i,o]=v.useState(null),[c,d]=v.useState(!1),[m,f]=v.useState(!1),[h,g]=v.useState(null);v.useEffect(()=>{b(),j()},[]);const b=async()=>{try{const T=await fetch("/wl.json");if(T.ok){const A=await T.json();g(A)}}catch{g({error:"Failed to load wl.json"})}},w=async()=>{d(!0),await cg();const T=await Dre();a(T),r(Iv()),d(!1)},y=async()=>{f(!0),await cg();const T={testMessage:"Hello from Android",timestamp:new Date().toISOString(),platform:Hn.getPlatform()},A=await Ire(T);o({ok:A.ok,status:A.status,data:A.data,traceId:A.traceId}),r(Iv()),f(!1)},j=async()=>{await cg(),r(Iv()),await b()},N=async()=>{const T=Are();try{await navigator.clipboard.writeText(T),X.success("Diagnostics copis !")}catch{X.error("Impossible de copier")}},C=({ok:T})=>T===null?n.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200"}):T?n.jsx(vs,{className:"w-5 h-5 text-green-500"}):n.jsx(Nl,{className:"w-5 h-5 text-red-500"}),E=Tre();return n.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex flex-col","data-testid":"diagnostic-screen",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 text-white",children:[n.jsx(nae,{className:"w-5 h-5"}),n.jsxs("span",{className:"font-bold",children:["Diagnostics v",t.buildVersion]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(H,{variant:"ghost",size:"sm",onClick:N,className:"text-white hover:bg-gray-700",children:[n.jsx(uh,{className:"w-4 h-4 mr-1"}),"Copier"]}),n.jsx(H,{variant:"ghost",size:"sm",onClick:e,className:"text-white hover:bg-gray-700",children:n.jsx(fn,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-auto p-4 space-y-4 text-white text-sm",children:[!E&&n.jsxs("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(br,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-red-300",children:"Config WL manquante ou invalide"}),n.jsxs("div",{className:"text-red-200 text-xs mt-1",children:['apiBaseUrl = "',t.apiBaseUrl||"(vide)",'"',n.jsx("br",{}),"Vrifiez que wl.json est prsent et contient apiBaseUrl valide."]})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 font-bold text-blue-400",children:[n.jsx(Bd,{className:"w-4 h-4"}),"Platform Info"]}),n.jsx(H,{variant:"ghost",size:"sm",onClick:j,className:"text-gray-400 hover:text-white h-7",children:n.jsx(Sl,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[n.jsx("div",{className:"text-gray-400",children:"Platform:"}),n.jsx("div",{className:"font-mono",children:t.platform}),n.jsx("div",{className:"text-gray-400",children:"Is Native:"}),n.jsx("div",{className:"font-mono",children:t.isNative?"Yes":"No"}),n.jsx("div",{className:"text-gray-400",children:"Build Version:"}),n.jsx("div",{className:"font-mono",children:t.buildVersion}),n.jsx("div",{className:"text-gray-400",children:"Timestamp:"}),n.jsx("div",{className:"font-mono text-[10px]",children:t.timestamp})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 font-bold text-purple-400",children:[n.jsx(Ui,{className:"w-4 h-4"}),"API Configuration"]}),n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(C,{ok:t.wlJsonLoaded}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-gray-400",children:"wl.json loaded:"}),n.jsx("div",{className:"font-mono",children:t.wlJsonLoaded?"Yes":"No"})]})]}),n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(C,{ok:E}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-gray-400",children:"API Base URL:"}),n.jsx("div",{className:"font-mono text-[10px] break-all",children:t.apiBaseUrl||"(not set)"})]})]})]})]}),n.jsx(Nce,{StatusIcon:C}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 font-bold text-green-400",children:[n.jsx(v0,{className:"w-4 h-4"}),"Server Tests"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs(H,{onClick:w,disabled:c,className:"w-full h-10 bg-green-600 hover:bg-green-700","data-testid":"button-test-health",children:[c?n.jsx(Oe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(v0,{className:"w-4 h-4 mr-2"}),"Test Health"]}),s&&n.jsxs("div",{className:`mt-2 p-2 rounded text-xs ${s.ok?"bg-green-900/50":"bg-red-900/50"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{ok:s.ok}),n.jsx("span",{children:s.message})]}),n.jsxs("div",{className:"text-gray-400 mt-1",children:["Trace: ",s.traceId]})]})]}),n.jsxs("div",{children:[n.jsxs(H,{onClick:y,disabled:m,className:"w-full h-10 bg-blue-600 hover:bg-blue-700","data-testid":"button-test-echo",children:[m?n.jsx(Oe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Test Echo (Debug)"]}),i&&n.jsxs("div",{className:`mt-2 p-2 rounded text-xs ${i.ok?"bg-green-900/50":"bg-red-900/50"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(C,{ok:i.ok}),n.jsxs("span",{children:["Status: ",i.status]})]}),n.jsxs("div",{className:"text-gray-400 mt-1",children:["Trace: ",i.traceId]}),n.jsxs("div",{className:"font-mono text-[9px] mt-1 break-all",children:[JSON.stringify(i.data).substring(0,150),"..."]})]})]})]})]}),t.lastRequest&&n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 font-bold text-yellow-400",children:[n.jsx(Ln,{className:"w-4 h-4"}),"Last Request"]}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Trace ID:"})," ",n.jsx("span",{className:"font-mono text-yellow-300",children:t.lastRequest.traceId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Method:"})," ",n.jsx("span",{className:"font-mono",children:t.lastRequest.method})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Path:"})," ",n.jsx("span",{className:"font-mono",children:t.lastRequest.path})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Full URL:"})," ",n.jsx("span",{className:"font-mono text-[10px] break-all",children:t.lastRequest.fullUrl})]}),n.jsx("div",{children:n.jsx("span",{className:"text-gray-400",children:"Headers:"})}),n.jsx("div",{className:"font-mono text-[9px] bg-black/30 p-2 rounded break-all",children:JSON.stringify(t.lastRequest.headers,null,1)})]})]}),t.lastResponse&&n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 font-bold text-cyan-400",children:[n.jsx(v0,{className:"w-4 h-4"}),"Last Response"]}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Trace ID:"})," ",n.jsx("span",{className:"font-mono text-cyan-300",children:t.lastResponse.traceId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Status:"})," ",n.jsx("span",{className:`font-mono ${t.lastResponse.ok?"text-green-400":"text-red-400"}`,children:t.lastResponse.status})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Duration:"})," ",n.jsxs("span",{className:"font-mono",children:[t.lastResponse.durationMs,"ms"]})]}),n.jsx("div",{children:n.jsx("span",{className:"text-gray-400",children:"Body:"})}),n.jsx("div",{className:"font-mono text-[9px] bg-black/30 p-2 rounded break-all",children:t.lastResponse.bodySnippet})]})]}),t.lastError&&n.jsxs("div",{className:"bg-red-900/30 rounded-lg p-4 space-y-2 border border-red-500/50",children:[n.jsxs("div",{className:"flex items-center gap-2 font-bold text-red-400",children:[n.jsx(Nl,{className:"w-4 h-4"}),"Last Error"]}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Trace ID:"})," ",n.jsx("span",{className:"font-mono text-red-300",children:t.lastError.traceId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Message:"})," ",n.jsx("span",{className:"font-mono",children:t.lastError.message})]}),t.lastError.code&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-400",children:"Code:"})," ",n.jsx("span",{className:"font-mono",children:t.lastError.code})]}),t.lastError.stack&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx("span",{className:"text-gray-400",children:"Stack:"})}),n.jsx("div",{className:"font-mono text-[8px] bg-black/30 p-2 rounded break-all max-h-20 overflow-auto",children:t.lastError.stack})]})]})]}),n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-2",children:[n.jsx("div",{className:"font-bold text-orange-400",children:"wl.json Content"}),n.jsx("div",{className:"font-mono text-[9px] bg-black/30 p-2 rounded break-all max-h-40 overflow-auto",children:h?JSON.stringify(h,null,2):"Loading..."})]}),t.requestHistory.length>0&&n.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-2",children:[n.jsxs("div",{className:"font-bold text-gray-400",children:["Request History (",t.requestHistory.length,")"]}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-auto",children:t.requestHistory.slice(0,10).map((T,A)=>n.jsxs("div",{className:"text-[9px] bg-black/30 p-2 rounded",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-mono text-yellow-300",children:T.request.traceId}),n.jsx("span",{className:T.response?.ok?"text-green-400":T.error?"text-red-400":"text-gray-400",children:T.response?.status||T.error?.message||"pending"})]}),n.jsxs("div",{className:"text-gray-400",children:[T.request.method," ",T.request.path]})]},A))})]})]})]})}function Cce(){const[e,t]=v.useState(0),[r,s]=v.useState(0),[a,i]=v.useState(!1);return{handleTap:()=>{const c=Date.now();c-r>2e3?t(1):t(d=>d+1),s(c),e>=6&&(i(!0),t(0))},showDiagnostics:a,closeDiagnostics:()=>i(!1)}}function l7(){const[e,t]=zt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(!1),{setAccount:d,refreshMe:m}=dt(),{communityId:f,appName:h,logoUrl:g,brandColor:b,isLoading:w,showPoweredBy:y}=Xi(),{handleTap:j,showDiagnostics:N,closeDiagnostics:C}=Cce();v.useEffect(()=>{Hn.isNativePlatform()&&(console.log("[WhiteLabelLogin] Native platform detected, ensuring API config loaded..."),cg().then(()=>{console.log("[WhiteLabelLogin] API config loaded, ready for requests")}))},[]);const[E,T]=v.useState("welcome"),[A,k]=v.useState(""),[P,O]=v.useState(null),[M,F]=v.useState(""),[D,$]=v.useState(""),[V,z]=v.useState(""),[q,I]=v.useState(""),[K,U]=v.useState(""),[B,ie]=v.useState(""),G=b||"#44A8FF",Y=b?`${parseInt(b.slice(1,3),16)}, ${parseInt(b.slice(3,5),16)}, ${parseInt(b.slice(5,7),16)}`:"68, 168, 255",se=async()=>{if(!A.trim()){F("Veuillez entrer votre code");return}c(!0),F("");try{const Ee=await ia(`/api/memberships/verify/${encodeURIComponent(A)}`);if(!Ee.ok){Ee.status===404?F("Code invalide. Vrifiez votre code et ressayez."):Ee.status===409?F("Ce code a dj t utilis. Connectez-vous avec votre email."):F(Ee.data?.error||"Erreur de vrification");return}const Z=Ee.data;O({displayName:Z.displayName,communityName:Z.communityName,communityLogo:Z.communityLogo,memberId:Z.memberId,section:Z.section}),T("create-account")}catch{F("Erreur de connexion. Ressayez.")}finally{c(!1)}},he=async Ee=>{if(Ee.preventDefault(),K!==B){X.error("Les mots de passe ne correspondent pas");return}if(K.length<6){X.error("Le mot de passe doit contenir au moins 6 caractres");return}i(!0);try{const Z=await da("/api/memberships/register-and-claim",{claimCode:A,email:q,password:K});if(!Z.ok)throw new Error(Z.data?.error||"Erreur d'inscription");const re=Z.data;d({...re.account,memberships:re.memberships}),await m(),console.log("[Register] refreshMe() called after setAccount"),X.success("Compte cr et adhsion active!"),f?t(`/app/${f}/home`):re.memberships.length===1?t(`/app/${re.memberships[0].communityId}/home`):t("/app/hub")}catch(Z){X.error(Z instanceof Error?Z.message:"Erreur d'inscription")}finally{i(!1)}},[Q,xe]=v.useState(""),[me,Ue]=v.useState(""),ge=async Ee=>{Ee.preventDefault(),i(!0),xe(""),Ue(""),console.log("[Login] ====== LOGIN ATTEMPT START ======"),console.log("[Login] Email:",D),console.log("[Login] Password length:",V?.length),console.log("[Login] WL Community ID:",f),console.log("[Login] Is Native Platform:",Hn.isNativePlatform()),console.log("[Login] Platform:",Hn.getPlatform());const Z=Lt();if(console.log("[Login] Current API Base URL:",Z),Hn.isNativePlatform()&&!Z){console.error("[Login] ERROR: No API Base URL configured for native platform!"),xe("Configuration de l'application incorrecte. Veuillez rinstaller l'application."),i(!1);return}try{console.log("[Login] Calling apiPost /api/accounts/login to:",Z);const re=await da("/api/accounts/login",{email:D,password:V});if(Ue(re.traceId),console.log("[Login] Response received:",{ok:re.ok,status:re.status,traceId:re.traceId,durationMs:re.durationMs,hasData:!!re.data,dataKeys:re.data?Object.keys(re.data):[]}),!re.ok){const as=re.data?.error||`Erreur serveur (${re.status})`;console.log("[Login] Login failed:",{errorMsg:as,traceId:re.traceId,status:re.status}),xe(`${as} [${re.status}]`);return}const le=re.data,Re=le.account,Pt=le.memberships,Ot=le.sessionToken;if(console.log("[Login]  Login API successful, account:",{id:Re?.id,email:Re?.email,memberships:Pt?.length,hasToken:!!Ot}),!Ot){console.error("[Login]  Server did not return sessionToken!"),xe("Erreur serveur: pas de token de session");return}const _n=Ot;console.log("[Login] Received server token, length:",_n.length);const{setAuthToken:ss,getAuthToken:Yr,updateDiagnostics:Ns}=await hf(async()=>{const{setAuthToken:as,getAuthToken:er,updateDiagnostics:bi}=await Promise.resolve().then(()=>p0);return{setAuthToken:as,getAuthToken:er,updateDiagnostics:bi}},void 0);console.log("[Login] Step 1: Saving auth token..."),await ss(_n),console.log("[Login] Step 2: Verifying token was saved...");const Jn=await Yr();if(!Jn||Jn!==_n){console.error("[Login]  Token verification failed! Expected:",_n.length,"Got:",Jn?.length),xe("Erreur de sauvegarde de session (token)"),Ns({lastMeStatus:0,lastMeError:"Token save verification failed"});return}console.log("[Login]  Token verified in storage, length:",Jn.length),console.log("[Login] Step 3: Calling /api/accounts/me to verify server session...");const vn=await ia("/api/accounts/me",{Authorization:`Bearer ${Jn}`});if(Ns({lastMeStatus:vn.status,lastMeTraceId:vn.traceId,lastMeError:vn.ok?null:vn.data?.error||"Unknown error"}),console.log("[Login] /me response:",{ok:vn.ok,status:vn.status,traceId:vn.traceId,hasAccount:!!vn.data?.account}),!vn.ok){vn.status===401?(console.error("[Login]  /me returned 401 - auth failed"),xe(`Session invalide [${vn.data?.code||"AUTH_ERROR"}] ${vn.traceId}`)):(console.error("[Login]  /me failed:",vn.status),xe(`Erreur serveur (${vn.status}) ${vn.traceId}`));return}console.log("[Login]  /me verified! Setting account in context..."),d({...Re,memberships:Pt}),await m(),console.log("[Login] refreshMe() called after setAccount to sync avatar"),Ns({isAuthenticated:!0,authReady:!0,accountPresent:!0,accountId:Re.id}),X.success("Connexion russie!"),console.log("[Login]  Navigating to home..."),f?t(`/app/${f}/home`):Pt.length===1?t(`/app/${Pt[0].communityId}/home`):t("/app/hub")}catch(re){console.error("[Login] ====== LOGIN ERROR ======"),console.error("[Login] Error type:",re?.constructor?.name),console.error("[Login] Error message:",re?.message),console.error("[Login] Error stack:",re?.stack);let le="Erreur de connexion";re instanceof Error&&(re.message.includes("Failed to fetch")||re.message.includes("NetworkError")?le="Erreur rseau. Vrifiez votre connexion.":re.message.includes("timeout")?le="Le serveur ne rpond pas.":le=re.message),xe(le),X.error(le)}finally{i(!1),console.log("[Login] ====== LOGIN ATTEMPT END ======")}};return w?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden","data-testid":"whitelabel-login-page",style:{background:`linear-gradient(180deg, ${G}15 0%, ${G}08 40%, #FFFFFF 100%)`},children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-80 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-20 -left-20 w-80 h-80 rounded-full opacity-30",style:{background:`radial-gradient(circle, rgba(${Y}, 0.3) 0%, transparent 70%)`}}),n.jsx("div",{className:"absolute -top-10 right-0 w-60 h-60 rounded-full opacity-20",style:{background:`radial-gradient(circle, rgba(${Y}, 0.4) 0%, transparent 70%)`}}),n.jsx("div",{className:"absolute top-40 left-1/2 -translate-x-1/2 w-[500px] h-[500px] rounded-full opacity-10",style:{background:`radial-gradient(circle, rgba(${Y}, 0.5) 0%, transparent 60%)`}})]}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col px-6 pt-14 pb-6",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsxs("div",{className:"relative mb-4",onClick:j,"data-testid":"logo-tap-area",children:[n.jsx("div",{className:"absolute inset-0 blur-xl opacity-40",style:{background:`radial-gradient(circle, rgba(${Y}, 0.6) 0%, transparent 70%)`}}),g?n.jsx("img",{src:g,alt:h||"App",className:"relative w-24 h-24 object-contain drop-shadow-sm"}):n.jsx("div",{className:"relative w-24 h-24 rounded-full flex items-center justify-center",style:{backgroundColor:`${G}20`},children:n.jsx("span",{className:"text-3xl font-bold",style:{color:G},children:h?.charAt(0)||"A"})})]}),n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:h||"Bienvenue"})]}),n.jsxs("div",{className:"koomy-card p-6 flex-1 flex flex-col max-h-[calc(100vh-220px)] overflow-hidden",children:[E==="welcome"&&n.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Bienvenue!"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Choisissez comment vous souhaitez continuer"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(H,{onClick:()=>T("claim"),className:"w-full h-14 rounded-xl text-base font-bold group transition-all",style:{background:G,boxShadow:`0 4px 14px -2px rgba(${Y}, 0.4)`},"data-testid":"button-first-connection",children:n.jsxs("span",{className:"flex items-center gap-3",children:[n.jsx(L0,{size:20}),"Premire connexion",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})}),n.jsxs("div",{className:"flex items-center gap-3 text-gray-400 text-sm",children:[n.jsx("div",{className:"flex-1 h-px bg-gray-200"}),n.jsx("span",{children:"ou"}),n.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),n.jsx(H,{variant:"outline",onClick:()=>T("login"),className:"w-full h-14 rounded-xl text-base font-bold border-2 transition-all",style:{borderColor:`${G}40`,color:G},"data-testid":"button-already-account",children:n.jsxs("span",{className:"flex items-center gap-3",children:[n.jsx(M0,{size:20}),"J'ai dj un compte"]})})]}),n.jsxs("p",{className:"text-xs text-gray-400 text-center mt-6",children:["Pour votre premire connexion, utilisez le code",n.jsx("br",{}),"que vous avez reu de votre dlgu"]})]}),E==="claim"&&n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsxs("button",{onClick:()=>T("welcome"),className:"flex items-center gap-1 text-gray-500 text-sm mb-4 hover:text-gray-700","data-testid":"button-back-to-welcome",children:[n.jsx(Bn,{size:16}),"Retour"]}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:`${G}15`},children:n.jsx(L0,{className:"w-8 h-8",style:{color:G}})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Activer mon adhsion"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Entrez le code reu de votre dlgu"})]}),n.jsxs("div",{className:"space-y-4 flex-1",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Code de rclamation"}),n.jsx(ne,{type:"text",placeholder:"Ex: DEMO-IDF-2024",value:A,onChange:Ee=>{k(Ee.target.value.toUpperCase()),F("")},className:"h-14 rounded-xl text-center text-lg font-mono tracking-wider text-gray-700 placeholder:text-gray-400",style:{backgroundColor:`${G}08`,borderColor:M?"#ef4444":`${G}30`},onKeyDown:Ee=>Ee.key==="Enter"&&se(),"data-testid":"input-claim-code"}),M&&n.jsxs("div",{className:"flex items-center gap-2 text-red-500 text-sm",children:[n.jsx(_s,{size:16}),n.jsx("span",{children:M})]})]}),n.jsx(H,{type:"button",onClick:se,className:"w-full h-12 rounded-xl text-base font-bold group transition-all",style:{background:G,boxShadow:`0 4px 14px -2px rgba(${Y}, 0.4)`},disabled:o||!A.trim(),"data-testid":"button-verify-code",children:o?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Oe,{className:"animate-spin",size:18}),"Vrification..."]}):n.jsxs("span",{className:"flex items-center gap-2",children:["Vrifier mon code ",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})})]})]}),E==="create-account"&&P&&n.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[n.jsxs("button",{onClick:()=>{T("claim"),O(null)},className:"flex items-center gap-1 text-gray-500 text-sm mb-4 hover:text-gray-700","data-testid":"button-back-to-claim",children:[n.jsx(Bn,{size:16}),"Retour"]}),n.jsxs("div",{className:"text-center mb-5",children:[n.jsx("div",{className:"w-14 h-14 mx-auto mb-3 rounded-full flex items-center justify-center bg-green-100",children:n.jsx(vs,{className:"w-7 h-7 text-green-600"})}),n.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-1",children:"Code vrifi!"}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["Bienvenue ",n.jsx("span",{className:"font-semibold",children:P.displayName})]}),P.section&&n.jsx("div",{className:"mt-2 px-3 py-1.5 bg-gray-100 rounded-lg inline-block",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Section: ",P.section]})})]}),n.jsxs("form",{onSubmit:he,className:"space-y-3 flex-1",children:[n.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:"Crez votre compte pour accder  l'application :"}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Email *"}),n.jsx(ne,{type:"email",placeholder:"votre.email@exemple.com",value:q,onChange:Ee=>I(Ee.target.value),className:"h-11 rounded-xl text-gray-700 placeholder:text-gray-400",style:{backgroundColor:`${G}08`,borderColor:`${G}30`},required:!0,"data-testid":"input-register-email"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Mot de passe *"}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:r?"text":"password",placeholder:"Minimum 6 caractres",value:K,onChange:Ee=>U(Ee.target.value),className:"h-11 rounded-xl pr-11 text-gray-700 placeholder:text-gray-400",style:{backgroundColor:`${G}08`,borderColor:`${G}30`},required:!0,minLength:6,"data-testid":"input-register-password"}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400",children:r?n.jsx(ma,{size:18}):n.jsx(ws,{size:18})})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Confirmer le mot de passe *"}),n.jsx(ne,{type:"password",placeholder:"Confirmez le mot de passe",value:B,onChange:Ee=>ie(Ee.target.value),className:"h-11 rounded-xl text-gray-700 placeholder:text-gray-400",style:{backgroundColor:`${G}08`,borderColor:`${G}30`},required:!0,"data-testid":"input-register-confirm"})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl text-base font-bold mt-3 group transition-all",style:{background:G,boxShadow:`0 4px 14px -2px rgba(${Y}, 0.4)`},disabled:a,"data-testid":"button-create-account",children:a?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Oe,{className:"animate-spin",size:18}),"Cration..."]}):n.jsxs("span",{className:"flex items-center gap-2",children:["Crer mon compte ",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})}),n.jsx("p",{className:"text-xs text-gray-400 text-center pt-2",children:"En crant un compte, vous acceptez nos conditions d'utilisation."})]})]}),E==="login"&&n.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[n.jsxs("button",{onClick:()=>T("welcome"),className:"flex items-center gap-1 text-gray-500 text-sm mb-4 hover:text-gray-700","data-testid":"button-back-to-welcome-from-login",children:[n.jsx(Bn,{size:16}),"Retour"]}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{backgroundColor:`${G}15`},children:n.jsx(M0,{className:"w-8 h-8",style:{color:G}})}),n.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Connexion"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Connectez-vous  votre compte"})]}),n.jsxs("form",{onSubmit:ge,className:"space-y-4 flex-1",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Email"}),n.jsx(ne,{type:"email",placeholder:"votre.email@exemple.com",value:D,onChange:Ee=>$(Ee.target.value),className:"h-12 rounded-xl text-gray-700 placeholder:text-gray-400",style:{backgroundColor:`${G}08`,borderColor:`${G}30`},required:!0,"data-testid":"input-login-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:r?"text":"password",value:V,onChange:Ee=>{z(Ee.target.value),xe("")},className:"h-12 rounded-xl pr-11 text-gray-700",style:{backgroundColor:`${G}08`,borderColor:Q?"#ef4444":`${G}30`},required:!0,"data-testid":"input-login-password"}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors","data-testid":"button-toggle-password",children:r?n.jsx(ma,{size:18}):n.jsx(ws,{size:18})})]}),Q&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-2","data-testid":"login-error",children:[n.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm",children:[n.jsx(_s,{size:16,className:"flex-shrink-0"}),n.jsx("span",{children:Q})]}),me&&n.jsxs("div",{className:"text-xs text-red-400 mt-1 font-mono",children:["Trace: ",me]})]})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl text-base font-bold mt-3 group transition-all",style:{background:G,boxShadow:`0 4px 14px -2px rgba(${Y}, 0.4)`},disabled:a,"data-testid":"button-login",children:a?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Oe,{className:"animate-spin",size:18}),"Connexion..."]}):n.jsxs("span",{className:"flex items-center gap-2",children:["Se connecter ",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})}),n.jsx("div",{className:"text-center pt-2",children:n.jsx("a",{href:"#",className:"text-sm font-medium transition-colors",style:{color:G},children:"Mot de passe oubli ?"})})]})]})]}),n.jsx("div",{className:"mt-auto pt-6 pb-4 text-center",children:y!==!1&&n.jsxs("p",{className:"text-[11px] text-gray-300",children:["Powered by ",n.jsx("span",{className:"font-semibold",children:"Koomy"})," 2026"]})})]}),N&&n.jsx(Sce,{onClose:C})]})}function Ds({children:e,communityId:t}){const[r]=zt(),{currentCommunity:s,currentMembership:a}=dt(),{isWhiteLabel:i,appName:o,logoUrl:c,brandColor:d,showPoweredBy:m}=Xi(),f=a?.role==="admin"||a?.adminRole!==null,h=[{icon:Kx,label:"Accueil",path:`/app/${t}/home`},{icon:mn,label:"Carte",path:`/app/${t}/card`},{icon:bs,label:"Messages",path:`/app/${t}/messages`},{icon:eu,label:"Actus",path:`/app/${t}/news`},{icon:gi,label:"Compte",path:`/app/${t}/profile`}],g=ar(s?.logo,"MobileLayout-logo"),b=i&&c?c:g||`https://api.dicebear.com/7.x/shapes/svg?seed=${s?.name}`,w=i?o:s?.name,y=i?null:"Koomy App";return n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center",children:n.jsxs("div",{className:"w-full max-w-md bg-background min-h-screen shadow-2xl relative flex flex-col",children:[s&&n.jsxs("header",{className:"bg-white border-b border-gray-100 px-4 py-3 flex items-center justify-between sticky top-0 z-40 shadow-sm",style:i?{borderBottomColor:d+"20"}:void 0,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[!i&&n.jsxs($e,{href:"/app/hub",className:"flex items-center gap-1.5 px-2.5 py-1.5 -ml-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors","data-testid":"button-my-cards",children:[n.jsx(tu,{size:16}),n.jsx("span",{className:"text-xs font-semibold",children:"Mes communauts"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:b,alt:w||"App",className:"h-8 w-8 object-contain rounded"}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-bold text-sm leading-none text-gray-900",children:w}),y&&n.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:y})]})]})]}),f&&n.jsxs($e,{href:`/app/${t}/admin`,className:"px-3 py-1.5 rounded-full text-xs font-bold flex items-center gap-1 transition-colors",style:i?{backgroundColor:d+"15",color:d}:void 0,children:[n.jsx(Mr,{size:12,fill:"currentColor"})," Admin"]})]}),n.jsx("main",{className:Le("flex-1 overflow-y-auto scrollbar-hide",i&&m?"pb-32":"pb-24"),children:e}),i&&m&&n.jsx("div",{className:"fixed bottom-20 w-full max-w-md z-40 flex justify-center",children:n.jsx("a",{href:"https://koomy.app",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-gray-400 hover:text-gray-600 transition-colors","data-testid":"powered-by-koomy",children:"Propuls par Koomy.app"})}),t&&n.jsx("nav",{className:"fixed bottom-0 w-full max-w-md bg-white border-t border-gray-200 pb-safe pt-2 px-2 z-50",children:n.jsx("div",{className:"flex justify-around items-center h-16",children:h.map(j=>{const N=r===j.path;return n.jsxs($e,{href:j.path,className:Le("flex flex-col items-center justify-center w-16 h-full transition-all duration-200",!i&&(N?"text-primary":"text-gray-400 hover:text-gray-600")),style:i?{color:N?d:"#9ca3af"}:void 0,children:[n.jsx(j.icon,{className:Le("h-6 w-6 mb-1 transition-transform duration-200",N?"scale-110 stroke-[2.5px]":"stroke-2")}),n.jsx("span",{className:"text-[10px] font-medium",children:j.label})]},j.path)})})})]})})}const Ace=wj("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return n.jsx("div",{className:Le(Ace({variant:t}),e),...r})}function Ece(e,t=[]){let r=[];function s(i,o){const c=v.createContext(o);c.displayName=i+"Context";const d=r.length;r=[...r,o];const m=h=>{const{scope:g,children:b,...w}=h,y=g?.[e]?.[d]||c,j=v.useMemo(()=>w,Object.values(w));return n.jsx(y.Provider,{value:j,children:b})};m.displayName=i+"Provider";function f(h,g){const b=g?.[e]?.[d]||c,w=v.useContext(b);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[m,f]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(c){const d=c?.[e]||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[s,_ce(a,...t)]}function _ce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((c,{useScope:d,scopeName:m})=>{const h=d(i)[`__scope${m}`];return{...c,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Tce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],c7=Tce.reduce((e,t)=>{const r=Sj(`Primitive.${t}`),s=v.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),S4="Progress",C4=100,[Pce]=Ece(S4),[Oce,kce]=Pce(S4),u7=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:i=Mce,...o}=e;(a||a===0)&&!M6(a)&&console.error(Rce(`${a}`,"Progress"));const c=M6(a)?a:C4;s!==null&&!R6(s,c)&&console.error(Dce(`${s}`,"Progress"));const d=R6(s,c)?s:null,m=z0(d)?i(d,c):void 0;return n.jsx(Oce,{scope:r,value:d,max:c,children:n.jsx(c7.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":z0(d)?d:void 0,"aria-valuetext":m,role:"progressbar","data-state":f7(d,c),"data-value":d??void 0,"data-max":c,...o,ref:t})})});u7.displayName=S4;var d7="ProgressIndicator",m7=v.forwardRef((e,t)=>{const{__scopeProgress:r,...s}=e,a=kce(d7,r);return n.jsx(c7.div,{"data-state":f7(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})});m7.displayName=d7;function Mce(e,t){return`${Math.round(e/t*100)}%`}function f7(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function z0(e){return typeof e=="number"}function M6(e){return z0(e)&&!isNaN(e)&&e>0}function R6(e,t){return z0(e)&&!isNaN(e)&&e<=t&&e>=0}function Rce(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${C4}\`.`}function Dce(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${C4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var h7=u7,Ice=m7;const zc=v.forwardRef(({className:e,value:t,...r},s)=>n.jsx(h7,{ref:s,className:Le("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:n.jsx(Ice,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));zc.displayName=h7.displayName;function Lce({membershipId:e,amountDue:t,currency:r,planName:s,communityName:a}){const[i,o]=v.useState(!1);Wt();const c=qe({mutationFn:async()=>{const g=await fetch("/api/payments/create-member-payment-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({membershipId:e})});if(!g.ok){const b=await g.json();throw new Error(b.error||"Failed to create checkout session")}return g.json()},onSuccess:g=>{g.checkoutUrl&&(window.location.href=g.checkoutUrl)},onError:g=>{X.error(g.message)}}),d=g=>(g/100).toLocaleString("fr-FR",{style:"currency",currency:r||"EUR"}),m=()=>{c.mutate()},f=()=>{o(!0),localStorage.setItem(`payment_banner_dismissed_${e}`,Date.now().toString())};if(i){const g=localStorage.getItem(`payment_banner_dismissed_${e}`);if(g){const b=parseInt(g,10);if((Date.now()-b)/(1e3*60*60)<24)return null;localStorage.removeItem(`payment_banner_dismissed_${e}`)}}const h=localStorage.getItem(`payment_banner_dismissed_${e}`);if(h){const g=parseInt(h,10);if((Date.now()-g)/(1e3*60*60)<24)return null}return n.jsx(ve,{className:"bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200 shadow-md mb-6","data-testid":"payment-banner",children:n.jsx(je,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-amber-100 rounded-full shrink-0",children:n.jsx(_s,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-amber-900","data-testid":"payment-banner-title",children:"Adhsion  finaliser"}),n.jsxs("p",{className:"text-sm text-amber-700 mt-1","data-testid":"payment-banner-amount",children:["Montant : ",d(t),s&&n.jsxs("span",{className:"text-amber-600",children:["  ",s]})]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsxs(H,{size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white gap-2",onClick:m,disabled:c.isPending,"data-testid":"payment-banner-pay-button",children:[c.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(mn,{className:"h-4 w-4"}),"Payer maintenant"]}),n.jsx(H,{size:"sm",variant:"ghost",className:"text-amber-700 hover:bg-amber-100",onClick:f,"data-testid":"payment-banner-dismiss",children:"Plus tard"})]})]}),n.jsx("button",{onClick:f,className:"p-1 hover:bg-amber-100 rounded shrink-0","aria-label":"Fermer",children:n.jsx(fn,{className:"h-4 w-4 text-amber-500"})})]})})})}function p7({params:e}){const{communityId:t}=e,{user:r,account:s,currentMembership:a,currentCommunity:i,selectCommunity:o,selectMembership:c}=dt(),d=s||r,m=s?.memberships?.find(N=>N.communityId===t),f=a||m;v.useEffect(()=>{i?.id!==t&&o(t),m&&a?.id!==m.id&&c(m.id)},[t,m,a,i,c,o]);const{data:h=[]}=Pe({queryKey:[`/api/communities/${t}/news`],enabled:!!t}),{data:g=[]}=Pe({queryKey:[`/api/communities/${t}/events`],enabled:!!t}),{data:b}=Pe({queryKey:[`/api/collections/${t}`],enabled:!!t}),w=b?.collections||[],y=h.slice(0,2),j=g.find(N=>new Date(N.date)>=new Date);return!d||!f?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx("p",{className:"text-gray-600 font-medium",children:"Accs refus"}),n.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Veuillez vous connecter pour accder  cette communaut"}),n.jsx($e,{href:"/app/login",className:"text-primary text-sm mt-4 inline-block hover:underline",children:"Retour  la connexion"})]})}):n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"p-6 pt-8 bg-white relative",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 font-medium",children:"Bonjour,"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:f.displayName||d.firstName||"Membre"}),n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx(Se,{variant:"secondary",className:`
                ${f.status==="active"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"} 
                hover:bg-opacity-80 px-3 py-1 rounded-full text-xs font-semibold border-0
              `,children:f.status==="active"?"Membre Actif":"Expir"}),f.section&&n.jsx("span",{className:"text-xs text-gray-400",children:f.section})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:ar(d.avatar)||`https://api.dicebear.com/7.x/avataaars/svg?seed=${d.firstName||"user"}`,alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-white shadow-md object-cover"}),n.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]})]}),f.membershipPaymentStatus==="due"&&(f.membershipAmountDue||0)>0&&n.jsx(Lce,{membershipId:f.id,amountDue:f.membershipAmountDue||0,currency:f.membershipCurrency||"EUR",planName:f.membershipPlanName,communityName:i?.name}),n.jsx($e,{href:`/app/${t}/card`,children:n.jsxs("div",{className:"bg-gradient-to-br from-primary to-blue-700 rounded-2xl p-6 text-white shadow-lg shadow-blue-900/20 mb-8 transform transition-transform active:scale-98 cursor-pointer relative overflow-hidden group",children:[n.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-20 h-20 bg-white/10 rounded-full blur-xl"}),n.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Carte d'adhrent"}),n.jsx("p",{className:"text-2xl font-mono tracking-wider font-bold text-white/90",children:f.memberId})]}),n.jsx(mn,{className:"text-white/80",size:28})]}),n.jsxs("div",{className:"mt-6 flex justify-between items-end relative z-10",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-blue-200 uppercase tracking-wide",children:"Anne"}),n.jsx("p",{className:"text-lg font-semibold",children:new Date().getFullYear()})]}),n.jsxs("div",{className:"bg-white/20 hover:bg-white/30 transition-colors rounded-lg p-2 px-3 backdrop-blur-sm text-xs font-medium flex items-center gap-1",children:["Afficher ",n.jsx(xs,{size:14})]})]})]})}),w.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(oie,{className:"text-rose-500",size:20}),n.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Collectes en cours"})]}),n.jsx("div",{className:"space-y-3",children:w.slice(0,2).map(N=>{const C=N.targetAmountCents&&N.targetAmountCents>0?Math.min(100,Math.round((N.collectedAmountCents||0)/N.targetAmountCents*100)):0,E=N.amountCents?`${(N.amountCents/100).toFixed(0)} `:"Montant libre";return n.jsx($e,{href:`/app/${t}/payment?type=collection&id=${N.id}`,children:n.jsx(ve,{className:"overflow-hidden border-0 shadow-md rounded-xl cursor-pointer hover:shadow-lg transition-all bg-gradient-to-r from-rose-50 to-orange-50","data-testid":`card-collection-${N.id}`,children:n.jsxs(je,{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-bold text-gray-900 leading-tight line-clamp-2",children:N.title}),N.description&&n.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:N.description})]}),n.jsx(Se,{className:"bg-rose-100 text-rose-700 border-0 ml-2 shrink-0",children:E})]}),N.targetAmountCents&&N.targetAmountCents>0&&n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mb-1",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(wd,{size:12}),"Objectif: ",(N.targetAmountCents/100).toFixed(0)," "]}),n.jsxs("span",{className:"font-medium text-rose-600",children:[C,"%"]})]}),n.jsx(zc,{value:C,className:"h-2 bg-gray-200"})]}),n.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-gray-100",children:[n.jsxs("span",{className:"text-xs text-gray-400",children:[N.participantsCount||0," participant",(N.participantsCount||0)>1?"s":""]}),n.jsxs(H,{size:"sm",className:"h-7 text-xs bg-rose-500 hover:bg-rose-600",children:["Participer ",n.jsx(En,{size:12,className:"ml-1"})]})]})]})})},N.id)})})]}),n.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Actualits"}),n.jsx($e,{href:`/app/${t}/news`,className:"text-sm text-primary font-medium hover:underline",children:"Tout voir"})]}),n.jsx("div",{className:"space-y-4",children:y.length>0?y.map(N=>n.jsx($e,{href:`/app/${t}/news/${N.id}`,children:n.jsxs(ve,{className:"overflow-hidden border-0 shadow-md rounded-xl cursor-pointer hover:shadow-lg transition-shadow","data-testid":`card-news-${N.id}`,children:[n.jsxs("div",{className:"h-32 overflow-hidden relative",children:[n.jsx("img",{src:ar(N.image)||"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=400",alt:N.title,className:"w-full h-full object-cover"}),n.jsx(Se,{className:"absolute top-3 left-3 bg-white/90 text-gray-800 hover:bg-white backdrop-blur-sm shadow-sm border-0",children:N.category||"Actualit"})]}),n.jsxs(je,{className:"p-4",children:[n.jsx("p",{className:"text-xs text-gray-400 mb-1",children:new Date(N.publishedAt).toLocaleDateString("fr-FR")}),n.jsx("h3",{className:"font-bold text-gray-900 leading-tight mb-2 line-clamp-2",children:N.title}),n.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:N.summary})]})]})},N.id)):n.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-xl border border-dashed border-gray-200 text-gray-400 text-sm",children:"Aucune actualit rcente"})}),n.jsxs("div",{className:"mt-8 mb-20",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsx("h3",{className:"font-bold text-gray-800",children:"Prochain vnement"}),n.jsx($e,{href:`/app/${t}/events`,className:"text-sm text-primary font-medium hover:underline",children:"Tous les vnements"})]}),n.jsx("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-100",children:j?n.jsx($e,{href:`/app/${t}/events/${j.id}`,children:n.jsxs("div",{className:"flex gap-3 items-center cursor-pointer","data-testid":`card-event-${j.id}`,children:[n.jsxs("div",{className:"bg-red-100 text-red-600 rounded-lg w-12 h-12 flex flex-col items-center justify-center leading-none",children:[n.jsx("span",{className:"text-xs font-bold",children:new Date(j.date).toLocaleDateString("fr-FR",{month:"short"}).toUpperCase()}),n.jsx("span",{className:"text-lg font-bold",children:new Date(j.date).getDate()})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-sm line-clamp-1",children:j.title}),n.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[j.location,"  ",new Date(j.date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}),n.jsx(xs,{size:20,className:"text-gray-400"})]})}):n.jsx("p",{className:"text-sm text-gray-400",children:"Aucun vnement  venir"})})]})]})})}const g7=v.createContext({});function $ce(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const A4=typeof window<"u",zce=A4?v.useLayoutEffect:v.useEffect,E4=v.createContext(null);function _4(e,t){e.indexOf(t)===-1&&e.push(t)}function T4(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Al=(e,t,r)=>r>t?t:r<e?e:r;let P4=()=>{};const El={},x7=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function y7(e){return typeof e=="object"&&e!==null}const v7=e=>/^0[^.\s]+$/u.test(e);function O4(e){let t;return()=>(t===void 0&&(t=e()),t)}const mi=e=>e,qce=(e,t)=>r=>t(e(r)),Hx=(...e)=>e.reduce(qce),Og=(e,t,r)=>{const s=t-e;return s===0?1:(r-e)/s};class k4{constructor(){this.subscriptions=[]}add(t){return _4(this.subscriptions,t),()=>T4(this.subscriptions,t)}notify(t,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const No=e=>e*1e3,ui=e=>e/1e3;function b7(e,t){return t?e*(1e3/t):0}const j7=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Fce=1e-7,Bce=12;function Uce(e,t,r,s,a){let i,o,c=0;do o=t+(r-t)/2,i=j7(o,s,a)-e,i>0?r=o:t=o;while(Math.abs(i)>Fce&&++c<Bce);return o}function Gx(e,t,r,s){if(e===t&&r===s)return mi;const a=i=>Uce(i,0,1,e,r);return i=>i===0||i===1?i:j7(a(i),t,s)}const w7=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,N7=e=>t=>1-e(1-t),S7=Gx(.33,1.53,.69,.99),M4=N7(S7),C7=w7(M4),A7=e=>(e*=2)<1?.5*M4(e):.5*(2-Math.pow(2,-10*(e-1))),R4=e=>1-Math.sin(Math.acos(e)),E7=N7(R4),_7=w7(R4),Vce=Gx(.42,0,1,1),Kce=Gx(0,0,.58,1),T7=Gx(.42,0,.58,1),Hce=e=>Array.isArray(e)&&typeof e[0]!="number",P7=e=>Array.isArray(e)&&typeof e[0]=="number",Gce={linear:mi,easeIn:Vce,easeInOut:T7,easeOut:Kce,circIn:R4,circInOut:_7,circOut:E7,backIn:M4,backInOut:C7,backOut:S7,anticipate:A7},Wce=e=>typeof e=="string",D6=e=>{if(P7(e)){P4(e.length===4);const[t,r,s,a]=e;return Gx(t,r,s,a)}else if(Wce(e))return Gce[e];return e},Fv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Yce(e,t){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(f){o.has(f)&&(m.schedule(f),e()),f(c)}const m={schedule:(f,h=!1,g=!1)=>{const w=g&&a?r:s;return h&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{s.delete(f),o.delete(f)},process:f=>{if(c=f,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(d),r.clear(),a=!1,i&&(i=!1,m.process(f))}};return m}const Qce=40;function O7(e,t){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Fv.reduce((E,T)=>(E[T]=Yce(i),E),{}),{setup:c,read:d,resolveKeyframes:m,preUpdate:f,update:h,preRender:g,render:b,postRender:w}=o,y=()=>{const E=El.useManualTiming?a.timestamp:performance.now();r=!1,El.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(E-a.timestamp,Qce),1)),a.timestamp=E,a.isProcessing=!0,c.process(a),d.process(a),m.process(a),f.process(a),h.process(a),g.process(a),b.process(a),w.process(a),a.isProcessing=!1,r&&t&&(s=!1,e(y))},j=()=>{r=!0,s=!0,a.isProcessing||e(y)};return{schedule:Fv.reduce((E,T)=>{const A=o[T];return E[T]=(k,P=!1,O=!1)=>(r||j(),A.schedule(k,P,O)),E},{}),cancel:E=>{for(let T=0;T<Fv.length;T++)o[Fv[T]].cancel(E)},state:a,steps:o}}const{schedule:Xn,cancel:Kc,state:ps,steps:y2}=O7(typeof requestAnimationFrame<"u"?requestAnimationFrame:mi,!0);let b0;function Xce(){b0=void 0}const la={now:()=>(b0===void 0&&la.set(ps.isProcessing||El.useManualTiming?ps.timestamp:performance.now()),b0),set:e=>{b0=e,queueMicrotask(Xce)}},k7=e=>t=>typeof t=="string"&&t.startsWith(e),D4=k7("--"),Zce=k7("var(--"),I4=e=>Zce(e)?Jce.test(e.split("/*")[0].trim()):!1,Jce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},kg={...hh,transform:e=>Al(0,1,e)},Bv={...hh,default:1},fg=e=>Math.round(e*1e5)/1e5,L4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eue(e){return e==null}const tue=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$4=(e,t)=>r=>!!(typeof r=="string"&&tue.test(r)&&r.startsWith(e)||t&&!eue(r)&&Object.prototype.hasOwnProperty.call(r,t)),M7=(e,t,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,c]=s.match(L4);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},nue=e=>Al(0,255,e),v2={...hh,transform:e=>Math.round(nue(e))},td={test:$4("rgb","red"),parse:M7("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:s=1})=>"rgba("+v2.transform(e)+", "+v2.transform(t)+", "+v2.transform(r)+", "+fg(kg.transform(s))+")"};function rue(e){let t="",r="",s="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const D_={test:$4("#"),parse:rue,transform:td.transform},Wx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kc=Wx("deg"),So=Wx("%"),Nt=Wx("px"),sue=Wx("vh"),aue=Wx("vw"),I6={...So,parse:e=>So.parse(e)/100,transform:e=>So.transform(e*100)},ef={test:$4("hsl","hue"),parse:M7("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:s=1})=>"hsla("+Math.round(e)+", "+So.transform(fg(t))+", "+So.transform(fg(r))+", "+fg(kg.transform(s))+")"},Tr={test:e=>td.test(e)||D_.test(e)||ef.test(e),parse:e=>td.test(e)?td.parse(e):ef.test(e)?ef.parse(e):D_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?td.transform(e):ef.transform(e),getAnimatableNone:e=>{const t=Tr.parse(e);return t.alpha=0,Tr.transform(t)}},iue=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oue(e){return isNaN(e)&&typeof e=="string"&&(e.match(L4)?.length||0)+(e.match(iue)?.length||0)>0}const R7="number",D7="color",lue="var",cue="var(",L6="${}",uue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mg(e){const t=e.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const c=t.replace(uue,d=>(Tr.test(d)?(s.color.push(i),a.push(D7),r.push(Tr.parse(d))):d.startsWith(cue)?(s.var.push(i),a.push(lue),r.push(d)):(s.number.push(i),a.push(R7),r.push(parseFloat(d))),++i,L6)).split(L6);return{values:r,split:c,indexes:s,types:a}}function I7(e){return Mg(e).values}function L7(e){const{split:t,types:r}=Mg(e),s=t.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=t[o],a[o]!==void 0){const c=r[o];c===R7?i+=fg(a[o]):c===D7?i+=Tr.transform(a[o]):i+=a[o]}return i}}const due=e=>typeof e=="number"?0:Tr.test(e)?Tr.getAnimatableNone(e):e;function mue(e){const t=I7(e);return L7(e)(t.map(due))}const Hc={test:oue,parse:I7,createTransformer:L7,getAnimatableNone:mue};function b2(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function fue({hue:e,saturation:t,lightness:r,alpha:s}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const c=r<.5?r*(1+t):r+t-r*t,d=2*r-c;a=b2(d,c,e+1/3),i=b2(d,c,e),o=b2(d,c,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function q0(e,t){return r=>r>0?t:e}const sr=(e,t,r)=>e+(t-e)*r,j2=(e,t,r)=>{const s=e*e,a=r*(t*t-s)+s;return a<0?0:Math.sqrt(a)},hue=[D_,td,ef],pue=e=>hue.find(t=>t.test(e));function $6(e){const t=pue(e);if(!t)return!1;let r=t.parse(e);return t===ef&&(r=fue(r)),r}const z6=(e,t)=>{const r=$6(e),s=$6(t);if(!r||!s)return q0(e,t);const a={...r};return i=>(a.red=j2(r.red,s.red,i),a.green=j2(r.green,s.green,i),a.blue=j2(r.blue,s.blue,i),a.alpha=sr(r.alpha,s.alpha,i),td.transform(a))},I_=new Set(["none","hidden"]);function gue(e,t){return I_.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function xue(e,t){return r=>sr(e,t,r)}function z4(e){return typeof e=="number"?xue:typeof e=="string"?I4(e)?q0:Tr.test(e)?z6:bue:Array.isArray(e)?$7:typeof e=="object"?Tr.test(e)?z6:yue:q0}function $7(e,t){const r=[...e],s=r.length,a=e.map((i,o)=>z4(i)(i,t[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function yue(e,t){const r={...e,...t},s={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(s[a]=z4(e[a])(e[a],t[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function vue(e,t){const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][s[i]],c=e.values[o]??0;r[a]=c,s[i]++}return r}const bue=(e,t)=>{const r=Hc.createTransformer(t),s=Mg(e),a=Mg(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?I_.has(e)&&!a.values.length||I_.has(t)&&!s.values.length?gue(e,t):Hx($7(vue(s,a),a.values),r):q0(e,t)};function z7(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?sr(e,t,r):z4(e)(e,t)}const jue=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Xn.update(t,r),stop:()=>Kc(t),now:()=>ps.isProcessing?ps.timestamp:la.now()}},q7=(e,t,r=10)=>{let s="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)s+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},F0=2e4;function q4(e){let t=0;const r=50;let s=e.next(t);for(;!s.done&&t<F0;)t+=r,s=e.next(t);return t>=F0?1/0:t}function wue(e,t=100,r){const s=r({...e,keyframes:[0,t]}),a=Math.min(q4(s),F0);return{type:"keyframes",ease:i=>s.next(a*i).value/t,duration:ui(a)}}const Nue=5;function F7(e,t,r){const s=Math.max(t-Nue,0);return b7(r-e(s),t-s)}const cr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},w2=.001;function Sue({duration:e=cr.duration,bounce:t=cr.bounce,velocity:r=cr.velocity,mass:s=cr.mass}){let a,i,o=1-t;o=Al(cr.minDamping,cr.maxDamping,o),e=Al(cr.minDuration,cr.maxDuration,ui(e)),o<1?(a=m=>{const f=m*o,h=f*e,g=f-r,b=L_(m,o),w=Math.exp(-h);return w2-g/b*w},i=m=>{const h=m*o*e,g=h*r+r,b=Math.pow(o,2)*Math.pow(m,2)*e,w=Math.exp(-h),y=L_(Math.pow(m,2),o);return(-a(m)+w2>0?-1:1)*((g-b)*w)/y}):(a=m=>{const f=Math.exp(-m*e),h=(m-r)*e+1;return-w2+f*h},i=m=>{const f=Math.exp(-m*e),h=(r-m)*(e*e);return f*h});const c=5/e,d=Aue(a,i,c);if(e=No(e),isNaN(d))return{stiffness:cr.stiffness,damping:cr.damping,duration:e};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:o*2*Math.sqrt(s*m),duration:e}}}const Cue=12;function Aue(e,t,r){let s=r;for(let a=1;a<Cue;a++)s=s-e(s)/t(s);return s}function L_(e,t){return e*Math.sqrt(1-t*t)}const Eue=["duration","bounce"],_ue=["stiffness","damping","mass"];function q6(e,t){return t.some(r=>e[r]!==void 0)}function Tue(e){let t={velocity:cr.velocity,stiffness:cr.stiffness,damping:cr.damping,mass:cr.mass,isResolvedFromDuration:!1,...e};if(!q6(e,_ue)&&q6(e,Eue))if(e.visualDuration){const r=e.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*Al(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:cr.mass,stiffness:a,damping:i}}else{const r=Sue(e);t={...t,...r,mass:cr.mass},t.isResolvedFromDuration=!0}return t}function B0(e=cr.visualDuration,t=cr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:m,mass:f,duration:h,velocity:g,isResolvedFromDuration:b}=Tue({...r,velocity:-ui(r.velocity||0)}),w=g||0,y=m/(2*Math.sqrt(d*f)),j=o-i,N=ui(Math.sqrt(d/f)),C=Math.abs(j)<5;s||(s=C?cr.restSpeed.granular:cr.restSpeed.default),a||(a=C?cr.restDelta.granular:cr.restDelta.default);let E;if(y<1){const A=L_(N,y);E=k=>{const P=Math.exp(-y*N*k);return o-P*((w+y*N*j)/A*Math.sin(A*k)+j*Math.cos(A*k))}}else if(y===1)E=A=>o-Math.exp(-N*A)*(j+(w+N*j)*A);else{const A=N*Math.sqrt(y*y-1);E=k=>{const P=Math.exp(-y*N*k),O=Math.min(A*k,300);return o-P*((w+y*N*j)*Math.sinh(O)+A*j*Math.cosh(O))/A}}const T={calculatedDuration:b&&h||null,next:A=>{const k=E(A);if(b)c.done=A>=h;else{let P=A===0?w:0;y<1&&(P=A===0?No(w):F7(E,A,k));const O=Math.abs(P)<=s,M=Math.abs(o-k)<=a;c.done=O&&M}return c.value=c.done?o:k,c},toString:()=>{const A=Math.min(q4(T),F0),k=q7(P=>T.next(A*P).value,A,30);return A+"ms "+k},toTransition:()=>{}};return T}B0.applyToOptions=e=>{const t=wue(e,100,B0);return e.ease=t.ease,e.duration=No(t.duration),e.type="keyframes",e};function $_({keyframes:e,velocity:t=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:d,restDelta:m=.5,restSpeed:f}){const h=e[0],g={done:!1,value:h},b=O=>c!==void 0&&O<c||d!==void 0&&O>d,w=O=>c===void 0?d:d===void 0||Math.abs(c-O)<Math.abs(d-O)?c:d;let y=r*t;const j=h+y,N=o===void 0?j:o(j);N!==j&&(y=N-h);const C=O=>-y*Math.exp(-O/s),E=O=>N+C(O),T=O=>{const M=C(O),F=E(O);g.done=Math.abs(M)<=m,g.value=g.done?N:F};let A,k;const P=O=>{b(g.value)&&(A=O,k=B0({keyframes:[g.value,w(g.value)],velocity:F7(E,O,g.value),damping:a,stiffness:i,restDelta:m,restSpeed:f}))};return P(0),{calculatedDuration:null,next:O=>{let M=!1;return!k&&A===void 0&&(M=!0,T(O),P(O)),A!==void 0&&O>=A?k.next(O-A):(!M&&T(O),g)}}}function Pue(e,t,r){const s=[],a=r||El.mix||z7,i=e.length-1;for(let o=0;o<i;o++){let c=a(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||mi:t;c=Hx(d,c)}s.push(c)}return s}function Oue(e,t,{clamp:r=!0,ease:s,mixer:a}={}){const i=e.length;if(P4(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Pue(t,s,a),d=c.length,m=f=>{if(o&&f<e[0])return t[0];let h=0;if(d>1)for(;h<e.length-2&&!(f<e[h+1]);h++);const g=Og(e[h],e[h+1],f);return c[h](g)};return r?f=>m(Al(e[0],e[i-1],f)):m}function kue(e,t){const r=e[e.length-1];for(let s=1;s<=t;s++){const a=Og(0,t,s);e.push(sr(r,1,a))}}function Mue(e){const t=[0];return kue(t,e.length-1),t}function Rue(e,t){return e.map(r=>r*t)}function Due(e,t){return e.map(()=>t||T7).splice(0,e.length-1)}function hg({duration:e=300,keyframes:t,times:r,ease:s="easeInOut"}){const a=Hce(s)?s.map(D6):D6(s),i={done:!1,value:t[0]},o=Rue(r&&r.length===t.length?r:Mue(t),e),c=Oue(o,t,{ease:Array.isArray(a)?a:Due(t,a)});return{calculatedDuration:e,next:d=>(i.value=c(d),i.done=d>=e,i)}}const Iue=e=>e!==null;function F4(e,{repeat:t,repeatType:r="loop"},s,a=1){const i=e.filter(Iue),c=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!c||s===void 0?i[c]:s}const Lue={decay:$_,inertia:$_,tween:hg,keyframes:hg,spring:B0};function B7(e){typeof e.type=="string"&&(e.type=Lue[e.type])}class B4{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const $ue=e=>e/100;class U4 extends B4{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==la.now()&&this.tick(la.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;B7(t);const{type:r=hg,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:c}=t;const d=r||hg;d!==hg&&typeof c[0]!="number"&&(this.mixKeyframes=Hx($ue,z7(c[0],c[1])),c=[0,100]);const m=d({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=q4(m));const{calculatedDuration:f}=m;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:f,repeat:h,repeatType:g,repeatDelay:b,type:w,onUpdate:y,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let E=this.currentTime,T=s;if(h){const O=Math.min(this.currentTime,a)/c;let M=Math.floor(O),F=O%1;!F&&O>=1&&(F=1),F===1&&M--,M=Math.min(M,h+1),M%2&&(g==="reverse"?(F=1-F,b&&(F-=b/c)):g==="mirror"&&(T=o)),E=Al(0,1,F)*c}const A=C?{done:!1,value:f[0]}:T.next(E);i&&(A.value=i(A.value));let{done:k}=A;!C&&d!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&w!==$_&&(A.value=F4(f,this.options,j,this.speed)),y&&y(A.value),P&&this.finish(),A}then(t,r){return this.finished.then(t,r)}get duration(){return ui(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ui(t)}get time(){return ui(this.currentTime)}set time(t){t=No(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(la.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ui(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=jue,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(la.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function zue(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const nd=e=>e*180/Math.PI,z_=e=>{const t=nd(Math.atan2(e[1],e[0]));return q_(t)},que={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:z_,rotateZ:z_,skewX:e=>nd(Math.atan(e[1])),skewY:e=>nd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},q_=e=>(e=e%360,e<0&&(e+=360),e),F6=z_,B6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),U6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Fue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:B6,scaleY:U6,scale:e=>(B6(e)+U6(e))/2,rotateX:e=>q_(nd(Math.atan2(e[6],e[5]))),rotateY:e=>q_(nd(Math.atan2(-e[2],e[0]))),rotateZ:F6,rotate:F6,skewX:e=>nd(Math.atan(e[4])),skewY:e=>nd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function F_(e){return e.includes("scale")?1:0}function B_(e,t){if(!e||e==="none")return F_(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=Fue,a=r;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=que,a=c}if(!a)return F_(t);const i=s[t],o=a[1].split(",").map(Uue);return typeof i=="function"?i(o):o[i]}const Bue=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return B_(r,t)};function Uue(e){return parseFloat(e.trim())}const ph=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gh=new Set(ph),V6=e=>e===hh||e===Nt,Vue=new Set(["x","y","z"]),Kue=ph.filter(e=>!Vue.has(e));function Hue(e){const t=[];return Kue.forEach(r=>{const s=e.getValue(r);s!==void 0&&(t.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),t}const ud={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>B_(t,"x"),y:(e,{transform:t})=>B_(t,"y")};ud.translateX=ud.x;ud.translateY=ud.y;const dd=new Set;let U_=!1,V_=!1,K_=!1;function U7(){if(V_){const e=Array.from(dd).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),r=new Map;t.forEach(s=>{const a=Hue(s);a.length&&(r.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}V_=!1,U_=!1,dd.forEach(e=>e.complete(K_)),dd.clear()}function V7(){dd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(V_=!0)})}function Gue(){K_=!0,V7(),U7(),K_=!1}class V4{constructor(t,r,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(dd.add(this),U_||(U_=!0,Xn.read(V7),Xn.resolveKeyframes(U7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:s,motionValue:a}=this;if(t[0]===null){const i=a?.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(s&&r){const c=s.readValue(r,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}zue(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),dd.delete(this)}cancel(){this.state==="scheduled"&&(dd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Wue=e=>e.startsWith("--");function Yue(e,t,r){Wue(t)?e.style.setProperty(t,r):e.style[t]=r}const Que=O4(()=>window.ScrollTimeline!==void 0),Xue={};function Zue(e,t){const r=O4(e);return()=>Xue[t]??r()}const K7=Zue(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tg=([e,t,r,s])=>`cubic-bezier(${e}, ${t}, ${r}, ${s})`,K6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tg([0,.65,.55,1]),circOut:tg([.55,0,1,.45]),backIn:tg([.31,.01,.66,-.59]),backOut:tg([.33,1.53,.69,.99])};function H7(e,t){if(e)return typeof e=="function"?K7()?q7(e,t):"ease-out":P7(e)?tg(e):Array.isArray(e)?e.map(r=>H7(r,t)||K6.easeOut):K6[e]}function Jue(e,t,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:d}={},m=void 0){const f={[t]:r};d&&(f.offset=d);const h=H7(c,a);Array.isArray(h)&&(f.easing=h);const g={delay:s,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return m&&(g.pseudoElement=m),e.animate(f,g)}function G7(e){return typeof e=="function"&&"applyToOptions"in e}function ede({type:e,...t}){return G7(e)&&K7()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tde extends B4{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,P4(typeof t.type!="string");const m=ede(t);this.animation=Jue(r,s,a,m,i),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=F4(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):Yue(r,s,f),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ui(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ui(t)}get time(){return ui(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=No(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Que()?(this.animation.timeline=t,mi):r(this)}}const W7={anticipate:A7,backInOut:C7,circInOut:_7};function nde(e){return e in W7}function rde(e){typeof e.ease=="string"&&nde(e.ease)&&(e.ease=W7[e.ease])}const H6=10;class sde extends tde{constructor(t){rde(t),B7(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new U4({...o,autoplay:!1}),d=No(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-H6).value,c.sample(d).value,H6),c.stop()}}const G6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hc.test(e)||e==="0")&&!e.startsWith("url("));function ade(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function ide(e,t,r,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=G6(a,t),c=G6(i,t);return!o||!c?!1:ade(e)||(r==="spring"||G7(r))&&s}function H_(e){e.duration=0,e.type="keyframes"}const ode=new Set(["opacity","clipPath","filter","transform"]),lde=O4(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cde(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=t.owner.getProps();return lde()&&r&&ode.has(r)&&(r!=="transform"||!m)&&!d&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const ude=40;class dde extends B4{constructor({autoplay:t=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:d,motionValue:m,element:f,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=la.now();const g={autoplay:t,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,name:d,motionValue:m,element:f,...h},b=f?.KeyframeResolver||V4;this.keyframeResolver=new b(c,(w,y,j)=>this.onKeyframesResolved(w,y,g,!j),d,m,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:d,isHandoff:m,onUpdate:f}=s;this.resolvedAt=la.now(),ide(t,i,o,c)||((El.instantAnimations||!d)&&f?.(F4(t,s,r)),t[0]=t[t.length-1],H_(s),s.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>ude?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:t},b=!m&&cde(g)?new sde({...g,element:g.motionValue.owner.current}):new U4(g);b.finished.then(()=>this.notifyFinished()).catch(mi),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Gue()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const mde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fde(e){const t=mde.exec(e);if(!t)return[,];const[,r,s,a]=t;return[`--${r??s}`,a]}function Y7(e,t,r=1){const[s,a]=fde(e);if(!s)return;const i=window.getComputedStyle(t).getPropertyValue(s);if(i){const o=i.trim();return x7(o)?parseFloat(o):o}return I4(a)?Y7(a,t,r+1):a}function K4(e,t){return e?.[t]??e?.default??e}const Q7=new Set(["width","height","top","left","right","bottom",...ph]),hde={test:e=>e==="auto",parse:e=>e},X7=e=>t=>t.test(e),Z7=[hh,Nt,So,kc,aue,sue,hde],W6=e=>Z7.find(X7(e));function pde(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||v7(e):!0}const gde=new Set(["brightness","contrast","saturate","opacity"]);function xde(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=r.match(L4)||[];if(!s)return e;const a=r.replace(s,"");let i=gde.has(t)?1:0;return s!==r&&(i*=100),t+"("+i+a+")"}const yde=/\b([a-z-]*)\(.*?\)/gu,G_={...Hc,getAnimatableNone:e=>{const t=e.match(yde);return t?t.map(xde).join(" "):e}},Y6={...hh,transform:Math.round},vde={rotate:kc,rotateX:kc,rotateY:kc,rotateZ:kc,scale:Bv,scaleX:Bv,scaleY:Bv,scaleZ:Bv,skew:kc,skewX:kc,skewY:kc,distance:Nt,translateX:Nt,translateY:Nt,translateZ:Nt,x:Nt,y:Nt,z:Nt,perspective:Nt,transformPerspective:Nt,opacity:kg,originX:I6,originY:I6,originZ:Nt},H4={borderWidth:Nt,borderTopWidth:Nt,borderRightWidth:Nt,borderBottomWidth:Nt,borderLeftWidth:Nt,borderRadius:Nt,radius:Nt,borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomRightRadius:Nt,borderBottomLeftRadius:Nt,width:Nt,maxWidth:Nt,height:Nt,maxHeight:Nt,top:Nt,right:Nt,bottom:Nt,left:Nt,padding:Nt,paddingTop:Nt,paddingRight:Nt,paddingBottom:Nt,paddingLeft:Nt,margin:Nt,marginTop:Nt,marginRight:Nt,marginBottom:Nt,marginLeft:Nt,backgroundPositionX:Nt,backgroundPositionY:Nt,...vde,zIndex:Y6,fillOpacity:kg,strokeOpacity:kg,numOctaves:Y6},bde={...H4,color:Tr,backgroundColor:Tr,outlineColor:Tr,fill:Tr,stroke:Tr,borderColor:Tr,borderTopColor:Tr,borderRightColor:Tr,borderBottomColor:Tr,borderLeftColor:Tr,filter:G_,WebkitFilter:G_},J7=e=>bde[e];function eV(e,t){let r=J7(e);return r!==G_&&(r=Hc),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const jde=new Set(["auto","none","0"]);function wde(e,t,r){let s=0,a;for(;s<e.length&&!a;){const i=e[s];typeof i=="string"&&!jde.has(i)&&Mg(i).values.length&&(a=e[s]),s++}if(a&&r)for(const i of t)e[i]=eV(r,a)}class Nde extends V4{constructor(t,r,s,a,i){super(t,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let m=t[d];if(typeof m=="string"&&(m=m.trim(),I4(m))){const f=Y7(m,r.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Q7.has(s)||t.length!==2)return;const[a,i]=t,o=W6(a),c=W6(i);if(o!==c)if(V6(o)&&V6(c))for(let d=0;d<t.length;d++){const m=t[d];typeof m=="string"&&(t[d]=parseFloat(m))}else ud[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||pde(t[a]))&&s.push(a);s.length&&wde(t,s,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ud[s](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=ud[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Sde(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=r?.[e]??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const tV=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Cde(e){return y7(e)&&"offsetHeight"in e}const Q6=30,Ade=e=>!isNaN(parseFloat(e));class Ede{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=la.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=la.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ade(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new k4);const s=this.events[t].add(r);return t==="change"?()=>{s(),Xn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=la.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Q6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Q6);return b7(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _f(e,t){return new Ede(e,t)}const{schedule:G4}=O7(queueMicrotask,!1),Ti={x:!1,y:!1};function nV(){return Ti.x||Ti.y}function _de(e){return e==="x"||e==="y"?Ti[e]?null:(Ti[e]=!0,()=>{Ti[e]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function rV(e,t){const r=Sde(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[r,a,()=>s.abort()]}function X6(e){return!(e.pointerType==="touch"||nV())}function Tde(e,t,r={}){const[s,a,i]=rV(e,r),o=c=>{if(!X6(c))return;const{target:d}=c,m=t(d,c);if(typeof m!="function"||!d)return;const f=h=>{X6(h)&&(m(h),d.removeEventListener("pointerleave",f))};d.addEventListener("pointerleave",f,a)};return s.forEach(c=>{c.addEventListener("pointerenter",o,a)}),i}const sV=(e,t)=>t?e===t?!0:sV(e,t.parentElement):!1,W4=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Pde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ode(e){return Pde.has(e.tagName)||e.tabIndex!==-1}const j0=new WeakSet;function Z6(e){return t=>{t.key==="Enter"&&e(t)}}function N2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kde=(e,t)=>{const r=e.currentTarget;if(!r)return;const s=Z6(()=>{if(j0.has(r))return;N2(r,"down");const a=Z6(()=>{N2(r,"up")}),i=()=>N2(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",s,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),t)};function J6(e){return W4(e)&&!nV()}function Mde(e,t,r={}){const[s,a,i]=rV(e,r),o=c=>{const d=c.currentTarget;if(!J6(c))return;j0.add(d);const m=t(d,c),f=(b,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),j0.has(d)&&j0.delete(d),J6(b)&&typeof m=="function"&&m(b,{success:w})},h=b=>{f(b,d===window||d===document||r.useGlobalTarget||sV(d,b.target))},g=b=>{f(b,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",g,a)};return s.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),Cde(c)&&(c.addEventListener("focus",m=>kde(m,a)),!Ode(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function aV(e){return y7(e)&&"ownerSVGElement"in e}function Rde(e){return aV(e)&&e.tagName==="svg"}const Os=e=>!!(e&&e.getVelocity),Dde=[...Z7,Tr,Hc],Ide=e=>Dde.find(X7(e)),iV=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Lde(e=!0){const t=v.useContext(E4);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=t,i=v.useId();v.useEffect(()=>{if(e)return a(i)},[e]);const o=v.useCallback(()=>e&&s&&s(i),[i,s,e]);return!r&&s?[!1,o]:[!0]}const oV=v.createContext({strict:!1}),eI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Tf={};for(const e in eI)Tf[e]={isEnabled:t=>eI[e].some(r=>!!t[r])};function $de(e){for(const t in e)Tf[t]={...Tf[t],...e[t]}}const zde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function U0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zde.has(e)}let lV=e=>!U0(e);function qde(e){typeof e=="function"&&(lV=t=>t.startsWith("on")?!U0(t):e(t))}try{qde(require("@emotion/is-prop-valid").default)}catch{}function Fde(e,t,r){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(lV(a)||r===!0&&U0(a)||!t&&!U0(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const Cj=v.createContext({});function Aj(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Rg(e){return typeof e=="string"||Array.isArray(e)}const Y4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q4=["initial",...Y4];function Ej(e){return Aj(e.animate)||Q4.some(t=>Rg(e[t]))}function cV(e){return!!(Ej(e)||e.variants)}function Bde(e,t){if(Ej(e)){const{initial:r,animate:s}=e;return{initial:r===!1||Rg(r)?r:void 0,animate:Rg(s)?s:void 0}}return e.inherit!==!1?t:{}}function Ude(e){const{initial:t,animate:r}=Bde(e,v.useContext(Cj));return v.useMemo(()=>({initial:t,animate:r}),[tI(t),tI(r)])}function tI(e){return Array.isArray(e)?e.join(" "):e}const Dg={};function Vde(e){for(const t in e)Dg[t]=e[t],D4(t)&&(Dg[t].isCSSVariable=!0)}function uV(e,{layout:t,layoutId:r}){return gh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Dg[e]||e==="opacity")}const Kde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hde=ph.length;function Gde(e,t,r){let s="",a=!0;for(let i=0;i<Hde;i++){const o=ph[i],c=e[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const m=tV(c,H4[o]);if(!d){a=!1;const f=Kde[o]||o;s+=`${f}(${m}) `}r&&(t[o]=m)}}return s=s.trim(),r?s=r(t,a?"":s):a&&(s="none"),s}function X4(e,t,r){const{style:s,vars:a,transformOrigin:i}=e;let o=!1,c=!1;for(const d in t){const m=t[d];if(gh.has(d)){o=!0;continue}else if(D4(d)){a[d]=m;continue}else{const f=tV(m,H4[d]);d.startsWith("origin")?(c=!0,i[d]=f):s[d]=f}}if(t.transform||(o||r?s.transform=Gde(t,e.transform,r):s.transform&&(s.transform="none")),c){const{originX:d="50%",originY:m="50%",originZ:f=0}=i;s.transformOrigin=`${d} ${m} ${f}`}}const Z4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dV(e,t,r){for(const s in t)!Os(t[s])&&!uV(s,r)&&(e[s]=t[s])}function Wde({transformTemplate:e},t){return v.useMemo(()=>{const r=Z4();return X4(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Yde(e,t){const r=e.style||{},s={};return dV(s,r,e),Object.assign(s,Wde(e,t)),s}function Qde(e,t){const r={},s=Yde(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const Xde={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zde={offset:"strokeDashoffset",array:"strokeDasharray"};function Jde(e,t,r=1,s=0,a=!0){e.pathLength=1;const i=a?Xde:Zde;e[i.offset]=Nt.transform(-s);const o=Nt.transform(t),c=Nt.transform(r);e[i.array]=`${o} ${c}`}function mV(e,{attrX:t,attrY:r,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...c},d,m,f){if(X4(e,c,m),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:g}=e;h.transform&&(g.transform=h.transform,delete h.transform),(g.transform||h.transformOrigin)&&(g.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),a!==void 0&&Jde(h,a,i,o,!1)}const fV=()=>({...Z4(),attrs:{}}),hV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function eme(e,t,r,s){const a=v.useMemo(()=>{const i=fV();return mV(i,t,hV(s),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};dV(i,e.style,e),a.style={...i,...a.style}}return a}const tme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J4(e){return typeof e!="string"||e.includes("-")?!1:!!(tme.indexOf(e)>-1||/[A-Z]/u.test(e))}function nme(e,t,r,{latestValues:s},a,i=!1){const c=(J4(e)?eme:Qde)(t,s,a,e),d=Fde(t,typeof e=="string",i),m=e!==v.Fragment?{...d,...c,ref:r}:{},{children:f}=t,h=v.useMemo(()=>Os(f)?f.get():f,[f]);return v.createElement(e,{...m,children:h})}function nI(e){const t=[{},{}];return e?.values.forEach((r,s)=>{t[0][s]=r.get(),t[1][s]=r.getVelocity()}),t}function eO(e,t,r,s){if(typeof t=="function"){const[a,i]=nI(s);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=nI(s);t=t(r!==void 0?r:e.custom,a,i)}return t}function w0(e){return Os(e)?e.get():e}function rme({scrapeMotionValuesFromProps:e,createRenderState:t},r,s,a){return{latestValues:sme(r,s,a,e),renderState:t()}}function sme(e,t,r,s){const a={},i=s(e,{});for(const g in i)a[g]=w0(i[g]);let{initial:o,animate:c}=e;const d=Ej(e),m=cV(e);t&&m&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const h=f?c:o;if(h&&typeof h!="boolean"&&!Aj(h)){const g=Array.isArray(h)?h:[h];for(let b=0;b<g.length;b++){const w=eO(e,g[b]);if(w){const{transitionEnd:y,transition:j,...N}=w;for(const C in N){let E=N[C];if(Array.isArray(E)){const T=f?E.length-1:0;E=E[T]}E!==null&&(a[C]=E)}for(const C in y)a[C]=y[C]}}}return a}const pV=e=>(t,r)=>{const s=v.useContext(Cj),a=v.useContext(E4),i=()=>rme(e,t,s,a);return r?i():$ce(i)};function tO(e,t,r){const{style:s}=e,a={};for(const i in s)(Os(s[i])||t.style&&Os(t.style[i])||uV(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=s[i]);return a}const ame=pV({scrapeMotionValuesFromProps:tO,createRenderState:Z4});function gV(e,t,r){const s=tO(e,t,r);for(const a in e)if(Os(e[a])||Os(t[a])){const i=ph.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=e[a]}return s}const ime=pV({scrapeMotionValuesFromProps:gV,createRenderState:fV}),ome=Symbol.for("motionComponentSymbol");function tf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lme(e,t,r){return v.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),r&&(typeof r=="function"?r(s):tf(r)&&(r.current=s))},[t])}const nO=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cme="framerAppearId",xV="data-"+nO(cme),yV=v.createContext({});function ume(e,t,r,s,a){const{visualElement:i}=v.useContext(Cj),o=v.useContext(oV),c=v.useContext(E4),d=v.useContext(iV).reducedMotion,m=v.useRef(null);s=s||o.renderer,!m.current&&s&&(m.current=s(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=m.current,h=v.useContext(yV);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&dme(m.current,r,a,h);const g=v.useRef(!1);v.useInsertionEffect(()=>{f&&g.current&&f.update(r,c)});const b=r[xV],w=v.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return zce(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),w.current=!1),f.enteringChildren=void 0)}),f}function dme(e,t,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:m,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:vV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||c&&tf(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:d,layoutRoot:m})}function vV(e){if(e)return e.options.allowProjection!==!1?e.projection:vV(e.parent)}function S2(e,{forwardMotionProps:t=!1}={},r,s){r&&$de(r);const a=J4(e)?ime:ame;function i(c,d){let m;const f={...v.useContext(iV),...c,layoutId:mme(c)},{isStatic:h}=f,g=Ude(c),b=a(c,h);if(!h&&A4){fme();const w=hme(f);m=w.MeasureLayout,g.visualElement=ume(e,b,f,s,w.ProjectionNode)}return n.jsxs(Cj.Provider,{value:g,children:[m&&g.visualElement?n.jsx(m,{visualElement:g.visualElement,...f}):null,nme(e,c,lme(b,g.visualElement,d),b,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=v.forwardRef(i);return o[ome]=e,o}function mme({layoutId:e}){const t=v.useContext(g7).id;return t&&e!==void 0?t+"-"+e:e}function fme(e,t){v.useContext(oV).strict}function hme(e){const{drag:t,layout:r}=Tf;if(!t&&!r)return{};const s={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function pme(e,t){if(typeof Proxy>"u")return S2;const r=new Map,s=(i,o)=>S2(i,o,e,t),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(r.has(o)||r.set(o,S2(o,void 0,e,t)),r.get(o))})}function bV({top:e,left:t,right:r,bottom:s}){return{x:{min:t,max:r},y:{min:e,max:s}}}function gme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xme(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function C2(e){return e===void 0||e===1}function W_({scale:e,scaleX:t,scaleY:r}){return!C2(e)||!C2(t)||!C2(r)}function Qu(e){return W_(e)||jV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function jV(e){return rI(e.x)||rI(e.y)}function rI(e){return e&&e!=="0%"}function V0(e,t,r){const s=e-r,a=t*s;return r+a}function sI(e,t,r,s,a){return a!==void 0&&(e=V0(e,a,s)),V0(e,r,s)+t}function Y_(e,t=0,r=1,s,a){e.min=sI(e.min,t,r,s,a),e.max=sI(e.max,t,r,s,a)}function wV(e,{x:t,y:r}){Y_(e.x,t.translate,t.scale,t.originPoint),Y_(e.y,r.translate,r.scale,r.originPoint)}const aI=.999999999999,iI=1.0000000000001;function yme(e,t,r,s=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let c=0;c<a;c++){i=r[c],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rf(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,wV(e,o)),s&&Qu(i.latestValues)&&rf(e,i.latestValues))}t.x<iI&&t.x>aI&&(t.x=1),t.y<iI&&t.y>aI&&(t.y=1)}function nf(e,t){e.min=e.min+t,e.max=e.max+t}function oI(e,t,r,s,a=.5){const i=sr(e.min,e.max,a);Y_(e,t,r,i,s)}function rf(e,t){oI(e.x,t.x,t.scaleX,t.scale,t.originX),oI(e.y,t.y,t.scaleY,t.scale,t.originY)}function NV(e,t){return bV(xme(e.getBoundingClientRect(),t))}function vme(e,t,r){const s=NV(e,r),{scroll:a}=t;return a&&(nf(s.x,a.offset.x),nf(s.y,a.offset.y)),s}const lI=()=>({translate:0,scale:1,origin:0,originPoint:0}),sf=()=>({x:lI(),y:lI()}),cI=()=>({min:0,max:0}),pr=()=>({x:cI(),y:cI()}),Q_={current:null},SV={current:!1};function bme(){if(SV.current=!0,!!A4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Q_.current=e.matches;e.addEventListener("change",t),t()}else Q_.current=!1}const jme=new WeakMap;function wme(e,t,r){for(const s in t){const a=t[s],i=r[s];if(Os(a))e.addValue(s,a);else if(Os(i))e.addValue(s,_f(a,{owner:e}));else if(i!==a)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(s);e.addValue(s,_f(o!==void 0?o:a,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const uI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nme{scrapeMotionValuesFromProps(t,r,s){return{}}constructor({parent:t,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=la.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Xn.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=m,this.parent=t,this.props=r,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Ej(r),this.isVariantNode=cV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in h){const b=h[g];d[g]!==void 0&&Os(b)&&b.set(d[g])}}mount(t){this.current=t,jme.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),SV.current||bme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Q_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Kc(this.notifyUpdate),Kc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=gh.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Xn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Tf){const r=Tf[t];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<uI.length;s++){const a=uI[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=wme(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const s=this.values.get(t);r!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&r!==void 0&&(s=_f(r===null?void 0:r,{owner:this}),this.addValue(t,s)),s}readValue(t,r){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(x7(s)||v7(s))?s=parseFloat(s):!Ide(s)&&Hc.test(r)&&(s=eV(t,r)),this.setBaseTarget(t,Os(s)?s.get():s)),Os(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=eO(this.props,r,this.presenceContext?.custom);i&&(s=i[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Os(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new k4),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){G4.render(this.render)}}class CV extends Nme{constructor(){super(...arguments),this.KeyframeResolver=Nde}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:s}){delete r[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Os(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function AV(e,{style:t,vars:r},s,a){const i=e.style;let o;for(o in t)i[o]=t[o];a?.applyProjectionStyles(i,s);for(o in r)i.setProperty(o,r[o])}function Sme(e){return window.getComputedStyle(e)}class Cme extends CV{constructor(){super(...arguments),this.type="html",this.renderInstance=AV}readValueFromInstance(t,r){if(gh.has(r))return this.projection?.isProjecting?F_(r):Bue(t,r);{const s=Sme(t),a=(D4(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return NV(t,r)}build(t,r,s){X4(t,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,r,s){return tO(t,r,s)}}const EV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ame(e,t,r,s){AV(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(EV.has(a)?a:nO(a),t.attrs[a])}class Eme extends CV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(gh.has(r)){const s=J7(r);return s&&s.default||0}return r=EV.has(r)?r:nO(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,s){return gV(t,r,s)}build(t,r,s){mV(t,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,r,s,a){Ame(t,r,s,a)}mount(t){this.isSVGTag=hV(t.tagName),super.mount(t)}}const _me=(e,t)=>J4(e)?new Eme(t):new Cme(t,{allowProjection:e!==v.Fragment});function pf(e,t,r){const s=e.getProps();return eO(s,t,r!==void 0?r:s.custom,e)}const X_=e=>Array.isArray(e);function Tme(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,_f(r))}function Pme(e){return X_(e)?e[e.length-1]||0:e}function Ome(e,t){const r=pf(e,t);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const c=Pme(i[o]);Tme(e,o,c)}}function kme(e){return!!(Os(e)&&e.add)}function Z_(e,t){const r=e.getValue("willChange");if(kme(r))return r.add(t);if(!r&&El.WillChange){const s=new El.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function _V(e){return e.props[xV]}const Mme=e=>e!==null;function Rme(e,{repeat:t,repeatType:r="loop"},s){const a=e.filter(Mme),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const Dme={type:"spring",stiffness:500,damping:25,restSpeed:10},Ime=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lme={type:"keyframes",duration:.8},$me={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zme=(e,{keyframes:t})=>t.length>2?Lme:gh.has(e)?e.startsWith("scale")?Ime(t[1]):Dme:$me;function qme({when:e,delay:t,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:c,from:d,elapsed:m,...f}){return!!Object.keys(f).length}const rO=(e,t,r,s={},a,i)=>o=>{const c=K4(s,e)||{},d=c.delay||s.delay||0;let{elapsed:m=0}=s;m=m-No(d);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-m,onUpdate:g=>{t.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:a};qme(c)||Object.assign(f,zme(e,f)),f.duration&&(f.duration=No(f.duration)),f.repeatDelay&&(f.repeatDelay=No(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(H_(f),f.delay===0&&(h=!0)),(El.instantAnimations||El.skipAnimations)&&(h=!0,H_(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,h&&!i&&t.get()!==void 0){const g=Rme(f.keyframes,c);if(g!==void 0){Xn.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new U4(f):new dde(f)};function Fme({protectedKeys:e,needsAnimating:t},r){const s=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,s}function TV(e,t,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;s&&(i=s);const d=[],m=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const h=e.getValue(f,e.latestValues[f]??null),g=c[f];if(g===void 0||m&&Fme(m,f))continue;const b={delay:r,...K4(i||{},f)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===w&&!b.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const N=_V(e);if(N){const C=window.MotionHandoffAnimation(N,f,Xn);C!==null&&(b.startTime=C,y=!0)}}Z_(e,f),h.start(rO(f,h,g,e.shouldReduceMotion&&Q7.has(f)?{type:!1}:b,e,y));const j=h.animation;j&&d.push(j)}return o&&Promise.all(d).then(()=>{Xn.update(()=>{o&&Ome(e,o)})}),d}function PV(e,t,r,s=0,a=1){const i=Array.from(e).sort((m,f)=>m.sortNodePosition(f)).indexOf(t),o=e.size,c=(o-1)*s;return typeof r=="function"?r(i,o):a===1?i*s:c-i*s}function J_(e,t,r={}){const s=pf(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(TV(e,s,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:f,staggerDirection:h}=a;return Bme(e,t,d,m,f,h,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,m]=c==="beforeChildren"?[i,o]:[o,i];return d().then(()=>m())}else return Promise.all([i(),o(r.delay)])}function Bme(e,t,r=0,s=0,a=0,i=1,o){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(J_(d,t,{...o,delay:r+(typeof s=="function"?0:s)+PV(e.variantChildren,d,s,a,i)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function Ume(e,t,r={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(i=>J_(e,i,r));s=Promise.all(a)}else if(typeof t=="string")s=J_(e,t,r);else{const a=typeof t=="function"?pf(e,t,r.custom):t;s=Promise.all(TV(e,a,r))}return s.then(()=>{e.notify("AnimationComplete",t)})}function OV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(t[s]!==e[s])return!1;return!0}const Vme=Q4.length;function kV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?kV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Vme;r++){const s=Q4[r],a=e.props[s];(Rg(a)||a===!1)&&(t[s]=a)}return t}const Kme=[...Y4].reverse(),Hme=Y4.length;function Gme(e){return t=>Promise.all(t.map(({animation:r,options:s})=>Ume(e,r,s)))}function Wme(e){let t=Gme(e),r=dI(),s=!0;const a=d=>(m,f)=>{const h=pf(e,f,d==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:g,transitionEnd:b,...w}=h;m={...m,...w,...b}}return m};function i(d){t=d(e)}function o(d){const{props:m}=e,f=kV(e.parent)||{},h=[],g=new Set;let b={},w=1/0;for(let j=0;j<Hme;j++){const N=Kme[j],C=r[N],E=m[N]!==void 0?m[N]:f[N],T=Rg(E),A=N===d?C.isActive:null;A===!1&&(w=j);let k=E===f[N]&&E!==m[N]&&T;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),C.protectedKeys={...b},!C.isActive&&A===null||!E&&!C.prevProp||Aj(E)||typeof E=="boolean")continue;const P=Yme(C.prevProp,E);let O=P||N===d&&C.isActive&&!k&&T||j>w&&T,M=!1;const F=Array.isArray(E)?E:[E];let D=F.reduce(a(N),{});A===!1&&(D={});const{prevResolvedValues:$={}}=C,V={...$,...D},z=K=>{O=!0,g.has(K)&&(M=!0,g.delete(K)),C.needsAnimating[K]=!0;const U=e.getValue(K);U&&(U.liveStyle=!1)};for(const K in V){const U=D[K],B=$[K];if(b.hasOwnProperty(K))continue;let ie=!1;X_(U)&&X_(B)?ie=!OV(U,B):ie=U!==B,ie?U!=null?z(K):g.add(K):U!==void 0&&g.has(K)?z(K):C.protectedKeys[K]=!0}C.prevProp=E,C.prevResolvedValues=D,C.isActive&&(b={...b,...D}),s&&e.blockInitialAnimation&&(O=!1);const q=k&&P;O&&(!q||M)&&h.push(...F.map(K=>{const U={type:N};if(typeof K=="string"&&s&&!q&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,ie=pf(B,K);if(B.enteringChildren&&ie){const{delayChildren:G}=ie.transition||{};U.delay=PV(B.enteringChildren,e,G)}}return{animation:K,options:U}}))}if(g.size){const j={};if(typeof m.initial!="boolean"){const N=pf(e,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(j.transition=N.transition)}g.forEach(N=>{const C=e.getBaseTarget(N),E=e.getValue(N);E&&(E.liveStyle=!0),j[N]=C??null}),h.push({animation:j})}let y=!!h.length;return s&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(y=!1),s=!1,y?t(h):Promise.resolve()}function c(d,m){if(r[d].isActive===m)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(d,m)),r[d].isActive=m;const f=o(d);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=dI()}}}function Yme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!OV(t,e):!1}function Ku(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dI(){return{animate:Ku(!0),whileInView:Ku(),whileHover:Ku(),whileTap:Ku(),whileDrag:Ku(),whileFocus:Ku(),exit:Ku()}}class nu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Qme extends nu{constructor(t){super(t),t.animationState||(t.animationState=Wme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Aj(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Xme=0;class Zme extends nu{constructor(){super(...arguments),this.id=Xme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Jme={animation:{Feature:Qme},exit:{Feature:Zme}};function Ig(e,t,r,s={passive:!0}){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r)}function Yx(e){return{point:{x:e.pageX,y:e.pageY}}}const efe=e=>t=>W4(t)&&e(t,Yx(t));function pg(e,t,r,s){return Ig(e,t,efe(r),s)}const MV=1e-4,tfe=1-MV,nfe=1+MV,RV=.01,rfe=0-RV,sfe=0+RV;function Us(e){return e.max-e.min}function afe(e,t,r){return Math.abs(e-t)<=r}function mI(e,t,r,s=.5){e.origin=s,e.originPoint=sr(t.min,t.max,e.origin),e.scale=Us(r)/Us(t),e.translate=sr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=tfe&&e.scale<=nfe||isNaN(e.scale))&&(e.scale=1),(e.translate>=rfe&&e.translate<=sfe||isNaN(e.translate))&&(e.translate=0)}function gg(e,t,r,s){mI(e.x,t.x,r.x,s?s.originX:void 0),mI(e.y,t.y,r.y,s?s.originY:void 0)}function fI(e,t,r){e.min=r.min+t.min,e.max=e.min+Us(t)}function ife(e,t,r){fI(e.x,t.x,r.x),fI(e.y,t.y,r.y)}function hI(e,t,r){e.min=t.min-r.min,e.max=e.min+Us(t)}function xg(e,t,r){hI(e.x,t.x,r.x),hI(e.y,t.y,r.y)}function ri(e){return[e("x"),e("y")]}const DV=({current:e})=>e?e.ownerDocument.defaultView:null,pI=(e,t)=>Math.abs(e-t);function ofe(e,t){const r=pI(e.x,t.x),s=pI(e.y,t.y);return Math.sqrt(r**2+s**2)}class IV{constructor(t,r,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=E2(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=ofe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:y}=g,{timestamp:j}=ps;this.history.push({...y,timestamp:j});const{onStart:N,onMove:C}=this.handlers;b||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=A2(b,this.transformPagePoint),Xn.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=E2(g.type==="pointercancel"?this.lastMoveEventInfo:A2(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,N),y&&y(g,N)},!W4(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const c=Yx(t),d=A2(c,this.transformPagePoint),{point:m}=d,{timestamp:f}=ps;this.history=[{...m,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,E2(d,this.history)),this.removeListeners=Hx(pg(this.contextWindow,"pointermove",this.handlePointerMove),pg(this.contextWindow,"pointerup",this.handlePointerUp),pg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Kc(this.updatePoint)}}function A2(e,t){return t?{point:t(e.point)}:e}function gI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function E2({point:e},t){return{point:e,delta:gI(e,LV(t)),offset:gI(e,lfe(t)),velocity:cfe(t,.1)}}function lfe(e){return e[0]}function LV(e){return e[e.length-1]}function cfe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,s=null;const a=LV(e);for(;r>=0&&(s=e[r],!(a.timestamp-s.timestamp>No(t)));)r--;if(!s)return{x:0,y:0};const i=ui(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ufe(e,{min:t,max:r},s){return t!==void 0&&e<t?e=s?sr(t,e,s.min):Math.max(e,t):r!==void 0&&e>r&&(e=s?sr(r,e,s.max):Math.min(e,r)),e}function xI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function dfe(e,{top:t,left:r,bottom:s,right:a}){return{x:xI(e.x,r,a),y:xI(e.y,t,s)}}function yI(e,t){let r=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,s]=[s,r]),{min:r,max:s}}function mfe(e,t){return{x:yI(e.x,t.x),y:yI(e.y,t.y)}}function ffe(e,t){let r=.5;const s=Us(e),a=Us(t);return a>s?r=Og(t.min,t.max-s,e.min):s>a&&(r=Og(e.min,e.max-a,t.min)),Al(0,1,r)}function hfe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const eT=.35;function pfe(e=eT){return e===!1?e=0:e===!0&&(e=eT),{x:vI(e,"left","right"),y:vI(e,"top","bottom")}}function vI(e,t,r){return{min:bI(e,t),max:bI(e,r)}}function bI(e,t){return typeof e=="number"?e:e[t]||0}const gfe=new WeakMap;class xfe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Yx(h).point)},o=(h,g)=>{const{drag:b,dragPropagation:w,onDragStart:y}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_de(b),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(N=>{let C=this.getAxisMotionValue(N).get()||0;if(So.test(C)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[N];T&&(C=Us(T)*(parseFloat(C)/100))}}this.originPoint[N]=C}),y&&Xn.postRender(()=>y(h,g)),Z_(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:y,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:N}=g;if(w&&this.currentDirection===null){this.currentDirection=yfe(N),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),j&&j(h,g)},d=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g,this.stop(h,g),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>ri(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new IV(t,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:DV(this.visualElement)})}stop(t,r){const s=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Xn.postRender(()=>c(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,s){const{drag:a}=this.getProps();if(!s||!Uv(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=ufe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&tf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=dfe(s.layoutBox,t):this.constraints=!1,this.elastic=pfe(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ri(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=hfe(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!tf(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=vme(s,a.root,this.visualElement.getTransformPagePoint());let o=mfe(a.layout.layoutBox,i);if(r){const c=r(gme(o));this.hasMutatedConstraints=!!c,c&&(o=bV(c))}return o}startAnimation(t){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},m=ri(f=>{if(!Uv(f,r,this.currentDirection))return;let h=d&&d[f]||{};o&&(h={min:0,max:0});const g=a?200:1e6,b=a?40:1e7,w={type:"inertia",velocity:s?t[f]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,w)});return Promise.all(m).then(c)}startAxisValueAnimation(t,r){const s=this.getAxisMotionValue(t);return Z_(this.visualElement,t),s.start(rO(t,s,0,r,this.visualElement,!1))}stopAnimation(){ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ri(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ri(r=>{const{drag:s}=this.getProps();if(!Uv(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[r];i.set(t[r]-sr(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!tf(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ri(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();a[o]=ffe({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ri(o=>{if(!Uv(o,t,null))return;const c=this.getAxisMotionValue(o),{min:d,max:m}=this.constraints[o];c.set(sr(d,m,a[o]))})}addListeners(){if(!this.visualElement.current)return;gfe.set(this.visualElement,this);const t=this.visualElement.current,r=pg(t,"pointerdown",d=>{const{drag:m,dragListener:f=!0}=this.getProps();m&&f&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();tf(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Xn.read(s);const o=Ig(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(ri(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=d[f].translate,h.set(h.get()+d[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=eT,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function Uv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function yfe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vfe extends nu{constructor(t){super(t),this.removeGroupControls=mi,this.removeListeners=mi,this.controls=new xfe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const jI=e=>(t,r)=>{e&&Xn.postRender(()=>e(t,r))};class bfe extends nu{constructor(){super(...arguments),this.removePointerDownListener=mi}onPointerDown(t){this.session=new IV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:DV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:jI(t),onStart:jI(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Xn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=pg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const N0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Nt.test(e))e=parseFloat(e);else return e;const r=wI(e,t.target.x),s=wI(e,t.target.y);return`${r}% ${s}%`}},jfe={correct:(e,{treeScale:t,projectionDelta:r})=>{const s=e,a=Hc.parse(e);if(a.length>5)return s;const i=Hc.createTransformer(e),o=typeof a[0]!="number"?1:0,c=r.x.scale*t.x,d=r.y.scale*t.y;a[0+o]/=c,a[1+o]/=d;const m=sr(c,d,.5);return typeof a[2+o]=="number"&&(a[2+o]/=m),typeof a[3+o]=="number"&&(a[3+o]/=m),i(a)}};let _2=!1;class wfe extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;Vde(Nfe),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),_2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),N0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,_2=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Xn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),G4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=t;_2=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function $V(e){const[t,r]=Lde(),s=v.useContext(g7);return n.jsx(wfe,{...e,layoutGroup:s,switchLayoutGroup:v.useContext(yV),isPresent:t,safeToRemove:r})}const Nfe={borderRadius:{...Vp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vp,borderTopRightRadius:Vp,borderBottomLeftRadius:Vp,borderBottomRightRadius:Vp,boxShadow:jfe};function Sfe(e,t,r){const s=Os(e)?e:_f(e);return s.start(rO("",s,t,r)),s.animation}const Cfe=(e,t)=>e.depth-t.depth;class Afe{constructor(){this.children=[],this.isDirty=!1}add(t){_4(this.children,t),this.isDirty=!0}remove(t){T4(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Cfe),this.isDirty=!1,this.children.forEach(t)}}function Efe(e,t){const r=la.now(),s=({timestamp:a})=>{const i=a-r;i>=t&&(Kc(s),e(i-t))};return Xn.setup(s,!0),()=>Kc(s)}const zV=["TopLeft","TopRight","BottomLeft","BottomRight"],_fe=zV.length,NI=e=>typeof e=="string"?parseFloat(e):e,SI=e=>typeof e=="number"||Nt.test(e);function Tfe(e,t,r,s,a,i){a?(e.opacity=sr(0,r.opacity??1,Pfe(s)),e.opacityExit=sr(t.opacity??1,0,Ofe(s))):i&&(e.opacity=sr(t.opacity??1,r.opacity??1,s));for(let o=0;o<_fe;o++){const c=`border${zV[o]}Radius`;let d=CI(t,c),m=CI(r,c);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||SI(d)===SI(m)?(e[c]=Math.max(sr(NI(d),NI(m),s),0),(So.test(m)||So.test(d))&&(e[c]+="%")):e[c]=m}(t.rotate||r.rotate)&&(e.rotate=sr(t.rotate||0,r.rotate||0,s))}function CI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Pfe=qV(0,.5,E7),Ofe=qV(.5,.95,mi);function qV(e,t,r){return s=>s<e?0:s>t?1:r(Og(e,t,s))}function AI(e,t){e.min=t.min,e.max=t.max}function Ja(e,t){AI(e.x,t.x),AI(e.y,t.y)}function EI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _I(e,t,r,s,a){return e-=t,e=V0(e,1/r,s),a!==void 0&&(e=V0(e,1/a,s)),e}function kfe(e,t=0,r=1,s=.5,a,i=e,o=e){if(So.test(t)&&(t=parseFloat(t),t=sr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=sr(i.min,i.max,s);e===i&&(c-=t),e.min=_I(e.min,t,r,c,a),e.max=_I(e.max,t,r,c,a)}function TI(e,t,[r,s,a],i,o){kfe(e,t[r],t[s],t[a],t.scale,i,o)}const Mfe=["x","scaleX","originX"],Rfe=["y","scaleY","originY"];function PI(e,t,r,s){TI(e.x,t,Mfe,r?r.x:void 0,s?s.x:void 0),TI(e.y,t,Rfe,r?r.y:void 0,s?s.y:void 0)}function OI(e){return e.translate===0&&e.scale===1}function FV(e){return OI(e.x)&&OI(e.y)}function kI(e,t){return e.min===t.min&&e.max===t.max}function Dfe(e,t){return kI(e.x,t.x)&&kI(e.y,t.y)}function MI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function BV(e,t){return MI(e.x,t.x)&&MI(e.y,t.y)}function RI(e){return Us(e.x)/Us(e.y)}function DI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ife{constructor(){this.members=[]}add(t){_4(this.members,t),t.scheduleRender()}remove(t){if(T4(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(t,r){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,r&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:s}=t;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lfe(e,t,r){let s="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=r?.z||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:m,rotate:f,rotateX:h,rotateY:g,skewX:b,skewY:w}=r;m&&(s=`perspective(${m}px) ${s}`),f&&(s+=`rotate(${f}deg) `),h&&(s+=`rotateX(${h}deg) `),g&&(s+=`rotateY(${g}deg) `),b&&(s+=`skewX(${b}deg) `),w&&(s+=`skewY(${w}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(s+=`scale(${c}, ${d})`),s||"none"}const T2=["","X","Y","Z"],$fe=1e3;let zfe=0;function P2(e,t,r,s){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function UV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=_V(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Xn,!(a||i))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&UV(s)}function VV({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},c=t?.()){this.id=zfe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Bfe),this.nodes.forEach(Hfe),this.nodes.forEach(Gfe),this.nodes.forEach(Ufe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Afe)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new k4),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=aV(o)&&!Rde(o),this.instance=o;const{layoutId:c,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let f,h=0;const g=()=>this.root.updateBlockedByResize=!1;Xn.read(()=>{h=window.innerWidth}),e(o,()=>{const b=window.innerWidth;b!==h&&(h=b,this.root.updateBlockedByResize=!0,f&&f(),f=Efe(g,250),N0.hasAnimatedSinceResize&&(N0.hasAnimatedSinceResize=!1,this.nodes.forEach($I)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&m&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||Zfe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:j}=m.getProps(),N=!this.targetLayout||!BV(this.targetLayout,b),C=!h&&g;if(this.options.layoutRoot||this.resumeFrom||C||h&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...K4(w,"layout"),onPlay:y,onComplete:j};(m.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(f,C)}else h||$I(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Kc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Wfe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(II);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(LI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kfe),this.nodes.forEach(qfe),this.nodes.forEach(Ffe)):this.nodes.forEach(LI),this.clearAllSnapshots();const c=la.now();ps.delta=Al(0,1e3/60,c-ps.timestamp),ps.timestamp=c,ps.isProcessing=!0,y2.update.process(ps),y2.preRender.process(ps),y2.render.process(ps),ps.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Vfe),this.sharedNodes.forEach(Yfe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Us(this.snapshot.measuredBox.x)&&!Us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!FV(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,f=m!==this.prevTransformTemplateValue;o&&this.instance&&(c||Qu(this.latestValues)||f)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),Jfe(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return pr();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(ehe))){const{scroll:m}=this.root;m&&(nf(c.x,m.offset.x),nf(c.y,m.offset.y))}return c}removeElementScroll(o){const c=pr();if(Ja(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:f,options:h}=m;m!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ja(c,o),nf(c.x,f.offset.x),nf(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const d=pr();Ja(d,o);for(let m=0;m<this.path.length;m++){const f=this.path[m];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&rf(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Qu(f.latestValues)&&rf(d,f.latestValues)}return Qu(this.latestValues)&&rf(d,this.latestValues),d}removeTransform(o){const c=pr();Ja(c,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Qu(m.latestValues))continue;W_(m.latestValues)&&m.updateSnapshot();const f=pr(),h=m.measurePageBox();Ja(f,h),PI(c,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,f)}return Qu(this.latestValues)&&PI(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ps.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ps.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pr(),this.relativeTargetOrigin=pr(),xg(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ja(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pr(),this.targetWithTransforms=pr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ife(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ja(this.target,this.layout.layoutBox),wV(this.target,this.targetDelta)):Ja(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pr(),this.relativeTargetOrigin=pr(),xg(this.relativeTargetOrigin,this.target,g.target),Ja(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||W_(this.parent.latestValues)||jV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ps.timestamp&&(d=!1),d)return;const{layout:m,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||f))return;Ja(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;yme(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pr());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EI(this.prevProjectionDelta.x,this.projectionDelta.x),EI(this.prevProjectionDelta.y,this.projectionDelta.y)),gg(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!DI(this.projectionDelta.x,this.prevProjectionDelta.x)||!DI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sf(),this.projectionDelta=sf(),this.projectionDeltaWithTransform=sf()}setAnimationOrigin(o,c=!1){const d=this.snapshot,m=d?d.latestValues:{},f={...this.latestValues},h=sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=pr(),b=d?d.source:void 0,w=this.layout?this.layout.source:void 0,y=b!==w,j=this.getStack(),N=!j||j.members.length<=1,C=!!(y&&!N&&this.options.crossfade===!0&&!this.path.some(Xfe));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const A=T/1e3;zI(h.x,o.x,A),zI(h.y,o.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Qfe(this.relativeTarget,this.relativeTargetOrigin,g,A),E&&Dfe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=pr()),Ja(E,this.relativeTarget)),y&&(this.animationValues=f,Tfe(f,m,this.latestValues,A,C,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Kc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xn.update(()=>{N0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_f(0)),this.currentAnimation=Sfe(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($fe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:m,latestValues:f}=o;if(!(!c||!d||!m)){if(this!==o&&this.layout&&m&&KV(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||pr();const h=Us(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+h;const g=Us(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}Ja(c,d),rf(c,f),gg(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Ife),this.sharedNodes.get(o).add(c);const m=c.options.initialPromotionConfig;c.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const m={};d.z&&P2("z",o,m,this.animationValues);for(let f=0;f<T2.length;f++)P2(`rotate${T2[f]}`,o,m,this.animationValues),P2(`skew${T2[f]}`,o,m,this.animationValues);o.render();for(const f in m)o.setStaticValue(f,m[f]),this.animationValues&&(this.animationValues[f]=m[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=w0(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=w0(c?.pointerEvents)||""),this.hasProjected&&!Qu(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=m.animationValues||m.latestValues;this.applyTransformsToTarget();let h=Lfe(this.projectionDeltaWithTransform,this.treeScale,f);d&&(h=d(f,h)),o.transform=h;const{x:g,y:b}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,m.animationValues?o.opacity=m===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=m===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Dg){if(f[w]===void 0)continue;const{correct:y,applyTo:j,isCSSVariable:N}=Dg[w],C=h==="none"?f[w]:y(f[w],m);if(j){const E=j.length;for(let T=0;T<E;T++)o[j[T]]=C}else N?this.options.visualElement.renderState.vars[w]=C:o[w]=C}this.options.layoutId&&(o.pointerEvents=m===this?w0(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(II),this.root.sharedNodes.clear()}}}function qfe(e){e.updateLayout()}function Ffe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?ri(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=Us(h);h.min=r[f].min,h.max=h.min+g}):KV(a,t.layoutBox,r)&&ri(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=Us(r[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const o=sf();gg(o,r,t.layoutBox);const c=sf();i?gg(c,e.applyTransform(s,!0),t.measuredBox):gg(c,r,t.layoutBox);const d=!FV(o);let m=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const b=pr();xg(b,t.layoutBox,h.layoutBox);const w=pr();xg(w,r,g.layoutBox),BV(b,w)||(m=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Bfe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ufe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Vfe(e){e.clearSnapshot()}function II(e){e.clearMeasurements()}function LI(e){e.isLayoutDirty=!1}function Kfe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $I(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hfe(e){e.resolveTargetDelta()}function Gfe(e){e.calcProjection()}function Wfe(e){e.resetSkewAndRotation()}function Yfe(e){e.removeLeadSnapshot()}function zI(e,t,r){e.translate=sr(t.translate,0,r),e.scale=sr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function qI(e,t,r,s){e.min=sr(t.min,r.min,s),e.max=sr(t.max,r.max,s)}function Qfe(e,t,r,s){qI(e.x,t.x,r.x,s),qI(e.y,t.y,r.y,s)}function Xfe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Zfe={duration:.45,ease:[.4,0,.1,1]},FI=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),BI=FI("applewebkit/")&&!FI("chrome/")?Math.round:mi;function UI(e){e.min=BI(e.min),e.max=BI(e.max)}function Jfe(e){UI(e.x),UI(e.y)}function KV(e,t,r){return e==="position"||e==="preserve-aspect"&&!afe(RI(t),RI(r),.2)}function ehe(e){return e!==e.root&&e.scroll?.wasRoot}const the=VV({attachResizeListener:(e,t)=>Ig(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),O2={current:void 0},HV=VV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!O2.current){const e=new the({});e.mount(window),e.setOptions({layoutScroll:!0}),O2.current=e}return O2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nhe={pan:{Feature:bfe},drag:{Feature:vfe,ProjectionNode:HV,MeasureLayout:$V}};function VI(e,t,r){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&Xn.postRender(()=>i(t,Yx(t)))}class rhe extends nu{mount(){const{current:t}=this.node;t&&(this.unmount=Tde(t,(r,s)=>(VI(this.node,s,"Start"),a=>VI(this.node,a,"End"))))}unmount(){}}class she extends nu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hx(Ig(this.node.current,"focus",()=>this.onFocus()),Ig(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KI(e,t,r){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&Xn.postRender(()=>i(t,Yx(t)))}class ahe extends nu{mount(){const{current:t}=this.node;t&&(this.unmount=Mde(t,(r,s)=>(KI(this.node,s,"Start"),(a,{success:i})=>KI(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tT=new WeakMap,k2=new WeakMap,ihe=e=>{const t=tT.get(e.target);t&&t(e)},ohe=e=>{e.forEach(ihe)};function lhe({root:e,...t}){const r=e||document;k2.has(r)||k2.set(r,{});const s=k2.get(r),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(ohe,{root:e,...t})),s[a]}function che(e,t,r){const s=lhe(t);return tT.set(e,r),s.observe(e),()=>{tT.delete(e),s.unobserve(e)}}const uhe={some:0,all:1};class dhe extends nu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:uhe[a]},c=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,i&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=m?f:h;g&&g(d)};return che(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(mhe(t,r))&&this.startObserver()}unmount(){}}function mhe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const fhe={inView:{Feature:dhe},tap:{Feature:ahe},focus:{Feature:she},hover:{Feature:rhe}},hhe={layout:{ProjectionNode:HV,MeasureLayout:$V}},phe={...Jme,...fhe,...nhe,...hhe},HI=pme(phe,_me);var qm={},M2={exports:{}},R2,GI;function ghe(){if(GI)return R2;GI=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return R2=e,R2}var D2,WI;function xhe(){if(WI)return D2;WI=1;var e=ghe();function t(){}function r(){}return r.resetWarningCache=t,D2=function(){function s(o,c,d,m,f,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},D2}var YI;function sO(){return YI||(YI=1,M2.exports=xhe()()),M2.exports}var I2,QI;function GV(){return QI||(QI=1,I2={L:1,M:0,Q:3,H:2}),I2}var L2,XI;function WV(){return XI||(XI=1,L2={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),L2}var $2,ZI;function yhe(){if(ZI)return $2;ZI=1;var e=WV();function t(r){this.mode=e.MODE_8BIT_BYTE,this.data=r}return t.prototype={getLength:function(r){return this.data.length},write:function(r){for(var s=0;s<this.data.length;s++)r.put(this.data.charCodeAt(s),8)}},$2=t,$2}var z2,JI;function vhe(){if(JI)return z2;JI=1;var e=GV();function t(r,s){this.totalCount=r,this.dataCount=s}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(r,s){var a=t.getRsBlockTable(r,s);if(a==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+s);for(var i=a.length/3,o=new Array,c=0;c<i;c++)for(var d=a[c*3+0],m=a[c*3+1],f=a[c*3+2],h=0;h<d;h++)o.push(new t(m,f));return o},t.getRsBlockTable=function(r,s){switch(s){case e.L:return t.RS_BLOCK_TABLE[(r-1)*4+0];case e.M:return t.RS_BLOCK_TABLE[(r-1)*4+1];case e.Q:return t.RS_BLOCK_TABLE[(r-1)*4+2];case e.H:return t.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},z2=t,z2}var q2,eL;function bhe(){if(eL)return q2;eL=1;function e(){this.buffer=new Array,this.length=0}return e.prototype={get:function(t){var r=Math.floor(t/8);return(this.buffer[r]>>>7-t%8&1)==1},put:function(t,r){for(var s=0;s<r;s++)this.putBit((t>>>r-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},q2=e,q2}var F2,tL;function YV(){if(tL)return F2;tL=1;for(var e={glog:function(r){if(r<1)throw new Error("glog("+r+")");return e.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return e.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)e.EXP_TABLE[t]=1<<t;for(var t=8;t<256;t++)e.EXP_TABLE[t]=e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8];for(var t=0;t<255;t++)e.LOG_TABLE[e.EXP_TABLE[t]]=t;return F2=e,F2}var B2,nL;function QV(){if(nL)return B2;nL=1;var e=YV();function t(r,s){if(r.length==null)throw new Error(r.length+"/"+s);for(var a=0;a<r.length&&r[a]==0;)a++;this.num=new Array(r.length-a+s);for(var i=0;i<r.length-a;i++)this.num[i]=r[i+a]}return t.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var s=new Array(this.getLength()+r.getLength()-1),a=0;a<this.getLength();a++)for(var i=0;i<r.getLength();i++)s[a+i]^=e.gexp(e.glog(this.get(a))+e.glog(r.get(i)));return new t(s,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var s=e.glog(this.get(0))-e.glog(r.get(0)),a=new Array(this.getLength()),i=0;i<this.getLength();i++)a[i]=this.get(i);for(var i=0;i<r.getLength();i++)a[i]^=e.gexp(e.glog(r.get(i))+s);return new t(a,0).mod(r)}},B2=t,B2}var U2,rL;function jhe(){if(rL)return U2;rL=1;var e=WV(),t=QV(),r=YV(),s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(i){for(var o=i<<10;a.getBCHDigit(o)-a.getBCHDigit(a.G15)>=0;)o^=a.G15<<a.getBCHDigit(o)-a.getBCHDigit(a.G15);return(i<<10|o)^a.G15_MASK},getBCHTypeNumber:function(i){for(var o=i<<12;a.getBCHDigit(o)-a.getBCHDigit(a.G18)>=0;)o^=a.G18<<a.getBCHDigit(o)-a.getBCHDigit(a.G18);return i<<12|o},getBCHDigit:function(i){for(var o=0;i!=0;)o++,i>>>=1;return o},getPatternPosition:function(i){return a.PATTERN_POSITION_TABLE[i-1]},getMask:function(i,o,c){switch(i){case s.PATTERN000:return(o+c)%2==0;case s.PATTERN001:return o%2==0;case s.PATTERN010:return c%3==0;case s.PATTERN011:return(o+c)%3==0;case s.PATTERN100:return(Math.floor(o/2)+Math.floor(c/3))%2==0;case s.PATTERN101:return o*c%2+o*c%3==0;case s.PATTERN110:return(o*c%2+o*c%3)%2==0;case s.PATTERN111:return(o*c%3+(o+c)%2)%2==0;default:throw new Error("bad maskPattern:"+i)}},getErrorCorrectPolynomial:function(i){for(var o=new t([1],0),c=0;c<i;c++)o=o.multiply(new t([1,r.gexp(c)],0));return o},getLengthInBits:function(i,o){if(1<=o&&o<10)switch(i){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+i)}else if(o<27)switch(i){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+i)}else if(o<41)switch(i){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+i)}else throw new Error("type:"+o)},getLostPoint:function(i){for(var o=i.getModuleCount(),c=0,d=0;d<o;d++)for(var m=0;m<o;m++){for(var f=0,h=i.isDark(d,m),g=-1;g<=1;g++)if(!(d+g<0||o<=d+g))for(var b=-1;b<=1;b++)m+b<0||o<=m+b||g==0&&b==0||h==i.isDark(d+g,m+b)&&f++;f>5&&(c+=3+f-5)}for(var d=0;d<o-1;d++)for(var m=0;m<o-1;m++){var w=0;i.isDark(d,m)&&w++,i.isDark(d+1,m)&&w++,i.isDark(d,m+1)&&w++,i.isDark(d+1,m+1)&&w++,(w==0||w==4)&&(c+=3)}for(var d=0;d<o;d++)for(var m=0;m<o-6;m++)i.isDark(d,m)&&!i.isDark(d,m+1)&&i.isDark(d,m+2)&&i.isDark(d,m+3)&&i.isDark(d,m+4)&&!i.isDark(d,m+5)&&i.isDark(d,m+6)&&(c+=40);for(var m=0;m<o;m++)for(var d=0;d<o-6;d++)i.isDark(d,m)&&!i.isDark(d+1,m)&&i.isDark(d+2,m)&&i.isDark(d+3,m)&&i.isDark(d+4,m)&&!i.isDark(d+5,m)&&i.isDark(d+6,m)&&(c+=40);for(var y=0,m=0;m<o;m++)for(var d=0;d<o;d++)i.isDark(d,m)&&y++;var j=Math.abs(100*y/o/o-50)/5;return c+=j*10,c}};return U2=a,U2}var V2,sL;function whe(){if(sL)return V2;sL=1;var e=yhe(),t=vhe(),r=bhe(),s=jhe(),a=QV();function i(c,d){this.typeNumber=c,this.errorCorrectLevel=d,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=i.prototype;return o.addData=function(c){var d=new e(c);this.dataList.push(d),this.dataCache=null},o.isDark=function(c,d){if(c<0||this.moduleCount<=c||d<0||this.moduleCount<=d)throw new Error(c+","+d);return this.modules[c][d]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var c=1;for(c=1;c<40;c++){for(var d=t.getRSBlocks(c,this.errorCorrectLevel),m=new r,f=0,h=0;h<d.length;h++)f+=d[h].dataCount;for(var h=0;h<this.dataList.length;h++){var g=this.dataList[h];m.put(g.mode,4),m.put(g.getLength(),s.getLengthInBits(g.mode,c)),g.write(m)}if(m.getLengthInBits()<=f*8)break}this.typeNumber=c}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(c,d){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++)this.modules[m][f]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(c,d),this.typeNumber>=7&&this.setupTypeNumber(c),this.dataCache==null&&(this.dataCache=i.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,d)},o.setupPositionProbePattern=function(c,d){for(var m=-1;m<=7;m++)if(!(c+m<=-1||this.moduleCount<=c+m))for(var f=-1;f<=7;f++)d+f<=-1||this.moduleCount<=d+f||(0<=m&&m<=6&&(f==0||f==6)||0<=f&&f<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=f&&f<=4?this.modules[c+m][d+f]=!0:this.modules[c+m][d+f]=!1)},o.getBestMaskPattern=function(){for(var c=0,d=0,m=0;m<8;m++){this.makeImpl(!0,m);var f=s.getLostPoint(this);(m==0||c>f)&&(c=f,d=m)}return d},o.createMovieClip=function(c,d,m){var f=c.createEmptyMovieClip(d,m),h=1;this.make();for(var g=0;g<this.modules.length;g++)for(var b=g*h,w=0;w<this.modules[g].length;w++){var y=w*h,j=this.modules[g][w];j&&(f.beginFill(0,100),f.moveTo(y,b),f.lineTo(y+h,b),f.lineTo(y+h,b+h),f.lineTo(y,b+h),f.endFill())}return f},o.setupTimingPattern=function(){for(var c=8;c<this.moduleCount-8;c++)this.modules[c][6]==null&&(this.modules[c][6]=c%2==0);for(var d=8;d<this.moduleCount-8;d++)this.modules[6][d]==null&&(this.modules[6][d]=d%2==0)},o.setupPositionAdjustPattern=function(){for(var c=s.getPatternPosition(this.typeNumber),d=0;d<c.length;d++)for(var m=0;m<c.length;m++){var f=c[d],h=c[m];if(this.modules[f][h]==null)for(var g=-2;g<=2;g++)for(var b=-2;b<=2;b++)g==-2||g==2||b==-2||b==2||g==0&&b==0?this.modules[f+g][h+b]=!0:this.modules[f+g][h+b]=!1}},o.setupTypeNumber=function(c){for(var d=s.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var f=!c&&(d>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=f}for(var m=0;m<18;m++){var f=!c&&(d>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=f}},o.setupTypeInfo=function(c,d){for(var m=this.errorCorrectLevel<<3|d,f=s.getBCHTypeInfo(m),h=0;h<15;h++){var g=!c&&(f>>h&1)==1;h<6?this.modules[h][8]=g:h<8?this.modules[h+1][8]=g:this.modules[this.moduleCount-15+h][8]=g}for(var h=0;h<15;h++){var g=!c&&(f>>h&1)==1;h<8?this.modules[8][this.moduleCount-h-1]=g:h<9?this.modules[8][15-h-1+1]=g:this.modules[8][15-h-1]=g}this.modules[this.moduleCount-8][8]=!c},o.mapData=function(c,d){for(var m=-1,f=this.moduleCount-1,h=7,g=0,b=this.moduleCount-1;b>0;b-=2)for(b==6&&b--;;){for(var w=0;w<2;w++)if(this.modules[f][b-w]==null){var y=!1;g<c.length&&(y=(c[g]>>>h&1)==1);var j=s.getMask(d,f,b-w);j&&(y=!y),this.modules[f][b-w]=y,h--,h==-1&&(g++,h=7)}if(f+=m,f<0||this.moduleCount<=f){f-=m,m=-m;break}}},i.PAD0=236,i.PAD1=17,i.createData=function(c,d,m){for(var f=t.getRSBlocks(c,d),h=new r,g=0;g<m.length;g++){var b=m[g];h.put(b.mode,4),h.put(b.getLength(),s.getLengthInBits(b.mode,c)),b.write(h)}for(var w=0,g=0;g<f.length;g++)w+=f[g].dataCount;if(h.getLengthInBits()>w*8)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+w*8+")");for(h.getLengthInBits()+4<=w*8&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=w*8||(h.put(i.PAD0,8),h.getLengthInBits()>=w*8));)h.put(i.PAD1,8);return i.createBytes(h,f)},i.createBytes=function(c,d){for(var m=0,f=0,h=0,g=new Array(d.length),b=new Array(d.length),w=0;w<d.length;w++){var y=d[w].dataCount,j=d[w].totalCount-y;f=Math.max(f,y),h=Math.max(h,j),g[w]=new Array(y);for(var N=0;N<g[w].length;N++)g[w][N]=255&c.buffer[N+m];m+=y;var C=s.getErrorCorrectPolynomial(j),E=new a(g[w],C.getLength()-1),T=E.mod(C);b[w]=new Array(C.getLength()-1);for(var N=0;N<b[w].length;N++){var A=N+T.getLength()-b[w].length;b[w][N]=A>=0?T.get(A):0}}for(var k=0,N=0;N<d.length;N++)k+=d[N].totalCount;for(var P=new Array(k),O=0,N=0;N<f;N++)for(var w=0;w<d.length;w++)N<g[w].length&&(P[O++]=g[w][N]);for(var N=0;N<h;N++)for(var w=0;w<d.length;w++)N<b[w].length&&(P[O++]=b[w][N]);return P},V2=i,V2}var Vv={},aL;function Nhe(){if(aL)return Vv;aL=1,Object.defineProperty(Vv,"__esModule",{value:!0});var e=Object.assign||function(m){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(m[g]=h[g])}return m},t=sO(),r=i(t),s=lh(),a=i(s);function i(m){return m&&m.__esModule?m:{default:m}}function o(m,f){var h={};for(var g in m)f.indexOf(g)>=0||Object.prototype.hasOwnProperty.call(m,g)&&(h[g]=m[g]);return h}var c={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},d=(0,s.forwardRef)(function(m,f){var h=m.bgColor,g=m.bgD,b=m.fgD,w=m.fgColor,y=m.size,j=m.title,N=m.viewBoxSize,C=m.xmlns,E=C===void 0?"http://www.w3.org/2000/svg":C,T=o(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",e({},T,{height:y,ref:f,viewBox:"0 0 "+N+" "+N,width:y,xmlns:E}),j?a.default.createElement("title",null,j):null,a.default.createElement("path",{d:g,fill:h}),a.default.createElement("path",{d:b,fill:w}))});return d.displayName="QRCodeSvg",d.propTypes=c,Vv.default=d,Vv}var iL;function She(){if(iL)return qm;iL=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.QRCode=void 0;var e=Object.assign||function(y){for(var j=1;j<arguments.length;j++){var N=arguments[j];for(var C in N)Object.prototype.hasOwnProperty.call(N,C)&&(y[C]=N[C])}return y},t=sO(),r=h(t),s=GV(),a=h(s),i=whe(),o=h(i),c=lh(),d=h(c),m=Nhe(),f=h(m);function h(y){return y&&y.__esModule?y:{default:y}}function g(y,j){var N={};for(var C in y)j.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(y,C)&&(N[C]=y[C]);return N}var b={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},w=(0,c.forwardRef)(function(y,j){var N=y.bgColor,C=N===void 0?"#FFFFFF":N,E=y.fgColor,T=E===void 0?"#000000":E,A=y.level,k=A===void 0?"L":A,P=y.size,O=P===void 0?256:P,M=y.value,F=g(y,["bgColor","fgColor","level","size","value"]),D=new o.default(-1,a.default[k]);D.addData(M),D.make();var $=D.modules;return d.default.createElement(f.default,e({},F,{bgColor:C,bgD:$.map(function(V,z){return V.map(function(q,I){return q?"":"M "+I+" "+z+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:T,fgD:$.map(function(V,z){return V.map(function(q,I){return q?"M "+I+" "+z+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:j,size:O,viewBoxSize:$.length}))});return qm.QRCode=w,w.displayName="QRCode",w.propTypes=b,qm.default=w,qm}var Che=She();const Lg=yn(Che);function yg(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var Ahe=qa[" useId ".trim().toString()]||(()=>{}),Ehe=0;function fi(e){const[t,r]=v.useState(Ahe());return an(()=>{r(s=>s??String(Ehe++))},[e]),t?`radix-${t}`:""}var _he=qa[" useInsertionEffect ".trim().toString()]||an;function The({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=Phe({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=Ohe(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function Phe({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return _he(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function Ohe(e){return typeof e=="function"}function K2(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function khe(e){const t=Mhe(e),r=v.forwardRef((s,a)=>{const{children:i,...o}=s,c=v.Children.toArray(i),d=c.find(Dhe);if(d){const m=d.props.children,f=c.map(h=>h===d?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:h);return n.jsx(t,{...o,ref:a,children:v.isValidElement(m)?v.cloneElement(m,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Mhe(e){const t=v.forwardRef((r,s)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=Lhe(a),c=Ihe(i,a.props);return a.type!==v.Fragment&&(c.ref=s?Ro(s,o):o),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rhe=Symbol("radix.slottable");function Dhe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rhe}function Ihe(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Lhe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $he=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=$he.reduce((e,t)=>{const r=khe(`Primitive.${t}`),s=v.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function XV(e,t){e&&Fd.flushSync(()=>e.dispatchEvent(t))}var zhe="DismissableLayer",nT="dismissableLayer.update",qhe="dismissableLayer.pointerDownOutside",Fhe="dismissableLayer.focusOutside",oL,ZV=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_j=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,m=v.useContext(ZV),[f,h]=v.useState(null),g=f?.ownerDocument??globalThis?.document,[,b]=v.useState({}),w=xt(t,P=>h(P)),y=Array.from(m.layers),[j]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(j),C=f?y.indexOf(f):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,T=C>=N,A=Vhe(P=>{const O=P.target,M=[...m.branches].some(F=>F.contains(O));!T||M||(a?.(P),o?.(P),P.defaultPrevented||c?.())},g),k=Khe(P=>{const O=P.target;[...m.branches].some(F=>F.contains(O))||(i?.(P),o?.(P),P.defaultPrevented||c?.())},g);return r9(P=>{C===m.layers.size-1&&(s?.(P),!P.defaultPrevented&&c&&(P.preventDefault(),c()))},g),v.useEffect(()=>{if(f)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(oL=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(f)),m.layers.add(f),lL(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=oL)}},[f,g,r,m]),v.useEffect(()=>()=>{f&&(m.layers.delete(f),m.layersWithOutsidePointerEventsDisabled.delete(f),lL())},[f,m]),v.useEffect(()=>{const P=()=>b({});return document.addEventListener(nT,P),()=>document.removeEventListener(nT,P)},[]),n.jsx(at.div,{...d,ref:w,style:{pointerEvents:E?T?"auto":"none":void 0,...e.style},onFocusCapture:K2(e.onFocusCapture,k.onFocusCapture),onBlurCapture:K2(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:K2(e.onPointerDownCapture,A.onPointerDownCapture)})});_j.displayName=zhe;var Bhe="DismissableLayerBranch",Uhe=v.forwardRef((e,t)=>{const r=v.useContext(ZV),s=v.useRef(null),a=xt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(at.div,{...e,ref:a})});Uhe.displayName=Bhe;function Vhe(e,t=globalThis?.document){const r=qn(e),s=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=c=>{if(c.target&&!s.current){let d=function(){JV(qhe,r,m,{discrete:!0})};const m={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Khe(e,t=globalThis?.document){const r=qn(e),s=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!s.current&&JV(Fhe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function lL(){const e=new CustomEvent(nT);document.dispatchEvent(e)}function JV(e,t,r,{discrete:s}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?XV(a,i):a.dispatchEvent(i)}var H2="focusScope.autoFocusOnMount",G2="focusScope.autoFocusOnUnmount",cL={bubbles:!1,cancelable:!0},Hhe="FocusScope",Tj=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[c,d]=v.useState(null),m=qn(a),f=qn(i),h=v.useRef(null),g=xt(t,y=>d(y)),b=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let y=function(E){if(b.paused||!c)return;const T=E.target;c.contains(T)?h.current=T:Mc(h.current,{select:!0})},j=function(E){if(b.paused||!c)return;const T=E.relatedTarget;T!==null&&(c.contains(T)||Mc(h.current,{select:!0}))},N=function(E){if(document.activeElement===document.body)for(const A of E)A.removedNodes.length>0&&Mc(c)};document.addEventListener("focusin",y),document.addEventListener("focusout",j);const C=new MutationObserver(N);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),C.disconnect()}}},[s,c,b.paused]),v.useEffect(()=>{if(c){dL.add(b);const y=document.activeElement;if(!c.contains(y)){const N=new CustomEvent(H2,cL);c.addEventListener(H2,m),c.dispatchEvent(N),N.defaultPrevented||(Ghe(Zhe(eK(c)),{select:!0}),document.activeElement===y&&Mc(c))}return()=>{c.removeEventListener(H2,m),setTimeout(()=>{const N=new CustomEvent(G2,cL);c.addEventListener(G2,f),c.dispatchEvent(N),N.defaultPrevented||Mc(y??document.body,{select:!0}),c.removeEventListener(G2,f),dL.remove(b)},0)}}},[c,m,f,b]);const w=v.useCallback(y=>{if(!r&&!s||b.paused)return;const j=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,N=document.activeElement;if(j&&N){const C=y.currentTarget,[E,T]=Whe(C);E&&T?!y.shiftKey&&N===T?(y.preventDefault(),r&&Mc(E,{select:!0})):y.shiftKey&&N===E&&(y.preventDefault(),r&&Mc(T,{select:!0})):N===C&&y.preventDefault()}},[r,s,b.paused]);return n.jsx(at.div,{tabIndex:-1,...o,ref:g,onKeyDown:w})});Tj.displayName=Hhe;function Ghe(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Mc(s,{select:t}),document.activeElement!==r)return}function Whe(e){const t=eK(e),r=uL(t,e),s=uL(t.reverse(),e);return[r,s]}function eK(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function uL(e,t){for(const r of e)if(!Yhe(r,{upTo:t}))return r}function Yhe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qhe(e){return e instanceof HTMLInputElement&&"select"in e}function Mc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Qhe(e)&&t&&e.select()}}var dL=Xhe();function Xhe(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=mL(e,t),e.unshift(t)},remove(t){e=mL(e,t),e[0]?.resume()}}}function mL(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Zhe(e){return e.filter(t=>t.tagName!=="A")}var Jhe="Portal",Pj=v.forwardRef((e,t)=>{const{container:r,...s}=e,[a,i]=v.useState(!1);an(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?t9.createPortal(n.jsx(at.div,{...s,ref:t}),o):null});Pj.displayName=Jhe;function epe(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var Ls=e=>{const{present:t,children:r}=e,s=tpe(t),a=typeof r=="function"?r({present:s.isPresent}):v.Children.only(r),i=xt(s.ref,npe(a));return typeof r=="function"||s.isPresent?v.cloneElement(a,{ref:i}):null};Ls.displayName="Presence";function tpe(e){const[t,r]=v.useState(),s=v.useRef(null),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[c,d]=epe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=Kv(s.current);i.current=c==="mounted"?m:"none"},[c]),an(()=>{const m=s.current,f=a.current;if(f!==e){const g=i.current,b=Kv(m);e?d("MOUNT"):b==="none"||m?.display==="none"?d("UNMOUNT"):d(f&&g!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),an(()=>{if(t){let m;const f=t.ownerDocument.defaultView??window,h=b=>{const y=Kv(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&y&&(d("ANIMATION_END"),!a.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",m=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},g=b=>{b.target===t&&(i.current=Kv(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(m),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:v.useCallback(m=>{s.current=m?getComputedStyle(m):null,r(m)},[])}}function Kv(e){return e?.animationName||"none"}function npe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var W2=0;function aO(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??fL()),document.body.insertAdjacentElement("beforeend",e[1]??fL()),W2++,()=>{W2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),W2--}},[])}function fL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var go=function(){return go=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},go.apply(this,arguments)};function tK(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]]);return r}function rpe(e,t,r){if(r||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}var S0="right-scroll-bar-position",C0="width-before-scroll-bar",spe="with-scroll-bars-hidden",ape="--removed-body-scroll-bar-size";function Y2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ipe(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var a=r.value;a!==s&&(r.value=s,r.callback(s,a))}}}})[0];return r.callback=t,r.facade}var ope=typeof window<"u"?v.useLayoutEffect:v.useEffect,hL=new WeakMap;function lpe(e,t){var r=ipe(null,function(s){return e.forEach(function(a){return Y2(a,s)})});return ope(function(){var s=hL.get(r);if(s){var a=new Set(s),i=new Set(e),o=r.current;a.forEach(function(c){i.has(c)||Y2(c,null)}),i.forEach(function(c){a.has(c)||Y2(c,o)})}hL.set(r,e)},[e]),r}function cpe(e){return e}function upe(e,t){t===void 0&&(t=cpe);var r=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,s);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(s=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){s=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var d=function(){var f=o;o=[],f.forEach(i)},m=function(){return Promise.resolve().then(d)};m(),r={push:function(f){o.push(f),m()},filter:function(f){return o=o.filter(f),r}}}};return a}function dpe(e){e===void 0&&(e={});var t=upe(null);return t.options=go({async:!0,ssr:!1},e),t}var nK=function(e){var t=e.sideCar,r=tK(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,go({},r))};nK.isSideCarExport=!0;function mpe(e,t){return e.useMedium(t),nK}var rK=dpe(),Q2=function(){},Oj=v.forwardRef(function(e,t){var r=v.useRef(null),s=v.useState({onScrollCapture:Q2,onWheelCapture:Q2,onTouchMoveCapture:Q2}),a=s[0],i=s[1],o=e.forwardProps,c=e.children,d=e.className,m=e.removeScrollBar,f=e.enabled,h=e.shards,g=e.sideCar,b=e.noIsolation,w=e.inert,y=e.allowPinchZoom,j=e.as,N=j===void 0?"div":j,C=e.gapMode,E=tK(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,A=lpe([r,t]),k=go(go({},E),a);return v.createElement(v.Fragment,null,f&&v.createElement(T,{sideCar:rK,removeScrollBar:m,shards:h,noIsolation:b,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:C}),o?v.cloneElement(v.Children.only(c),go(go({},k),{ref:A})):v.createElement(N,go({},k,{className:d,ref:A}),c))});Oj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Oj.classNames={fullWidth:C0,zeroRight:S0};var fpe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hpe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fpe();return t&&e.setAttribute("nonce",t),e}function ppe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gpe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xpe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=hpe())&&(ppe(t,r),gpe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ype=function(){var e=xpe();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sK=function(){var e=ype(),t=function(r){var s=r.styles,a=r.dynamic;return e(s,a),null};return t},vpe={left:0,top:0,right:0,gap:0},X2=function(e){return parseInt(e||"",10)||0},bpe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[X2(r),X2(s),X2(a)]},jpe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vpe;var t=bpe(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},wpe=sK(),gf="data-scroll-locked",Npe=function(e,t,r,s){var a=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(spe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(c,"px ").concat(s,`;
  }
  body[`).concat(gf,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(S0,` {
    right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(C0,` {
    margin-right: `).concat(c,"px ").concat(s,`;
  }
  
  .`).concat(S0," .").concat(S0,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(C0," .").concat(C0,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(gf,`] {
    `).concat(ape,": ").concat(c,`px;
  }
`)},pL=function(){var e=parseInt(document.body.getAttribute(gf)||"0",10);return isFinite(e)?e:0},Spe=function(){v.useEffect(function(){return document.body.setAttribute(gf,(pL()+1).toString()),function(){var e=pL()-1;e<=0?document.body.removeAttribute(gf):document.body.setAttribute(gf,e.toString())}},[])},Cpe=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;Spe();var i=v.useMemo(function(){return jpe(a)},[a]);return v.createElement(wpe,{styles:Npe(i,!t,a,r?"":"!important")})},rT=!1;if(typeof window<"u")try{var Hv=Object.defineProperty({},"passive",{get:function(){return rT=!0,!0}});window.addEventListener("test",Hv,Hv),window.removeEventListener("test",Hv,Hv)}catch{rT=!1}var Fm=rT?{passive:!1}:!1,Ape=function(e){return e.tagName==="TEXTAREA"},aK=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ape(e)&&r[t]==="visible")},Epe=function(e){return aK(e,"overflowY")},_pe=function(e){return aK(e,"overflowX")},gL=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=iK(e,s);if(a){var i=oK(e,s),o=i[1],c=i[2];if(o>c)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},Tpe=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},Ppe=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},iK=function(e,t){return e==="v"?Epe(t):_pe(t)},oK=function(e,t){return e==="v"?Tpe(t):Ppe(t)},Ope=function(e,t){return e==="h"&&t==="rtl"?-1:1},kpe=function(e,t,r,s,a){var i=Ope(e,window.getComputedStyle(t).direction),o=i*s,c=r.target,d=t.contains(c),m=!1,f=o>0,h=0,g=0;do{var b=oK(e,c),w=b[0],y=b[1],j=b[2],N=y-j-i*w;(w||N)&&iK(e,c)&&(h+=N,g+=w),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(f&&Math.abs(h)<1||!f&&Math.abs(g)<1)&&(m=!0),m},Gv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xL=function(e){return[e.deltaX,e.deltaY]},yL=function(e){return e&&"current"in e?e.current:e},Mpe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Rpe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Dpe=0,Bm=[];function Ipe(e){var t=v.useRef([]),r=v.useRef([0,0]),s=v.useRef(),a=v.useState(Dpe++)[0],i=v.useState(sK)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var y=rpe([e.lockRef.current],(e.shards||[]).map(yL),!0).filter(Boolean);return y.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=v.useCallback(function(y,j){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var N=Gv(y),C=r.current,E="deltaX"in y?y.deltaX:C[0]-N[0],T="deltaY"in y?y.deltaY:C[1]-N[1],A,k=y.target,P=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in y&&P==="h"&&k.type==="range")return!1;var O=gL(P,k);if(!O)return!0;if(O?A=P:(A=P==="v"?"h":"v",O=gL(P,k)),!O)return!1;if(!s.current&&"changedTouches"in y&&(E||T)&&(s.current=A),!A)return!0;var M=s.current||A;return kpe(M,j,y,M==="h"?E:T)},[]),d=v.useCallback(function(y){var j=y;if(!(!Bm.length||Bm[Bm.length-1]!==i)){var N="deltaY"in j?xL(j):Gv(j),C=t.current.filter(function(A){return A.name===j.type&&(A.target===j.target||j.target===A.shadowParent)&&Mpe(A.delta,N)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var E=(o.current.shards||[]).map(yL).filter(Boolean).filter(function(A){return A.contains(j.target)}),T=E.length>0?c(j,E[0]):!o.current.noIsolation;T&&j.cancelable&&j.preventDefault()}}},[]),m=v.useCallback(function(y,j,N,C){var E={name:y,delta:j,target:N,should:C,shadowParent:Lpe(N)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(T){return T!==E})},1)},[]),f=v.useCallback(function(y){r.current=Gv(y),s.current=void 0},[]),h=v.useCallback(function(y){m(y.type,xL(y),y.target,c(y,e.lockRef.current))},[]),g=v.useCallback(function(y){m(y.type,Gv(y),y.target,c(y,e.lockRef.current))},[]);v.useEffect(function(){return Bm.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Fm),document.addEventListener("touchmove",d,Fm),document.addEventListener("touchstart",f,Fm),function(){Bm=Bm.filter(function(y){return y!==i}),document.removeEventListener("wheel",d,Fm),document.removeEventListener("touchmove",d,Fm),document.removeEventListener("touchstart",f,Fm)}},[]);var b=e.removeScrollBar,w=e.inert;return v.createElement(v.Fragment,null,w?v.createElement(i,{styles:Rpe(a)}):null,b?v.createElement(Cpe,{gapMode:e.gapMode}):null)}function Lpe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $pe=mpe(rK,Ipe);var kj=v.forwardRef(function(e,t){return v.createElement(Oj,go({},e,{ref:t,sideCar:$pe}))});kj.classNames=Oj.classNames;var zpe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Um=new WeakMap,Wv=new WeakMap,Yv={},Z2=0,lK=function(e){return e&&(e.host||lK(e.parentNode))},qpe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=lK(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Fpe=function(e,t,r,s){var a=qpe(t,Array.isArray(e)?e:[e]);Yv[r]||(Yv[r]=new WeakMap);var i=Yv[r],o=[],c=new Set,d=new Set(a),m=function(h){!h||c.has(h)||(c.add(h),m(h.parentNode))};a.forEach(m);var f=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(g){if(c.has(g))f(g);else try{var b=g.getAttribute(s),w=b!==null&&b!=="false",y=(Um.get(g)||0)+1,j=(i.get(g)||0)+1;Um.set(g,y),i.set(g,j),o.push(g),y===1&&w&&Wv.set(g,!0),j===1&&g.setAttribute(r,"true"),w||g.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return f(t),c.clear(),Z2++,function(){o.forEach(function(h){var g=Um.get(h)-1,b=i.get(h)-1;Um.set(h,g),i.set(h,b),g||(Wv.has(h)||h.removeAttribute(s),Wv.delete(h)),b||h.removeAttribute(r)}),Z2--,Z2||(Um=new WeakMap,Um=new WeakMap,Wv=new WeakMap,Yv={})}},iO=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=zpe(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live]"))),Fpe(s,a,r,"aria-hidden")):function(){return null}};function Bpe(e){const t=Upe(e),r=v.forwardRef((s,a)=>{const{children:i,...o}=s,c=v.Children.toArray(i),d=c.find(Kpe);if(d){const m=d.props.children,f=c.map(h=>h===d?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:h);return n.jsx(t,{...o,ref:a,children:v.isValidElement(m)?v.cloneElement(m,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Upe(e){const t=v.forwardRef((r,s)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=Gpe(a),c=Hpe(i,a.props);return a.type!==v.Fragment&&(c.ref=s?Ro(s,o):o),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vpe=Symbol("radix.slottable");function Kpe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vpe}function Hpe(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Gpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mj="Dialog",[cK,uK]=ts(Mj),[Wpe,Zi]=cK(Mj),dK=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=v.useRef(null),d=v.useRef(null),[m,f]=The({prop:s,defaultProp:a??!1,onChange:i,caller:Mj});return n.jsx(Wpe,{scope:t,triggerRef:c,contentRef:d,contentId:fi(),titleId:fi(),descriptionId:fi(),open:m,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:o,children:r})};dK.displayName=Mj;var mK="DialogTrigger",fK=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Zi(mK,r),i=xt(t,a.triggerRef);return n.jsx(at.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cO(a.open),...s,ref:i,onClick:yg(e.onClick,a.onOpenToggle)})});fK.displayName=mK;var oO="DialogPortal",[Ype,hK]=cK(oO,{forceMount:void 0}),pK=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:a}=e,i=Zi(oO,t);return n.jsx(Ype,{scope:t,forceMount:r,children:v.Children.map(s,o=>n.jsx(Ls,{present:r||i.open,children:n.jsx(Pj,{asChild:!0,container:a,children:o})}))})};pK.displayName=oO;var K0="DialogOverlay",gK=v.forwardRef((e,t)=>{const r=hK(K0,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Zi(K0,e.__scopeDialog);return i.modal?n.jsx(Ls,{present:s||i.open,children:n.jsx(Xpe,{...a,ref:t})}):null});gK.displayName=K0;var Qpe=Bpe("DialogOverlay.RemoveScroll"),Xpe=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Zi(K0,r);return n.jsx(kj,{as:Qpe,allowPinchZoom:!0,shards:[a.contentRef],children:n.jsx(at.div,{"data-state":cO(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Nd="DialogContent",xK=v.forwardRef((e,t)=>{const r=hK(Nd,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=Zi(Nd,e.__scopeDialog);return n.jsx(Ls,{present:s||i.open,children:i.modal?n.jsx(Zpe,{...a,ref:t}):n.jsx(Jpe,{...a,ref:t})})});xK.displayName=Nd;var Zpe=v.forwardRef((e,t)=>{const r=Zi(Nd,e.__scopeDialog),s=v.useRef(null),a=xt(t,r.contentRef,s);return v.useEffect(()=>{const i=s.current;if(i)return iO(i)},[]),n.jsx(yK,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yg(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:yg(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:yg(e.onFocusOutside,i=>i.preventDefault())})}),Jpe=v.forwardRef((e,t)=>{const r=Zi(Nd,e.__scopeDialog),s=v.useRef(!1),a=v.useRef(!1);return n.jsx(yK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(s.current||r.triggerRef.current?.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),yK=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,c=Zi(Nd,r),d=v.useRef(null),m=xt(t,d);return aO(),n.jsxs(n.Fragment,{children:[n.jsx(Tj,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:n.jsx(_j,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":cO(c.open),...o,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(tge,{titleId:c.titleId}),n.jsx(rge,{contentRef:d,descriptionId:c.descriptionId})]})]})}),lO="DialogTitle",vK=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Zi(lO,r);return n.jsx(at.h2,{id:a.titleId,...s,ref:t})});vK.displayName=lO;var bK="DialogDescription",jK=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Zi(bK,r);return n.jsx(at.p,{id:a.descriptionId,...s,ref:t})});jK.displayName=bK;var wK="DialogClose",NK=v.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,a=Zi(wK,r);return n.jsx(at.button,{type:"button",...s,ref:t,onClick:yg(e.onClick,()=>a.onOpenChange(!1))})});NK.displayName=wK;function cO(e){return e?"open":"closed"}var SK="DialogTitleWarning",[ege,CK]=Kre(SK,{contentName:Nd,titleName:lO,docsSlug:"dialog"}),tge=({titleId:e})=>{const t=CK(SK),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},nge="DialogDescriptionWarning",rge=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CK(nge).contentName}}.`;return v.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},AK=dK,EK=fK,_K=pK,uO=gK,dO=xK,mO=vK,fO=jK,Rj=NK;const ht=AK,fa=EK,sge=_K,Dn=Rj,TK=v.forwardRef(({className:e,...t},r)=>n.jsx(uO,{ref:r,className:Le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));TK.displayName=uO.displayName;const mt=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(sge,{children:[n.jsx(TK,{}),n.jsxs(dO,{ref:s,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(Rj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(fn,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mt.displayName=dO.displayName;const pt=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});pt.displayName="DialogHeader";const jt=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jt.displayName="DialogFooter";const gt=v.forwardRef(({className:e,...t},r)=>n.jsx(mO,{ref:r,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));gt.displayName=mO.displayName;const Jr=v.forwardRef(({className:e,...t},r)=>n.jsx(fO,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));Jr.displayName=fO.displayName;function PK({params:e}){const{communityId:t}=e,[r,s]=v.useState(!1),[a,i]=v.useState(!1),{user:o,account:c,currentMembership:d,currentCommunity:m,selectCommunity:f,selectMembership:h}=dt(),{logoUrl:g}=Xi(),b=c||o,w=c?.memberships?.find(N=>N.communityId===t),y=d||w,j=()=>g||(w4()?"/wl-logo.png":m?.logo&&!m.logo.includes("dicebear")?ar(m.logo):"/icons/koomy-icon-192.png");return v.useEffect(()=>{m?.id!==t&&f(t),w&&d?.id!==w.id&&h(w.id)},[t,w,d,m,h,f]),!b||!y?n.jsx(Ds,{communityId:t,children:n.jsx("div",{className:"min-h-full flex items-center justify-center p-6",children:n.jsx("p",{className:"text-gray-500",children:"Chargement..."})})}):n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"min-h-full flex flex-col items-center p-4 pt-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Ma Carte Adhrent"}),n.jsx("div",{className:"w-full max-w-md",children:r?n.jsx(HI.div,{initial:{rotateY:-180,opacity:0},animate:{rotateY:0,opacity:1},transition:{duration:.4},onClick:()=>s(!1),className:"cursor-pointer",children:n.jsxs("div",{className:"w-full rounded-2xl shadow-2xl overflow-hidden bg-white text-gray-800 border border-gray-200",children:[n.jsxs("div",{className:"p-5 text-center border-b border-gray-100",children:[n.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Code de validation"}),n.jsx("h3",{className:"text-xl font-bold mt-2",children:y.displayName||b.firstName||"Membre"}),n.jsx("p",{className:"text-gray-500 text-sm",children:b.lastName||""})]}),n.jsxs("div",{className:"p-8 flex flex-col items-center",children:[n.jsx("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-lg cursor-pointer hover:shadow-xl transition-shadow",onClick:N=>{N.stopPropagation(),i(!0)},children:n.jsx(Lg,{value:y.memberId||"MEMBER",size:180})}),n.jsx("p",{className:"text-gray-500 text-sm mt-4 text-center max-w-[250px]",children:"Prsentez ce QR code  l'accueil pour valider votre prsence"}),n.jsxs("button",{onClick:N=>{N.stopPropagation(),i(!0)},className:"flex items-center gap-2 text-primary font-semibold mt-4 hover:underline",children:[n.jsx(sle,{size:18})," Agrandir le QR code"]})]}),n.jsx("div",{className:"px-5 pb-5",children:n.jsxs("div",{className:"bg-gray-50 rounded-xl px-4 py-3 text-center",children:[n.jsx("p",{className:"text-gray-400 uppercase tracking-wider text-xs mb-1",children:"N Adhrent"}),n.jsx("p",{className:"font-mono font-bold text-lg text-gray-800",children:y.memberId})]})})]})}):n.jsx(HI.div,{initial:{rotateY:180,opacity:0},animate:{rotateY:0,opacity:1},transition:{duration:.4},onClick:()=>s(!0),className:"cursor-pointer",children:n.jsxs("div",{className:"relative w-full rounded-2xl shadow-2xl overflow-hidden bg-gradient-to-br from-primary to-blue-800 text-white border border-white/10",children:[n.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/5 rounded-full -mr-10 -mt-10 blur-2xl pointer-events-none"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-black/20 rounded-full -ml-10 -mb-10 blur-xl pointer-events-none"}),n.jsx("div",{className:"p-5 pb-4",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-white p-2 rounded-xl shadow-md",children:n.jsx("img",{src:j(),alt:"Logo",className:"w-10 h-10 object-contain"})}),n.jsxs("div",{children:[n.jsx("span",{className:"font-bold text-xl tracking-wide block leading-tight",children:m?.name||"Association"}),n.jsx("span",{className:"text-xs opacity-80 uppercase tracking-wider",children:"Carte de Membre"})]})]}),n.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-bold border flex items-center gap-1.5 ${y.status==="active"?"bg-green-500/20 border-green-400/30 text-green-100":"bg-red-500/20 border-red-400/30 text-red-100"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${y.status==="active"?"bg-green-400 animate-pulse":"bg-red-400"}`}),y.status==="active"?"ACTIF":"EXPIR"]})]})}),n.jsx("div",{className:"px-5 py-4 bg-white/5",children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"w-24 h-24 bg-white/10 rounded-full p-1 shadow-inner backdrop-blur-sm border-2 border-white/20 flex-shrink-0",children:n.jsx("img",{src:ar(b.avatar)||`https://api.dicebear.com/7.x/avataaars/svg?seed=${b.firstName||"user"}`,className:"w-full h-full rounded-full object-cover",alt:"User"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:"text-2xl font-bold text-white drop-shadow-md leading-tight",children:y.displayName||b.firstName||"Membre"}),n.jsx("h2",{className:"text-2xl font-bold text-white drop-shadow-md uppercase leading-tight",children:b.lastName||""}),y.section&&n.jsx("p",{className:"text-blue-200 text-sm mt-2 font-medium",children:y.section})]})]})}),n.jsx("div",{className:"px-5 py-4",children:n.jsxs("div",{className:"bg-white/10 rounded-xl px-4 py-3 backdrop-blur-sm",children:[n.jsx("p",{className:"text-blue-200 uppercase tracking-wider text-xs mb-1",children:"N Adhrent"}),n.jsx("p",{className:"font-mono font-bold text-xl tracking-wider text-white",children:y.memberId})]})}),n.jsx("div",{className:"px-5 pb-5",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-white/10 rounded-xl px-4 py-3 backdrop-blur-sm",children:[n.jsx("p",{className:"text-blue-200 uppercase tracking-wider text-xs mb-1",children:"Date d'adhsion"}),n.jsx("p",{className:"font-semibold text-white text-base",children:y.joinDate?new Date(y.joinDate).toLocaleDateString("fr-FR"):y.claimedAt?new Date(y.claimedAt).toLocaleDateString("fr-FR"):"01/01/"+new Date().getFullYear()})]}),n.jsxs("div",{className:"bg-white/10 rounded-xl px-4 py-3 backdrop-blur-sm",children:[n.jsx("p",{className:"text-blue-200 uppercase tracking-wider text-xs mb-1",children:"Date d'expiration"}),n.jsx("p",{className:"font-semibold text-white text-base",children:y.nextDueDate?new Date(y.nextDueDate).toLocaleDateString("fr-FR"):"31/12/"+new Date().getFullYear()})]})]})}),m?.city&&n.jsx("div",{className:"px-5 pb-5",children:n.jsxs("div",{className:"bg-white/5 rounded-xl px-4 py-3 border-t border-white/10",children:[n.jsx("p",{className:"text-blue-200 uppercase tracking-wider text-xs mb-1",children:"Localisation"}),n.jsxs("p",{className:"font-medium text-white text-sm",children:[m.city,m.country?`, ${m.country}`:""]})]})})]})})}),n.jsx("p",{className:"text-gray-400 text-sm mt-6 animate-pulse",children:"Touchez la carte pour la retourner"}),n.jsx(ht,{open:a,onOpenChange:i,children:n.jsxs(mt,{className:"bg-white sm:max-w-md border-0 shadow-2xl p-8 flex flex-col items-center",children:[n.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:y.displayName||b.firstName||"Membre"}),n.jsx("p",{className:"text-gray-500 text-sm mb-6",children:y.memberId}),n.jsx("div",{className:"p-4 bg-white rounded-2xl shadow-[0_0_40px_-10px_rgba(0,0,0,0.1)] border border-gray-100",children:n.jsx(Lg,{value:y.memberId||"MEMBER",size:250})}),n.jsx("p",{className:"text-center text-gray-400 text-xs mt-6 max-w-[200px]",children:"Prsentez ce code  l'accueil de l'vnement."}),n.jsx("button",{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",onClick:()=>i(!1),children:n.jsx(fn,{size:24})})]})})]})})}const age="https://images.unsplash.com/photo-1557804506-669a67965ba0?w=400";function ige({news:e,categoryName:t,resolvedImageUrl:r}){const[s,a]=v.useState(!1),i=s||!r?age:r;return n.jsxs("div",{className:"h-48 overflow-hidden relative",children:[s&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200 z-10",children:n.jsx(L9,{className:"w-8 h-8 text-gray-400"})}),n.jsx("img",{src:i,alt:e.title,className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${s?"opacity-0":""}`,onError:()=>{console.error(`[NEWS IMAGE ERROR] ${e.id}:`,{src:r}),a(!0)}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),t&&n.jsx(Se,{className:"absolute top-4 left-4 bg-primary text-white border-0",children:t})]})}function OK({params:e}){const[t,r]=v.useState(""),[s,a]=v.useState(null),{communityId:i}=e,{selectCommunity:o,currentMembership:c}=dt();c?.communityId!==i&&o(i);const{data:d=[],isLoading:m,isError:f,error:h}=Pe({queryKey:[`/api/communities/${i}/news`],enabled:!!i}),{data:g=[]}=Pe({queryKey:[`/api/communities/${i}/categories`],enabled:!!i}),b=g.filter(j=>j.isActive),w=(j,N)=>j?g.find(E=>E.id===j)?.name||null:N||null;v.useEffect(()=>{const j=Hn.getPlatform(),N=Hn.isNativePlatform();console.log(`[News DEBUG] Platform: ${j}, Native: ${N}`),console.log(`[News DEBUG] communityId: ${i}`),console.log(`[News DEBUG] isLoading: ${m}, isError: ${f}`),console.log(`[News DEBUG] newsList count: ${d?.length||0}`),d?.length>0&&console.log("[News DEBUG] First article:",d[0]?.title),f&&console.error("[News DEBUG] Error:",h)},[d,m,f,h,i]);const y=v.useMemo(()=>{let j=d;if(s&&(j=j.filter(N=>N.categoryId===s)),t.trim()){const N=t.toLowerCase().trim();j=j.filter(C=>C.title.toLowerCase().includes(N)||C.summary.toLowerCase().includes(N))}return j},[d,s,t]);return n.jsx(Ds,{communityId:i,children:n.jsxs("div",{className:"p-6 pb-20",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Actualits"}),n.jsxs("div",{className:"relative mb-4",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx(ne,{type:"text",placeholder:"Rechercher...",value:t,onChange:j=>r(j.target.value),className:"pl-10 pr-10 rounded-full bg-white border-gray-200","data-testid":"input-search-news"}),t&&n.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(fn,{size:16})})]}),b.length>0&&n.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:[n.jsx("button",{onClick:()=>a(null),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${s===null?"bg-primary text-white shadow-md shadow-primary/30":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,"data-testid":"filter-category-all",children:"Tout"}),b.map(j=>n.jsx("button",{onClick:()=>a(j.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${s===j.id?"bg-primary text-white shadow-md shadow-primary/30":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,"data-testid":`filter-category-${j.id}`,children:j.name},j.id))]}),n.jsx("div",{className:"space-y-6",children:m?n.jsx("div",{className:"text-center py-12 text-gray-500",children:n.jsx("p",{children:"Chargement..."})}):y.length>0?y.map(j=>{const N=ar(j.image,`news-${j.id}`),C=w(j.categoryId,j.category);return n.jsx($e,{href:`/app/${i}/news/${j.id}`,children:n.jsxs(ve,{className:"overflow-hidden border-0 shadow-lg rounded-2xl group cursor-pointer","data-testid":`card-news-${j.id}`,children:[n.jsx(ige,{news:j,categoryName:C,resolvedImageUrl:N}),n.jsxs(je,{className:"p-5 relative",children:[n.jsx("div",{className:"absolute -top-6 right-5 bg-white rounded-lg px-3 py-1 shadow-sm text-xs font-bold text-gray-500",children:new Date(j.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}),n.jsx("h3",{className:"font-bold text-xl text-gray-900 leading-tight mb-3 line-clamp-2",children:j.title}),n.jsx("p",{className:"text-gray-500 text-sm leading-relaxed mb-4 line-clamp-3",children:j.summary}),n.jsx("div",{className:"h-1 w-12 bg-secondary rounded-full"})]})]})},j.id)}):n.jsx("div",{className:"text-center py-12 text-gray-500",children:t||s?n.jsx("p",{children:"Aucun rsultat pour votre recherche"}):n.jsx("p",{children:"Aucune actualit disponible"})})})]})})}const oge=["p","br","b","strong","i","em","u","ul","ol","li","a","div","span"],lge={a:["href","target","rel"],div:["style"],span:["style"],p:["style"]},cge=["text-align","font-weight","font-style","text-decoration"];function sT(e){if(!e)return"";const t=document.createElement("div");t.innerHTML=e;const r=s=>{const a=s.tagName.toLowerCase();if(!oge.includes(a)){s.replaceWith(...Array.from(s.childNodes));return}const i=lge[a]||[];Array.from(s.attributes).forEach(o=>{if(!i.includes(o.name))s.removeAttribute(o.name);else if(o.name==="style"){const c=o.value.split(";").map(d=>d.trim()).filter(d=>{const m=d.split(":")[0]?.trim();return cge.includes(m)}).join("; ");c?s.setAttribute("style",c):s.removeAttribute("style")}else if(o.name==="href"){const c=o.value.toLowerCase();(c.startsWith("javascript:")||c.startsWith("data:"))&&s.removeAttribute("href")}}),a==="a"&&(s.setAttribute("target","_blank"),s.setAttribute("rel","noopener noreferrer")),Array.from(s.children).forEach(o=>r(o))};return Array.from(t.children).forEach(s=>r(s)),t.innerHTML}function aT({value:e,onChange:t,placeholder:r="crivez votre contenu...",className:s="",minHeight:a="150px",darkMode:i=!1}){const o=v.useRef(null),c=v.useRef(!1),d=v.useRef(null);v.useEffect(()=>{o.current&&!c.current&&(o.current.innerHTML=e||"",c.current=!0)},[e]),v.useEffect(()=>{o.current&&!c.current&&e&&(o.current.innerHTML=e,c.current=!0)},[]);const m=v.useCallback(()=>{d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{if(o.current){const N=o.current.innerHTML,C=sT(N);t(C)}},300)},[t]),f=v.useCallback((N,C)=>{o.current?.focus(),document.execCommand(N,!1,C),m()},[m]),h=v.useCallback(()=>{m()},[m]),g=v.useCallback(()=>{if(d.current&&clearTimeout(d.current),o.current){const N=o.current.innerHTML,C=sT(N);t(C)}},[t]),b=v.useCallback(N=>{N.preventDefault();const C=N.clipboardData.getData("text/plain");document.execCommand("insertText",!1,C),m()},[m]),w=v.useCallback(N=>{N.key==="b"&&(N.ctrlKey||N.metaKey)?(N.preventDefault(),f("bold")):N.key==="i"&&(N.ctrlKey||N.metaKey)?(N.preventDefault(),f("italic")):N.key==="u"&&(N.ctrlKey||N.metaKey)&&(N.preventDefault(),f("underline"))},[f]),y=v.useCallback(()=>{const N=prompt("Entrez l'URL du lien:");N&&f("createLink",N)},[f]),j=Le("p-2 rounded-md transition-colors select-none",i?"text-gray-400 hover:text-white hover:bg-white/10 active:bg-white/20":"text-gray-500 hover:text-gray-700 hover:bg-gray-100 active:bg-gray-200");return n.jsxs("div",{className:Le("rich-text-editor-container",s),children:[n.jsxs("div",{className:Le("flex flex-wrap gap-1 p-2 border border-b-0",i?"border-white/20 bg-white/5":"border-gray-200 bg-gray-50","rounded-t-xl"),children:[n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>f("bold"),className:j,title:"Gras (Ctrl+B)","data-testid":"button-bold",children:n.jsx(Yse,{size:16})}),n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>f("italic"),className:j,title:"Italique (Ctrl+I)","data-testid":"button-italic",children:n.jsx(gie,{size:16})}),n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>f("underline"),className:j,title:"Soulign (Ctrl+U)","data-testid":"button-underline",children:n.jsx(Foe,{size:16})}),n.jsx("div",{className:Le("w-px mx-1",i?"bg-white/20":"bg-gray-200")}),n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>f("insertUnorderedList"),className:j,title:"Liste  puces","data-testid":"button-bullet-list",children:n.jsx(Mie,{size:16})}),n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>f("insertOrderedList"),className:j,title:"Liste numrote","data-testid":"button-numbered-list",children:n.jsx(Oie,{size:16})}),n.jsx("div",{className:Le("w-px mx-1",i?"bg-white/20":"bg-gray-200")}),n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>f("justifyLeft"),className:j,title:"Aligner  gauche","data-testid":"button-align-left",children:n.jsx(Ooe,{size:16})}),n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>f("justifyCenter"),className:j,title:"Centrer","data-testid":"button-align-center",children:n.jsx(Eoe,{size:16})}),n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>f("justifyRight"),className:j,title:"Aligner  droite","data-testid":"button-align-right",children:n.jsx(Toe,{size:16})}),n.jsx("div",{className:Le("w-px mx-1",i?"bg-white/20":"bg-gray-200")}),n.jsx("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:y,className:j,title:"Insrer un lien","data-testid":"button-insert-link",children:n.jsx(Eie,{size:16})})]}),n.jsx("div",{ref:o,contentEditable:!0,suppressContentEditableWarning:!0,onInput:h,onBlur:g,onPaste:b,onKeyDown:w,className:Le("p-4 outline-none rounded-b-xl border transition-colors",i?"bg-white/10 border-white/20 text-white focus:ring-2 focus:ring-purple-500/50":"bg-white border-gray-200 text-gray-900 focus:ring-2 focus:ring-primary/50","prose prose-sm max-w-none",i&&"prose-invert"),style:{minHeight:a},"data-placeholder":r,"data-testid":"rich-text-editor"}),n.jsx("style",{children:`
        [data-testid="rich-text-editor"]:empty:before {
          content: attr(data-placeholder);
          color: ${i?"#6b7280":"#9ca3af"};
          pointer-events: none;
          position: absolute;
        }
        [data-testid="rich-text-editor"]:empty {
          position: relative;
        }
        [data-testid="rich-text-editor"] a {
          color: ${i?"#818cf8":"#4f46e5"};
          text-decoration: underline;
        }
        [data-testid="rich-text-editor"] ul,
        [data-testid="rich-text-editor"] ol {
          margin-left: 1.5rem;
          margin-top: 0.5rem;
          margin-bottom: 0.5rem;
          padding-left: 0;
        }
        [data-testid="rich-text-editor"] ul {
          list-style-type: disc;
        }
        [data-testid="rich-text-editor"] ol {
          list-style-type: decimal;
        }
        [data-testid="rich-text-editor"] li {
          margin-bottom: 0.25rem;
        }
        [data-testid="rich-text-editor"] b,
        [data-testid="rich-text-editor"] strong {
          font-weight: bold;
        }
        [data-testid="rich-text-editor"] i,
        [data-testid="rich-text-editor"] em {
          font-style: italic;
        }
        [data-testid="rich-text-editor"] u {
          text-decoration: underline;
        }
      `})]})}function kK({params:e}){const{communityId:t,articleId:r}=e,{selectCommunity:s,currentMembership:a}=dt(),[i,o]=v.useState(!1);v.useEffect(()=>{a?.communityId!==t&&s(t)},[t,a?.communityId,s]);const{data:c,isLoading:d,isError:m}=Pe({queryKey:[`/api/news/${r}`],enabled:!!r});if(v.useEffect(()=>{c&&console.log("[NewsDetail] Article data:",{id:c.id,title:c.title,imageField:c.image,imageType:typeof c.image,author:c.author,publishedAt:c.publishedAt,keys:Object.keys(c)})},[c]),d)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center","data-testid":"news-detail-loading",children:n.jsx("div",{className:"w-full max-w-md bg-white min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})})});if(m||!c)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center","data-testid":"news-detail-error",children:n.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen flex flex-col items-center justify-center p-6",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Article introuvable"}),n.jsx($e,{href:`/app/${t}/news`,children:n.jsx(H,{variant:"outline",children:"Retour aux actualits"})})]})});const f=ar(c.image,`newsDetail-${r}`),h="https://images.unsplash.com/photo-1557804506-669a67965ba0?w=800",g=i||!f?h:f;return n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center","data-testid":"news-detail-page",children:n.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl",children:[n.jsxs("div",{className:"relative h-72 overflow-hidden",children:[i&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:n.jsx(L9,{className:"w-12 h-12 text-gray-400"})}),n.jsx("img",{src:g,alt:c.title,className:`w-full h-full object-cover ${i?"opacity-0":""}`,"data-testid":"img-article-cover",onError:b=>{console.error(`[NEWS DETAIL IMAGE ERROR] ${r}:`,{src:f,fallback:h}),o(!0)}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),n.jsx("header",{className:"absolute top-0 left-0 right-0 p-4 flex items-center",children:n.jsx($e,{href:`/app/${t}/news`,children:n.jsx("button",{className:"p-2 bg-black/30 backdrop-blur-md rounded-full text-white hover:bg-black/50 transition-colors","data-testid":"button-back",children:n.jsx(Bn,{size:20})})})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[n.jsxs("div",{className:"flex gap-2 mb-3",children:[n.jsx(Se,{className:"bg-primary text-white border-0",children:c.category||"Actualit"}),c.scope==="local"&&n.jsxs(Se,{className:"bg-green-600 text-white border-0",children:[n.jsx(Hr,{size:10,className:"mr-1"}),c.section||"Local"]}),c.scope==="national"&&n.jsxs(Se,{className:"bg-blue-600 text-white border-0",children:[n.jsx(Ui,{size:10,className:"mr-1"}),"National"]})]}),n.jsx("h1",{className:"text-2xl font-bold text-white leading-tight","data-testid":"text-article-title",children:c.title})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-6 pb-6 border-b border-gray-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gn,{size:16}),n.jsx("span",{"data-testid":"text-article-date",children:new Date(c.publishedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gi,{size:16}),n.jsx("span",{"data-testid":"text-article-author",children:c.author})]})]}),n.jsx("p",{className:"text-lg text-gray-700 font-medium leading-relaxed mb-6","data-testid":"text-article-summary",children:c.summary}),n.jsx("div",{className:`prose prose-gray max-w-none text-gray-600 leading-relaxed
              [&_ul]:list-disc [&_ul]:pl-5 [&_ul]:my-2
              [&_ol]:list-decimal [&_ol]:pl-5 [&_ol]:my-2
              [&_li]:mb-1
              [&_p]:mb-3
              [&_strong]:font-semibold [&_b]:font-semibold
              [&_em]:italic [&_i]:italic
              [&_u]:underline
              [&_a]:text-primary [&_a]:underline`,"data-testid":"text-article-content",dangerouslySetInnerHTML:{__html:sT(c.content||"")}})]}),n.jsx("div",{className:"p-6 pt-0 pb-8",children:n.jsx($e,{href:`/app/${t}/news`,children:n.jsxs(H,{variant:"outline",className:"w-full h-12 rounded-xl","data-testid":"button-back-to-news",children:[n.jsx(Bn,{size:18,className:"mr-2"}),"Retour aux actualits"]})})})]})})}function MK({params:e}){const[t,r]=v.useState("upcoming"),{communityId:s}=e,{selectCommunity:a,currentMembership:i}=dt();i?.communityId!==s&&a(s);const{data:o=[],isLoading:c}=Pe({queryKey:[`/api/communities/${s}/events`],enabled:!!s}),d=new Date,m=o.filter(b=>new Date(b.date)>=d),f=o.filter(b=>new Date(b.date)<d),h=t==="upcoming"?m:f,g=b=>{const w=new Date(b);return{day:w.getDate(),month:w.toLocaleDateString("fr-FR",{month:"short"}).toUpperCase(),time:w.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),full:w.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})}};return n.jsx(Ds,{communityId:s,children:n.jsxs("div",{className:"p-6 pb-20","data-testid":"mobile-events-page",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"vnements"}),n.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Runions, formations et assembles"}),n.jsxs("div",{className:"flex gap-2 mb-6",children:[n.jsxs("button",{onClick:()=>r("upcoming"),className:`flex-1 py-3 rounded-xl text-sm font-medium transition-colors ${t==="upcoming"?"bg-primary text-white shadow-md shadow-primary/30":"bg-white text-gray-600 border border-gray-200"}`,"data-testid":"button-filter-upcoming",children:[" venir (",m.length,")"]}),n.jsxs("button",{onClick:()=>r("past"),className:`flex-1 py-3 rounded-xl text-sm font-medium transition-colors ${t==="past"?"bg-primary text-white shadow-md shadow-primary/30":"bg-white text-gray-600 border border-gray-200"}`,"data-testid":"button-filter-past",children:["Passs (",f.length,")"]})]}),c?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):h.length>0?n.jsx("div",{className:"space-y-4",children:h.map(b=>{const w=g(b.date),y=new Date(b.date)<d;return n.jsx($e,{href:`/app/${s}/events/${b.id}`,children:n.jsx(ve,{className:`overflow-hidden border-0 shadow-md rounded-2xl cursor-pointer transition-all hover:shadow-lg active:scale-[0.98] ${y?"opacity-70":""}`,"data-testid":`card-event-${b.id}`,children:n.jsx(je,{className:"p-0",children:n.jsxs("div",{className:"flex",children:[n.jsxs("div",{className:`w-20 flex-shrink-0 flex flex-col items-center justify-center py-4 ${y?"bg-gray-100":"bg-primary/10"}`,children:[n.jsx("span",{className:`text-xs font-bold ${y?"text-gray-500":"text-primary"}`,children:w.month}),n.jsx("span",{className:`text-2xl font-bold ${y?"text-gray-600":"text-primary"}`,children:w.day})]}),n.jsxs("div",{className:"flex-1 p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[n.jsx("h3",{className:"font-bold text-gray-900 leading-tight line-clamp-2 flex-1 min-w-0","data-testid":`text-event-title-${b.id}`,children:b.title}),n.jsx(Se,{variant:"secondary",className:`text-[10px] whitespace-nowrap ${b.type==="AG"?"bg-red-100 text-red-700":b.type==="Formation"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:b.type})]}),n.jsxs("div",{className:"space-y-1.5 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ln,{size:14,className:"text-gray-400"}),n.jsx("span",{children:w.time})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hr,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"truncate",children:b.location})]}),(b.participants??0)>0&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(It,{size:14,className:"text-gray-400"}),n.jsxs("span",{children:[b.participants," participants"]})]})]})]})]})})})},b.id)})}):n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border border-dashed border-gray-200",children:[n.jsx(Gn,{size:40,className:"mx-auto text-gray-300 mb-3"}),n.jsx("p",{className:"text-gray-500 font-medium",children:t==="upcoming"?"Aucun vnement  venir":"Aucun vnement pass"}),n.jsx("p",{className:"text-gray-400 text-sm mt-1",children:t==="upcoming"?"Les prochains vnements apparatront ici":""})]})]})})}function RK({params:e}){const{communityId:t,eventId:r}=e,{selectCommunity:s,currentMembership:a}=dt(),[i,o]=v.useState(!1);a?.communityId!==t&&s(t);const{data:c,isLoading:d,isError:m}=Pe({queryKey:[`/api/events/${r}`],enabled:!!r});if(d)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center","data-testid":"event-detail-loading",children:n.jsx("div",{className:"w-full max-w-md bg-white min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})})});if(m||!c)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center","data-testid":"event-detail-error",children:n.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen flex flex-col items-center justify-center p-6",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"vnement introuvable"}),n.jsx($e,{href:`/app/${t}/events`,children:n.jsx(H,{variant:"outline",children:"Retour aux vnements"})})]})});const f=new Date(c.date),h=f<new Date,g=c.endDate?new Date(c.endDate):null,b=async()=>{if(navigator.share)try{await navigator.share({title:c.title,text:c.description,url:window.location.href})}catch{console.log("Share cancelled")}},w=()=>{o(!0),X.success("Inscription confirme !",{description:"Vous recevrez un rappel avant l'vnement"})},y=()=>{const j=A=>A.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z",N=j(f),C=j(g||new Date(f.getTime()+7200*1e3)),T=`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:c.title,dates:`${N}/${C}`,location:c.location,details:c.description.replace(/\n/g," ")}).toString()}`;window.open(T,"_blank")};return n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center","data-testid":"event-detail-page",children:n.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl",children:[n.jsxs("div",{className:`relative h-48 ${h?"bg-gray-200":"bg-gradient-to-br from-primary to-blue-700"}`,children:[n.jsxs("header",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-10",children:[n.jsx($e,{href:`/app/${t}/events`,children:n.jsx("button",{className:"p-2 bg-black/20 backdrop-blur-md rounded-full text-white hover:bg-black/40 transition-colors","data-testid":"button-back",children:n.jsx(Bn,{size:20})})}),n.jsx("button",{onClick:b,className:"p-2 bg-black/20 backdrop-blur-md rounded-full text-white hover:bg-black/40 transition-colors","data-testid":"button-share",children:n.jsx(I0,{size:20})})]}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-white",children:[n.jsx("div",{className:"text-5xl font-bold mb-1","data-testid":"text-event-day",children:f.getDate()}),n.jsx("div",{className:"text-lg font-medium opacity-90",children:f.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})})]})}),h&&n.jsx("div",{className:"absolute bottom-4 left-4",children:n.jsx(Se,{className:"bg-gray-600 text-white border-0",children:"Termin"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 leading-tight","data-testid":"text-event-title",children:c.title}),n.jsx(Se,{className:`whitespace-nowrap ${c.type==="AG"?"bg-red-100 text-red-700 border-0":c.type==="Formation"?"bg-blue-100 text-blue-700 border-0":"bg-gray-100 text-gray-700 border-0"}`,children:c.type})]}),c.section&&n.jsxs(Se,{variant:"outline",className:"mb-4 text-green-700 border-green-200 bg-green-50",children:[n.jsx(Hr,{size:12,className:"mr-1"}),"Section: ",c.section]}),n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:n.jsx(Gn,{size:20,className:"text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900","data-testid":"text-event-date",children:f.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),n.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1",children:[n.jsx(Ln,{size:14}),f.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),g&&` - ${g.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}`]})]})]}),n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:n.jsx(Hr,{size:20,className:"text-primary"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900","data-testid":"text-event-location",children:c.location}),n.jsx("button",{className:"text-sm text-primary hover:underline mt-1",children:"Voir sur la carte"})]})]}),(c.participants??0)>0&&n.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-xl",children:[n.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:n.jsx(It,{size:20,className:"text-primary"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-medium text-gray-900",children:[c.participants," participants inscrits"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Places disponibles"})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h2",{className:"font-bold text-gray-900 mb-3",children:"Description"}),n.jsx("p",{className:"text-gray-600 leading-relaxed","data-testid":"text-event-description",children:c.description})]}),!h&&n.jsxs("div",{className:"space-y-3 pb-6",children:[i?n.jsxs(H,{className:"w-full h-12 rounded-xl bg-green-100 text-green-700 font-semibold cursor-default",disabled:!0,"data-testid":"button-registered",children:[n.jsx(vr,{size:18,className:"mr-2"}),"Vous tes inscrit(e)"]}):n.jsx(H,{className:"w-full h-12 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold shadow-lg shadow-primary/30",onClick:w,"data-testid":"button-register",children:"S'inscrire  l'vnement"}),n.jsxs(H,{variant:"outline",className:"w-full h-12 rounded-xl",onClick:y,"data-testid":"button-add-calendar",children:[n.jsx(aae,{size:18,className:"mr-2"}),"Ajouter au calendrier"]})]}),n.jsx($e,{href:`/app/${t}/events`,children:n.jsxs(H,{variant:"ghost",className:"w-full h-12 rounded-xl text-gray-500","data-testid":"button-back-to-events",children:[n.jsx(Bn,{size:18,className:"mr-2"}),"Retour aux vnements"]})})]})]})})}function uge(e,t=[]){let r=[];function s(i,o){const c=v.createContext(o);c.displayName=i+"Context";const d=r.length;r=[...r,o];const m=h=>{const{scope:g,children:b,...w}=h,y=g?.[e]?.[d]||c,j=v.useMemo(()=>w,Object.values(w));return n.jsx(y.Provider,{value:j,children:b})};m.displayName=i+"Provider";function f(h,g){const b=g?.[e]?.[d]||c,w=v.useContext(b);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[m,f]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(c){const d=c?.[e]||i;return v.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[s,dge(a,...t)]}function dge(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((c,{useScope:d,scopeName:m})=>{const h=d(i)[`__scope${m}`];return{...c,...h}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var mge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hO=mge.reduce((e,t)=>{const r=Sj(`Primitive.${t}`),s=v.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function fge(){return n4.useSyncExternalStore(hge,()=>!0,()=>!1)}function hge(){return()=>{}}var pO="Avatar",[pge]=uge(pO),[gge,DK]=pge(pO),IK=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...s}=e,[a,i]=v.useState("idle");return n.jsx(gge,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:n.jsx(hO.span,{...s,ref:t})})});IK.displayName=pO;var LK="AvatarImage",$K=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:a=()=>{},...i}=e,o=DK(LK,r),c=xge(s,i),d=qn(m=>{a(m),o.onImageLoadingStatusChange(m)});return an(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?n.jsx(hO.img,{...i,ref:t,src:s}):null});$K.displayName=LK;var zK="AvatarFallback",qK=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:s,...a}=e,i=DK(zK,r),[o,c]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(d)}},[s]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(hO.span,{...a,ref:t}):null});qK.displayName=zK;function vL(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xge(e,{referrerPolicy:t,crossOrigin:r}){const s=fge(),a=v.useRef(null),i=s?(a.current||(a.current=new window.Image),a.current):null,[o,c]=v.useState(()=>vL(i,e));return an(()=>{c(vL(i,e))},[i,e]),an(()=>{const d=h=>()=>{c(h)};if(!i)return;const m=d("loaded"),f=d("error");return i.addEventListener("load",m),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",m),i.removeEventListener("error",f)}},[i,r,t]),o}var FK=IK,BK=$K,UK=qK;const ks=v.forwardRef(({className:e,...t},r)=>n.jsx(FK,{ref:r,className:Le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ks.displayName=FK.displayName;const gO=v.forwardRef(({className:e,...t},r)=>n.jsx(BK,{ref:r,className:Le("aspect-square h-full w-full",e),...t}));gO.displayName=BK.displayName;const Ms=v.forwardRef(({className:e,...t},r)=>n.jsx(UK,{ref:r,className:Le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ms.displayName=UK.displayName;function VK({params:e}){const{communityId:t}=e,{currentMembership:r,currentCommunity:s}=dt(),a=Wt(),[i,o]=v.useState(null),[c,d]=v.useState(""),{data:m=[],isLoading:f}=Pe({queryKey:[`/api/communities/${t}/members/${r?.id}/conversations`],enabled:!!r?.id,queryFn:async()=>{const y=await ia(`/api/communities/${t}/members/${r?.id}/conversations`);if(!y.ok)throw new Error("Erreur lors du chargement");return y.data}}),{data:h=[]}=Pe({queryKey:[`/api/communities/${t}/messages/${i}`],enabled:!!i,queryFn:async()=>{const y=await ia(`/api/communities/${t}/messages/${i}`);if(!y.ok)throw new Error("Erreur lors du chargement");return y.data}}),g=qe({mutationFn:async y=>{const j=i||`conv_${r?.id}_admin`;console.log(`[Messages] Sending message to ${j}`,{communityId:t,membershipId:r?.id});const N=await da("/api/messages",{communityId:t,conversationId:j,senderMembershipId:r?.id,senderType:"member",content:y});if(console.log("[Messages] Send result:",{ok:N.ok,status:N.status,traceId:N.traceId}),!N.ok)throw console.error("[Messages] Send failed:",N.data),new Error("Erreur lors de l'envoi");return N.data},onSuccess:()=>{a.invalidateQueries({queryKey:[`/api/communities/${t}/messages/${i}`]}),a.invalidateQueries({queryKey:[`/api/communities/${t}/members/${r?.id}/conversations`]}),d(""),X.success("Message envoy")},onError:()=>{X.error("Erreur lors de l'envoi du message")}}),b=y=>{y.preventDefault(),c.trim()&&g.mutate(c.trim())},w=()=>{const y=`conv_${r?.id}_admin`;o(y)};return i?n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"flex flex-col h-[calc(100vh-64px)] bg-gray-50",children:[n.jsxs("div",{className:"bg-white p-4 border-b sticky top-0 z-10 shadow-sm flex items-center gap-3",children:[n.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-gray-100 rounded-full","data-testid":"button-back-messages",children:n.jsx(Bn,{size:20})}),n.jsx(ks,{children:n.jsx(Ms,{className:"bg-primary text-white font-bold",children:"DL"})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"font-bold text-gray-900 text-sm",children:["Dlgu ",s?.name]}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),n.jsx("p",{className:"text-xs text-gray-500",children:"En ligne"})]})]})]}),n.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4 pb-20",children:[h.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(R0,{size:40,className:"mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"Commencez la conversation"})]}),h.map(y=>{const j=y.senderType==="member";return n.jsx("div",{className:`flex w-full ${j?"justify-end":"justify-start"}`,"data-testid":`message-${y.id}`,children:n.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${j?"bg-primary text-white rounded-br-none shadow-md shadow-primary/20":"bg-white text-gray-800 rounded-bl-none shadow-sm border border-gray-100"}`,children:[n.jsx("p",{className:"text-sm",children:y.content}),n.jsx("p",{className:`text-[10px] mt-1 text-right ${j?"text-blue-200":"text-gray-400"}`,children:new Date(y.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},y.id)})]}),n.jsx("div",{className:"p-3 bg-white border-t fixed bottom-16 w-full max-w-md",children:n.jsxs("form",{onSubmit:b,className:"flex gap-2 items-center",children:[n.jsx(ne,{value:c,onChange:y=>d(y.target.value),placeholder:"crivez votre message...",className:"rounded-full bg-gray-100 border-0 focus-visible:ring-1 focus-visible:ring-primary","data-testid":"input-message-content"}),n.jsx("button",{type:"submit",disabled:!c.trim()||g.isPending,className:"p-3 rounded-full bg-primary text-white disabled:opacity-50 hover:bg-primary/90 transition-colors shadow-sm","data-testid":"button-send-message",children:n.jsx(Rs,{size:18})})]})})]})}):n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"p-4 bg-gray-50 min-h-screen",children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Messages"})}),f?n.jsx("div",{className:"text-center py-8 text-gray-400",children:"Chargement..."}):m.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(R0,{size:48,className:"mx-auto mb-3 text-gray-300"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Aucune conversation"}),n.jsx("button",{onClick:w,className:"px-4 py-2 bg-primary text-white rounded-full font-medium","data-testid":"button-new-conversation",children:"Contacter un dlgu"})]}):n.jsxs("div",{className:"space-y-2",children:[m.map(y=>{const j=y.messages[y.messages.length-1],N=y.messages.filter(C=>!C.read&&C.senderType!=="member").length;return n.jsxs("div",{onClick:()=>o(y.conversationId),className:"flex items-center gap-4 p-4 bg-white rounded-xl shadow-sm cursor-pointer hover:bg-gray-50 transition-colors","data-testid":`conversation-${y.conversationId}`,children:[n.jsxs("div",{className:"relative",children:[n.jsx(ks,{className:"h-12 w-12",children:n.jsx(Ms,{className:"bg-primary/20 text-primary",children:"DL"})}),N>0&&n.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center",children:N})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("h3",{className:"font-bold text-gray-900 truncate",children:"Dlgu"}),n.jsx("span",{className:"text-xs text-gray-400",children:j&&new Date(j.createdAt).toLocaleDateString()})]}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:j?.content||"Aucun message"})]})]},y.conversationId)}),n.jsx("button",{onClick:w,className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl text-gray-500 hover:border-primary hover:text-primary transition-colors","data-testid":"button-new-conversation",children:"+ Nouvelle conversation"})]})]})})}async function Qx(e,t={}){const{folder:r="uploads",fieldName:s="file",maxSizeMB:a=5}=t;let i;if(e instanceof File?i=e:i=new File([e],`upload-${Date.now()}.jpg`,{type:e.type||"image/jpeg"}),console.log("[UPLOAD] picked file",{name:i.name,type:i.type,size:i.size}),!i.type.startsWith("image/"))throw new Error("Le fichier doit tre une image");if(i.size>a*1024*1024)throw new Error(`L'image ne doit pas dpasser ${a} Mo`);const c=`${Lt()}/api/uploads/image-direct`;console.log("[UPLOAD] upload start",{endpoint:c,folder:r});const d=new FormData;d.append(s,i),d.append("folder",r);const m=await fetch(c,{method:"POST",body:d,credentials:"include"});if(!m.ok){const h=await m.json().catch(()=>({error:"Upload failed"}));throw console.error("[UPLOAD] upload error",{status:m.status,message:h.error||h.message}),new Error(h.error||h.message||"chec de l'upload")}const f=await m.json();if(console.log("[UPLOAD] upload success",{objectPath:f.objectPath}),!f.objectPath)throw new Error("Chemin de l'image invalide");return{objectPath:f.objectPath,publicUrl:f.publicUrl}}const yge=Object.freeze(Object.defineProperty({__proto__:null,uploadImageDirect:Qx},Symbol.toStringTag,{value:"Module"}));function KK({params:e}){const{communityId:t}=e,{user:r,account:s,currentMembership:a,currentCommunity:i,selectCommunity:o,selectMembership:c,setAccount:d}=dt(),{isWhiteLabel:m}=Xi(),[f,h]=zt(),[g,b]=v.useState(!1),[w,y]=v.useState(0),j=v.useRef(null),N=s||r,C=s?.memberships?.find(O=>O.communityId===t),E=a||C;v.useEffect(()=>{i?.id!==t&&o(t),C&&a?.id!==C.id&&c(C.id)},[t,C,a,i,c,o]);const T=()=>{h("/app/hub")},A=async O=>{if(!s?.id){X.error("Erreur: compte non trouv");return}b(!0);try{console.log("[AVATAR UPLOAD] Step 1: Uploading via multipart...");const{objectPath:M}=await Qx(O,{folder:"avatars"});console.log("[AVATAR UPLOAD] Step 1 OK:",{objectPath:M}),console.log("[AVATAR UPLOAD] Step 2: Updating via /api/accounts/me/avatar...");const F=await Ps("/api/accounts/me/avatar",{avatar:M});if(!F.ok)throw console.error("[AVATAR UPLOAD] Step 2 FAILED:",F.status,F.data),new Error(F.data?.error||"chec de la mise  jour du profil");const D=F.data.avatar;console.log("[AVATAR UPLOAD] SUCCESS! New avatar:",D),d({...s,avatar:D}),y($=>$+1),X.success("Photo de profil mise  jour !")}catch(M){console.error("[AVATAR UPLOAD] ERROR:",M),X.error(M instanceof Error?M.message:"Erreur lors de l'upload de l'image")}finally{b(!1)}},k=O=>{const M=O.target.files?.[0];M&&A(M)};if(!N)return n.jsx(Ds,{communityId:t,children:n.jsx("div",{className:"p-6 pt-10 text-center text-gray-500",children:"Chargement..."})});const P=E?.contributionStatus!=="up_to_date";return n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"p-6 pt-10",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Mon Compte"}),n.jsxs("div",{className:"flex flex-col items-center mb-8",children:[n.jsxs("div",{className:"w-24 h-24 rounded-full p-1 bg-white shadow-lg mb-4 relative",children:[n.jsx("img",{src:(()=>{const O=ar(N.avatar);return O?w>0?`${O}${O.includes("?")?"&":"?"}v=${w}`:O:`https://api.dicebear.com/7.x/avataaars/svg?seed=${N.firstName||"user"}`})(),alt:"Profile",className:"w-full h-full rounded-full object-cover"}),n.jsx("button",{onClick:()=>j.current?.click(),disabled:g,className:"absolute bottom-0 right-0 p-2 bg-primary text-white rounded-full shadow-md hover:bg-primary/90 transition-colors disabled:opacity-50","data-testid":"button-change-avatar",children:g?n.jsx(Oe,{size:14,className:"animate-spin"}):n.jsx(M9,{size:14})}),n.jsx("input",{ref:j,type:"file",accept:"image/*",className:"hidden",onChange:k,"data-testid":"input-avatar-file"})]}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:E?.displayName||N.firstName||"Membre"}),n.jsx("p",{className:"text-gray-500",children:N.email})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx($e,{href:`/app/${t}/profile/personal-info`,children:n.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center hover:bg-gray-50 cursor-pointer transition-colors","data-testid":"link-personal-info",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-50 p-2 rounded-lg text-primary",children:n.jsx(gi,{size:18})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Informations personnelles"})]}),n.jsx(xs,{size:16,className:"text-gray-400"})]})}),n.jsx($e,{href:`/app/${t}/profile/notifications`,children:n.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center hover:bg-gray-50 cursor-pointer transition-colors","data-testid":"link-notifications",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-50 p-2 rounded-lg text-primary",children:n.jsx(Gse,{size:18})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Notifications"})]}),n.jsx(xs,{size:16,className:"text-gray-400"})]})}),n.jsx($e,{href:`/app/${t}/profile/security`,children:n.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-50 cursor-pointer transition-colors","data-testid":"link-security",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-50 p-2 rounded-lg text-primary",children:n.jsx(Mr,{size:18})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Scurit et confidentialit"})]}),n.jsx(xs,{size:16,className:"text-gray-400"})]})})]}),n.jsx("div",{className:`bg-white rounded-xl shadow-sm border ${P?"border-orange-200":"border-gray-100"} overflow-hidden`,children:n.jsx($e,{href:`/app/${t}/payment`,children:n.jsxs("div",{className:`p-4 flex justify-between items-center ${P?"hover:bg-orange-50":"hover:bg-gray-50"} cursor-pointer transition-colors`,"data-testid":"link-payments",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`${P?"bg-orange-50 text-orange-600":"bg-blue-50 text-primary"} p-2 rounded-lg`,children:n.jsx(mn,{size:18})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mes Cotisations"}),P&&n.jsx("p",{className:"text-xs text-orange-600",children:"Paiement en attente"})]})]}),n.jsx(xs,{size:16,className:P?"text-orange-400":"text-gray-400"})]})})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:n.jsx($e,{href:`/app/${t}/support`,children:n.jsxs("div",{className:"p-4 flex justify-between items-center hover:bg-gray-50 cursor-pointer transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-gray-50 p-2 rounded-lg text-gray-600",children:n.jsx(Il,{size:18})}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Aide & Support"})]}),n.jsx(xs,{size:16,className:"text-gray-400"})]})})}),!m&&n.jsxs(H,{variant:"outline",className:"w-full h-12 rounded-xl mt-4 text-gray-500 border-gray-200",onClick:T,"data-testid":"button-change-community",children:[n.jsx(Bn,{className:"mr-2 h-4 w-4"})," Changer de communaut"]}),n.jsx($e,{href:`/app/${t}/profile/build-info`,children:n.jsx("p",{className:"text-center text-xs text-gray-400 mt-6 underline",children:"Version 1.11.0  Build Info"})})]})]})})}function HK(){const{communityId:e}=IU(),{currentMembership:t,currentCommunity:r}=dt(),s=Wt(),[a,i]=v.useState(!1),[o,c]=v.useState(null),[d,m]=v.useState(!1),[f,h]=v.useState(""),[g,b]=v.useState(""),[w,y]=v.useState(""),{data:j=[],isLoading:N,isError:C}=Pe({queryKey:[`/api/memberships/${t?.id}/payment-requests`],enabled:!!t?.id}),{data:E=[],isLoading:T,isError:A}=Pe({queryKey:[`/api/memberships/${t?.id}/payments`],enabled:!!t?.id}),k=qe({mutationFn:async q=>{const I=await fetch(`${Lt()}/api/payments`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)});if(!I.ok)throw new Error("Failed to create payment");return I.json()},onSuccess:q=>{P.mutate(q.id)},onError:()=>{m(!1),X.error("Erreur lors de la cration du paiement")}}),P=qe({mutationFn:async q=>{const I=await fetch(`${Lt()}/api/payments/${q}/process`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentMethod:"card"})});if(!I.ok)throw new Error("Failed to process payment");return I.json()},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/memberships/${t?.id}/payment-requests`]}),s.invalidateQueries({queryKey:[`/api/memberships/${t?.id}/payments`]}),m(!1),i(!1),c(null),h(""),b(""),y(""),X.success("Paiement effectu avec succs!")},onError:()=>{m(!1),X.error("Erreur lors du traitement du paiement")}}),O=(q,I="EUR")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:I}).format(q/100),M=q=>new Date(q).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),F=q=>{c(q),i(!0)},D=async()=>{if(!f||!g||!w){X.error("Veuillez remplir tous les champs");return}if(!t||!o){X.error("Information de membre manquante");return}m(!0),k.mutate({membershipId:t.id,communityId:t.communityId,paymentRequestId:o.id,amount:o.amount,currency:o.currency||"EUR"})},$=j.filter(q=>q.status==="pending"),V=$.reduce((q,I)=>q+I.amount,0),z=E.filter(q=>q.status==="completed");return t?N||T?n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):C||A?n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:n.jsxs("div",{className:"text-center p-4",children:[n.jsx(_s,{className:"mx-auto text-red-500 mb-2",size:32}),n.jsx("p",{className:"text-red-700 font-medium",children:"Erreur de chargement"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Impossible de charger vos paiements"}),n.jsx($e,{href:`/app/${e}/profile`,children:n.jsx("button",{className:"mt-4 text-primary text-sm underline",children:"Retour au profil"})})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center","data-testid":"mobile-payment-page",children:n.jsxs("div",{className:"w-full max-w-md bg-white min-h-screen shadow-2xl",children:[n.jsx("header",{className:"bg-primary text-white p-4 pt-12 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx($e,{href:`/app/${e}/profile`,children:n.jsx("button",{className:"p-2 hover:bg-white/10 rounded-full","data-testid":"button-back",children:n.jsx(Bn,{size:24})})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:"Paiements"}),n.jsx("p",{className:"text-sm text-blue-100",children:"Grer mes cotisations"})]})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[$.length>0&&n.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl p-5 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:n.jsx(_s,{size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-90",children:"Montant en attente"}),n.jsx("p",{className:"text-2xl font-bold",children:O(V)})]})]}),n.jsxs("p",{className:"text-sm opacity-80",children:["Vous avez ",$.length," paiement(s) en attente"]})]}),n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(Ln,{size:20,className:"text-orange-500"}),"Paiements en attente"]}),$.length===0?n.jsxs("div",{className:"bg-green-50 border border-green-100 rounded-xl p-4 text-center",children:[n.jsx(vr,{className:"mx-auto text-green-500 mb-2",size:32}),n.jsx("p",{className:"text-green-700 font-medium",children:"Vous tes  jour!"}),n.jsx("p",{className:"text-sm text-green-600",children:"Aucun paiement en attente"})]}):n.jsx("div",{className:"space-y-3",children:$.map(q=>n.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm","data-testid":`payment-request-${q.id}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Cotisation"}),q.message&&n.jsx("p",{className:"text-sm text-gray-500",children:q.message})]}),n.jsx("span",{className:"text-lg font-bold text-primary",children:O(q.amount,q.currency||"EUR")})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Gn,{size:14}),n.jsxs("span",{children:["chance: ",M(q.dueDate)]})]}),n.jsxs(H,{size:"sm",className:"bg-primary hover:bg-primary/90",onClick:()=>F(q),"data-testid":`button-pay-${q.id}`,children:[n.jsx(mn,{size:16,className:"mr-2"}),"Payer"]})]})]},q.id))})]}),n.jsxs("section",{children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(vr,{size:20,className:"text-green-500"}),"Historique des paiements"]}),z.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucun historique de paiement"}):n.jsx("div",{className:"space-y-3",children:z.map(q=>n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:q.description||"Cotisation"}),n.jsx("p",{className:"text-sm text-gray-500",children:q.completedAt?M(q.completedAt):M(q.createdAt)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:O(q.amount,q.currency||"EUR")}),n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-600 bg-green-100 px-2 py-0.5 rounded-full",children:[n.jsx(vr,{size:10})," Pay"]})]})]},q.id))})]}),n.jsxs("section",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Statut de cotisation"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-full ${t?.contributionStatus==="up_to_date"?"bg-green-100 text-green-600":"bg-orange-100 text-orange-600"}`,children:t?.contributionStatus==="up_to_date"?n.jsx(vr,{size:20}):n.jsx(Ln,{size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:`font-medium ${t?.contributionStatus==="up_to_date"?"text-green-700":"text-orange-700"}`,children:t?.contributionStatus==="up_to_date"?" jour":"En attente de rglement"}),t?.nextDueDate&&n.jsxs("p",{className:"text-sm text-blue-600",children:["Prochaine chance: ",M(t.nextDueDate.toString())]})]})]})]})]}),n.jsx(ht,{open:a,onOpenChange:i,children:n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsx(pt,{children:n.jsxs(gt,{className:"text-center",children:[n.jsx(mn,{className:"mx-auto mb-2 text-primary",size:32}),"Payer ma cotisation"]})}),o&&n.jsxs("div",{className:"py-4 space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Cotisation"}),n.jsx("p",{className:"text-3xl font-bold text-primary",children:O(o.amount,o.currency||"EUR")})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Numro de carte"}),n.jsx(ne,{placeholder:"1234 5678 9012 3456",value:f,onChange:q=>h(q.target.value.replace(/\D/g,"").slice(0,16)),className:"font-mono","data-testid":"input-card-number"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Expiration"}),n.jsx(ne,{placeholder:"MM/AA",value:g,onChange:q=>b(q.target.value.slice(0,5)),"data-testid":"input-expiry"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"CVV"}),n.jsx(ne,{placeholder:"123",type:"password",value:w,onChange:q=>y(q.target.value.replace(/\D/g,"").slice(0,4)),"data-testid":"input-cvv"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-xs text-blue-700",children:[n.jsx("p",{className:"font-medium mb-1",children:"Paiement scuris"}),n.jsx("p",{children:"Vos informations de paiement sont protges par un chiffrement SSL."})]})]}),n.jsxs(jt,{className:"flex-col gap-2",children:[n.jsx(H,{className:"w-full bg-primary hover:bg-primary/90",onClick:D,disabled:d,"data-testid":"button-confirm-payment",children:d?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Traitement en cours..."]}):n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Confirmer le paiement"]})}),n.jsx(H,{variant:"outline",className:"w-full",onClick:()=>i(!1),children:"Annuler"})]})]})})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex justify-center items-center",children:n.jsxs("div",{className:"text-center p-4",children:[n.jsx(_s,{className:"mx-auto text-orange-500 mb-2",size:32}),n.jsx("p",{className:"text-gray-700 font-medium",children:"Chargement en cours..."}),n.jsx("p",{className:"text-sm text-gray-500",children:"Veuillez patienter"}),n.jsx($e,{href:`/app/${e}/profile`,children:n.jsx("button",{className:"mt-4 text-primary text-sm underline",children:"Retour au profil"})})]})})}const vge=[{id:"f1",question:"Comment rinitialiser mon mot de passe ?",answer:"Vous pouvez rinitialiser votre mot de passe depuis l'cran de connexion en cliquant sur 'Mot de passe oubli'.",category:"account",targetRole:"all"},{id:"f2",question:"O trouver ma carte d'adhrent ?",answer:"Votre carte d'adhrent est accessible depuis l'onglet 'Carte' de l'application mobile.",category:"general",targetRole:"member"},{id:"f3",question:"Comment scanner un QR code lors d'un vnement ?",answer:"Utilisez l'application Admin Mobile et accdez  la section 'Scanner' pour valider les entres.",category:"events",targetRole:"admin"},{id:"f4",question:"Puis-je grer plusieurs communauts ?",answer:"Oui, vous pouvez basculer entre vos diffrentes communauts depuis le 'Community Hub'.",category:"account",targetRole:"all"}],bge=[{id:"t1",userId:"u1",userName:"Thomas Dubois",userRole:"member",communityId:"c_demo",communityName:"Association Demo",subject:"Problme de paiement cotisation",message:"Je n'arrive pas  payer ma cotisation par carte bancaire, j'ai une erreur 404.",status:"open",priority:"high",createdAt:"2025-11-29T14:30:00",lastUpdate:"2025-11-29T14:30:00"},{id:"t2",userId:"u4",userName:"Admin Local",userRole:"admin",communityId:"c_demo",communityName:"Association Demo",subject:"Export des membres impossible",message:"Le bouton d'export CSV ne fonctionne pas sur Safari.",status:"in_progress",priority:"medium",createdAt:"2025-11-28T09:15:00",lastUpdate:"2025-11-29T10:00:00"}],xO=[{id:"u1",firstName:"Thomas",lastName:"Dubois",email:"thomas.dubois@example.com",phone:"06 12 34 56 78",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",communities:[{communityId:"c_demo",memberId:"DEMO-2024-8892",role:"member",status:"active",section:"Section le-de-France",joinDate:"2021-03-15",contributionStatus:"up_to_date",nextDueDate:"2026-01-15",history:[{id:"p1",date:"2025-01-15",amount:120,year:2025,method:"Card",status:"paid"}]},{communityId:"c_chess",memberId:"CHESS-099",role:"admin",adminRole:"support_admin",status:"active",joinDate:"2020-09-01",contributionStatus:"up_to_date"}]},{id:"u2",firstName:"Sarah",lastName:"Martin",email:"sarah.m@example.com",phone:"06 98 76 54 32",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",communities:[{communityId:"c_demo",memberId:"DEMO-2023-4421",role:"member",status:"active",section:"Section Auvergne-Rhne-Alpes",joinDate:"2023-01-10",contributionStatus:"up_to_date"}]},{id:"u3",firstName:"Jean",lastName:"Dupont",email:"j.dupont@example.com",phone:"07 00 00 00 00",communities:[{communityId:"c_demo",memberId:"DEMO-2022-1123",role:"member",status:"expired",section:"Section le-de-France",joinDate:"2022-05-20",contributionStatus:"expired"}]},{id:"u4",firstName:"Admin",lastName:"Local",email:"admin.local@demo.koomy.app",communities:[{communityId:"c_demo",memberId:"ADM-001",role:"admin",adminRole:"support_admin",status:"active",section:"Section le-de-France",joinDate:"2020-01-01",contributionStatus:"up_to_date"}]},{id:"u5",firstName:"Super",lastName:"Admin",email:"super.admin@demo.koomy.app",communities:[{communityId:"c_demo",memberId:"SADM-001",role:"admin",adminRole:"super_admin",status:"active",section:"National",joinDate:"2019-01-01",contributionStatus:"up_to_date"}]}],jge=xO[0],wge=[{id:"1",communityId:"c_demo",title:"Assemble Gnrale",description:"Bilan annuel.",date:"2025-12-15T09:00:00",endDate:"2025-12-15T17:00:00",location:"Paris, Salle Wagram",type:"National",scope:"national",participants:150}];xO[0].avatar;const bL=wge;xO.map(e=>{const t=e.communities.find(r=>r.communityId==="c_demo");return t?{...e,...t,communities:void 0}:null}).filter(e=>e!==null);function jL(e){const t=Nge(e),r=v.forwardRef((s,a)=>{const{children:i,...o}=s,c=v.Children.toArray(i),d=c.find(Cge);if(d){const m=d.props.children,f=c.map(h=>h===d?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:h);return n.jsx(t,{...o,ref:a,children:v.isValidElement(m)?v.cloneElement(m,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Nge(e){const t=v.forwardRef((r,s)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=Ege(a),c=Age(i,a.props);return a.type!==v.Fragment&&(c.ref=s?Ro(s,o):o),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sge=Symbol("radix.slottable");function Cge(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sge}function Age(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Ege(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Dj(e){const t=e+"CollectionProvider",[r,s]=ts(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:j,children:N}=y,C=J.useRef(null),E=J.useRef(new Map).current;return n.jsx(a,{scope:j,itemMap:E,collectionRef:C,children:N})};o.displayName=t;const c=e+"CollectionSlot",d=jL(c),m=J.forwardRef((y,j)=>{const{scope:N,children:C}=y,E=i(c,N),T=xt(j,E.collectionRef);return n.jsx(d,{ref:T,children:C})});m.displayName=c;const f=e+"CollectionItemSlot",h="data-radix-collection-item",g=jL(f),b=J.forwardRef((y,j)=>{const{scope:N,children:C,...E}=y,T=J.useRef(null),A=xt(j,T),k=i(f,N);return J.useEffect(()=>(k.itemMap.set(T,{ref:T,...E}),()=>{k.itemMap.delete(T)})),n.jsx(g,{[h]:"",ref:A,children:C})});b.displayName=f;function w(y){const j=i(e+"CollectionConsumer",y);return J.useCallback(()=>{const C=j.collectionRef.current;if(!C)return[];const E=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(j.itemMap.values()).sort((k,P)=>E.indexOf(k.ref.current)-E.indexOf(P.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:m,ItemSlot:b},w,s]}function _ge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var Tge=qa[" useInsertionEffect ".trim().toString()]||an;function GK({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=Pge({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=Oge(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function Pge({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return Tge(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function Oge(e){return typeof e=="function"}function kge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var Mge=qa[" useInsertionEffect ".trim().toString()]||an;function Rge({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=Dge({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=Ige(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function Dge({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return Mge(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function Ige(e){return typeof e=="function"}var Ij="Collapsible",[Lge,WK]=ts(Ij),[$ge,yO]=Lge(Ij),YK=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:i,onOpenChange:o,...c}=e,[d,m]=Rge({prop:s,defaultProp:a??!1,onChange:o,caller:Ij});return n.jsx($ge,{scope:r,disabled:i,contentId:fi(),open:d,onOpenToggle:v.useCallback(()=>m(f=>!f),[m]),children:n.jsx(at.div,{"data-state":bO(d),"data-disabled":i?"":void 0,...c,ref:t})})});YK.displayName=Ij;var QK="CollapsibleTrigger",XK=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=yO(QK,r);return n.jsx(at.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":bO(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:kge(e.onClick,a.onOpenToggle)})});XK.displayName=QK;var vO="CollapsibleContent",ZK=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=yO(vO,e.__scopeCollapsible);return n.jsx(Ls,{present:r||a.open,children:({present:i})=>n.jsx(zge,{...s,ref:t,present:i})})});ZK.displayName=vO;var zge=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...i}=e,o=yO(vO,r),[c,d]=v.useState(s),m=v.useRef(null),f=xt(t,m),h=v.useRef(0),g=h.current,b=v.useRef(0),w=b.current,y=o.open||c,j=v.useRef(y),N=v.useRef(void 0);return v.useEffect(()=>{const C=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(C)},[]),an(()=>{const C=m.current;if(C){N.current=N.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const E=C.getBoundingClientRect();h.current=E.height,b.current=E.width,j.current||(C.style.transitionDuration=N.current.transitionDuration,C.style.animationName=N.current.animationName),d(s)}},[o.open,s]),n.jsx(at.div,{"data-state":bO(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...i,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&a})});function bO(e){return e?"open":"closed"}var qge=YK,Fge=XK,Bge=ZK,Uge=v.createContext(void 0);function Ud(e){const t=v.useContext(Uge);return e||t||"ltr"}var Ji="Accordion",Vge=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[jO,Kge,Hge]=Dj(Ji),[Lj]=ts(Ji,[Hge,WK]),wO=WK(),JK=J.forwardRef((e,t)=>{const{type:r,...s}=e,a=s,i=s;return n.jsx(jO.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(Qge,{...i,ref:t}):n.jsx(Yge,{...a,ref:t})})});JK.displayName=Ji;var[eH,Gge]=Lj(Ji),[tH,Wge]=Lj(Ji,{collapsible:!1}),Yge=J.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[c,d]=GK({prop:r,defaultProp:s??"",onChange:a,caller:Ji});return n.jsx(eH,{scope:e.__scopeAccordion,value:J.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:J.useCallback(()=>i&&d(""),[i,d]),children:n.jsx(tH,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx(nH,{...o,ref:t})})})}),Qge=J.forwardRef((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...i}=e,[o,c]=GK({prop:r,defaultProp:s??[],onChange:a,caller:Ji}),d=J.useCallback(f=>c((h=[])=>[...h,f]),[c]),m=J.useCallback(f=>c((h=[])=>h.filter(g=>g!==f)),[c]);return n.jsx(eH,{scope:e.__scopeAccordion,value:o,onItemOpen:d,onItemClose:m,children:n.jsx(tH,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(nH,{...i,ref:t})})})}),[Xge,$j]=Lj(Ji),nH=J.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:i="vertical",...o}=e,c=J.useRef(null),d=xt(c,t),m=Kge(r),h=Ud(a)==="ltr",g=_ge(e.onKeyDown,b=>{if(!Vge.includes(b.key))return;const w=b.target,y=m().filter(O=>!O.ref.current?.disabled),j=y.findIndex(O=>O.ref.current===w),N=y.length;if(j===-1)return;b.preventDefault();let C=j;const E=0,T=N-1,A=()=>{C=j+1,C>T&&(C=E)},k=()=>{C=j-1,C<E&&(C=T)};switch(b.key){case"Home":C=E;break;case"End":C=T;break;case"ArrowRight":i==="horizontal"&&(h?A():k());break;case"ArrowDown":i==="vertical"&&A();break;case"ArrowLeft":i==="horizontal"&&(h?k():A());break;case"ArrowUp":i==="vertical"&&k();break}const P=C%N;y[P].ref.current?.focus()});return n.jsx(Xge,{scope:r,disabled:s,direction:a,orientation:i,children:n.jsx(jO.Slot,{scope:r,children:n.jsx(at.div,{...o,"data-orientation":i,ref:d,onKeyDown:s?void 0:g})})})}),H0="AccordionItem",[Zge,NO]=Lj(H0),rH=J.forwardRef((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,i=$j(H0,r),o=Gge(H0,r),c=wO(r),d=fi(),m=s&&o.value.includes(s)||!1,f=i.disabled||e.disabled;return n.jsx(Zge,{scope:r,open:m,disabled:f,triggerId:d,children:n.jsx(qge,{"data-orientation":i.orientation,"data-state":cH(m),...c,...a,ref:t,disabled:f,open:m,onOpenChange:h=>{h?o.onItemOpen(s):o.onItemClose(s)}})})});rH.displayName=H0;var sH="AccordionHeader",aH=J.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=$j(Ji,r),i=NO(sH,r);return n.jsx(at.h3,{"data-orientation":a.orientation,"data-state":cH(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:t})});aH.displayName=sH;var iT="AccordionTrigger",iH=J.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=$j(Ji,r),i=NO(iT,r),o=Wge(iT,r),c=wO(r);return n.jsx(jO.ItemSlot,{scope:r,children:n.jsx(Fge,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...c,...s,ref:t})})});iH.displayName=iT;var oH="AccordionContent",lH=J.forwardRef((e,t)=>{const{__scopeAccordion:r,...s}=e,a=$j(Ji,r),i=NO(oH,r),o=wO(r);return n.jsx(Bge,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});lH.displayName=oH;function cH(e){return e?"open":"closed"}var Jge=JK,exe=rH,txe=aH,uH=iH,dH=lH;const xh=Jge,Di=v.forwardRef(({className:e,...t},r)=>n.jsx(exe,{ref:r,className:Le("border-b",e),...t}));Di.displayName="AccordionItem";const Ii=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(txe,{className:"flex",children:n.jsxs(uH,{ref:s,className:Le("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(Nj,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));Ii.displayName=uH.displayName;const Li=v.forwardRef(({className:e,children:t,...r},s)=>n.jsx(dH,{ref:s,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:Le("pb-4 pt-0",e),children:t})}));Li.displayName=dH.displayName;const Nn=v.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Le("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Nn.displayName="Textarea";var nxe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rxe=nxe.reduce((e,t)=>{const r=Sj(`Primitive.${t}`),s=v.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:i})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),sxe="Label",mH=v.forwardRef((e,t)=>n.jsx(rxe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));mH.displayName=sxe;var fH=mH;const axe=wj("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=v.forwardRef(({className:e,...t},r)=>n.jsx(fH,{ref:r,className:Le(axe(),e),...t}));ee.displayName=fH.displayName;function hH({params:e}){const{communityId:t}=e,[r,s]=v.useState(!1),[a,i]=v.useState(""),[o,c]=v.useState(""),d=bge.filter(h=>h.userId===jge.id&&h.communityId===t),m=vge.filter(h=>h.targetRole==="member"||h.targetRole==="all"),f=()=>{Ut({title:"Ticket cr",description:"Votre demande a bien t envoye au support."}),s(!1),i(""),c("")};return n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"p-6 pt-8 pb-24",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx($e,{href:`/app/${t}/profile`,children:n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 -ml-2",children:n.jsx(Bn,{size:20})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aide & Support"})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 mb-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-blue-900",children:"Besoin d'aide ?"}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Notre quipe est l pour vous."})]}),n.jsxs(ht,{open:r,onOpenChange:s,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-md shadow-blue-200",children:[n.jsx(P_,{size:16,className:"mr-2"})," Contacter"]})}),n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Nouvelle demande"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Sujet"}),n.jsx(ne,{placeholder:"Ex: Problme de connexion",value:a,onChange:h=>i(h.target.value)})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Message"}),n.jsx(Nn,{placeholder:"Dcrivez votre problme...",className:"h-32",value:o,onChange:h=>c(h.target.value)})]})]}),n.jsx(jt,{children:n.jsx(H,{onClick:f,children:"Envoyer"})})]})]})]}),d.length>0&&n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(bs,{size:18,className:"text-gray-500"})," Mes demandes rcentes"]}),n.jsx("div",{className:"space-y-3",children:d.map(h=>n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx(Se,{variant:"outline",className:h.status==="open"?"bg-green-50 text-green-700 border-green-200":h.status==="in_progress"?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-600",children:h.status==="open"?"Ouvert":h.status==="in_progress"?"En cours":"Ferm"}),n.jsx("span",{className:"text-[10px] text-gray-400",children:new Date(h.createdAt).toLocaleDateString()})]}),n.jsx("h3",{className:"font-medium text-sm text-gray-900 mb-1",children:h.subject}),n.jsx("p",{className:"text-xs text-gray-500 line-clamp-2",children:h.message})]},h.id))})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Il,{size:18,className:"text-gray-500"})," Questions frquentes"]}),n.jsx(xh,{type:"single",collapsible:!0,className:"w-full bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:m.map((h,g)=>n.jsxs(Di,{value:h.id,className:`px-4 ${g===m.length-1?"border-0":""}`,children:[n.jsx(Ii,{className:"text-sm font-medium text-gray-700 hover:no-underline text-left",children:h.question}),n.jsx(Li,{className:"text-sm text-gray-500 pb-4",children:h.answer})]},h.id))})]})]})})}function Vm(e,t){const r=new Date().toISOString().split("T")[1].slice(0,12);console.log(`[AUTH GUARD ${r}] ${e}`,t!==void 0?t:"")}function wL(){const{isWhiteLabel:e,isLoading:t,communityId:r}=Xi(),{account:s,authReady:a,isAuthenticated:i}=dt(),[o,c]=zt(),d=Hn.isNativePlatform();return v.useEffect(()=>{Vm("Guard check:",{wlLoading:t,authReady:a,isWhiteLabel:e,isAuthenticated:i,hasAccount:!!s,accountId:s?.id,communityId:r,location:o,isNative:d,storageDiag:ug()})},[t,a,e,i,s,r,o,d]),v.useEffect(()=>{!t&&a&&e&&r&&s&&(o==="/"||o==="/app/login")&&(Vm("Redirecting to home:",{communityId:r}),c(`/app/${r}/home`))},[t,a,e,r,s,o,c]),t||!a?(Vm("Loading state:",{wlLoading:t,authReady:a}),n.jsx(li,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})})):e?s?(Vm("Authenticated - rendering protected routes:",{accountId:s.id}),n.jsx(li,{children:n.jsxs(zU,{children:[n.jsx(ze,{path:"/app/:communityId/home",component:p7}),n.jsx(ze,{path:"/app/:communityId/card",component:PK}),n.jsx(ze,{path:"/app/:communityId/news",component:OK}),n.jsx(ze,{path:"/app/:communityId/news/:articleId",component:kK}),n.jsx(ze,{path:"/app/:communityId/events",component:MK}),n.jsx(ze,{path:"/app/:communityId/events/:eventId",component:RK}),n.jsx(ze,{path:"/app/:communityId/messages",component:VK}),n.jsx(ze,{path:"/app/:communityId/profile",component:KK}),n.jsx(ze,{path:"/app/:communityId/payment",component:HK}),n.jsx(ze,{path:"/app/:communityId/support",component:hH}),n.jsx(ze,{children:()=>(c(`/app/${r}/home`),null)})]})})):(Vm("No account - showing login",{authReady:a,isNative:d}),n.jsx(li,{children:n.jsx(l7,{})})):(Vm("Not white label mode"),null)}function J2(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function xf(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var ixe=qa[" useInsertionEffect ".trim().toString()]||an;function oxe({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=lxe({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=cxe(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function lxe({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return ixe(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function cxe(e){return typeof e=="function"}var eS="rovingFocusGroup.onEntryFocus",uxe={bubbles:!1,cancelable:!0},Xx="RovingFocusGroup",[oT,pH,dxe]=Dj(Xx),[mxe,yh]=ts(Xx,[dxe]),[fxe,hxe]=mxe(Xx),gH=v.forwardRef((e,t)=>n.jsx(oT.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(oT.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(pxe,{...e,ref:t})})}));gH.displayName=Xx;var pxe=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:f=!1,...h}=e,g=v.useRef(null),b=xt(t,g),w=Ud(i),[y,j]=oxe({prop:o,defaultProp:c??null,onChange:d,caller:Xx}),[N,C]=v.useState(!1),E=qn(m),T=pH(r),A=v.useRef(!1),[k,P]=v.useState(0);return v.useEffect(()=>{const O=g.current;if(O)return O.addEventListener(eS,E),()=>O.removeEventListener(eS,E)},[E]),n.jsx(fxe,{scope:r,orientation:s,dir:w,loop:a,currentTabStopId:y,onItemFocus:v.useCallback(O=>j(O),[j]),onItemShiftTab:v.useCallback(()=>C(!0),[]),onFocusableItemAdd:v.useCallback(()=>P(O=>O+1),[]),onFocusableItemRemove:v.useCallback(()=>P(O=>O-1),[]),children:n.jsx(at.div,{tabIndex:N||k===0?-1:0,"data-orientation":s,...h,ref:b,style:{outline:"none",...e.style},onMouseDown:xf(e.onMouseDown,()=>{A.current=!0}),onFocus:xf(e.onFocus,O=>{const M=!A.current;if(O.target===O.currentTarget&&M&&!N){const F=new CustomEvent(eS,uxe);if(O.currentTarget.dispatchEvent(F),!F.defaultPrevented){const D=T().filter(I=>I.focusable),$=D.find(I=>I.active),V=D.find(I=>I.id===y),q=[$,V,...D].filter(Boolean).map(I=>I.ref.current);vH(q,f)}}A.current=!1}),onBlur:xf(e.onBlur,()=>C(!1))})})}),xH="RovingFocusGroupItem",yH=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:i,children:o,...c}=e,d=fi(),m=i||d,f=hxe(xH,r),h=f.currentTabStopId===m,g=pH(r),{onFocusableItemAdd:b,onFocusableItemRemove:w,currentTabStopId:y}=f;return v.useEffect(()=>{if(s)return b(),()=>w()},[s,b,w]),n.jsx(oT.ItemSlot,{scope:r,id:m,focusable:s,active:a,children:n.jsx(at.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:xf(e.onMouseDown,j=>{s?f.onItemFocus(m):j.preventDefault()}),onFocus:xf(e.onFocus,()=>f.onItemFocus(m)),onKeyDown:xf(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const N=yxe(j,f.orientation,f.dir);if(N!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let E=g().filter(T=>T.focusable).map(T=>T.ref.current);if(N==="last")E.reverse();else if(N==="prev"||N==="next"){N==="prev"&&E.reverse();const T=E.indexOf(j.currentTarget);E=f.loop?vxe(E,T+1):E.slice(T+1)}setTimeout(()=>vH(E))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:y!=null}):o})})});yH.displayName=xH;var gxe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xxe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yxe(e,t,r){const s=xxe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return gxe[s]}function vH(e,t=!1){const r=document.activeElement;for(const s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}function vxe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var SO=gH,CO=yH,bxe=qa[" useInsertionEffect ".trim().toString()]||an;function jxe({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=wxe({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=Nxe(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function wxe({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return bxe(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function Nxe(e){return typeof e=="function"}var zj="Tabs",[Sxe]=ts(zj,[yh]),bH=yh(),[Cxe,AO]=Sxe(zj),jH=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...m}=e,f=Ud(c),[h,g]=jxe({prop:s,onChange:a,defaultProp:i??"",caller:zj});return n.jsx(Cxe,{scope:r,baseId:fi(),value:h,onValueChange:g,orientation:o,dir:f,activationMode:d,children:n.jsx(at.div,{dir:f,"data-orientation":o,...m,ref:t})})});jH.displayName=zj;var wH="TabsList",NH=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,i=AO(wH,r),o=bH(r);return n.jsx(SO,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(at.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});NH.displayName=wH;var SH="TabsTrigger",CH=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...i}=e,o=AO(SH,r),c=bH(r),d=_H(o.baseId,s),m=TH(o.baseId,s),f=s===o.value;return n.jsx(CO,{asChild:!0,...c,focusable:!a,active:f,children:n.jsx(at.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:J2(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:J2(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:J2(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!a&&h&&o.onValueChange(s)})})})});CH.displayName=SH;var AH="TabsContent",EH=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:i,...o}=e,c=AO(AH,r),d=_H(c.baseId,s),m=TH(c.baseId,s),f=s===c.value,h=v.useRef(f);return v.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),n.jsx(Ls,{present:a||f,children:({present:g})=>n.jsx(at.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:m,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&i})})});EH.displayName=AH;function _H(e,t){return`${e}-trigger-${t}`}function TH(e,t){return`${e}-content-${t}`}var Axe=jH,PH=NH,OH=CH,kH=EH;const Gc=Axe,_l=v.forwardRef(({className:e,...t},r)=>n.jsx(PH,{ref:r,className:Le("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));_l.displayName=PH.displayName;const tn=v.forwardRef(({className:e,...t},r)=>n.jsx(OH,{ref:r,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));tn.displayName=OH.displayName;const wn=v.forwardRef(({className:e,...t},r)=>n.jsx(kH,{ref:r,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wn.displayName=kH.displayName;const Exe="/assets/koomy-logo-new-DS-Cv0As.png";function lT(){const[e,t]=zt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{setAccount:o,refreshMe:c}=dt(),{isWhiteLabel:d,communityId:m,appName:f,logoUrl:h,brandColor:g,isLoading:b}=Xi(),[w,y]=v.useState(""),[j,N]=v.useState(""),C=$=>{const V=$.toUpperCase().replace(/[^A-Z0-9]/g,"");return V.length>4?V.slice(0,4)+"-"+V.slice(4,8):V},E=$=>$.replace(/-/g,""),[T,A]=v.useState(""),[k,P]=v.useState(""),O=d&&g?g:"#44A8FF",M=d&&g?`${parseInt(g.slice(1,3),16)}, ${parseInt(g.slice(3,5),16)}, ${parseInt(g.slice(5,7),16)}`:"68, 168, 255",F=async $=>{$.preventDefault();const V=E(w);if(!V){X.error("Veuillez entrer votre code d'activation");return}if(V.length<8){X.error("Le code doit contenir 8 caractres");return}if(!j.trim()){X.error("Veuillez entrer votre adresse email");return}i(!0);try{const z=await da("/api/claim/verify",{code:V,email:j.trim().toLowerCase()});if(!z.ok){const I=z.status,K=z.data?.error;I===400?X.error("Code requis ou format invalide"):I===404?X.error("Code invalide - vrifiez votre saisie"):I===409?X.error("Cette carte a dj t active"):I>=500?X.error("Service indisponible, ressayez plus tard"):X.error(K||"Erreur de vrification");return}const q=z.data;t(`/app/claim/${V}?email=${encodeURIComponent(j.trim().toLowerCase())}&communityName=${encodeURIComponent(q.communityName||"")}`)}catch{X.error("Erreur de connexion au serveur")}finally{i(!1)}},D=async $=>{$.preventDefault(),i(!0);try{const V=await da("/api/accounts/login",{email:T,password:k});if(!V.ok)throw new Error(V.data?.error||"Erreur de connexion");const z=V.data;o({...z.account,memberships:z.memberships}),await c(),X.success("Connexion russie!"),d&&m?t(`/app/${m}/home`):z.memberships.length===0?t("/app/add-card"):t("/app/hub")}catch(V){X.error(V instanceof Error?V.message:"Erreur de connexion")}finally{i(!1)}};return b?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"animate-pulse flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]})}):n.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden","data-testid":"mobile-login-page",style:{background:d?`linear-gradient(180deg, ${O}15 0%, ${O}08 40%, #FFFFFF 100%)`:"linear-gradient(180deg, #E8F4FF 0%, #F5FAFF 40%, #FFFFFF 100%)"},children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-80 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-20 -left-20 w-80 h-80 rounded-full opacity-30",style:{background:`radial-gradient(circle, rgba(${M}, 0.3) 0%, transparent 70%)`}}),n.jsx("div",{className:"absolute -top-10 right-0 w-60 h-60 rounded-full opacity-20",style:{background:`radial-gradient(circle, rgba(${M}, 0.4) 0%, transparent 70%)`}}),n.jsx("div",{className:"absolute top-40 left-1/2 -translate-x-1/2 w-[500px] h-[500px] rounded-full opacity-10",style:{background:`radial-gradient(circle, rgba(${M}, 0.5) 0%, transparent 60%)`}})]}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col px-6 pt-14 pb-6",children:[n.jsxs("div",{className:"flex flex-col items-center mb-8",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx("div",{className:"absolute inset-0 blur-xl opacity-40",style:{background:`radial-gradient(circle, rgba(${M}, 0.6) 0%, transparent 70%)`}}),d&&h?n.jsx("img",{src:h,alt:f||"App",className:"relative w-24 h-24 object-contain drop-shadow-sm"}):n.jsx("img",{src:Exe,alt:"Koomy",className:"relative w-56 h-auto drop-shadow-sm"})]}),d&&n.jsx("h1",{className:"text-xl font-bold text-gray-800",children:f||"Bienvenue"})]}),n.jsxs("div",{className:"koomy-card p-6 flex-1 flex flex-col",children:[n.jsxs(Gc,{defaultValue:"code",className:"flex-1 flex flex-col",children:[n.jsxs(_l,{className:"grid w-full grid-cols-2 mb-2 p-1 bg-gray-100/80 rounded-xl h-12",children:[n.jsxs(tn,{value:"code",className:"flex items-center justify-center gap-2 rounded-lg font-semibold transition-all text-sm h-10 data-[state=active]:text-white data-[state=inactive]:text-gray-600",style:{backgroundColor:"var(--tab-bg)","--tab-bg":"transparent"},"data-testid":"tab-code",children:[n.jsx(L0,{size:16})," J'ai un code"]}),n.jsxs(tn,{value:"login",className:"flex items-center justify-center gap-2 rounded-lg font-semibold transition-all text-sm h-10 data-[state=active]:text-white data-[state=inactive]:text-gray-600",style:{backgroundColor:"var(--tab-bg)","--tab-bg":"transparent"},"data-testid":"tab-login",children:[n.jsx(yie,{size:16})," Se connecter"]})]}),n.jsx("p",{className:"text-xs text-gray-400 text-center mb-5",children:`Premire connexion ? Utilisez "J'ai un code". Dj un compte ? "Se connecter".`}),n.jsx(wn,{value:"code",className:"flex-1 mt-0",children:n.jsxs("form",{onSubmit:F,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Code d'activation"}),n.jsx(ne,{type:"text",placeholder:"XXXX-XXXX",value:w,onChange:$=>y(C($.target.value)),maxLength:9,className:"h-12 rounded-xl text-gray-700 placeholder:text-gray-400 uppercase tracking-widest text-center text-lg font-mono",style:{backgroundColor:`${O}08`,borderColor:`${O}30`},required:!0,"data-testid":"input-claim-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Email"}),n.jsx(ne,{type:"email",placeholder:"votre.email@exemple.com",value:j,onChange:$=>N($.target.value),className:"h-12 rounded-xl text-gray-700 placeholder:text-gray-400",style:{backgroundColor:`${O}08`,borderColor:`${O}30`},required:!0,"data-testid":"input-claim-email"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Utilisez l'adresse email sur laquelle vous avez reu le code"})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl text-base font-bold mt-4 group transition-all",style:{background:d?O:"linear-gradient(135deg, #5AB8FF 0%, #44A8FF 100%)",boxShadow:`0 4px 14px -2px rgba(${M}, 0.4)`},disabled:a,"data-testid":"button-verify-code",children:a?"Vrification...":n.jsxs("span",{className:"flex items-center gap-2",children:["Vrifier et continuer ",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})})]})}),n.jsx(wn,{value:"login",className:"flex-1 mt-0",children:n.jsxs("form",{onSubmit:D,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Email"}),n.jsx(ne,{type:"email",placeholder:"votre.email@exemple.com",value:T,onChange:$=>A($.target.value),className:"h-12 rounded-xl text-gray-700 placeholder:text-gray-400",style:{backgroundColor:`${O}08`,borderColor:`${O}30`},required:!0,"data-testid":"input-login-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:r?"text":"password",value:k,onChange:$=>P($.target.value),className:"h-12 rounded-xl pr-11 text-gray-700",style:{backgroundColor:`${O}08`,borderColor:`${O}30`},required:!0,"data-testid":"input-login-password"}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors","data-testid":"button-toggle-password",children:r?n.jsx(ma,{size:18}):n.jsx(ws,{size:18})})]})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl text-base font-bold mt-4 group transition-all",style:{background:d?O:"linear-gradient(135deg, #5AB8FF 0%, #44A8FF 100%)",boxShadow:`0 4px 14px -2px rgba(${M}, 0.4)`},disabled:a,"data-testid":"button-login",children:a?"Connexion...":n.jsxs("span",{className:"flex items-center gap-2",children:["Se connecter ",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})}),n.jsx("div",{className:"text-center pt-2",children:n.jsx("a",{href:"#",className:"text-sm font-medium transition-colors",style:{color:O},children:"Mot de passe oubli ?"})})]})})]}),!d&&n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100/80 text-center",children:n.jsx("button",{onClick:()=>t("/app/add-card?mode=register"),className:"text-xs text-gray-400 hover:text-gray-500 transition-colors","data-testid":"link-register-without-card",children:"Crer un compte sans carte"})}),d&&n.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100/80",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[n.jsx(It,{size:16}),n.jsxs("span",{className:"text-sm text-center",children:["Pas de code ? ",n.jsx("span",{className:"font-medium",style:{color:O},children:"Contactez votre dlgu"})]})]})})]})]})]})}async function NL(e,t){const r=Lt(),s=await fetch(`${r}/api${e}`,{...t,headers:{"Content-Type":"application/json",...t?.headers}});if(!s.ok){const a=await s.json().catch(()=>({error:"Request failed"}));throw new Error(a.error||"Request failed")}return s.json()}const MH={auth:{login:(e,t)=>NL("/admin/login",{method:"POST",body:JSON.stringify({email:e,password:t})})},communities:{getAll:()=>NL("/communities")}};function _xe(){return qe({mutationFn:({email:e,password:t})=>MH.auth.login(e,t)})}function Txe(){return Pe({queryKey:["communities"],queryFn:MH.communities.getAll})}function Pxe({membership:e,onClick:t}){const r=e.community,s=new Date().getFullYear(),a=e.displayName||"Membre",i=r?.name||"Communaut";return n.jsxs("div",{onClick:t,className:"bg-gradient-to-br from-primary to-blue-700 rounded-2xl p-6 text-white shadow-lg shadow-blue-900/20 transform transition-transform active:scale-[0.98] cursor-pointer relative overflow-hidden group","data-testid":`mini-card-${e.communityId}`,children:[n.jsx("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 -mb-4 -ml-4 w-20 h-20 bg-white/10 rounded-full blur-xl"}),n.jsxs("div",{className:"flex justify-between items-start relative z-10",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center overflow-hidden flex-shrink-0",children:r?.logo?n.jsx("img",{src:ar(r.logo),alt:i,className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-white font-bold text-lg",children:i[0]||"?"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xl font-bold text-white leading-tight truncate",children:i}),n.jsxs("p",{className:"text-blue-200 text-sm mt-1",children:["Carte membre  ",s]})]})]}),n.jsx(mn,{className:"text-white/60 flex-shrink-0",size:24})]}),n.jsxs("div",{className:"mt-5 flex justify-between items-end relative z-10",children:[n.jsx("div",{children:n.jsx("p",{className:"text-sm text-blue-100 font-medium",children:a})}),n.jsxs("div",{className:"bg-white/20 hover:bg-white/30 transition-colors rounded-lg py-2 px-3 backdrop-blur-sm text-sm font-semibold flex items-center gap-1",children:["Ouvrir ",n.jsx(xs,{size:16})]})]})]})}const Oxe="/assets/koomy-logo-cropped-C1yPeXIX.png";function kxe(){const[e,t]=zt(),{account:r,user:s,selectMembership:a,selectCommunity:i,logout:o}=dt(),{data:c,isLoading:d}=Txe();if(!(r||s))return t("/app/login"),null;const f=r?r.memberships:(s?.memberships||[]).map(w=>{const y=c?.find(j=>j.id===w.communityId);return{...w,community:y}}),h=r?r.firstName||r.email?.split("@")[0]||"Utilisateur":s?.firstName||"Utilisateur",g=w=>{r?a(w.id):i(w.communityId),t(`/app/${w.communityId}/home`)},b=()=>{o(),t("/app/login")};return d?n.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(180deg, #E8F4FF 0%, #F5FAFF 40%, #FFFFFF 100%)"},children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 border-3 border-[#44A8FF] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-400 font-medium",children:"Chargement..."})]})}):n.jsxs("div",{className:"min-h-screen flex justify-center","data-testid":"community-hub-page",style:{background:"linear-gradient(180deg, #E8F4FF 0%, #F5FAFF 40%, #FFFFFF 100%)"},children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-60 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute -top-10 -left-10 w-60 h-60 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.4) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute top-10 right-0 w-40 h-40 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.5) 0%, transparent 70%)"}})]}),n.jsxs("div",{className:"w-full max-w-md min-h-screen relative flex flex-col",children:[n.jsxs("div",{className:"relative z-10 p-5 pt-6 pb-4",children:[n.jsx("div",{className:"flex justify-end",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center text-white font-bold text-sm",style:{background:"linear-gradient(135deg, #5AB8FF 0%, #44A8FF 100%)"},children:h[0]?.toUpperCase()||"?"}),n.jsx("button",{onClick:b,className:"text-gray-400 hover:text-red-400 transition-colors p-2","data-testid":"button-logout",children:n.jsx(pl,{size:20})})]})}),n.jsxs("div",{className:"flex flex-col items-center mt-4 mb-2",children:[n.jsx("img",{src:Oxe,alt:"Koomy",className:"w-56 object-contain"}),n.jsx("p",{className:"text-gray-500 text-sm mt-1 font-medium tracking-wide",children:"Vos communauts, une App"})]})]}),n.jsxs("div",{className:"relative z-10 p-5 flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-1",children:"Mes communauts"}),n.jsx("p",{className:"text-gray-500 text-sm",children:f.length===0?"Votre compte est cr. Rejoignez votre premire communaut pour accder  vos services.":"Retrouvez toutes vos communauts."})]}),f.length===0&&n.jsx("div",{className:"koomy-card p-5 mb-4",style:{background:"linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%)",border:"2px solid #F59E0B30"},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-amber-500/20 p-2.5 rounded-xl",children:n.jsx(Ef,{className:"w-6 h-6 text-amber-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-amber-800",children:"Bienvenue sur Koomy !"}),n.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Pour accder aux services de votre club, ajoutez votre carte d'adhrent avec le code reu par email."})]})]})}),n.jsxs("div",{className:"space-y-4",children:[f.map(w=>n.jsx(Pxe,{membership:w,onClick:()=>g(w)},w.id)),n.jsxs(H,{onClick:()=>t("/app/add-card"),variant:"outline",className:"w-full py-6 border-2 border-dashed border-[#44A8FF]/30 rounded-xl flex items-center justify-center gap-2 text-gray-400 hover:text-[#44A8FF] hover:border-[#44A8FF]/50 hover:bg-[#44A8FF]/5 transition-all group","data-testid":"button-add-card",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-100 group-hover:bg-[#E8F4FF] flex items-center justify-center transition-colors",children:n.jsx(It,{className:"text-gray-400 group-hover:text-[#44A8FF] transition-colors",size:18})}),n.jsx("span",{className:"font-semibold",children:"Rejoindre une communaut"})]})]})]}),n.jsx("div",{className:"relative z-10 p-5 border-t border-gray-100/50 bg-white/50 backdrop-blur-sm",children:n.jsxs("p",{className:"text-xs text-center text-gray-400",children:["Connect en tant que ",n.jsx("span",{className:"font-semibold text-gray-500",children:r?r.email:s?.email})]})})]})]})}const $g="/assets/ChatGPT%20Image%2030%20nov.%202025_%2005_54_45_1764590118748-aqu75lGb.png";function Mxe(){const[e,t]=zt(),{account:r,setAccount:s,refreshMemberships:a,refreshMe:i}=dt(),[o,c]=v.useState("verify"),[d,m]=v.useState(""),[f,h]=v.useState(""),[g,b]=v.useState(!1),[w,y]=v.useState(!1),[j,N]=v.useState(null),[C,E]=v.useState(""),[T,A]=v.useState(""),[k,P]=v.useState(!1),O=z=>{const q=z.toUpperCase().replace(/[^A-Z0-9]/g,"");return q.length<=4?q:`${q.slice(0,4)}-${q.slice(4,8)}`},M=z=>{const q=O(z.target.value);m(q)},F=async z=>{if(z.preventDefault(),d.replace("-","").length!==8){X.error("Le code doit contenir 8 caractres");return}if(!f.trim()){X.error("L'email est requis");return}b(!0);try{const q=await ia(`/api/memberships/verify/${d}?email=${encodeURIComponent(f.trim().toLowerCase())}`);if(!q.ok){const I=q.data?.error||"Code invalide";I.includes("email")||I.includes("Email")?X.error("L'email ne correspond pas  celui associ  ce code"):X.error(I);return}N(q.data),r?await D():(c("create-account"),X.success("Code et email vrifis !"))}catch(q){X.error(q instanceof Error?q.message:"Erreur de vrification")}finally{b(!1)}},D=async()=>{if(r){y(!0);try{const z=await da("/api/memberships/claim",{claimCode:d.replace("-",""),accountId:r.id});if(!z.ok)throw new Error(z.data?.error||"Erreur lors de l'activation");await a(),X.success("Carte ajoute avec succs !"),t(`/app/${z.data.membership.communityId}/home`)}catch(z){X.error(z instanceof Error?z.message:"Erreur d'activation")}finally{y(!1)}}},$=async z=>{if(z.preventDefault(),C!==T){X.error("Les mots de passe ne correspondent pas");return}if(C.length<6){X.error("Le mot de passe doit contenir au moins 6 caractres");return}y(!0);try{const q=await da("/api/memberships/register-and-claim",{claimCode:d.replace("-",""),email:f.trim().toLowerCase(),password:C});if(!q.ok)throw new Error(q.data?.error||"Erreur lors de l'activation");const I=q.data;s({...I.account,memberships:I.memberships}),await i(),X.success("Compte cr et carte active !"),t(`/app/${I.membership.communityId}/home`)}catch(q){X.error(q instanceof Error?q.message:"Erreur d'activation")}finally{y(!1)}},V=()=>{o==="create-account"?(c("verify"),N(null)):t(r?"/app/hub":"/app/login")};return n.jsxs("div",{className:"min-h-screen flex flex-col","data-testid":"add-card-page",style:{background:"linear-gradient(180deg, #E8F4FF 0%, #F5FAFF 40%, #FFFFFF 100%)"},children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-60 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute -top-10 -left-10 w-60 h-60 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.4) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute top-20 right-0 w-40 h-40 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.5) 0%, transparent 70%)"}})]}),n.jsx("div",{className:"relative z-10 px-5 pt-6 pb-4",children:n.jsxs(H,{variant:"ghost",size:"sm",onClick:V,className:"text-gray-500 hover:text-[#44A8FF] hover:bg-[#44A8FF]/10 -ml-2 rounded-xl transition-all","data-testid":"button-back",children:[n.jsx(Bn,{size:18,className:"mr-1"}),"Retour"]})}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center px-6 pb-8",children:[o==="verify"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative mb-5",children:[n.jsx("div",{className:"absolute inset-0 blur-lg opacity-30",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.5) 0%, transparent 70%)"}}),n.jsx("div",{className:"relative bg-white p-4 rounded-2xl shadow-lg",style:{boxShadow:"0 4px 20px -4px rgba(68, 168, 255, 0.2)"},children:n.jsx(L0,{className:"w-10 h-10 text-[#44A8FF]"})})]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"Activer ma carte"}),n.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-xs text-sm",children:"Entrez le code et l'email fournis par votre organisation"}),n.jsxs("form",{onSubmit:F,className:"w-full max-w-sm koomy-card p-5 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Code d'activation"}),n.jsx(ne,{type:"text",placeholder:"XXXX-XXXX",value:d,onChange:M,className:"h-14 text-center text-2xl font-mono tracking-widest rounded-xl bg-[#F5F9FF] border-2 border-[#E0EDFF] focus:border-[#44A8FF] focus:ring-[#44A8FF]/20 uppercase",maxLength:9,required:!0,"data-testid":"input-claim-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Votre email"}),n.jsx(ne,{type:"email",placeholder:"votre.email@exemple.com",value:f,onChange:z=>h(z.target.value),className:"h-12 rounded-xl bg-[#F5F9FF] border-2 border-[#E0EDFF] focus:border-[#44A8FF] focus:ring-[#44A8FF]/20 text-gray-700 placeholder:text-gray-400",required:!0,"data-testid":"input-verify-email"}),n.jsxs("div",{className:"flex items-start gap-2 mt-2",children:[n.jsx(_s,{className:"w-4 h-4 text-blue-500 mt-0.5 shrink-0"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Utilisez l'adresse email sur laquelle vous avez reu le code"})]})]}),n.jsx(H,{type:"submit",disabled:d.replace("-","").length!==8||!f.trim()||g||w,className:"w-full h-12 rounded-xl font-bold transition-all",style:{background:"linear-gradient(135deg, #5AB8FF 0%, #44A8FF 100%)",boxShadow:"0 4px 14px -2px rgba(68, 168, 255, 0.4)"},"data-testid":"button-verify-continue",children:g||w?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Vrification..."]}):n.jsxs("span",{className:"flex items-center gap-2",children:["Vrifier et continuer",n.jsx(En,{size:18})]})})]})]}),o==="create-account"&&j&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative mb-5",children:[n.jsx("div",{className:"absolute inset-0 blur-lg opacity-30",style:{background:"radial-gradient(circle, rgba(34, 197, 94, 0.5) 0%, transparent 70%)"}}),n.jsx("div",{className:"relative bg-white p-4 rounded-2xl shadow-lg",style:{boxShadow:"0 4px 20px -4px rgba(34, 197, 94, 0.2)"},children:n.jsx(Ws,{className:"w-10 h-10 text-green-500"})})]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"Crer mon compte"}),n.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-xs text-sm",children:"Dernire tape pour activer votre carte"}),n.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[n.jsx("div",{className:"koomy-card p-4",style:{background:"linear-gradient(135deg, #F0FDF4 0%, #DCFCE7 100%)",border:"1.5px solid #86EFAC"},children:n.jsxs("div",{className:"flex items-center gap-3",children:[j.communityLogo?n.jsx("img",{src:j.communityLogo,alt:j.communityName||"Club",className:"w-12 h-12 rounded-xl object-cover"}):n.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:n.jsx(It,{className:"w-6 h-6 text-green-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-bold text-gray-800 truncate",children:j.communityName||"Votre club"}),j.displayName&&n.jsx("p",{className:"text-sm text-gray-600 truncate",children:j.displayName}),n.jsxs("p",{className:"text-xs text-gray-400",children:["N ",j.memberId]})]})]})}),n.jsxs("form",{onSubmit:$,className:"koomy-card p-5 space-y-4",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Crez un mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:k?"text":"password",placeholder:"Minimum 6 caractres",value:C,onChange:z=>E(z.target.value),className:"h-12 rounded-xl bg-[#F5F9FF] border-2 border-[#E0EDFF] focus:border-[#44A8FF] focus:ring-[#44A8FF]/20 text-gray-700 placeholder:text-gray-400 pr-11",required:!0,"data-testid":"input-register-password"}),n.jsx("button",{type:"button",onClick:()=>P(!k),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#44A8FF] transition-colors","data-testid":"button-toggle-password",children:k?n.jsx(ma,{size:18}):n.jsx(ws,{size:18})})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Confirmer le mot de passe"}),n.jsx(ne,{type:"password",placeholder:"Confirmez le mot de passe",value:T,onChange:z=>A(z.target.value),className:"h-12 rounded-xl bg-[#F5F9FF] border-2 border-[#E0EDFF] focus:border-[#44A8FF] focus:ring-[#44A8FF]/20 text-gray-700 placeholder:text-gray-400",required:!0,"data-testid":"input-register-confirm"})]}),n.jsx(H,{type:"submit",disabled:w||C.length<6,className:"w-full h-12 rounded-xl font-bold transition-all",style:{background:"linear-gradient(135deg, #22C55E 0%, #16A34A 100%)",boxShadow:"0 4px 14px -2px rgba(34, 197, 94, 0.4)"},"data-testid":"button-create-account",children:w?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Cration du compte..."]}):n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Crer mon compte et accder"]})}),n.jsx("p",{className:"text-xs text-gray-400 text-center",children:"En crant un compte, vous acceptez nos conditions d'utilisation."})]})]})]}),n.jsxs("div",{className:"mt-10 text-center",children:[n.jsx("img",{src:$g,alt:"Koomy",className:"w-20 mx-auto opacity-25"}),n.jsx("p",{className:"text-xs text-gray-300 mt-2",children:"Vos communauts, une app."})]})]})]})}function Rxe(e,t){if(!e)return"";const r=ar(e,"PersonalInfo-avatar");if(!r)return"";if(r.startsWith("https://api.dicebear.com"))return r;const s=t?new Date(t).getTime():Date.now(),a=r.includes("?")?"&":"?";return`${r}${a}v=${s}`}function Dxe({params:e}){const{communityId:t}=e,{account:r,setAccount:s,refreshMe:a,currentMembership:i,currentCommunity:o,selectCommunity:c,selectMembership:d}=dt();zt();const[m,f]=v.useState(!1),[h,g]=v.useState(!1),b=v.useRef(null),w=r?.memberships?.find(T=>T.communityId===t),y=i||w,[j,N]=v.useState({firstName:r?.firstName||"",lastName:r?.lastName||""});v.useEffect(()=>{o?.id!==t&&c(t),w&&i?.id!==w.id&&d(w.id)},[t,w,i,o,d,c]),v.useEffect(()=>{r&&N({firstName:r.firstName||"",lastName:r.lastName||""})},[r]);const C=async T=>{if(!r?.id){X.error("Erreur: compte non trouv");return}f(!0);try{const{uploadImageDirect:A}=await hf(async()=>{const{uploadImageDirect:O}=await Promise.resolve().then(()=>yge);return{uploadImageDirect:O}},void 0),{objectPath:k}=await A(T,{folder:"avatars"});console.log("[Avatar] Step 2: Updating via /api/accounts/me/avatar...");const P=await Ps("/api/accounts/me/avatar",{avatar:k});if(!P.ok)throw console.error("[Avatar] Step 2 FAILED:",P.status,P.data),new Error(P.data?.error||"chec de la mise  jour du profil");console.log("[Avatar] Step 2 OK, new avatar:",P.data.avatar),s({...r,avatar:P.data.avatar}),await a(),console.log("[Avatar] refreshMe() called to sync account state"),X.success("Photo de profil mise  jour !")}catch(A){console.error("[PersonalInfo] Upload error:",A),X.error(A instanceof Error?A.message:"Erreur lors de l'upload de l'image")}finally{f(!1)}},E=async()=>{if(r?.id){g(!0);try{const T=await Ps("/api/accounts/me",j);if(!T.ok)throw new Error("chec de la mise  jour");s({...r,...T.data}),X.success("Informations mises  jour !")}catch(T){console.error("Save error:",T),X.error("Erreur lors de la sauvegarde")}finally{g(!1)}}};return r?n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"p-6 pt-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx($e,{href:`/app/${t}/profile`,children:n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","data-testid":"button-back",children:n.jsx(Bn,{size:20})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Informations personnelles"})]}),n.jsxs("div",{className:"flex flex-col items-center mb-8",children:[n.jsxs("div",{className:"w-28 h-28 rounded-full p-1 bg-white shadow-lg mb-4 relative",children:[n.jsx("img",{src:r.avatar?Rxe(r.avatar,r.updatedAt):`https://api.dicebear.com/7.x/avataaars/svg?seed=${r.firstName||"user"}`,alt:"Profile",className:"w-full h-full rounded-full object-cover"}),n.jsx("button",{onClick:()=>b.current?.click(),disabled:m,className:"absolute bottom-0 right-0 p-2.5 bg-primary text-white rounded-full shadow-md hover:bg-primary/90 transition-colors disabled:opacity-50","data-testid":"button-change-avatar",children:m?n.jsx(Oe,{size:16,className:"animate-spin"}):n.jsx(M9,{size:16})}),n.jsx("input",{ref:b,type:"file",accept:"image/*",className:"hidden",onChange:T=>{const A=T.target.files?.[0];A&&C(A),T.target.value=""},"data-testid":"input-avatar-file"})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Touchez pour changer la photo"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"firstName",className:"text-gray-700",children:"Prnom"}),n.jsx(ne,{id:"firstName",value:j.firstName,onChange:T=>N({...j,firstName:T.target.value}),className:"mt-1",placeholder:"Votre prnom","data-testid":"input-firstname"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"lastName",className:"text-gray-700",children:"Nom"}),n.jsx(ne,{id:"lastName",value:j.lastName,onChange:T=>N({...j,lastName:T.target.value}),className:"mt-1",placeholder:"Votre nom","data-testid":"input-lastname"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"email",className:"text-gray-700",children:"Email"}),n.jsx(ne,{id:"email",value:r.email,disabled:!0,className:"mt-1 bg-gray-50","data-testid":"input-email"}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"L'email ne peut pas tre modifi"})]}),y&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mt-6",children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Adhsion"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"N Adhrent"}),n.jsx("span",{className:"font-mono font-medium",children:y.memberId})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Statut"}),n.jsx("span",{className:`font-medium ${y.status==="active"?"text-green-600":"text-red-600"}`,children:y.status==="active"?"Actif":"Inactif"})]}),y.section&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Section"}),n.jsx("span",{children:y.section})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Date d'adhsion"}),n.jsx("span",{children:y.joinDate?new Date(y.joinDate).toLocaleDateString("fr-FR"):y.claimedAt?new Date(y.claimedAt).toLocaleDateString("fr-FR"):"-"})]}),y.nextDueDate&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Expiration"}),n.jsx("span",{children:new Date(y.nextDueDate).toLocaleDateString("fr-FR")})]})]})]}),n.jsxs(H,{onClick:E,disabled:h,className:"w-full h-12 rounded-xl mt-6","data-testid":"button-save",children:[h?n.jsx(Oe,{className:"w-4 h-4 animate-spin mr-2"}):n.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Enregistrer"]})]})]})}):n.jsx(Ds,{communityId:t,children:n.jsx("div",{className:"p-6 pt-10 text-center text-gray-500",children:"Chargement..."})})}function Ixe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var Lxe=qa[" useInsertionEffect ".trim().toString()]||an;function $xe({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=zxe({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=qxe(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function zxe({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return Lxe(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function qxe(e){return typeof e=="function"}function qj(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Fj(e){const[t,r]=v.useState(void 0);return an(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,m=Array.isArray(d)?d[0]:d;o=m.inlineSize,c=m.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else r(void 0)},[e]),t}var Bj="Switch",[Fxe]=ts(Bj),[Bxe,Uxe]=Fxe(Bj),RH=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:m,form:f,...h}=e,[g,b]=v.useState(null),w=xt(t,E=>b(E)),y=v.useRef(!1),j=g?f||!!g.closest("form"):!0,[N,C]=$xe({prop:a,defaultProp:i??!1,onChange:m,caller:Bj});return n.jsxs(Bxe,{scope:r,checked:N,disabled:c,children:[n.jsx(at.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":$H(N),"data-disabled":c?"":void 0,disabled:c,value:d,...h,ref:w,onClick:Ixe(e.onClick,E=>{C(T=>!T),j&&(y.current=E.isPropagationStopped(),y.current||E.stopPropagation())})}),j&&n.jsx(LH,{control:g,bubbles:!y.current,name:s,value:d,checked:N,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});RH.displayName=Bj;var DH="SwitchThumb",IH=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...s}=e,a=Uxe(DH,r);return n.jsx(at.span,{"data-state":$H(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})});IH.displayName=DH;var Vxe="SwitchBubbleInput",LH=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=v.useRef(null),c=xt(o,i),d=qj(r),m=Fj(t);return v.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&b){const w=new Event("click",{bubbles:s});b.call(f,r),f.dispatchEvent(w)}},[d,r,s]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LH.displayName=Vxe;function $H(e){return e?"checked":"unchecked"}var zH=RH,Kxe=IH;const Qn=v.forwardRef(({className:e,...t},r)=>n.jsx(zH,{className:Le("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(Kxe,{className:Le("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Qn.displayName=zH.displayName;function Hxe({params:e}){const{communityId:t}=e,{account:r,currentCommunity:s,selectCommunity:a,currentMembership:i,selectMembership:o}=dt(),c=r?.memberships?.find(h=>h.communityId===t);v.useEffect(()=>{s?.id!==t&&a(t),c&&i?.id!==c.id&&o(c.id)},[t,c,i,s,o,a]);const[d,m]=v.useState({news:!0,events:!0,messages:!0,reminders:!0,marketing:!1}),f=h=>{m(g=>({...g,[h]:!g[h]})),X.success("Prfrences mises  jour")};return n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"p-6 pt-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx($e,{href:`/app/${t}/profile`,children:n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","data-testid":"button-back",children:n.jsx(Bn,{size:20})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"})]}),n.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Grez vos prfrences de notifications pour rester inform des actualits importantes."}),n.jsx("div",{className:"space-y-1",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Actualits"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Nouvelles publications et annonces"})]}),n.jsx(Qn,{checked:d.news,onCheckedChange:()=>f("news"),"data-testid":"switch-news"})]}),n.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"vnements"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Rappels et nouveaux vnements"})]}),n.jsx(Qn,{checked:d.events,onCheckedChange:()=>f("events"),"data-testid":"switch-events"})]}),n.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Messages"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Messages et discussions"})]}),n.jsx(Qn,{checked:d.messages,onCheckedChange:()=>f("messages"),"data-testid":"switch-messages"})]}),n.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Rappels de paiement"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Cotisations et chances"})]}),n.jsx(Qn,{checked:d.reminders,onCheckedChange:()=>f("reminders"),"data-testid":"switch-reminders"})]}),n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Communications marketing"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Offres et promotions partenaires"})]}),n.jsx(Qn,{checked:d.marketing,onCheckedChange:()=>f("marketing"),"data-testid":"switch-marketing"})]})]})}),n.jsxs("div",{className:"mt-8 bg-blue-50 rounded-xl p-4 border border-blue-100",children:[n.jsx("h3",{className:"font-medium text-blue-800 text-sm",children:"Notifications push"}),n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Pour recevoir les notifications sur votre tlphone, assurez-vous d'avoir activ les notifications pour cette application dans les paramtres de votre appareil."})]})]})})}function Gxe({params:e}){const{communityId:t}=e,{account:r,currentCommunity:s,selectCommunity:a,currentMembership:i,selectMembership:o,logout:c}=dt(),{isWhiteLabel:d,privacyPolicyUrl:m,termsUrl:f}=Xi();zt();const h=r?.memberships?.find($=>$.communityId===t);v.useEffect(()=>{s?.id!==t&&a(t),h&&i?.id!==h.id&&o(h.id)},[t,h,i,s,o,a]);const[g,b]=v.useState(!1),[w,y]=v.useState(!1),[j,N]=v.useState(""),[C,E]=v.useState(!1),[T,A]=v.useState(!1),[k,P]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[O,M]=v.useState(!1),F=async()=>{if(k.newPassword!==k.confirmPassword){X.error("Les mots de passe ne correspondent pas");return}if(k.newPassword.length<8){X.error("Le mot de passe doit contenir au moins 8 caractres");return}M(!0);try{const $=await Lre(`/api/accounts/${r?.id}/password`,{currentPassword:k.currentPassword,newPassword:k.newPassword});if(!$.ok)throw new Error($.data?.message||"chec du changement de mot de passe");X.success("Mot de passe modifi avec succs"),b(!1),P({currentPassword:"",newPassword:"",confirmPassword:""})}catch($){X.error($ instanceof Error?$.message:"Erreur lors du changement de mot de passe")}finally{M(!1)}},D=async()=>{if(j.toLowerCase()!=="supprimer"){X.error("Veuillez taper 'supprimer' pour confirmer");return}E(!0);try{if(!(await da(`/api/accounts/${r?.id}/deletion-request`)).ok)throw new Error("chec de la demande");A(!0),X.success("Votre demande de suppression a t envoye")}catch{X.error("Erreur lors de l'envoi de la demande")}finally{E(!1)}};return n.jsxs(Ds,{communityId:t,children:[n.jsxs("div",{className:"p-6 pt-10",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[n.jsx($e,{href:`/app/${t}/profile`,children:n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","data-testid":"button-back",children:n.jsx(Bn,{size:20})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Scurit & Confidentialit"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>b(!0),"data-testid":"button-change-password",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-50 p-2 rounded-lg text-primary",children:n.jsx(y4,{size:18})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Changer le mot de passe"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Modifier votre mot de passe"})]})]})}),n.jsxs("div",{className:"p-4 flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-green-50 p-2 rounded-lg text-green-600",children:n.jsx(Mr,{size:18})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Authentification  deux facteurs"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Bientt disponible"})]})]}),n.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded",children:"Bientt"})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vos donnes"}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsxs("a",{href:m||"/website/privacy",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-primary hover:underline","data-testid":"link-privacy-policy",children:[n.jsx(Mr,{size:18}),n.jsx("span",{className:"text-sm font-medium",children:"Politique de confidentialit"})]})}),n.jsx("div",{className:"p-4",children:n.jsxs("a",{href:f||"/website/terms",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 text-primary hover:underline","data-testid":"link-terms",children:[n.jsx(Mr,{size:18}),n.jsx("span",{className:"text-sm font-medium",children:"Conditions d'utilisation"})]})})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-red-600 mb-4",children:"Zone de danger"}),n.jsx("div",{className:"bg-red-50 rounded-xl border border-red-200 p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(br,{className:"text-red-500 mt-0.5 flex-shrink-0",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-medium text-red-700",children:"Supprimer mon compte"}),n.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Cette action est irrversible. Toutes vos donnes personnelles seront supprimes conformment au RGPD."}),n.jsxs(H,{variant:"destructive",size:"sm",className:"mt-3",onClick:()=>y(!0),"data-testid":"button-delete-account",children:[n.jsx(js,{size:14,className:"mr-2"}),"Demander la suppression"]})]})]})})]})]})]}),n.jsx(ht,{open:g,onOpenChange:b,children:n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsxs(pt,{children:[n.jsx(gt,{children:"Changer le mot de passe"}),n.jsx(Jr,{children:"Entrez votre mot de passe actuel et le nouveau mot de passe souhait."})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),n.jsx(ne,{id:"currentPassword",type:"password",value:k.currentPassword,onChange:$=>P({...k,currentPassword:$.target.value}),className:"mt-1","data-testid":"input-current-password"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),n.jsx(ne,{id:"newPassword",type:"password",value:k.newPassword,onChange:$=>P({...k,newPassword:$.target.value}),className:"mt-1","data-testid":"input-new-password"})]}),n.jsxs("div",{children:[n.jsx(ee,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),n.jsx(ne,{id:"confirmPassword",type:"password",value:k.confirmPassword,onChange:$=>P({...k,confirmPassword:$.target.value}),className:"mt-1","data-testid":"input-confirm-password"})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>b(!1),children:"Annuler"}),n.jsxs(H,{onClick:F,disabled:O,children:[O&&n.jsx(Oe,{className:"w-4 h-4 animate-spin mr-2"}),"Changer"]})]})]})}),n.jsx(ht,{open:w,onOpenChange:y,children:n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsxs(pt,{children:[n.jsxs(gt,{className:"text-red-600 flex items-center gap-2",children:[n.jsx(br,{size:20}),"Supprimer mon compte"]}),n.jsx(Jr,{children:"Cette action est irrversible. Votre demande sera traite sous 30 jours conformment au RGPD."})]}),T?n.jsxs("div",{className:"py-8 text-center",children:[n.jsx(vr,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"font-semibold text-lg text-gray-800",children:"Demande envoye"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Votre demande de suppression a t enregistre. Vous recevrez un email de confirmation."}),n.jsx(H,{className:"mt-6",onClick:()=>y(!1),children:"Fermer"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"py-4",children:[n.jsxs("div",{className:"bg-red-50 p-4 rounded-lg mb-4",children:[n.jsx("h4",{className:"font-medium text-red-800 text-sm",children:"Ce qui sera supprim :"}),n.jsxs("ul",{className:"text-xs text-red-600 mt-2 space-y-1",children:[n.jsx("li",{children:" Vos informations personnelles"}),n.jsx("li",{children:" Vos adhsions et historique"}),n.jsx("li",{children:" Vos participations aux vnements"}),n.jsx("li",{children:" Vos messages et contributions"})]})]}),n.jsx(ee,{htmlFor:"deleteConfirm",className:"text-sm font-medium",children:'Tapez "supprimer" pour confirmer'}),n.jsx(ne,{id:"deleteConfirm",value:j,onChange:$=>N($.target.value),className:"mt-2",placeholder:"supprimer","data-testid":"input-delete-confirm"})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>y(!1),children:"Annuler"}),n.jsxs(H,{variant:"destructive",onClick:D,disabled:C||j.toLowerCase()!=="supprimer",children:[C&&n.jsx(Oe,{className:"w-4 h-4 animate-spin mr-2"}),"Confirmer la suppression"]})]})]})]})})]})}function Wxe(){const e=Wt(),{account:t,refreshMemberships:r}=dt(),s=Fx(),i=new URLSearchParams(s).get("session_id");return v.useEffect(()=>{t?.id&&(e.invalidateQueries({queryKey:[`/api/accounts/${t.id}/memberships`]}),r?.())},[t?.id,e,r]),n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white flex items-center justify-center p-6",children:n.jsx(ve,{className:"max-w-md w-full shadow-xl border-green-100",children:n.jsxs(je,{className:"p-8 text-center",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(vs,{className:"h-12 w-12 text-green-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2","data-testid":"payment-success-title",children:"Paiement confirm"}),n.jsx("p",{className:"text-gray-600","data-testid":"payment-success-message",children:"Votre adhsion a bien t rgle. Merci !"})]}),n.jsx("div",{className:"space-y-3",children:n.jsx($e,{href:"/app/select-community",children:n.jsxs(H,{className:"w-full gap-2",size:"lg","data-testid":"payment-success-home-button",children:[n.jsx(Kx,{className:"h-5 w-5"}),"Retour  l'accueil"]})})}),i&&n.jsxs("p",{className:"text-xs text-gray-400 mt-6",children:["Rfrence: ",i.substring(0,20),"..."]})]})})})}function Yxe(){return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 to-white flex items-center justify-center p-6",children:n.jsx(ve,{className:"max-w-md w-full shadow-xl border-amber-100",children:n.jsxs(je,{className:"p-8 text-center",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Nl,{className:"h-12 w-12 text-amber-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2","data-testid":"payment-cancel-title",children:"Paiement annul"}),n.jsx("p",{className:"text-gray-600","data-testid":"payment-cancel-message",children:"Le paiement n'a pas t effectu. Vous pouvez ressayer  tout moment."})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx($e,{href:"/app/select-community",children:n.jsxs(H,{variant:"outline",className:"w-full gap-2",size:"lg","data-testid":"payment-cancel-retry-button",children:[n.jsx(Sl,{className:"h-5 w-5"}),"Ressayer"]})}),n.jsx($e,{href:"/app/select-community",children:n.jsxs(H,{variant:"ghost",className:"w-full gap-2","data-testid":"payment-cancel-home-button",children:[n.jsx(Kx,{className:"h-5 w-5"}),"Retour  l'accueil"]})})]})]})})})}function Qxe(){const[e,t]=zt(),[r,s]=LU("/app/claim/:code"),{account:a,setAccount:i,refreshMemberships:o,refreshMe:c}=dt(),{isWhiteLabel:d,appName:m,logoUrl:f,brandColor:h}=Xi(),[g,b]=v.useState(!1),[w,y]=v.useState(""),[j,N]=v.useState(""),[C,E]=v.useState(!1),T=v.useRef(!1),A=s?.code||"",k=new URLSearchParams(window.location.search),P=k.get("email")||"",O=k.get("communityName")||"",M=d&&h?h:"#44A8FF";v.useEffect(()=>{console.log("[ClaimVerified] Mounted with:",{claimCode:A,email:P,communityName:O}),(!A||!P)&&(X.error("Donnes d'activation manquantes"),t("/app/login"))},[A,P,O,t]),v.useEffect(()=>{a&&!T.current&&F()},[a]);const F=async()=>{if(a){b(!0);try{const V=await da("/api/memberships/claim",{claimCode:A.replace(/-/g,""),accountId:a.id});if(!V.ok)throw new Error(V.data?.error||"Erreur lors de l'activation");await o(),X.success("Carte ajoute avec succs !"),t(`/app/${V.data.membership.communityId}/home`)}catch(V){X.error(V instanceof Error?V.message:"Erreur d'activation"),t("/app/login")}finally{b(!1)}}},D=async V=>{if(V.preventDefault(),w!==j){X.error("Les mots de passe ne correspondent pas");return}if(w.length<6){X.error("Le mot de passe doit contenir au moins 6 caractres");return}b(!0);try{const z=await da("/api/memberships/register-and-claim",{claimCode:A.replace(/-/g,""),email:P,password:w});if(!z.ok){const K=z.data?.error||"Erreur lors de l'activation";z.status===409?X.error("Cette carte a dj t active"):z.status===404?X.error("Code invalide"):X.error(K);return}const q=z.data;if(T.current=!0,!q.sessionToken){console.error("[ClaimVerified]  Server did not return sessionToken!"),X.error("Erreur serveur: pas de token de session");return}console.log("[ClaimVerified] Step 1: Saving auth token, length:",q.sessionToken.length),await vj(q.sessionToken);const I=await ld();if(console.log("[ClaimVerified] Step 2: Token verification:",{expected:q.sessionToken.length,saved:I?.length,match:I===q.sessionToken}),!I||I!==q.sessionToken){console.error("[ClaimVerified]  Token verification failed!"),X.error("Erreur de sauvegarde de session");return}console.log("[ClaimVerified] Step 3: Setting account..."),i({...q.account,memberships:q.memberships}),console.log("[ClaimVerified] Step 4: Refreshing auth state..."),await c(),X.success("Compte cr et carte active !"),console.log("[ClaimVerified] Step 5: Navigating to community home:",q.membership.communityId),t(`/app/${q.membership.communityId}/home`)}catch(z){X.error(z instanceof Error?z.message:"Erreur d'activation")}finally{b(!1)}},$=()=>{t("/app/login")};return a?n.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{background:`linear-gradient(180deg, ${M}15 0%, ${M}08 40%, #FFFFFF 100%)`},children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:M}}),n.jsx("p",{className:"text-gray-600",children:"Activation en cours..."})]})}):n.jsxs("div",{className:"min-h-screen flex flex-col","data-testid":"claim-verified-page",style:{background:`linear-gradient(180deg, ${M}15 0%, ${M}08 40%, #FFFFFF 100%)`},children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-60 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute -top-10 -left-10 w-60 h-60 rounded-full opacity-25",style:{background:`radial-gradient(circle, ${M}66 0%, transparent 70%)`}}),n.jsx("div",{className:"absolute top-20 right-0 w-40 h-40 rounded-full opacity-20",style:{background:`radial-gradient(circle, ${M}80 0%, transparent 70%)`}})]}),n.jsx("div",{className:"relative z-10 px-5 pt-6 pb-4",children:n.jsxs(H,{variant:"ghost",size:"sm",onClick:$,className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 -ml-2 rounded-xl transition-all","data-testid":"button-back",children:[n.jsx(Bn,{size:18,className:"mr-1"}),"Retour"]})}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center px-6 pb-8",children:[n.jsxs("div",{className:"relative mb-5",children:[n.jsx("div",{className:"absolute inset-0 blur-lg opacity-30",style:{background:`radial-gradient(circle, ${M}80 0%, transparent 70%)`}}),d&&f?n.jsx("img",{src:f,alt:m||"Logo",className:"relative w-16 h-16 object-contain rounded-2xl shadow-lg bg-white p-2"}):n.jsx("div",{className:"relative bg-white p-4 rounded-2xl shadow-lg",style:{boxShadow:`0 4px 20px -4px ${M}33`},children:n.jsx(mn,{className:"w-10 h-10",style:{color:M}})})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:`${M}20`},children:n.jsx(Ws,{size:14,style:{color:M}})}),n.jsx("span",{className:"text-sm font-medium",style:{color:M},children:"Code vrifi"})]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 text-center mb-2",children:"Crer votre compte"}),n.jsx("p",{className:"text-gray-500 text-center mb-6 max-w-xs text-sm",children:O?`Finalisez votre adhsion  ${O}`:"Crez un mot de passe pour activer votre carte"}),n.jsxs("form",{onSubmit:D,className:"w-full max-w-sm koomy-card p-5 space-y-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(It,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"text-gray-500",children:"Code :"}),n.jsx("span",{className:"font-mono font-semibold text-gray-700",children:A})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-500 ml-6",children:"Email :"}),n.jsx("span",{className:"font-medium text-gray-700 truncate",children:P})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:C?"text":"password",placeholder:"Minimum 6 caractres",value:w,onChange:V=>y(V.target.value),className:"h-12 rounded-xl pr-11 text-gray-700",style:{backgroundColor:`${M}08`,borderColor:`${M}30`},required:!0,minLength:6,"data-testid":"input-password"}),n.jsx("button",{type:"button",onClick:()=>E(!C),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 transition-colors","data-testid":"button-toggle-password",children:C?n.jsx(ma,{size:18}):n.jsx(ws,{size:18})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Confirmer le mot de passe"}),n.jsx(ne,{type:C?"text":"password",placeholder:"Retapez le mot de passe",value:j,onChange:V=>N(V.target.value),className:"h-12 rounded-xl text-gray-700",style:{backgroundColor:`${M}08`,borderColor:`${M}30`},required:!0,minLength:6,"data-testid":"input-confirm-password"})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl text-base font-bold mt-2 group transition-all text-white",style:{background:d?M:`linear-gradient(135deg, #5AB8FF 0%, ${M} 100%)`,boxShadow:`0 4px 14px -2px ${M}66`},disabled:g,"data-testid":"button-activate",children:g?"Activation...":"Activer ma carte"})]})]})]})}function qH(){const[e,t]=zt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{setUser:o,selectCommunity:c}=dt(),[d,m]=v.useState(""),[f,h]=v.useState(""),g=async b=>{b.preventDefault(),i(!0);try{const w=await da("/api/admin/login",{email:d,password:f});if(!w.ok)throw new Error(w.data?.error||"Erreur de connexion");const y=w.data,j={...y.user,memberships:y.memberships};o(j),X.success("Connexion admin russie!"),y.memberships.length===1?(c(y.memberships[0].communityId),setTimeout(()=>{t(`/app/${y.memberships[0].communityId}/admin`)},100)):setTimeout(()=>{t("/app/admin/dashboard")},100)}catch(w){X.error(w instanceof Error?w.message:"Erreur de connexion")}finally{i(!1)}};return n.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden","data-testid":"mobile-admin-login-page",style:{background:"linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)"},children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-80 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-20 -left-20 w-80 h-80 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(138, 43, 226, 0.4) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute -top-10 right-0 w-60 h-60 rounded-full opacity-15",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.4) 0%, transparent 70%)"}})]}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col px-6 pt-16 pb-6",children:[n.jsxs("div",{className:"flex flex-col items-center mb-8",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx("div",{className:"absolute inset-0 blur-xl opacity-30",style:{background:"radial-gradient(circle, rgba(138, 43, 226, 0.5) 0%, transparent 70%)"}}),n.jsx("img",{src:$g,alt:"Koomy",className:"relative w-40 h-auto drop-shadow-lg"})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-2 mb-1",children:[n.jsx(Mr,{size:18,className:"text-purple-400"}),n.jsx("span",{className:"text-purple-300 text-sm font-bold uppercase tracking-wider",children:"Espace Administrateur"})]}),n.jsx("p",{className:"text-gray-400 text-xs",children:"Connectez-vous pour grer votre communaut"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-6 border border-white/20 shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/20 flex items-center justify-center",children:n.jsx(Vi,{size:20,className:"text-purple-400"})}),n.jsx("h2",{className:"text-xl font-bold text-white",children:"Connexion Admin"})]}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Email"}),n.jsx(ne,{type:"email",placeholder:"email@exemple.com",value:d,onChange:b=>m(b.target.value),className:"h-12 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 focus:ring-purple-400/20 text-white placeholder:text-gray-400",required:!0,"data-testid":"input-admin-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-300",children:"Mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:r?"text":"password",value:f,onChange:b=>h(b.target.value),className:"h-12 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 focus:ring-purple-400/20 pr-11 text-white",required:!0,"data-testid":"input-admin-password"}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-400 transition-colors","data-testid":"button-toggle-password",children:r?n.jsx(ma,{size:18}):n.jsx(ws,{size:18})})]})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl text-base font-bold mt-4 group transition-all",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",boxShadow:"0 4px 14px -2px rgba(139, 92, 246, 0.5)"},disabled:a,"data-testid":"button-admin-login",children:a?"Connexion...":n.jsxs("span",{className:"flex items-center gap-2",children:["Se connecter ",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})}),n.jsx("div",{className:"text-center pt-2",children:n.jsx("a",{href:"#",className:"text-sm font-medium text-purple-400 hover:text-purple-300 transition-colors",children:"Mot de passe oubli ?"})})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("button",{type:"button",onClick:()=>t("/app/admin/register"),className:"text-sm font-medium text-purple-400 hover:text-purple-300 transition-colors","data-testid":"link-admin-signup",children:["Pas encore administrateur ? ",n.jsx("span",{className:"underline",children:"Crez votre espace Koomy"})]})}),n.jsx("p",{className:"text-gray-600 text-[10px] text-center mt-auto pt-6",children:"Accs rserv aux administrateurs autoriss"})]})]})}function cT(e,[t,r]){return Math.min(r,Math.max(t,e))}function gs(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}const Xxe=["top","right","bottom","left"],Wc=Math.min,_a=Math.max,G0=Math.round,Qv=Math.floor,Co=e=>({x:e,y:e}),Zxe={left:"right",right:"left",bottom:"top",top:"bottom"},Jxe={start:"end",end:"start"};function uT(e,t,r){return _a(e,Wc(t,r))}function Tl(e,t){return typeof e=="function"?e(t):e}function Pl(e){return e.split("-")[0]}function vh(e){return e.split("-")[1]}function EO(e){return e==="x"?"y":"x"}function _O(e){return e==="y"?"height":"width"}const eye=new Set(["top","bottom"]);function yo(e){return eye.has(Pl(e))?"y":"x"}function TO(e){return EO(yo(e))}function tye(e,t,r){r===void 0&&(r=!1);const s=vh(e),a=TO(e),i=_O(a);let o=a==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=W0(o)),[o,W0(o)]}function nye(e){const t=W0(e);return[dT(e),t,dT(t)]}function dT(e){return e.replace(/start|end/g,t=>Jxe[t])}const SL=["left","right"],CL=["right","left"],rye=["top","bottom"],sye=["bottom","top"];function aye(e,t,r){switch(e){case"top":case"bottom":return r?t?CL:SL:t?SL:CL;case"left":case"right":return t?rye:sye;default:return[]}}function iye(e,t,r,s){const a=vh(e);let i=aye(Pl(e),r==="start",s);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(dT)))),i}function W0(e){return e.replace(/left|right|bottom|top/g,t=>Zxe[t])}function oye(e){return{top:0,right:0,bottom:0,left:0,...e}}function FH(e){return typeof e!="number"?oye(e):{top:e,right:e,bottom:e,left:e}}function Y0(e){const{x:t,y:r,width:s,height:a}=e;return{width:s,height:a,top:r,left:t,right:t+s,bottom:r+a,x:t,y:r}}function AL(e,t,r){let{reference:s,floating:a}=e;const i=yo(t),o=TO(t),c=_O(o),d=Pl(t),m=i==="y",f=s.x+s.width/2-a.width/2,h=s.y+s.height/2-a.height/2,g=s[c]/2-a[c]/2;let b;switch(d){case"top":b={x:f,y:s.y-a.height};break;case"bottom":b={x:f,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:h};break;case"left":b={x:s.x-a.width,y:h};break;default:b={x:s.x,y:s.y}}switch(vh(t)){case"start":b[o]-=g*(r&&m?-1:1);break;case"end":b[o]+=g*(r&&m?-1:1);break}return b}const lye=async(e,t,r)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let m=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:h}=AL(m,s,d),g=s,b={},w=0;for(let y=0;y<c.length;y++){const{name:j,fn:N}=c[y],{x:C,y:E,data:T,reset:A}=await N({x:f,y:h,initialPlacement:s,placement:g,strategy:a,middlewareData:b,rects:m,platform:o,elements:{reference:e,floating:t}});f=C??f,h=E??h,b={...b,[j]:{...b[j],...T}},A&&w<=50&&(w++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(m=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:f,y:h}=AL(m,g,d)),y=-1)}return{x:f,y:h,placement:g,strategy:a,middlewareData:b}};async function zg(e,t){var r;t===void 0&&(t={});const{x:s,y:a,platform:i,rects:o,elements:c,strategy:d}=e,{boundary:m="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:b=0}=Tl(t,e),w=FH(b),j=c[g?h==="floating"?"reference":"floating":h],N=Y0(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:m,rootBoundary:f,strategy:d})),C=h==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),T=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},A=Y0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:E,strategy:d}):C);return{top:(N.top-A.top+w.top)/T.y,bottom:(A.bottom-N.bottom+w.bottom)/T.y,left:(N.left-A.left+w.left)/T.x,right:(A.right-N.right+w.right)/T.x}}const cye=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:s,placement:a,rects:i,platform:o,elements:c,middlewareData:d}=t,{element:m,padding:f=0}=Tl(e,t)||{};if(m==null)return{};const h=FH(f),g={x:r,y:s},b=TO(a),w=_O(b),y=await o.getDimensions(m),j=b==="y",N=j?"top":"left",C=j?"bottom":"right",E=j?"clientHeight":"clientWidth",T=i.reference[w]+i.reference[b]-g[b]-i.floating[w],A=g[b]-i.reference[b],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(m));let P=k?k[E]:0;(!P||!await(o.isElement==null?void 0:o.isElement(k)))&&(P=c.floating[E]||i.floating[w]);const O=T/2-A/2,M=P/2-y[w]/2-1,F=Wc(h[N],M),D=Wc(h[C],M),$=F,V=P-y[w]-D,z=P/2-y[w]/2+O,q=uT($,z,V),I=!d.arrow&&vh(a)!=null&&z!==q&&i.reference[w]/2-(z<$?F:D)-y[w]/2<0,K=I?z<$?z-$:z-V:0;return{[b]:g[b]+K,data:{[b]:q,centerOffset:z-q-K,...I&&{alignmentOffset:K}},reset:I}}}),uye=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:m}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...j}=Tl(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Pl(a),C=yo(c),E=Pl(c)===c,T=await(d.isRTL==null?void 0:d.isRTL(m.floating)),A=g||(E||!y?[W0(c)]:nye(c)),k=w!=="none";!g&&k&&A.push(...iye(c,y,w,T));const P=[c,...A],O=await zg(t,j),M=[];let F=((s=i.flip)==null?void 0:s.overflows)||[];if(f&&M.push(O[N]),h){const z=tye(a,o,T);M.push(O[z[0]],O[z[1]])}if(F=[...F,{placement:a,overflows:M}],!M.every(z=>z<=0)){var D,$;const z=(((D=i.flip)==null?void 0:D.index)||0)+1,q=P[z];if(q&&(!(h==="alignment"?C!==yo(q):!1)||F.every(U=>yo(U.placement)===C?U.overflows[0]>0:!0)))return{data:{index:z,overflows:F},reset:{placement:q}};let I=($=F.filter(K=>K.overflows[0]<=0).sort((K,U)=>K.overflows[1]-U.overflows[1])[0])==null?void 0:$.placement;if(!I)switch(b){case"bestFit":{var V;const K=(V=F.filter(U=>{if(k){const B=yo(U.placement);return B===C||B==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(B=>B>0).reduce((B,ie)=>B+ie,0)]).sort((U,B)=>U[1]-B[1])[0])==null?void 0:V[0];K&&(I=K);break}case"initialPlacement":I=c;break}if(a!==I)return{reset:{placement:I}}}return{}}}};function EL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _L(e){return Xxe.some(t=>e[t]>=0)}const dye=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:s="referenceHidden",...a}=Tl(e,t);switch(s){case"referenceHidden":{const i=await zg(t,{...a,elementContext:"reference"}),o=EL(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_L(o)}}}case"escaped":{const i=await zg(t,{...a,altBoundary:!0}),o=EL(i,r.floating);return{data:{escapedOffsets:o,escaped:_L(o)}}}default:return{}}}}},BH=new Set(["left","top"]);async function mye(e,t){const{placement:r,platform:s,elements:a}=e,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=Pl(r),c=vh(r),d=yo(r)==="y",m=BH.has(o)?-1:1,f=i&&d?-1:1,h=Tl(t,e);let{mainAxis:g,crossAxis:b,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof w=="number"&&(b=c==="end"?w*-1:w),d?{x:b*f,y:g*m}:{x:g*m,y:b*f}}const fye=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,s;const{x:a,y:i,placement:o,middlewareData:c}=t,d=await mye(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(s=c.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},hye=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:s,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:j=>{let{x:N,y:C}=j;return{x:N,y:C}}},...d}=Tl(e,t),m={x:r,y:s},f=await zg(t,d),h=yo(Pl(a)),g=EO(h);let b=m[g],w=m[h];if(i){const j=g==="y"?"top":"left",N=g==="y"?"bottom":"right",C=b+f[j],E=b-f[N];b=uT(C,b,E)}if(o){const j=h==="y"?"top":"left",N=h==="y"?"bottom":"right",C=w+f[j],E=w-f[N];w=uT(C,w,E)}const y=c.fn({...t,[g]:b,[h]:w});return{...y,data:{x:y.x-r,y:y.y-s,enabled:{[g]:i,[h]:o}}}}}},pye=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:s,placement:a,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:m=!0}=Tl(e,t),f={x:r,y:s},h=yo(a),g=EO(h);let b=f[g],w=f[h];const y=Tl(c,t),j=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const E=g==="y"?"height":"width",T=i.reference[g]-i.floating[E]+j.mainAxis,A=i.reference[g]+i.reference[E]-j.mainAxis;b<T?b=T:b>A&&(b=A)}if(m){var N,C;const E=g==="y"?"width":"height",T=BH.has(Pl(a)),A=i.reference[h]-i.floating[E]+(T&&((N=o.offset)==null?void 0:N[h])||0)+(T?0:j.crossAxis),k=i.reference[h]+i.reference[E]+(T?0:((C=o.offset)==null?void 0:C[h])||0)-(T?j.crossAxis:0);w<A?w=A:w>k&&(w=k)}return{[g]:b,[h]:w}}}},gye=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,s;const{placement:a,rects:i,platform:o,elements:c}=t,{apply:d=()=>{},...m}=Tl(e,t),f=await zg(t,m),h=Pl(a),g=vh(a),b=yo(a)==="y",{width:w,height:y}=i.floating;let j,N;h==="top"||h==="bottom"?(j=h,N=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(N=h,j=g==="end"?"top":"bottom");const C=y-f.top-f.bottom,E=w-f.left-f.right,T=Wc(y-f[j],C),A=Wc(w-f[N],E),k=!t.middlewareData.shift;let P=T,O=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=E),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(P=C),k&&!g){const F=_a(f.left,0),D=_a(f.right,0),$=_a(f.top,0),V=_a(f.bottom,0);b?O=w-2*(F!==0||D!==0?F+D:_a(f.left,f.right)):P=y-2*($!==0||V!==0?$+V:_a(f.top,f.bottom))}await d({...t,availableWidth:O,availableHeight:P});const M=await o.getDimensions(c.floating);return w!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function Uj(){return typeof window<"u"}function bh(e){return UH(e)?(e.nodeName||"").toLowerCase():"#document"}function Da(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Io(e){var t;return(t=(UH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function UH(e){return Uj()?e instanceof Node||e instanceof Da(e).Node:!1}function Ki(e){return Uj()?e instanceof Element||e instanceof Da(e).Element:!1}function Po(e){return Uj()?e instanceof HTMLElement||e instanceof Da(e).HTMLElement:!1}function TL(e){return!Uj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Da(e).ShadowRoot}const xye=new Set(["inline","contents"]);function Zx(e){const{overflow:t,overflowX:r,overflowY:s,display:a}=Hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+r)&&!xye.has(a)}const yye=new Set(["table","td","th"]);function vye(e){return yye.has(bh(e))}const bye=[":popover-open",":modal"];function Vj(e){return bye.some(t=>{try{return e.matches(t)}catch{return!1}})}const jye=["transform","translate","scale","rotate","perspective"],wye=["transform","translate","scale","rotate","perspective","filter"],Nye=["paint","layout","strict","content"];function PO(e){const t=OO(),r=Ki(e)?Hi(e):e;return jye.some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||wye.some(s=>(r.willChange||"").includes(s))||Nye.some(s=>(r.contain||"").includes(s))}function Sye(e){let t=Yc(e);for(;Po(t)&&!Pf(t);){if(PO(t))return t;if(Vj(t))return null;t=Yc(t)}return null}function OO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cye=new Set(["html","body","#document"]);function Pf(e){return Cye.has(bh(e))}function Hi(e){return Da(e).getComputedStyle(e)}function Kj(e){return Ki(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yc(e){if(bh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||TL(e)&&e.host||Io(e);return TL(t)?t.host:t}function VH(e){const t=Yc(e);return Pf(t)?e.ownerDocument?e.ownerDocument.body:e.body:Po(t)&&Zx(t)?t:VH(t)}function qg(e,t,r){var s;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=VH(e),i=a===((s=e.ownerDocument)==null?void 0:s.body),o=Da(a);if(i){const c=mT(o);return t.concat(o,o.visualViewport||[],Zx(a)?a:[],c&&r?qg(c):[])}return t.concat(a,qg(a,[],r))}function mT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function KH(e){const t=Hi(e);let r=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=Po(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:s,c=G0(r)!==i||G0(s)!==o;return c&&(r=i,s=o),{width:r,height:s,$:c}}function kO(e){return Ki(e)?e:e.contextElement}function yf(e){const t=kO(e);if(!Po(t))return Co(1);const r=t.getBoundingClientRect(),{width:s,height:a,$:i}=KH(t);let o=(i?G0(r.width):r.width)/s,c=(i?G0(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const Aye=Co(0);function HH(e){const t=Da(e);return!OO()||!t.visualViewport?Aye:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Eye(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Da(e)?!1:t}function Sd(e,t,r,s){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=kO(e);let o=Co(1);t&&(s?Ki(s)&&(o=yf(s)):o=yf(e));const c=Eye(i,r,s)?HH(i):Co(0);let d=(a.left+c.x)/o.x,m=(a.top+c.y)/o.y,f=a.width/o.x,h=a.height/o.y;if(i){const g=Da(i),b=s&&Ki(s)?Da(s):s;let w=g,y=mT(w);for(;y&&s&&b!==w;){const j=yf(y),N=y.getBoundingClientRect(),C=Hi(y),E=N.left+(y.clientLeft+parseFloat(C.paddingLeft))*j.x,T=N.top+(y.clientTop+parseFloat(C.paddingTop))*j.y;d*=j.x,m*=j.y,f*=j.x,h*=j.y,d+=E,m+=T,w=Da(y),y=mT(w)}}return Y0({width:f,height:h,x:d,y:m})}function Hj(e,t){const r=Kj(e).scrollLeft;return t?t.left+r:Sd(Io(e)).left+r}function GH(e,t){const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-Hj(e,r),a=r.top+t.scrollTop;return{x:s,y:a}}function _ye(e){let{elements:t,rect:r,offsetParent:s,strategy:a}=e;const i=a==="fixed",o=Io(s),c=t?Vj(t.floating):!1;if(s===o||c&&i)return r;let d={scrollLeft:0,scrollTop:0},m=Co(1);const f=Co(0),h=Po(s);if((h||!h&&!i)&&((bh(s)!=="body"||Zx(o))&&(d=Kj(s)),Po(s))){const b=Sd(s);m=yf(s),f.x=b.x+s.clientLeft,f.y=b.y+s.clientTop}const g=o&&!h&&!i?GH(o,d):Co(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-d.scrollLeft*m.x+f.x+g.x,y:r.y*m.y-d.scrollTop*m.y+f.y+g.y}}function Tye(e){return Array.from(e.getClientRects())}function Pye(e){const t=Io(e),r=Kj(e),s=e.ownerDocument.body,a=_a(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),i=_a(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-r.scrollLeft+Hj(e);const c=-r.scrollTop;return Hi(s).direction==="rtl"&&(o+=_a(t.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:c}}const PL=25;function Oye(e,t){const r=Da(e),s=Io(e),a=r.visualViewport;let i=s.clientWidth,o=s.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;const f=OO();(!f||f&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const m=Hj(s);if(m<=0){const f=s.ownerDocument,h=f.body,g=getComputedStyle(h),b=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(s.clientWidth-h.clientWidth-b);w<=PL&&(i-=w)}else m<=PL&&(i+=m);return{width:i,height:o,x:c,y:d}}const kye=new Set(["absolute","fixed"]);function Mye(e,t){const r=Sd(e,!0,t==="fixed"),s=r.top+e.clientTop,a=r.left+e.clientLeft,i=Po(e)?yf(e):Co(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,d=a*i.x,m=s*i.y;return{width:o,height:c,x:d,y:m}}function OL(e,t,r){let s;if(t==="viewport")s=Oye(e,r);else if(t==="document")s=Pye(Io(e));else if(Ki(t))s=Mye(t,r);else{const a=HH(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Y0(s)}function WH(e,t){const r=Yc(e);return r===t||!Ki(r)||Pf(r)?!1:Hi(r).position==="fixed"||WH(r,t)}function Rye(e,t){const r=t.get(e);if(r)return r;let s=qg(e,[],!1).filter(c=>Ki(c)&&bh(c)!=="body"),a=null;const i=Hi(e).position==="fixed";let o=i?Yc(e):e;for(;Ki(o)&&!Pf(o);){const c=Hi(o),d=PO(o);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&kye.has(a.position)||Zx(o)&&!d&&WH(e,o))?s=s.filter(f=>f!==o):a=c,o=Yc(o)}return t.set(e,s),s}function Dye(e){let{element:t,boundary:r,rootBoundary:s,strategy:a}=e;const o=[...r==="clippingAncestors"?Vj(t)?[]:Rye(t,this._c):[].concat(r),s],c=o[0],d=o.reduce((m,f)=>{const h=OL(t,f,a);return m.top=_a(h.top,m.top),m.right=Wc(h.right,m.right),m.bottom=Wc(h.bottom,m.bottom),m.left=_a(h.left,m.left),m},OL(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Iye(e){const{width:t,height:r}=KH(e);return{width:t,height:r}}function Lye(e,t,r){const s=Po(t),a=Io(t),i=r==="fixed",o=Sd(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=Co(0);function m(){d.x=Hj(a)}if(s||!s&&!i)if((bh(t)!=="body"||Zx(a))&&(c=Kj(t)),s){const b=Sd(t,!0,i,t);d.x=b.x+t.clientLeft,d.y=b.y+t.clientTop}else a&&m();i&&!s&&a&&m();const f=a&&!s&&!i?GH(a,c):Co(0),h=o.left+c.scrollLeft-d.x-f.x,g=o.top+c.scrollTop-d.y-f.y;return{x:h,y:g,width:o.width,height:o.height}}function tS(e){return Hi(e).position==="static"}function kL(e,t){if(!Po(e)||Hi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Io(e)===r&&(r=r.ownerDocument.body),r}function YH(e,t){const r=Da(e);if(Vj(e))return r;if(!Po(e)){let a=Yc(e);for(;a&&!Pf(a);){if(Ki(a)&&!tS(a))return a;a=Yc(a)}return r}let s=kL(e,t);for(;s&&vye(s)&&tS(s);)s=kL(s,t);return s&&Pf(s)&&tS(s)&&!PO(s)?r:s||Sye(e)||r}const $ye=async function(e){const t=this.getOffsetParent||YH,r=this.getDimensions,s=await r(e.floating);return{reference:Lye(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function zye(e){return Hi(e).direction==="rtl"}const qye={convertOffsetParentRelativeRectToViewportRelativeRect:_ye,getDocumentElement:Io,getClippingRect:Dye,getOffsetParent:YH,getElementRects:$ye,getClientRects:Tye,getDimensions:Iye,getScale:yf,isElement:Ki,isRTL:zye};function QH(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Fye(e,t){let r=null,s;const a=Io(e);function i(){var c;clearTimeout(s),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const m=e.getBoundingClientRect(),{left:f,top:h,width:g,height:b}=m;if(c||t(),!g||!b)return;const w=Qv(h),y=Qv(a.clientWidth-(f+g)),j=Qv(a.clientHeight-(h+b)),N=Qv(f),E={rootMargin:-w+"px "+-y+"px "+-j+"px "+-N+"px",threshold:_a(0,Wc(1,d))||1};let T=!0;function A(k){const P=k[0].intersectionRatio;if(P!==d){if(!T)return o();P?o(!1,P):s=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!QH(m,e.getBoundingClientRect())&&o(),T=!1}try{r=new IntersectionObserver(A,{...E,root:a.ownerDocument})}catch{r=new IntersectionObserver(A,E)}r.observe(e)}return o(!0),i}function Bye(e,t,r,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,m=kO(e),f=a||i?[...m?qg(m):[],...qg(t)]:[];f.forEach(N=>{a&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const h=m&&c?Fye(m,r):null;let g=-1,b=null;o&&(b=new ResizeObserver(N=>{let[C]=N;C&&C.target===m&&b&&(b.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var E;(E=b)==null||E.observe(t)})),r()}),m&&!d&&b.observe(m),b.observe(t));let w,y=d?Sd(e):null;d&&j();function j(){const N=Sd(e);y&&!QH(y,N)&&r(),y=N,w=requestAnimationFrame(j)}return r(),()=>{var N;f.forEach(C=>{a&&C.removeEventListener("scroll",r),i&&C.removeEventListener("resize",r)}),h?.(),(N=b)==null||N.disconnect(),b=null,d&&cancelAnimationFrame(w)}}const Uye=fye,Vye=hye,Kye=uye,Hye=gye,Gye=dye,ML=cye,Wye=pye,Yye=(e,t,r)=>{const s=new Map,a={platform:qye,...r},i={...a.platform,_c:s};return lye(e,t,{...a,platform:i})};var Qye=typeof document<"u",Xye=function(){},A0=Qye?v.useLayoutEffect:Xye;function Q0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(s=r;s--!==0;)if(!Q0(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=r;s--!==0;){const i=a[s];if(!(i==="_owner"&&e.$$typeof)&&!Q0(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function XH(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function RL(e,t){const r=XH(e);return Math.round(t*r)/r}function nS(e){const t=v.useRef(e);return A0(()=>{t.current=e}),t}function Zye(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:m}=e,[f,h]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,b]=v.useState(s);Q0(g,s)||b(s);const[w,y]=v.useState(null),[j,N]=v.useState(null),C=v.useCallback(U=>{U!==k.current&&(k.current=U,y(U))},[]),E=v.useCallback(U=>{U!==P.current&&(P.current=U,N(U))},[]),T=i||w,A=o||j,k=v.useRef(null),P=v.useRef(null),O=v.useRef(f),M=d!=null,F=nS(d),D=nS(a),$=nS(m),V=v.useCallback(()=>{if(!k.current||!P.current)return;const U={placement:t,strategy:r,middleware:g};D.current&&(U.platform=D.current),Yye(k.current,P.current,U).then(B=>{const ie={...B,isPositioned:$.current!==!1};z.current&&!Q0(O.current,ie)&&(O.current=ie,Fd.flushSync(()=>{h(ie)}))})},[g,t,r,D,$]);A0(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[m]);const z=v.useRef(!1);A0(()=>(z.current=!0,()=>{z.current=!1}),[]),A0(()=>{if(T&&(k.current=T),A&&(P.current=A),T&&A){if(F.current)return F.current(T,A,V);V()}},[T,A,V,F,M]);const q=v.useMemo(()=>({reference:k,floating:P,setReference:C,setFloating:E}),[C,E]),I=v.useMemo(()=>({reference:T,floating:A}),[T,A]),K=v.useMemo(()=>{const U={position:r,left:0,top:0};if(!I.floating)return U;const B=RL(I.floating,f.x),ie=RL(I.floating,f.y);return c?{...U,transform:"translate("+B+"px, "+ie+"px)",...XH(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:ie}},[r,c,I.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:V,refs:q,elements:I,floatingStyles:K}),[f,V,q,I,K])}const Jye=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:s,padding:a}=typeof e=="function"?e(r):e;return s&&t(s)?s.current!=null?ML({element:s.current,padding:a}).fn(r):{}:s?ML({element:s,padding:a}).fn(r):{}}}},eve=(e,t)=>({...Uye(e),options:[e,t]}),tve=(e,t)=>({...Vye(e),options:[e,t]}),nve=(e,t)=>({...Wye(e),options:[e,t]}),rve=(e,t)=>({...Kye(e),options:[e,t]}),sve=(e,t)=>({...Hye(e),options:[e,t]}),ave=(e,t)=>({...Gye(e),options:[e,t]}),ive=(e,t)=>({...Jye(e),options:[e,t]});var ove="Arrow",ZH=v.forwardRef((e,t)=>{const{children:r,width:s=10,height:a=5,...i}=e;return n.jsx(at.svg,{...i,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZH.displayName=ove;var lve=ZH,MO="Popper",[JH,Gj]=ts(MO),[cve,eG]=JH(MO),tG=e=>{const{__scopePopper:t,children:r}=e,[s,a]=v.useState(null);return n.jsx(cve,{scope:t,anchor:s,onAnchorChange:a,children:r})};tG.displayName=MO;var nG="PopperAnchor",rG=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:s,...a}=e,i=eG(nG,r),o=v.useRef(null),c=xt(t,o),d=v.useRef(null);return v.useEffect(()=>{const m=d.current;d.current=s?.current||o.current,m!==d.current&&i.onAnchorChange(d.current)}),s?null:n.jsx(at.div,{...a,ref:c})});rG.displayName=nG;var RO="PopperContent",[uve,dve]=JH(RO),sG=v.forwardRef((e,t)=>{const{__scopePopper:r,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:w,...y}=e,j=eG(RO,r),[N,C]=v.useState(null),E=xt(t,me=>C(me)),[T,A]=v.useState(null),k=Fj(T),P=k?.width??0,O=k?.height??0,M=s+(i!=="center"?"-"+i:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},D=Array.isArray(m)?m:[m],$=D.length>0,V={padding:F,boundary:D.filter(fve),altBoundary:$},{refs:z,floatingStyles:q,placement:I,isPositioned:K,middlewareData:U}=Zye({strategy:"fixed",placement:M,whileElementsMounted:(...me)=>Bye(...me,{animationFrame:b==="always"}),elements:{reference:j.anchor},middleware:[eve({mainAxis:a+O,alignmentAxis:o}),d&&tve({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?nve():void 0,...V}),d&&rve({...V}),sve({...V,apply:({elements:me,rects:Ue,availableWidth:ge,availableHeight:Ee})=>{const{width:Z,height:re}=Ue.reference,le=me.floating.style;le.setProperty("--radix-popper-available-width",`${ge}px`),le.setProperty("--radix-popper-available-height",`${Ee}px`),le.setProperty("--radix-popper-anchor-width",`${Z}px`),le.setProperty("--radix-popper-anchor-height",`${re}px`)}}),T&&ive({element:T,padding:c}),hve({arrowWidth:P,arrowHeight:O}),g&&ave({strategy:"referenceHidden",...V})]}),[B,ie]=oG(I),G=qn(w);an(()=>{K&&G?.()},[K,G]);const Y=U.arrow?.x,se=U.arrow?.y,he=U.arrow?.centerOffset!==0,[Q,xe]=v.useState();return an(()=>{N&&xe(window.getComputedStyle(N).zIndex)},[N]),n.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:K?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(uve,{scope:r,placedSide:B,onArrowChange:A,arrowX:Y,arrowY:se,shouldHideArrow:he,children:n.jsx(at.div,{"data-side":B,"data-align":ie,...y,ref:E,style:{...y.style,animation:K?void 0:"none"}})})})});sG.displayName=RO;var aG="PopperArrow",mve={top:"bottom",right:"left",bottom:"top",left:"right"},iG=v.forwardRef(function(t,r){const{__scopePopper:s,...a}=t,i=dve(aG,s),o=mve[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(lve,{...a,ref:r,style:{...a.style,display:"block"}})})});iG.displayName=aG;function fve(e){return e!==null}var hve=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:s,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[m,f]=oG(r),h={start:"0%",center:"50%",end:"100%"}[f],g=(a.arrow?.x??0)+c/2,b=(a.arrow?.y??0)+d/2;let w="",y="";return m==="bottom"?(w=o?h:`${g}px`,y=`${-d}px`):m==="top"?(w=o?h:`${g}px`,y=`${s.floating.height+d}px`):m==="right"?(w=`${-d}px`,y=o?h:`${b}px`):m==="left"&&(w=`${s.floating.width+d}px`,y=o?h:`${b}px`),{data:{x:w,y}}}});function oG(e){const[t,r="center"]=e.split("-");return[t,r]}var lG=tG,cG=rG,uG=sG,dG=iG;function pve(e){const t=gve(e),r=v.forwardRef((s,a)=>{const{children:i,...o}=s,c=v.Children.toArray(i),d=c.find(yve);if(d){const m=d.props.children,f=c.map(h=>h===d?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:h);return n.jsx(t,{...o,ref:a,children:v.isValidElement(m)?v.cloneElement(m,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function gve(e){const t=v.forwardRef((r,s)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=bve(a),c=vve(i,a.props);return a.type!==v.Fragment&&(c.ref=s?Ro(s,o):o),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xve=Symbol("radix.slottable");function yve(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xve}function vve(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function bve(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jve=qa[" useInsertionEffect ".trim().toString()]||an;function DL({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=wve({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=Nve(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function wve({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return jve(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function Nve(e){return typeof e=="function"}var mG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Sve="VisuallyHidden",Cve=v.forwardRef((e,t)=>n.jsx(at.span,{...e,ref:t,style:{...mG,...e.style}}));Cve.displayName=Sve;var Ave=[" ","Enter","ArrowUp","ArrowDown"],Eve=[" ","Enter"],Cd="Select",[Wj,Yj,_ve]=Dj(Cd),[jh]=ts(Cd,[_ve,Gj]),Qj=Gj(),[Tve,ru]=jh(Cd),[Pve,Ove]=jh(Cd),fG=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:m,name:f,autoComplete:h,disabled:g,required:b,form:w}=e,y=Qj(t),[j,N]=v.useState(null),[C,E]=v.useState(null),[T,A]=v.useState(!1),k=Ud(m),[P,O]=DL({prop:s,defaultProp:a??!1,onChange:i,caller:Cd}),[M,F]=DL({prop:o,defaultProp:c,onChange:d,caller:Cd}),D=v.useRef(null),$=j?w||!!j.closest("form"):!0,[V,z]=v.useState(new Set),q=Array.from(V).map(I=>I.props.value).join(";");return n.jsx(lG,{...y,children:n.jsxs(Tve,{required:b,scope:t,trigger:j,onTriggerChange:N,valueNode:C,onValueNodeChange:E,valueNodeHasChildren:T,onValueNodeHasChildrenChange:A,contentId:fi(),value:M,onValueChange:F,open:P,onOpenChange:O,dir:k,triggerPointerDownPosRef:D,disabled:g,children:[n.jsx(Wj.Provider,{scope:t,children:n.jsx(Pve,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(I=>{z(K=>new Set(K).add(I))},[]),onNativeOptionRemove:v.useCallback(I=>{z(K=>{const U=new Set(K);return U.delete(I),U})},[]),children:r})}),$?n.jsxs(LG,{"aria-hidden":!0,required:b,tabIndex:-1,name:f,autoComplete:h,value:M,onChange:I=>F(I.target.value),disabled:g,form:w,children:[M===void 0?n.jsx("option",{value:""}):null,Array.from(V)]},q):null]})})};fG.displayName=Cd;var hG="SelectTrigger",pG=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,i=Qj(r),o=ru(hG,r),c=o.disabled||s,d=xt(t,o.onTriggerChange),m=Yj(r),f=v.useRef("touch"),[h,g,b]=zG(y=>{const j=m().filter(E=>!E.disabled),N=j.find(E=>E.value===o.value),C=qG(j,y,N);C!==void 0&&o.onValueChange(C.value)}),w=y=>{c||(o.onOpenChange(!0),b()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return n.jsx(cG,{asChild:!0,...i,children:n.jsx(at.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":$G(o.value)?"":void 0,...a,ref:d,onClick:gs(a.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&w(y)}),onPointerDown:gs(a.onPointerDown,y=>{f.current=y.pointerType;const j=y.target;j.hasPointerCapture(y.pointerId)&&j.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:gs(a.onKeyDown,y=>{const j=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(j&&y.key===" ")&&Ave.includes(y.key)&&(w(),y.preventDefault())})})})});pG.displayName=hG;var gG="SelectValue",xG=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:i,placeholder:o="",...c}=e,d=ru(gG,r),{onValueNodeHasChildrenChange:m}=d,f=i!==void 0,h=xt(t,d.onValueNodeChange);return an(()=>{m(f)},[m,f]),n.jsx(at.span,{...c,ref:h,style:{pointerEvents:"none"},children:$G(d.value)?n.jsx(n.Fragment,{children:o}):i})});xG.displayName=gG;var kve="SelectIcon",yG=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return n.jsx(at.span,{"aria-hidden":!0,...a,ref:t,children:s||""})});yG.displayName=kve;var Mve="SelectPortal",vG=e=>n.jsx(Pj,{asChild:!0,...e});vG.displayName=Mve;var Ad="SelectContent",bG=v.forwardRef((e,t)=>{const r=ru(Ad,e.__scopeSelect),[s,a]=v.useState();if(an(()=>{a(new DocumentFragment)},[]),!r.open){const i=s;return i?Fd.createPortal(n.jsx(jG,{scope:e.__scopeSelect,children:n.jsx(Wj.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(wG,{...e,ref:t})});bG.displayName=Ad;var Pi=10,[jG,su]=jh(Ad),Rve="SelectContentImpl",Dve=pve("SelectContent.RemoveScroll"),wG=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:m,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:b,sticky:w,hideWhenDetached:y,avoidCollisions:j,...N}=e,C=ru(Ad,r),[E,T]=v.useState(null),[A,k]=v.useState(null),P=xt(t,me=>T(me)),[O,M]=v.useState(null),[F,D]=v.useState(null),$=Yj(r),[V,z]=v.useState(!1),q=v.useRef(!1);v.useEffect(()=>{if(E)return iO(E)},[E]),aO();const I=v.useCallback(me=>{const[Ue,...ge]=$().map(re=>re.ref.current),[Ee]=ge.slice(-1),Z=document.activeElement;for(const re of me)if(re===Z||(re?.scrollIntoView({block:"nearest"}),re===Ue&&A&&(A.scrollTop=0),re===Ee&&A&&(A.scrollTop=A.scrollHeight),re?.focus(),document.activeElement!==Z))return},[$,A]),K=v.useCallback(()=>I([O,E]),[I,O,E]);v.useEffect(()=>{V&&K()},[V,K]);const{onOpenChange:U,triggerPointerDownPosRef:B}=C;v.useEffect(()=>{if(E){let me={x:0,y:0};const Ue=Ee=>{me={x:Math.abs(Math.round(Ee.pageX)-(B.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-(B.current?.y??0))}},ge=Ee=>{me.x<=10&&me.y<=10?Ee.preventDefault():E.contains(Ee.target)||U(!1),document.removeEventListener("pointermove",Ue),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",ge,{capture:!0})}}},[E,U,B]),v.useEffect(()=>{const me=()=>U(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[U]);const[ie,G]=zG(me=>{const Ue=$().filter(Z=>!Z.disabled),ge=Ue.find(Z=>Z.ref.current===document.activeElement),Ee=qG(Ue,me,ge);Ee&&setTimeout(()=>Ee.ref.current.focus())}),Y=v.useCallback((me,Ue,ge)=>{const Ee=!q.current&&!ge;(C.value!==void 0&&C.value===Ue||Ee)&&(M(me),Ee&&(q.current=!0))},[C.value]),se=v.useCallback(()=>E?.focus(),[E]),he=v.useCallback((me,Ue,ge)=>{const Ee=!q.current&&!ge;(C.value!==void 0&&C.value===Ue||Ee)&&D(me)},[C.value]),Q=s==="popper"?fT:NG,xe=Q===fT?{side:c,sideOffset:d,align:m,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:b,sticky:w,hideWhenDetached:y,avoidCollisions:j}:{};return n.jsx(jG,{scope:r,content:E,viewport:A,onViewportChange:k,itemRefCallback:Y,selectedItem:O,onItemLeave:se,itemTextRefCallback:he,focusSelectedItem:K,selectedItemText:F,position:s,isPositioned:V,searchRef:ie,children:n.jsx(kj,{as:Dve,allowPinchZoom:!0,children:n.jsx(Tj,{asChild:!0,trapped:C.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:gs(a,me=>{C.trigger?.focus({preventScroll:!0}),me.preventDefault()}),children:n.jsx(_j,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:n.jsx(Q,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:me=>me.preventDefault(),...N,...xe,onPlaced:()=>z(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:gs(N.onKeyDown,me=>{const Ue=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ue&&me.key.length===1&&G(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let Ee=$().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(me.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Z=me.target,re=Ee.indexOf(Z);Ee=Ee.slice(re+1)}setTimeout(()=>I(Ee)),me.preventDefault()}})})})})})})});wG.displayName=Rve;var Ive="SelectItemAlignedPosition",NG=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,i=ru(Ad,r),o=su(Ad,r),[c,d]=v.useState(null),[m,f]=v.useState(null),h=xt(t,P=>f(P)),g=Yj(r),b=v.useRef(!1),w=v.useRef(!0),{viewport:y,selectedItem:j,selectedItemText:N,focusSelectedItem:C}=o,E=v.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&m&&y&&j&&N){const P=i.trigger.getBoundingClientRect(),O=m.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),F=N.getBoundingClientRect();if(i.dir!=="rtl"){const Z=F.left-O.left,re=M.left-Z,le=P.left-re,Re=P.width+le,Pt=Math.max(Re,O.width),Ot=window.innerWidth-Pi,_n=cT(re,[Pi,Math.max(Pi,Ot-Pt)]);c.style.minWidth=Re+"px",c.style.left=_n+"px"}else{const Z=O.right-F.right,re=window.innerWidth-M.right-Z,le=window.innerWidth-P.right-re,Re=P.width+le,Pt=Math.max(Re,O.width),Ot=window.innerWidth-Pi,_n=cT(re,[Pi,Math.max(Pi,Ot-Pt)]);c.style.minWidth=Re+"px",c.style.right=_n+"px"}const D=g(),$=window.innerHeight-Pi*2,V=y.scrollHeight,z=window.getComputedStyle(m),q=parseInt(z.borderTopWidth,10),I=parseInt(z.paddingTop,10),K=parseInt(z.borderBottomWidth,10),U=parseInt(z.paddingBottom,10),B=q+I+V+U+K,ie=Math.min(j.offsetHeight*5,B),G=window.getComputedStyle(y),Y=parseInt(G.paddingTop,10),se=parseInt(G.paddingBottom,10),he=P.top+P.height/2-Pi,Q=$-he,xe=j.offsetHeight/2,me=j.offsetTop+xe,Ue=q+I+me,ge=B-Ue;if(Ue<=he){const Z=D.length>0&&j===D[D.length-1].ref.current;c.style.bottom="0px";const re=m.clientHeight-y.offsetTop-y.offsetHeight,le=Math.max(Q,xe+(Z?se:0)+re+K),Re=Ue+le;c.style.height=Re+"px"}else{const Z=D.length>0&&j===D[0].ref.current;c.style.top="0px";const le=Math.max(he,q+y.offsetTop+(Z?Y:0)+xe)+ge;c.style.height=le+"px",y.scrollTop=Ue-he+y.offsetTop}c.style.margin=`${Pi}px 0`,c.style.minHeight=ie+"px",c.style.maxHeight=$+"px",s?.(),requestAnimationFrame(()=>b.current=!0)}},[g,i.trigger,i.valueNode,c,m,y,j,N,i.dir,s]);an(()=>E(),[E]);const[T,A]=v.useState();an(()=>{m&&A(window.getComputedStyle(m).zIndex)},[m]);const k=v.useCallback(P=>{P&&w.current===!0&&(E(),C?.(),w.current=!1)},[E,C]);return n.jsx($ve,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:b,onScrollButtonChange:k,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:n.jsx(at.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});NG.displayName=Ive;var Lve="SelectPopperPosition",fT=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Pi,...i}=e,o=Qj(r);return n.jsx(uG,{...o,...i,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fT.displayName=Lve;var[$ve,DO]=jh(Ad,{}),hT="SelectViewport",SG=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,i=su(hT,r),o=DO(hT,r),c=xt(t,i.onViewportChange),d=v.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(Wj.Slot,{scope:r,children:n.jsx(at.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:gs(a.onScroll,m=>{const f=m.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=o;if(g?.current&&h){const b=Math.abs(d.current-f.scrollTop);if(b>0){const w=window.innerHeight-Pi*2,y=parseFloat(h.style.minHeight),j=parseFloat(h.style.height),N=Math.max(y,j);if(N<w){const C=N+b,E=Math.min(w,C),T=C-E;h.style.height=E+"px",h.style.bottom==="0px"&&(f.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});SG.displayName=hT;var CG="SelectGroup",[zve,qve]=jh(CG),Fve=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=fi();return n.jsx(zve,{scope:r,id:a,children:n.jsx(at.div,{role:"group","aria-labelledby":a,...s,ref:t})})});Fve.displayName=CG;var AG="SelectLabel",EG=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=qve(AG,r);return n.jsx(at.div,{id:a.id,...s,ref:t})});EG.displayName=AG;var X0="SelectItem",[Bve,_G]=jh(X0),TG=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:i,...o}=e,c=ru(X0,r),d=su(X0,r),m=c.value===s,[f,h]=v.useState(i??""),[g,b]=v.useState(!1),w=xt(t,C=>d.itemRefCallback?.(C,s,a)),y=fi(),j=v.useRef("touch"),N=()=>{a||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(Bve,{scope:r,value:s,disabled:a,textId:y,isSelected:m,onItemTextChange:v.useCallback(C=>{h(E=>E||(C?.textContent??"").trim())},[]),children:n.jsx(Wj.ItemSlot,{scope:r,value:s,disabled:a,textValue:f,children:n.jsx(at.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":m&&g,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:gs(o.onFocus,()=>b(!0)),onBlur:gs(o.onBlur,()=>b(!1)),onClick:gs(o.onClick,()=>{j.current!=="mouse"&&N()}),onPointerUp:gs(o.onPointerUp,()=>{j.current==="mouse"&&N()}),onPointerDown:gs(o.onPointerDown,C=>{j.current=C.pointerType}),onPointerMove:gs(o.onPointerMove,C=>{j.current=C.pointerType,a?d.onItemLeave?.():j.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gs(o.onPointerLeave,C=>{C.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:gs(o.onKeyDown,C=>{d.searchRef?.current!==""&&C.key===" "||(Eve.includes(C.key)&&N(),C.key===" "&&C.preventDefault())})})})})});TG.displayName=X0;var ng="SelectItemText",PG=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:s,style:a,...i}=e,o=ru(ng,r),c=su(ng,r),d=_G(ng,r),m=Ove(ng,r),[f,h]=v.useState(null),g=xt(t,N=>h(N),d.onItemTextChange,N=>c.itemTextRefCallback?.(N,d.value,d.disabled)),b=f?.textContent,w=v.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:b},d.value),[d.disabled,d.value,b]),{onNativeOptionAdd:y,onNativeOptionRemove:j}=m;return an(()=>(y(w),()=>j(w)),[y,j,w]),n.jsxs(n.Fragment,{children:[n.jsx(at.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fd.createPortal(i.children,o.valueNode):null]})});PG.displayName=ng;var OG="SelectItemIndicator",kG=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return _G(OG,r).isSelected?n.jsx(at.span,{"aria-hidden":!0,...s,ref:t}):null});kG.displayName=OG;var pT="SelectScrollUpButton",MG=v.forwardRef((e,t)=>{const r=su(pT,e.__scopeSelect),s=DO(pT,e.__scopeSelect),[a,i]=v.useState(!1),o=xt(t,s.onScrollButtonChange);return an(()=>{if(r.viewport&&r.isPositioned){let c=function(){const m=d.scrollTop>0;i(m)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?n.jsx(DG,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});MG.displayName=pT;var gT="SelectScrollDownButton",RG=v.forwardRef((e,t)=>{const r=su(gT,e.__scopeSelect),s=DO(gT,e.__scopeSelect),[a,i]=v.useState(!1),o=xt(t,s.onScrollButtonChange);return an(()=>{if(r.viewport&&r.isPositioned){let c=function(){const m=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<m;i(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?n.jsx(DG,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});RG.displayName=gT;var DG=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,i=su("SelectScrollButton",r),o=v.useRef(null),c=Yj(r),d=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>d(),[d]),an(()=>{c().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),n.jsx(at.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:gs(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:gs(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:gs(a.onPointerLeave,()=>{d()})})}),Uve="SelectSeparator",IG=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e;return n.jsx(at.div,{"aria-hidden":!0,...s,ref:t})});IG.displayName=Uve;var xT="SelectArrow",Vve=v.forwardRef((e,t)=>{const{__scopeSelect:r,...s}=e,a=Qj(r),i=ru(xT,r),o=su(xT,r);return i.open&&o.position==="popper"?n.jsx(dG,{...a,...s,ref:t}):null});Vve.displayName=xT;var Kve="SelectBubbleInput",LG=v.forwardRef(({__scopeSelect:e,value:t,...r},s)=>{const a=v.useRef(null),i=xt(s,a),o=qj(t);return v.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&f){const h=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(h)}},[o,t]),n.jsx(at.select,{...r,style:{...mG,...r.style},ref:i,defaultValue:t})});LG.displayName=Kve;function $G(e){return e===""||e===void 0}function zG(e){const t=qn(e),r=v.useRef(""),s=v.useRef(0),a=v.useCallback(o=>{const c=r.current+o;t(c),(function d(m){r.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,i]}function qG(e,t,r){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Hve(e,Math.max(i,0));a.length===1&&(o=o.filter(m=>m!==r));const d=o.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function Hve(e,t){return e.map((r,s)=>e[(t+s)%e.length])}var Gve=fG,FG=pG,Wve=xG,Yve=yG,Qve=vG,BG=bG,Xve=SG,UG=EG,VG=TG,Zve=PG,Jve=kG,KG=MG,HG=RG,GG=IG;const it=Gve,ot=Wve,rt=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(FG,{ref:s,className:Le("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(Yve,{asChild:!0,children:n.jsx(Nj,{className:"h-4 w-4 opacity-50"})})]}));rt.displayName=FG.displayName;const WG=v.forwardRef(({className:e,...t},r)=>n.jsx(KG,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Nae,{className:"h-4 w-4"})}));WG.displayName=KG.displayName;const YG=v.forwardRef(({className:e,...t},r)=>n.jsx(HG,{ref:r,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Nj,{className:"h-4 w-4"})}));YG.displayName=HG.displayName;const st=v.forwardRef(({className:e,children:t,position:r="popper",...s},a)=>n.jsx(Qve,{children:n.jsxs(BG,{ref:a,className:Le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[n.jsx(WG,{}),n.jsx(Xve,{className:Le("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(YG,{})]})}));st.displayName=BG.displayName;const e0e=v.forwardRef(({className:e,...t},r)=>n.jsx(UG,{ref:r,className:Le("px-2 py-1.5 text-sm font-semibold",e),...t}));e0e.displayName=UG.displayName;const Ae=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(VG,{ref:s,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Jve,{children:n.jsx(Ws,{className:"h-4 w-4"})})}),n.jsx(Zve,{children:t})]}));Ae.displayName=VG.displayName;const t0e=v.forwardRef(({className:e,...t},r)=>n.jsx(GG,{ref:r,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));t0e.displayName=GG.displayName;const Te=Symbol.for("drizzle:entityKind");function _r(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Te))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(Te in r&&r[Te]===t[Te])return!0;r=Object.getPrototypeOf(r)}return!1}class Fg{constructor(t,r){this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[Te]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class n0e{static[Te]="ColumnBuilder";config;constructor(t,r,s){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const vf=Symbol.for("drizzle:Name");class r0e{static[Te]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,r){this.reference=()=>{const{name:s,columns:a,foreignColumns:i}=t();return{name:s,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new s0e(t,this)}}class s0e{constructor(t,r){this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[Te]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:r,foreignColumns:s}=this.reference(),a=r.map(c=>c.name),i=s.map(c=>c.name),o=[this.table[vf],...a,s[0].table[vf],...i];return t??`${o.join("_")}_fk`}}function a0e(e,...t){return e(...t)}function i0e(e,t){return`${e[vf]}_${t.join("_")}_unique`}function IL(e,t,r){for(let s=t;s<e.length;s++){const a=e[s];if(a==="\\"){s++;continue}if(a==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!r&&(a===","||a==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function QG(e,t=0){const r=[];let s=t,a=!1;for(;s<e.length;){const i=e[s];if(i===","){(a||s===t)&&r.push(""),a=!0,s++;continue}if(a=!1,i==="\\"){s+=2;continue}if(i==='"'){const[d,m]=IL(e,s+1,!0);r.push(d),s=m;continue}if(i==="}")return[r,s+1];if(i==="{"){const[d,m]=QG(e,s+1);r.push(d),s=m;continue}const[o,c]=IL(e,s,!1);r.push(o),s=c}return[r,s]}function o0e(e){const[t]=QG(e,1);return t}function XG(e){return`{${e.map(t=>Array.isArray(t)?XG(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class on extends n0e{foreignKeyConfigs=[];static[Te]="PgColumnBuilder";array(t){return new c0e(this.config.name,this,t)}references(t,r={}){return this.foreignKeyConfigs.push({ref:t,actions:r}),this}unique(t,r){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,r){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>a0e((i,o)=>{const c=new r0e(()=>{const d=i();return{columns:[t],foreignColumns:[d]}});return o.onUpdate&&c.onUpdate(o.onUpdate),o.onDelete&&c.onDelete(o.onDelete),c.build(r)},s,a))}buildExtraConfigColumn(t){return new l0e(t,this.config)}}class Rt extends Fg{constructor(t,r){r.uniqueName||(r.uniqueName=i0e(t,[r.name])),super(t,r),this.table=t}static[Te]="PgColumn"}class l0e extends Rt{static[Te]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class rS{static[Te]="IndexedColumn";constructor(t,r,s,a){this.name=t,this.keyAsName=r,this.type=s,this.indexConfig=a}name;keyAsName;type;indexConfig}class c0e extends on{static[Te]="PgArrayBuilder";constructor(t,r,s){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(t){const r=this.config.baseBuilder.build(t);return new IO(t,this.config,r)}}class IO extends Rt{constructor(t,r,s,a){super(t,r),this.baseColumn=s,this.range=a,this.size=r.size}size;static[Te]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=o0e(t)),t.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(t,r=!1){const s=t.map(a=>a===null?null:_r(this.baseColumn,IO)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?s:XG(s)}}const yT=Symbol.for("drizzle:isPgEnum");function u0e(e){return!!e&&typeof e=="function"&&yT in e&&e[yT]===!0}class d0e extends on{static[Te]="PgEnumColumnBuilder";constructor(t,r){super(t,"string","PgEnumColumn"),this.config.enum=r}build(t){return new m0e(t,this.config)}}class m0e extends Rt{static[Te]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(t,r){super(t,r),this.enum=r.enum}getSQLType(){return this.enum.enumName}}function Bt(e,t){return f0e(e,t,void 0)}function f0e(e,t,r){const s=Object.assign(a=>new d0e(a??"",s),{enumName:e,enumValues:t,schema:r,[yT]:!0});return s}class ZG{static[Te]="Subquery";constructor(t,r,s,a=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:s,isWith:a}}}const h0e={startActiveSpan(e,t){return t()}},bf=Symbol.for("drizzle:ViewBaseConfig"),sS=Symbol.for("drizzle:Schema"),LL=Symbol.for("drizzle:Columns"),$L=Symbol.for("drizzle:ExtraConfigColumns"),aS=Symbol.for("drizzle:OriginalName"),iS=Symbol.for("drizzle:BaseName"),Z0=Symbol.for("drizzle:IsAlias"),zL=Symbol.for("drizzle:ExtraConfigBuilder"),JG=Symbol.for("drizzle:IsDrizzleTable");let Ta=class{static[Te]="Table";static Symbol={Name:vf,Schema:sS,OriginalName:aS,Columns:LL,ExtraConfigColumns:$L,BaseName:iS,IsAlias:Z0,ExtraConfigBuilder:zL};[vf];[aS];[sS];[LL];[$L];[iS];[Z0]=!1;[JG]=!0;[zL]=void 0;constructor(t,r,s){this[vf]=this[aS]=t,this[sS]=r,this[iS]=s}};function eW(e){return typeof e=="object"&&e!==null&&JG in e}function p0e(e){return e!=null&&typeof e.getSQL=="function"}function g0e(e){const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),r.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}class Oi{static[Te]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new Wn([this])}}class Wn{constructor(t){this.queryChunks=t}static[Te]="SQL";decoder=tW;shouldInlineParams=!1;append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return h0e.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return r?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:c,inlineParams:d,paramStartIndex:m}=s;return g0e(t.map(f=>{if(_r(f,Oi))return{sql:f.value.join(""),params:[]};if(_r(f,vT))return{sql:i(f.value),params:[]};if(f===void 0)return{sql:"",params:[]};if(Array.isArray(f)){const h=[new Oi("(")];for(const[g,b]of f.entries())h.push(b),g<f.length-1&&h.push(new Oi(", "));return h.push(new Oi(")")),this.buildQueryFromSourceParams(h,s)}if(_r(f,Wn))return this.buildQueryFromSourceParams(f.queryChunks,{...s,inlineParams:d||f.shouldInlineParams});if(_r(f,Ta)){const h=f[Ta.Symbol.Schema],g=f[Ta.Symbol.Name];return{sql:h===void 0||f[Z0]?i(g):i(h)+"."+i(g),params:[]}}if(_r(f,Fg)){const h=a.getColumnCasing(f);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const g=f.table[Ta.Symbol.Schema];return{sql:f.table[Z0]||g===void 0?i(f.table[Ta.Symbol.Name])+"."+i(h):i(g)+"."+i(f.table[Ta.Symbol.Name])+"."+i(h),params:[]}}if(_r(f,x0e)){const h=f[bf].schema,g=f[bf].name;return{sql:h===void 0||f[bf].isAlias?i(g):i(h)+"."+i(g),params:[]}}if(_r(f,rW)){if(_r(f.value,bT))return{sql:o(m.value++,f),params:[f],typings:["none"]};const h=f.value===null?null:f.encoder.mapToDriverValue(f.value);if(_r(h,Wn))return this.buildQueryFromSourceParams([h],s);if(d)return{sql:this.mapInlineParam(h,s),params:[]};let g=["none"];return c&&(g=[c(f.encoder)]),{sql:o(m.value++,h),params:[h],typings:g}}return _r(f,bT)?{sql:o(m.value++,f),params:[f],typings:["none"]}:_r(f,Wn.Aliased)&&f.fieldAlias!==void 0?{sql:i(f.fieldAlias),params:[]}:_r(f,ZG)?f._.isWith?{sql:i(f._.alias),params:[]}:this.buildQueryFromSourceParams([new Oi("("),f._.sql,new Oi(") "),new vT(f._.alias)],s):u0e(f)?f.schema?{sql:i(f.schema)+"."+i(f.enumName),params:[]}:{sql:i(f.enumName),params:[]}:p0e(f)?f.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([f.getSQL()],s):this.buildQueryFromSourceParams([new Oi("("),f.getSQL(),new Oi(")")],s):d?{sql:this.mapInlineParam(f,s),params:[]}:{sql:o(m.value++,f),params:[f],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const s=t.toString();return r(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Wn.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class vT{constructor(t){this.value=t}static[Te]="Name";brand;getSQL(){return new Wn([this])}}const tW={mapFromDriverValue:e=>e},nW={mapToDriverValue:e=>e};({...tW,...nW});class rW{constructor(t,r=nW){this.value=t,this.encoder=r}static[Te]="Param";brand;getSQL(){return new Wn([this])}}function Ft(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new Oi(e[0]));for(const[s,a]of t.entries())r.push(a,new Oi(e[s+1]));return new Wn(r)}(e=>{function t(){return new Wn([])}e.empty=t;function r(d){return new Wn(d)}e.fromList=r;function s(d){return new Wn([new Oi(d)])}e.raw=s;function a(d,m){const f=[];for(const[h,g]of d.entries())h>0&&m!==void 0&&f.push(m),f.push(g);return new Wn(f)}e.join=a;function i(d){return new vT(d)}e.identifier=i;function o(d){return new bT(d)}e.placeholder=o;function c(d,m){return new rW(d,m)}e.param=c})(Ft||(Ft={}));(e=>{class t{constructor(s,a){this.sql=s,this.fieldAlias=a}static[Te]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(Wn||(Wn={}));class bT{constructor(t){this.name=t}static[Te]="Placeholder";getSQL(){return new Wn([this])}}const sW=Symbol.for("drizzle:IsDrizzleView");class x0e{static[Te]="View";[bf];[sW]=!0;constructor({name:t,schema:r,selectedFields:s,query:a}){this[bf]={name:t,originalName:t,schema:r,selectedFields:s,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Wn([this])}}function y0e(e){return typeof e=="object"&&e!==null&&sW in e}Fg.prototype.getSQL=function(){return new Wn([this])};Ta.prototype.getSQL=function(){return new Wn([this])};ZG.prototype.getSQL=function(){return new Wn([this])};function v0e(e){return e[Ta.Symbol.Columns]}function b0e(e){return e[bf].selectedFields}function ns(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}class Xj extends on{static[Te]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:r,...s}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...s}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class j0e extends Xj{static[Te]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new w0e(t,this.config)}}class w0e extends Rt{static[Te]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class N0e extends Xj{static[Te]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new S0e(t,this.config)}}class S0e extends Rt{static[Te]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function C0e(e,t){const{name:r,config:s}=ns(e,t);return s.mode==="number"?new j0e(r):new N0e(r)}class A0e extends on{static[Te]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new E0e(t,this.config)}}class E0e extends Rt{static[Te]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class _0e extends on{static[Te]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new T0e(t,this.config)}}class T0e extends Rt{static[Te]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function P0e(e,t){const{name:r,config:s}=ns(e,t);return s.mode==="number"?new A0e(r):new _0e(r)}class O0e extends on{static[Te]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new k0e(t,this.config)}}class k0e extends Rt{static[Te]="PgBoolean";getSQLType(){return"boolean"}}function xn(e){return new O0e(e??"")}class M0e extends on{static[Te]="PgCharBuilder";constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new R0e(t,this.config)}}class R0e extends Rt{static[Te]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function D0e(e,t={}){const{name:r,config:s}=ns(e,t);return new M0e(r,s)}class I0e extends on{static[Te]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new L0e(t,this.config)}}class L0e extends Rt{static[Te]="PgCidr";getSQLType(){return"cidr"}}function $0e(e){return new I0e(e??"")}class z0e extends on{static[Te]="PgCustomColumnBuilder";constructor(t,r,s){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=s}build(t){return new q0e(t,this.config)}}class q0e extends Rt{static[Te]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,r){super(t,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function F0e(e){return(t,r)=>{const{name:s,config:a}=ns(t,r);return new z0e(s,a,e)}}class Jx extends on{static[Te]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Ft`now()`)}}class B0e extends Jx{static[Te]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new U0e(t,this.config)}}class U0e extends Rt{static[Te]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class V0e extends Jx{static[Te]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new K0e(t,this.config)}}class K0e extends Rt{static[Te]="PgDateString";getSQLType(){return"date"}}function aW(e,t){const{name:r,config:s}=ns(e,t);return s?.mode==="date"?new B0e(r):new V0e(r)}class H0e extends on{static[Te]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new G0e(t,this.config)}}class G0e extends Rt{static[Te]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function W0e(e){return new H0e(e??"")}class Y0e extends on{static[Te]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new Q0e(t,this.config)}}class Q0e extends Rt{static[Te]="PgInet";getSQLType(){return"inet"}}function X0e(e){return new Y0e(e??"")}class Z0e extends Xj{static[Te]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new J0e(t,this.config)}}class J0e extends Rt{static[Te]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function ut(e){return new Z0e(e??"")}class ebe extends on{static[Te]="PgIntervalBuilder";constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new tbe(t,this.config)}}class tbe extends Rt{static[Te]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${t}${r}`}}function nbe(e,t={}){const{name:r,config:s}=ns(e,t);return new ebe(r,s)}class rbe extends on{static[Te]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new sbe(t,this.config)}}class sbe extends Rt{static[Te]="PgJson";constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function abe(e){return new rbe(e??"")}class ibe extends on{static[Te]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new obe(t,this.config)}}class obe extends Rt{static[Te]="PgJsonb";constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function Pr(e){return new ibe(e??"")}class lbe extends on{static[Te]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new cbe(t,this.config)}}class cbe extends Rt{static[Te]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[r,s,a]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class ube extends on{static[Te]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new dbe(t,this.config)}}class dbe extends Rt{static[Te]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[r,s,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(s),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function mbe(e,t){const{name:r,config:s}=ns(e,t);return!s?.mode||s.mode==="tuple"?new lbe(r):new ube(r)}class fbe extends on{static[Te]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new hbe(t,this.config)}}class hbe extends Rt{static[Te]="PgMacaddr";getSQLType(){return"macaddr"}}function pbe(e){return new fbe(e??"")}class gbe extends on{static[Te]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new xbe(t,this.config)}}class xbe extends Rt{static[Te]="PgMacaddr8";getSQLType(){return"macaddr8"}}function ybe(e){return new gbe(e??"")}class vbe extends on{static[Te]="PgNumericBuilder";constructor(t,r,s){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(t){return new bbe(t,this.config)}}class bbe extends Rt{static[Te]="PgNumeric";precision;scale;constructor(t,r){super(t,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function iW(e,t){const{name:r,config:s}=ns(e,t);return new vbe(r,s?.precision,s?.scale)}class jbe extends on{static[Te]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new wbe(t,this.config)}}class wbe extends Rt{static[Te]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,s]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class Nbe extends on{static[Te]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new Sbe(t,this.config)}}class Sbe extends Rt{static[Te]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,s]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(s)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function Cbe(e,t){const{name:r,config:s}=ns(e,t);return!s?.mode||s.mode==="tuple"?new jbe(r):new Nbe(r)}function Abe(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function qL(e,t){const r=new ArrayBuffer(8),s=new DataView(r);for(let a=0;a<8;a++)s.setUint8(a,e[t+a]);return s.getFloat64(0,!0)}function oW(e){const t=Abe(e);let r=0;const s=t[r];r+=1;const a=new DataView(t.buffer),i=a.getUint32(r,s===1);if(r+=4,i&536870912&&(a.getUint32(r,s===1),r+=4),(i&65535)===1){const o=qL(t,r);r+=8;const c=qL(t,r);return r+=8,[o,c]}throw new Error("Unsupported geometry type")}class Ebe extends on{static[Te]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new _be(t,this.config)}}class _be extends Rt{static[Te]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return oW(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class Tbe extends on{static[Te]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new Pbe(t,this.config)}}class Pbe extends Rt{static[Te]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=oW(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function Obe(e,t){const{name:r,config:s}=ns(e,t);return!s?.mode||s.mode==="tuple"?new Ebe(r):new Tbe(r)}class kbe extends on{static[Te]="PgRealBuilder";constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new Mbe(t,this.config)}}class Mbe extends Rt{static[Te]="PgReal";constructor(t,r){super(t,r)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function Rbe(e){return new kbe(e??"")}class Dbe extends on{static[Te]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Ibe(t,this.config)}}class Ibe extends Rt{static[Te]="PgSerial";getSQLType(){return"serial"}}function Lbe(e){return new Dbe(e??"")}class $be extends Xj{static[Te]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new zbe(t,this.config)}}class zbe extends Rt{static[Te]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function qbe(e){return new $be(e??"")}class Fbe extends on{static[Te]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Bbe(t,this.config)}}class Bbe extends Rt{static[Te]="PgSmallSerial";getSQLType(){return"smallserial"}}function Ube(e){return new Fbe(e??"")}class Vbe extends on{static[Te]="PgTextBuilder";constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new Kbe(t,this.config)}}class Kbe extends Rt{static[Te]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ce(e,t={}){const{name:r,config:s}=ns(e,t);return new Vbe(r,s)}class Hbe extends Jx{constructor(t,r,s){super(t,"string","PgTime"),this.withTimezone=r,this.precision=s,this.config.withTimezone=r,this.config.precision=s}static[Te]="PgTimeBuilder";build(t){return new Gbe(t,this.config)}}class Gbe extends Rt{static[Te]="PgTime";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Wbe(e,t={}){const{name:r,config:s}=ns(e,t);return new Hbe(r,s.withTimezone??!1,s.precision)}class Ybe extends Jx{static[Te]="PgTimestampBuilder";constructor(t,r,s){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(t){return new Qbe(t,this.config)}}class Qbe extends Rt{static[Te]="PgTimestamp";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class Xbe extends Jx{static[Te]="PgTimestampStringBuilder";constructor(t,r,s){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(t){return new Zbe(t,this.config)}}class Zbe extends Rt{static[Te]="PgTimestampString";withTimezone;precision;constructor(t,r){super(t,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Fe(e,t={}){const{name:r,config:s}=ns(e,t);return s?.mode==="string"?new Xbe(r,s.withTimezone??!1,s.precision):new Ybe(r,s?.withTimezone??!1,s?.precision)}class Jbe extends on{static[Te]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Ft`gen_random_uuid()`)}build(t){return new eje(t,this.config)}}class eje extends Rt{static[Te]="PgUUID";getSQLType(){return"uuid"}}function tje(e){return new Jbe(e??"")}class nje extends on{static[Te]="PgVarcharBuilder";constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new rje(t,this.config)}}class rje extends Rt{static[Te]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function ke(e,t={}){const{name:r,config:s}=ns(e,t);return new nje(r,s)}class sje extends on{static[Te]="PgBinaryVectorBuilder";constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new aje(t,this.config)}}class aje extends Rt{static[Te]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function ije(e,t){const{name:r,config:s}=ns(e,t);return new sje(r,s)}class oje extends on{static[Te]="PgHalfVectorBuilder";constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new lje(t,this.config)}}class lje extends Rt{static[Te]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function cje(e,t){const{name:r,config:s}=ns(e,t);return new oje(r,s)}class uje extends on{static[Te]="PgSparseVectorBuilder";constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new dje(t,this.config)}}class dje extends Rt{static[Te]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function mje(e,t){const{name:r,config:s}=ns(e,t);return new uje(r,s)}class fje extends on{static[Te]="PgVectorBuilder";constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new hje(t,this.config)}}class hje extends Rt{static[Te]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function pje(e,t){const{name:r,config:s}=ns(e,t);return new fje(r,s)}function gje(){return{bigint:C0e,bigserial:P0e,boolean:xn,char:D0e,cidr:$0e,customType:F0e,date:aW,doublePrecision:W0e,inet:X0e,integer:ut,interval:nbe,json:abe,jsonb:Pr,line:mbe,macaddr:pbe,macaddr8:ybe,numeric:iW,point:Cbe,geometry:Obe,real:Rbe,serial:Lbe,smallint:qbe,smallserial:Ube,text:ce,time:Wbe,timestamp:Fe,uuid:tje,varchar:ke,bit:ije,halfvec:cje,sparsevec:mje,vector:pje}}const jT=Symbol.for("drizzle:PgInlineForeignKeys"),FL=Symbol.for("drizzle:EnableRLS");class oS extends Ta{static[Te]="PgTable";static Symbol=Object.assign({},Ta.Symbol,{InlineForeignKeys:jT,EnableRLS:FL});[jT]=[];[FL]=!1;[Ta.Symbol.ExtraConfigBuilder]=void 0}function xje(e,t,r,s,a=e){const i=new oS(e,s,a),o=typeof t=="function"?t(gje()):t,c=Object.fromEntries(Object.entries(o).map(([f,h])=>{const g=h;g.setName(f);const b=g.build(i);return i[jT].push(...g.buildForeignKeys(b,i)),[f,b]})),d=Object.fromEntries(Object.entries(o).map(([f,h])=>{const g=h;g.setName(f);const b=g.buildExtraConfigColumn(i);return[f,b]})),m=Object.assign(i,c);return m[Ta.Symbol.Columns]=c,m[Ta.Symbol.ExtraConfigColumns]=d,r&&(m[oS.Symbol.ExtraConfigBuilder]=r),Object.assign(m,{enableRLS:()=>(m[oS.Symbol.EnableRLS]=!0,m)})}const Yt=(e,t,r)=>xje(e,t,r,void 0);class yje{constructor(t,r){this.unique=t,this.name=r}static[Te]="PgIndexBuilderOn";on(...t){return new lS(t.map(r=>{if(_r(r,Wn))return r;r=r;const s=new rS(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),s}),this.unique,!1,this.name)}onOnly(...t){return new lS(t.map(r=>{if(_r(r,Wn))return r;r=r;const s=new rS(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,s}),this.unique,!0,this.name)}using(t,...r){return new lS(r.map(s=>{if(_r(s,Wn))return s;s=s;const a=new rS(s.name,!!s.keyAsName,s.columnType,s.indexConfig);return s.indexConfig=JSON.parse(JSON.stringify(s.defaultConfig)),a}),this.unique,!0,this.name,t)}}class lS{static[Te]="PgIndexBuilder";config;constructor(t,r,s,a,i="btree"){this.config={name:a,columns:t,unique:r,only:s,method:i}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new vje(this.config,t)}}class vje{static[Te]="PgIndex";config;constructor(t,r){this.config={...t,table:r}}}function bje(e){return new yje(!0,e)}var sn;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),o={};for(const c of i)o[c]=a[c];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function s(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=s,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(sn||(sn={}));var wT;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(wT||(wT={}));const We=sn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hl=e=>{switch(typeof e){case"undefined":return We.undefined;case"string":return We.string;case"number":return Number.isNaN(e)?We.nan:We.number;case"boolean":return We.boolean;case"function":return We.function;case"bigint":return We.bigint;case"symbol":return We.symbol;case"object":return Array.isArray(e)?We.array:e===null?We.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?We.promise:typeof Map<"u"&&e instanceof Map?We.map:typeof Set<"u"&&e instanceof Set?We.set:typeof Date<"u"&&e instanceof Date?We.date:We.object;default:return We.unknown}},Me=sn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),jje=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ia extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},s={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let c=s,d=0;for(;d<o.path.length;){const m=o.path[d];d===o.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(r(o))):c[m]=c[m]||{_errors:[]},c=c[m],d++}}};return a(this),s}static assert(t){if(!(t instanceof Ia))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,sn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else s.push(t(a));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Ia.create=e=>new Ia(e);const Of=(e,t)=>{let r;switch(e.code){case Me.invalid_type:e.received===We.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,sn.jsonStringifyReplacer)}`;break;case Me.unrecognized_keys:r=`Unrecognized key(s) in object: ${sn.joinValues(e.keys,", ")}`;break;case Me.invalid_union:r="Invalid input";break;case Me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sn.joinValues(e.options)}`;break;case Me.invalid_enum_value:r=`Invalid enum value. Expected ${sn.joinValues(e.options)}, received '${e.received}'`;break;case Me.invalid_arguments:r="Invalid function arguments";break;case Me.invalid_return_type:r="Invalid function return type";break;case Me.invalid_date:r="Invalid date";break;case Me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:sn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Me.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Me.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Me.custom:r="Invalid input";break;case Me.invalid_intersection_types:r="Intersection results could not be merged";break;case Me.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Me.not_finite:r="Number must be finite";break;default:r=t.defaultError,sn.assertNever(e)}return{message:r}};let lW=Of;function wje(e){lW=e}function J0(){return lW}const eb=e=>{const{data:t,path:r,errorMaps:s,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let c="";const d=s.filter(m=>!!m).slice().reverse();for(const m of d)c=m(o,{data:t,defaultError:c}).message;return{...a,path:i,message:c}},Nje=[];function He(e,t){const r=J0(),s=eb({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Of?void 0:Of].filter(a=>!!a)});e.common.issues.push(s)}class Is{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const a of r){if(a.status==="aborted")return bt;a.status==="dirty"&&t.dirty(),s.push(a.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const a of r){const i=await a.key,o=await a.value;s.push({key:i,value:o})}return Is.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return bt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(s[i.value]=o.value)}return{status:t.value,value:s}}}const bt=Object.freeze({status:"aborted"}),af=e=>({status:"dirty",value:e}),Ys=e=>({status:"valid",value:e}),NT=e=>e.status==="aborted",ST=e=>e.status==="dirty",Ed=e=>e.status==="valid",Bg=e=>typeof Promise<"u"&&e instanceof Promise;var tt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(tt||(tt={}));class Oo{constructor(t,r,s,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const BL=(e,t)=>{if(Ed(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ia(e.common.issues);return this._error=r,this._error}}};function Mt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:a}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,c)=>{const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??s??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:d??r??c.defaultError}},description:a}}class $t{get description(){return this._def.description}_getType(t){return hl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:hl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Is,ctx:{common:t.parent.common,data:t.data,parsedType:hl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Bg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hl(t)},a=this._parseSync({data:t,path:s.path,parent:s});return BL(s,a)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hl(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return Ed(s)?{value:s.value}:{issues:r.common.issues}}catch(s){s?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>Ed(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hl(t)},a=this._parse({data:t,path:s.path,parent:s}),i=await(Bg(a)?a:Promise.resolve(a));return BL(s,i)}refine(t,r){const s=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),c=()=>i.addIssue({code:Me.custom,...s(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,r){return this._refinement((s,a)=>t(s)?!0:(a.addIssue(typeof r=="function"?r(s,a):r),!1))}_refinement(t){return new Gi({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ao.create(this,this._def)}nullable(){return Jc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fi.create(this)}promise(){return Mf.create(this,this._def)}or(t){return Hg.create([this,t],this._def)}and(t){return Gg.create(this,t,this._def)}transform(t){return new Gi({...Mt(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Zg({...Mt(this._def),innerType:this,defaultValue:r,typeName:wt.ZodDefault})}brand(){return new LO({typeName:wt.ZodBranded,type:this,...Mt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Jg({...Mt(this._def),innerType:this,catchValue:r,typeName:wt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ey.create(this,t)}readonly(){return ex.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Sje=/^c[^\s-]{8,}$/i,Cje=/^[0-9a-z]+$/,Aje=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Eje=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_je=/^[a-z0-9_-]{21}$/i,Tje=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Pje=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Oje=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kje="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cS;const Mje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Rje=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Dje=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ije=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Lje=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$je=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cW="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zje=new RegExp(`^${cW}$`);function uW(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function qje(e){return new RegExp(`^${uW(e)}$`)}function dW(e){let t=`${cW}T${uW(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Fje(e,t){return!!((t==="v4"||!t)&&Mje.test(e)||(t==="v6"||!t)&&Dje.test(e))}function Bje(e,t){if(!Tje.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(s));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Uje(e,t){return!!((t==="v4"||!t)&&Rje.test(e)||(t==="v6"||!t)&&Ije.test(e))}class qi extends $t{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==We.string){const i=this._getOrReturnCtx(t);return He(i,{code:Me.invalid_type,expected:We.string,received:i.parsedType}),bt}const s=new Is;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),He(a,{code:Me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),He(a,{code:Me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,c=t.data.length<i.value;(o||c)&&(a=this._getOrReturnCtx(t,a),o?He(a,{code:Me.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&He(a,{code:Me.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")Oje.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"email",code:Me.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")cS||(cS=new RegExp(kje,"u")),cS.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"emoji",code:Me.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")Eje.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"uuid",code:Me.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")_je.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"nanoid",code:Me.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")Sje.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"cuid",code:Me.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")Cje.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"cuid2",code:Me.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")Aje.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"ulid",code:Me.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),He(a,{validation:"url",code:Me.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"regex",code:Me.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),He(a,{code:Me.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),He(a,{code:Me.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),He(a,{code:Me.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?dW(i).test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{code:Me.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?zje.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{code:Me.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?qje(i).test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{code:Me.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?Pje.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"duration",code:Me.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?Fje(t.data,i.version)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"ip",code:Me.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?Bje(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"jwt",code:Me.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?Uje(t.data,i.version)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"cidr",code:Me.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Lje.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"base64",code:Me.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?$je.test(t.data)||(a=this._getOrReturnCtx(t,a),He(a,{validation:"base64url",code:Me.invalid_string,message:i.message}),s.dirty()):sn.assertNever(i);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(a=>t.test(a),{validation:r,code:Me.invalid_string,...tt.errToObj(s)})}_addCheck(t){return new qi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...tt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...tt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...tt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...tt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...tt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...tt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...tt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...tt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...tt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...tt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...tt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...tt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...tt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...tt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...tt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...tt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...tt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...tt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...tt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...tt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...tt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...tt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...tt.errToObj(r)})}nonempty(t){return this.min(1,tt.errToObj(t))}trim(){return new qi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qi.create=e=>new qi({checks:[],typeName:wt.ZodString,coerce:e?.coerce??!1,...Mt(e)});function Vje(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,a=r>s?r:s,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class Qc extends $t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==We.number){const i=this._getOrReturnCtx(t);return He(i,{code:Me.invalid_type,expected:We.number,received:i.parsedType}),bt}let s;const a=new Is;for(const i of this._def.checks)i.kind==="int"?sn.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),He(s,{code:Me.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),He(s,{code:Me.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),He(s,{code:Me.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Vje(t.data,i.value)!==0&&(s=this._getOrReturnCtx(t,s),He(s,{code:Me.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),He(s,{code:Me.not_finite,message:i.message}),a.dirty()):sn.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,tt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,tt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,tt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,tt.toString(r))}setLimit(t,r,s,a){return new Qc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:tt.toString(a)}]})}_addCheck(t){return new Qc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:tt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:tt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:tt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&sn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Qc.create=e=>new Qc({checks:[],typeName:wt.ZodNumber,coerce:e?.coerce||!1,...Mt(e)});class Xc extends $t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==We.bigint)return this._getInvalidInput(t);let s;const a=new Is;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(s=this._getOrReturnCtx(t,s),He(s,{code:Me.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(s=this._getOrReturnCtx(t,s),He(s,{code:Me.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),He(s,{code:Me.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):sn.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return He(r,{code:Me.invalid_type,expected:We.bigint,received:r.parsedType}),bt}gte(t,r){return this.setLimit("min",t,!0,tt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,tt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,tt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,tt.toString(r))}setLimit(t,r,s,a){return new Xc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:tt.toString(a)}]})}_addCheck(t){return new Xc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:tt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Xc.create=e=>new Xc({checks:[],typeName:wt.ZodBigInt,coerce:e?.coerce??!1,...Mt(e)});class Ug extends $t{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==We.boolean){const s=this._getOrReturnCtx(t);return He(s,{code:Me.invalid_type,expected:We.boolean,received:s.parsedType}),bt}return Ys(t.data)}}Ug.create=e=>new Ug({typeName:wt.ZodBoolean,coerce:e?.coerce||!1,...Mt(e)});class _d extends $t{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==We.date){const i=this._getOrReturnCtx(t);return He(i,{code:Me.invalid_type,expected:We.date,received:i.parsedType}),bt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return He(i,{code:Me.invalid_date}),bt}const s=new Is;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),He(a,{code:Me.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),He(a,{code:Me.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):sn.assertNever(i);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new _d({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:tt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:tt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}_d.create=e=>new _d({checks:[],coerce:e?.coerce||!1,typeName:wt.ZodDate,...Mt(e)});class tb extends $t{_parse(t){if(this._getType(t)!==We.symbol){const s=this._getOrReturnCtx(t);return He(s,{code:Me.invalid_type,expected:We.symbol,received:s.parsedType}),bt}return Ys(t.data)}}tb.create=e=>new tb({typeName:wt.ZodSymbol,...Mt(e)});class Vg extends $t{_parse(t){if(this._getType(t)!==We.undefined){const s=this._getOrReturnCtx(t);return He(s,{code:Me.invalid_type,expected:We.undefined,received:s.parsedType}),bt}return Ys(t.data)}}Vg.create=e=>new Vg({typeName:wt.ZodUndefined,...Mt(e)});class Kg extends $t{_parse(t){if(this._getType(t)!==We.null){const s=this._getOrReturnCtx(t);return He(s,{code:Me.invalid_type,expected:We.null,received:s.parsedType}),bt}return Ys(t.data)}}Kg.create=e=>new Kg({typeName:wt.ZodNull,...Mt(e)});class kf extends $t{constructor(){super(...arguments),this._any=!0}_parse(t){return Ys(t.data)}}kf.create=e=>new kf({typeName:wt.ZodAny,...Mt(e)});class md extends $t{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ys(t.data)}}md.create=e=>new md({typeName:wt.ZodUnknown,...Mt(e)});class Ol extends $t{_parse(t){const r=this._getOrReturnCtx(t);return He(r,{code:Me.invalid_type,expected:We.never,received:r.parsedType}),bt}}Ol.create=e=>new Ol({typeName:wt.ZodNever,...Mt(e)});class nb extends $t{_parse(t){if(this._getType(t)!==We.undefined){const s=this._getOrReturnCtx(t);return He(s,{code:Me.invalid_type,expected:We.void,received:s.parsedType}),bt}return Ys(t.data)}}nb.create=e=>new nb({typeName:wt.ZodVoid,...Mt(e)});class Fi extends $t{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),a=this._def;if(r.parsedType!==We.array)return He(r,{code:Me.invalid_type,expected:We.array,received:r.parsedType}),bt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,c=r.data.length<a.exactLength.value;(o||c)&&(He(r,{code:o?Me.too_big:Me.too_small,minimum:c?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(He(r,{code:Me.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(He(r,{code:Me.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,c)=>a.type._parseAsync(new Oo(r,o,r.path,c)))).then(o=>Is.mergeArray(s,o));const i=[...r.data].map((o,c)=>a.type._parseSync(new Oo(r,o,r.path,c)));return Is.mergeArray(s,i)}get element(){return this._def.type}min(t,r){return new Fi({...this._def,minLength:{value:t,message:tt.toString(r)}})}max(t,r){return new Fi({...this._def,maxLength:{value:t,message:tt.toString(r)}})}length(t,r){return new Fi({...this._def,exactLength:{value:t,message:tt.toString(r)}})}nonempty(t){return this.min(1,t)}}Fi.create=(e,t)=>new Fi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...Mt(t)});function Zm(e){if(e instanceof rr){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=Ao.create(Zm(s))}return new rr({...e._def,shape:()=>t})}else return e instanceof Fi?new Fi({...e._def,type:Zm(e.element)}):e instanceof Ao?Ao.create(Zm(e.unwrap())):e instanceof Jc?Jc.create(Zm(e.unwrap())):e instanceof ko?ko.create(e.items.map(t=>Zm(t))):e}class rr extends $t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=sn.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==We.object){const m=this._getOrReturnCtx(t);return He(m,{code:Me.invalid_type,expected:We.object,received:m.parsedType}),bt}const{status:s,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ol&&this._def.unknownKeys==="strip"))for(const m in a.data)o.includes(m)||c.push(m);const d=[];for(const m of o){const f=i[m],h=a.data[m];d.push({key:{status:"valid",value:m},value:f._parse(new Oo(a,h,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof Ol){const m=this._def.unknownKeys;if(m==="passthrough")for(const f of c)d.push({key:{status:"valid",value:f},value:{status:"valid",value:a.data[f]}});else if(m==="strict")c.length>0&&(He(a,{code:Me.unrecognized_keys,keys:c}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const f of c){const h=a.data[f];d.push({key:{status:"valid",value:f},value:m._parse(new Oo(a,h,a.path,f)),alwaysSet:f in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const f of d){const h=await f.key,g=await f.value;m.push({key:h,value:g,alwaysSet:f.alwaysSet})}return m}).then(m=>Is.mergeObjectSync(s,m)):Is.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(t){return tt.errToObj,new rr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{const a=this._def.errorMap?.(r,s).message??s.defaultError;return r.code==="unrecognized_keys"?{message:tt.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new rr({...this._def,unknownKeys:"strip"})}passthrough(){return new rr({...this._def,unknownKeys:"passthrough"})}extend(t){return new rr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new rr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:wt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new rr({...this._def,catchall:t})}pick(t){const r={};for(const s of sn.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new rr({...this._def,shape:()=>r})}omit(t){const r={};for(const s of sn.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new rr({...this._def,shape:()=>r})}deepPartial(){return Zm(this)}partial(t){const r={};for(const s of sn.objectKeys(this.shape)){const a=this.shape[s];t&&!t[s]?r[s]=a:r[s]=a.optional()}return new rr({...this._def,shape:()=>r})}required(t){const r={};for(const s of sn.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof Ao;)i=i._def.innerType;r[s]=i}return new rr({...this._def,shape:()=>r})}keyof(){return mW(sn.objectKeys(this.shape))}}rr.create=(e,t)=>new rr({shape:()=>e,unknownKeys:"strip",catchall:Ol.create(),typeName:wt.ZodObject,...Mt(t)});rr.strictCreate=(e,t)=>new rr({shape:()=>e,unknownKeys:"strict",catchall:Ol.create(),typeName:wt.ZodObject,...Mt(t)});rr.lazycreate=(e,t)=>new rr({shape:e,unknownKeys:"strip",catchall:Ol.create(),typeName:wt.ZodObject,...Mt(t)});class Hg extends $t{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function a(i){for(const c of i)if(c.result.status==="valid")return c.result;for(const c of i)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const o=i.map(c=>new Ia(c.ctx.common.issues));return He(r,{code:Me.invalid_union,unionErrors:o}),bt}if(r.common.async)return Promise.all(s.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const d of s){const m={...r,common:{...r.common,issues:[]},parent:null},f=d._parseSync({data:r.data,path:r.path,parent:m});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:m}),m.common.issues.length&&o.push(m.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const c=o.map(d=>new Ia(d));return He(r,{code:Me.invalid_union,unionErrors:c}),bt}}get options(){return this._def.options}}Hg.create=(e,t)=>new Hg({options:e,typeName:wt.ZodUnion,...Mt(t)});const ul=e=>e instanceof Yg?ul(e.schema):e instanceof Gi?ul(e.innerType()):e instanceof Qg?[e.value]:e instanceof Zc?e.options:e instanceof Xg?sn.objectValues(e.enum):e instanceof Zg?ul(e._def.innerType):e instanceof Vg?[void 0]:e instanceof Kg?[null]:e instanceof Ao?[void 0,...ul(e.unwrap())]:e instanceof Jc?[null,...ul(e.unwrap())]:e instanceof LO||e instanceof ex?ul(e.unwrap()):e instanceof Jg?ul(e._def.innerType):[];class Zj extends $t{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==We.object)return He(r,{code:Me.invalid_type,expected:We.object,received:r.parsedType}),bt;const s=this.discriminator,a=r.data[s],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(He(r,{code:Me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),bt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,s){const a=new Map;for(const i of r){const o=ul(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of o){if(a.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);a.set(c,i)}}return new Zj({typeName:wt.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Mt(s)})}}function CT(e,t){const r=hl(e),s=hl(t);if(e===t)return{valid:!0,data:e};if(r===We.object&&s===We.object){const a=sn.objectKeys(t),i=sn.objectKeys(e).filter(c=>a.indexOf(c)!==-1),o={...e,...t};for(const c of i){const d=CT(e[c],t[c]);if(!d.valid)return{valid:!1};o[c]=d.data}return{valid:!0,data:o}}else if(r===We.array&&s===We.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],c=t[i],d=CT(o,c);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return r===We.date&&s===We.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Gg extends $t{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=(i,o)=>{if(NT(i)||NT(o))return bt;const c=CT(i.value,o.value);return c.valid?((ST(i)||ST(o))&&r.dirty(),{status:r.value,value:c.data}):(He(s,{code:Me.invalid_intersection_types}),bt)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Gg.create=(e,t,r)=>new Gg({left:e,right:t,typeName:wt.ZodIntersection,...Mt(r)});class ko extends $t{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==We.array)return He(s,{code:Me.invalid_type,expected:We.array,received:s.parsedType}),bt;if(s.data.length<this._def.items.length)return He(s,{code:Me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),bt;!this._def.rest&&s.data.length>this._def.items.length&&(He(s,{code:Me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...s.data].map((o,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new Oo(s,o,s.path,c)):null}).filter(o=>!!o);return s.common.async?Promise.all(i).then(o=>Is.mergeArray(r,o)):Is.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ko({...this._def,rest:t})}}ko.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ko({items:e,typeName:wt.ZodTuple,rest:null,...Mt(t)})};class Wg extends $t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==We.object)return He(s,{code:Me.invalid_type,expected:We.object,received:s.parsedType}),bt;const a=[],i=this._def.keyType,o=this._def.valueType;for(const c in s.data)a.push({key:i._parse(new Oo(s,c,s.path,c)),value:o._parse(new Oo(s,s.data[c],s.path,c)),alwaysSet:c in s.data});return s.common.async?Is.mergeObjectAsync(r,a):Is.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,s){return r instanceof $t?new Wg({keyType:t,valueType:r,typeName:wt.ZodRecord,...Mt(s)}):new Wg({keyType:qi.create(),valueType:t,typeName:wt.ZodRecord,...Mt(r)})}}class rb extends $t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==We.map)return He(s,{code:Me.invalid_type,expected:We.map,received:s.parsedType}),bt;const a=this._def.keyType,i=this._def.valueType,o=[...s.data.entries()].map(([c,d],m)=>({key:a._parse(new Oo(s,c,s.path,[m,"key"])),value:i._parse(new Oo(s,d,s.path,[m,"value"]))}));if(s.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of o){const m=await d.key,f=await d.value;if(m.status==="aborted"||f.status==="aborted")return bt;(m.status==="dirty"||f.status==="dirty")&&r.dirty(),c.set(m.value,f.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const d of o){const m=d.key,f=d.value;if(m.status==="aborted"||f.status==="aborted")return bt;(m.status==="dirty"||f.status==="dirty")&&r.dirty(),c.set(m.value,f.value)}return{status:r.value,value:c}}}}rb.create=(e,t,r)=>new rb({valueType:t,keyType:e,typeName:wt.ZodMap,...Mt(r)});class Td extends $t{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==We.set)return He(s,{code:Me.invalid_type,expected:We.set,received:s.parsedType}),bt;const a=this._def;a.minSize!==null&&s.data.size<a.minSize.value&&(He(s,{code:Me.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&s.data.size>a.maxSize.value&&(He(s,{code:Me.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(d){const m=new Set;for(const f of d){if(f.status==="aborted")return bt;f.status==="dirty"&&r.dirty(),m.add(f.value)}return{status:r.value,value:m}}const c=[...s.data.values()].map((d,m)=>i._parse(new Oo(s,d,s.path,m)));return s.common.async?Promise.all(c).then(d=>o(d)):o(c)}min(t,r){return new Td({...this._def,minSize:{value:t,message:tt.toString(r)}})}max(t,r){return new Td({...this._def,maxSize:{value:t,message:tt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Td.create=(e,t)=>new Td({valueType:e,minSize:null,maxSize:null,typeName:wt.ZodSet,...Mt(t)});class jf extends $t{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==We.function)return He(r,{code:Me.invalid_type,expected:We.function,received:r.parsedType}),bt;function s(c,d){return eb({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,J0(),Of].filter(m=>!!m),issueData:{code:Me.invalid_arguments,argumentsError:d}})}function a(c,d){return eb({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,J0(),Of].filter(m=>!!m),issueData:{code:Me.invalid_return_type,returnTypeError:d}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Mf){const c=this;return Ys(async function(...d){const m=new Ia([]),f=await c._def.args.parseAsync(d,i).catch(b=>{throw m.addIssue(s(d,b)),m}),h=await Reflect.apply(o,this,f);return await c._def.returns._def.type.parseAsync(h,i).catch(b=>{throw m.addIssue(a(h,b)),m})})}else{const c=this;return Ys(function(...d){const m=c._def.args.safeParse(d,i);if(!m.success)throw new Ia([s(d,m.error)]);const f=Reflect.apply(o,this,m.data),h=c._def.returns.safeParse(f,i);if(!h.success)throw new Ia([a(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new jf({...this._def,args:ko.create(t).rest(md.create())})}returns(t){return new jf({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,s){return new jf({args:t||ko.create([]).rest(md.create()),returns:r||md.create(),typeName:wt.ZodFunction,...Mt(s)})}}class Yg extends $t{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Yg.create=(e,t)=>new Yg({getter:e,typeName:wt.ZodLazy,...Mt(t)});class Qg extends $t{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return He(r,{received:r.data,code:Me.invalid_literal,expected:this._def.value}),bt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Qg.create=(e,t)=>new Qg({value:e,typeName:wt.ZodLiteral,...Mt(t)});function mW(e,t){return new Zc({values:e,typeName:wt.ZodEnum,...Mt(t)})}class Zc extends $t{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return He(r,{expected:sn.joinValues(s),received:r.parsedType,code:Me.invalid_type}),bt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return He(r,{received:r.data,code:Me.invalid_enum_value,options:s}),bt}return Ys(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Zc.create(t,{...this._def,...r})}exclude(t,r=this._def){return Zc.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Zc.create=mW;class Xg extends $t{_parse(t){const r=sn.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==We.string&&s.parsedType!==We.number){const a=sn.objectValues(r);return He(s,{expected:sn.joinValues(a),received:s.parsedType,code:Me.invalid_type}),bt}if(this._cache||(this._cache=new Set(sn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=sn.objectValues(r);return He(s,{received:s.data,code:Me.invalid_enum_value,options:a}),bt}return Ys(t.data)}get enum(){return this._def.values}}Xg.create=(e,t)=>new Xg({values:e,typeName:wt.ZodNativeEnum,...Mt(t)});class Mf extends $t{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==We.promise&&r.common.async===!1)return He(r,{code:Me.invalid_type,expected:We.promise,received:r.parsedType}),bt;const s=r.parsedType===We.promise?r.data:Promise.resolve(r.data);return Ys(s.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Mf.create=(e,t)=>new Mf({type:e,typeName:wt.ZodPromise,...Mt(t)});class Gi extends $t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{He(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(s.data,i);if(s.common.async)return Promise.resolve(o).then(async c=>{if(r.value==="aborted")return bt;const d=await this._def.schema._parseAsync({data:c,path:s.path,parent:s});return d.status==="aborted"?bt:d.status==="dirty"||r.value==="dirty"?af(d.value):d});{if(r.value==="aborted")return bt;const c=this._def.schema._parseSync({data:o,path:s.path,parent:s});return c.status==="aborted"?bt:c.status==="dirty"||r.value==="dirty"?af(c.value):c}}if(a.type==="refinement"){const o=c=>{const d=a.refinement(c,i);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(s.common.async===!1){const c=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return c.status==="aborted"?bt:(c.status==="dirty"&&r.dirty(),o(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(c=>c.status==="aborted"?bt:(c.status==="dirty"&&r.dirty(),o(c.value).then(()=>({status:r.value,value:c.value}))))}if(a.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ed(o))return bt;const c=a.transform(o.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Ed(o)?Promise.resolve(a.transform(o.value,i)).then(c=>({status:r.value,value:c})):bt);sn.assertNever(a)}}Gi.create=(e,t,r)=>new Gi({schema:e,typeName:wt.ZodEffects,effect:t,...Mt(r)});Gi.createWithPreprocess=(e,t,r)=>new Gi({schema:t,effect:{type:"preprocess",transform:e},typeName:wt.ZodEffects,...Mt(r)});class Ao extends $t{_parse(t){return this._getType(t)===We.undefined?Ys(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ao.create=(e,t)=>new Ao({innerType:e,typeName:wt.ZodOptional,...Mt(t)});class Jc extends $t{_parse(t){return this._getType(t)===We.null?Ys(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Jc.create=(e,t)=>new Jc({innerType:e,typeName:wt.ZodNullable,...Mt(t)});class Zg extends $t{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===We.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Zg.create=(e,t)=>new Zg({innerType:e,typeName:wt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Mt(t)});class Jg extends $t{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Bg(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ia(s.common.issues)},input:s.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ia(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Jg.create=(e,t)=>new Jg({innerType:e,typeName:wt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Mt(t)});class sb extends $t{_parse(t){if(this._getType(t)!==We.nan){const s=this._getOrReturnCtx(t);return He(s,{code:Me.invalid_type,expected:We.nan,received:s.parsedType}),bt}return{status:"valid",value:t.data}}}sb.create=e=>new sb({typeName:wt.ZodNaN,...Mt(e)});const Kje=Symbol("zod_brand");class LO extends $t{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class ey extends $t{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?bt:i.status==="dirty"?(r.dirty(),af(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const a=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?bt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:s.path,parent:s})}}static create(t,r){return new ey({in:t,out:r,typeName:wt.ZodPipeline})}}class ex extends $t{_parse(t){const r=this._def.innerType._parse(t),s=a=>(Ed(a)&&(a.value=Object.freeze(a.value)),a);return Bg(r)?r.then(a=>s(a)):s(r)}unwrap(){return this._def.innerType}}ex.create=(e,t)=>new ex({innerType:e,typeName:wt.ZodReadonly,...Mt(t)});function UL(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function $O(e,t={},r){return e?kf.create().superRefine((s,a)=>{const i=e(s);if(i instanceof Promise)return i.then(o=>{if(!o){const c=UL(t,s),d=c.fatal??r??!0;a.addIssue({code:"custom",...c,fatal:d})}});if(!i){const o=UL(t,s),c=o.fatal??r??!0;a.addIssue({code:"custom",...o,fatal:c})}}):kf.create()}const Hje={object:rr.lazycreate};var wt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(wt||(wt={}));const Gje=(e,t={message:`Input not instance of ${e.name}`})=>$O(r=>r instanceof e,t),ca=qi.create,zO=Qc.create,Wje=sb.create,Yje=Xc.create,qO=Ug.create,Qje=_d.create,Xje=tb.create,Zje=Vg.create,fW=Kg.create,ab=kf.create,Jje=md.create,ewe=Ol.create,twe=nb.create,tx=Fi.create,Vd=rr.create,nwe=rr.strictCreate,FO=Hg.create,rwe=Zj.create,swe=Gg.create,awe=ko.create,Jj=Wg.create,iwe=rb.create,owe=Td.create,lwe=jf.create,cwe=Yg.create,hW=Qg.create,ew=Zc.create,uwe=Xg.create,dwe=Mf.create,VL=Gi.create,mwe=Ao.create,fwe=Jc.create,hwe=Gi.createWithPreprocess,pwe=ey.create,gwe=()=>ca().optional(),xwe=()=>zO().optional(),ywe=()=>qO().optional(),rg={string:(e=>qi.create({...e,coerce:!0})),number:(e=>Qc.create({...e,coerce:!0})),boolean:(e=>Ug.create({...e,coerce:!0})),bigint:(e=>Xc.create({...e,coerce:!0})),date:(e=>_d.create({...e,coerce:!0}))},vwe=bt,bwe=Object.freeze(Object.defineProperty({__proto__:null,BRAND:Kje,DIRTY:af,EMPTY_PATH:Nje,INVALID:bt,NEVER:vwe,OK:Ys,ParseStatus:Is,Schema:$t,ZodAny:kf,ZodArray:Fi,ZodBigInt:Xc,ZodBoolean:Ug,ZodBranded:LO,ZodCatch:Jg,ZodDate:_d,ZodDefault:Zg,ZodDiscriminatedUnion:Zj,ZodEffects:Gi,ZodEnum:Zc,ZodError:Ia,get ZodFirstPartyTypeKind(){return wt},ZodFunction:jf,ZodIntersection:Gg,ZodIssueCode:Me,ZodLazy:Yg,ZodLiteral:Qg,ZodMap:rb,ZodNaN:sb,ZodNativeEnum:Xg,ZodNever:Ol,ZodNull:Kg,ZodNullable:Jc,ZodNumber:Qc,ZodObject:rr,ZodOptional:Ao,ZodParsedType:We,ZodPipeline:ey,ZodPromise:Mf,ZodReadonly:ex,ZodRecord:Wg,ZodSchema:$t,ZodSet:Td,ZodString:qi,ZodSymbol:tb,ZodTransformer:Gi,ZodTuple:ko,ZodType:$t,ZodUndefined:Vg,ZodUnion:Hg,ZodUnknown:md,ZodVoid:nb,addIssueToContext:He,any:ab,array:tx,bigint:Yje,boolean:qO,coerce:rg,custom:$O,date:Qje,datetimeRegex:dW,defaultErrorMap:Of,discriminatedUnion:rwe,effect:VL,enum:ew,function:lwe,getErrorMap:J0,getParsedType:hl,instanceof:Gje,intersection:swe,isAborted:NT,isAsync:Bg,isDirty:ST,isValid:Ed,late:Hje,lazy:cwe,literal:hW,makeIssue:eb,map:iwe,nan:Wje,nativeEnum:uwe,never:ewe,null:fW,nullable:fwe,number:zO,object:Vd,get objectUtil(){return wT},oboolean:ywe,onumber:xwe,optional:mwe,ostring:gwe,pipeline:pwe,preprocess:hwe,promise:dwe,quotelessJson:jje,record:Jj,set:owe,setErrorMap:wje,strictObject:nwe,string:ca,symbol:Xje,transformer:VL,tuple:awe,undefined:Zje,union:FO,unknown:Jje,get util(){return sn},void:twe},Symbol.toStringTag,{value:"Module"})),nr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function gr(e,t){return t.includes(e.columnType)}function jwe(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const wwe=FO([ca(),zO(),qO(),fW()]),Nwe=FO([wwe,Jj(ab()),tx(ab())]),Swe=$O(e=>e instanceof Buffer);function pW(e,t){const r=t?.zodInstance??bwe,s=t?.coerce??{};let a;return jwe(e)&&(a=e.enumValues.length?r.enum(e.enumValues):r.string()),a||(gr(e,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):gr(e,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):gr(e,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=e.dimensions?a.length(e.dimensions):a):gr(e,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):gr(e,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):gr(e,["PgArray"])?(a=r.array(pW(e.baseColumn,r)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=r.array(r.any()):e.dataType==="number"?a=Cwe(e,r,s):e.dataType==="bigint"?a=Awe(e,r,s):e.dataType==="boolean"?a=s===!0||s.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?a=s===!0||s.date?r.coerce.date():r.date():e.dataType==="string"?a=Ewe(e,r,s):e.dataType==="json"?a=Nwe:e.dataType==="custom"?a=r.any():e.dataType==="buffer"&&(a=Swe)),a||(a=r.any()),a}function Cwe(e,t,r){let s=e.getSQLType().includes("unsigned"),a,i,o=!1;gr(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=s?0:nr.INT8_MIN,i=s?nr.INT8_UNSIGNED_MAX:nr.INT8_MAX,o=!0):gr(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=s?0:nr.INT16_MIN,i=s?nr.INT16_UNSIGNED_MAX:nr.INT16_MAX,o=!0):gr(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=s?0:nr.INT24_MIN,i=s?nr.INT24_UNSIGNED_MAX:nr.INT24_MAX,o=gr(e,["MySqlMediumInt","SingleStoreMediumInt"])):gr(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=s?0:nr.INT32_MIN,i=s?nr.INT32_UNSIGNED_MAX:nr.INT32_MAX,o=!0):gr(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=s?0:nr.INT48_MIN,i=s?nr.INT48_UNSIGNED_MAX:nr.INT48_MAX):gr(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||gr(e,["MySqlSerial","SingleStoreSerial"]),a=s?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):gr(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let c=r===!0||r?.number?t.coerce.number():t.number();return c=c.min(a).max(i),o?c.int():c}function Awe(e,t,r){const s=e.getSQLType().includes("unsigned"),a=s?0n:nr.INT64_MIN,i=s?nr.INT64_UNSIGNED_MAX:nr.INT64_MAX;return(r===!0||r?.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function Ewe(e,t,r){if(gr(e,["PgUUID"]))return t.string().uuid();let s,a,i=!1;gr(e,["PgVarchar","SQLiteText"])?s=e.length:gr(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??nr.INT16_UNSIGNED_MAX:gr(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=nr.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=nr.INT24_UNSIGNED_MAX:e.textType==="text"?s=nr.INT16_UNSIGNED_MAX:s=nr.INT8_UNSIGNED_MAX),gr(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,i=!0),gr(e,["PgBinaryVector"])&&(a=/^[01]+$/,s=e.dimensions);let o=r===!0||r?.string?t.coerce.string():t.string();return o=a?o.regex(a):o,s&&i?o.length(s):s?o.max(s):o}function gW(e){return eW(e)?v0e(e):b0e(e)}function xW(e,t,r,s){const a={};for(const[i,o]of Object.entries(e)){if(!_r(o,Fg)&&!_r(o,Wn)&&!_r(o,Wn.Aliased)&&typeof o=="object"){const h=eW(o)||y0e(o)?gW(o):o;a[i]=xW(h,t[i]??{},r,s);continue}const c=t[i];if(c!==void 0&&typeof c!="function"){a[i]=c;continue}const d=_r(o,Fg)?o:void 0,m=d?pW(d,s):ab(),f=typeof c=="function"?c(m):m;r.never(d)||(a[i]=f,d&&(r.nullable(d)&&(a[i]=a[i].nullable()),r.optional(d)&&(a[i]=a[i].optional())))}return Vd(a)}const _we={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},nn=(e,t)=>{const r=gW(e);return xW(r,{},_we)},Twe=Bt("subscription_status",["pending","active","past_due","canceled"]),Pwe=Bt("member_status",["active","expired","suspended"]),Owe=Bt("contribution_status",["up_to_date","expired","pending","late"]),kwe=Bt("admin_role",["super_admin","support_admin","finance_admin","content_admin","admin"]),Mwe=Bt("ticket_status",["open","in_progress","resolved","closed"]),Rwe=Bt("ticket_priority",["low","medium","high"]),Dwe=Bt("news_status",["draft","published"]),yW=Bt("scope",["national","local"]),Iwe=Bt("payment_status",["pending","completed","failed","refunded"]),Lwe=Bt("payment_request_status",["pending","paid","expired","cancelled"]),$we=Bt("user_global_role",["platform_super_admin","platform_support","platform_commercial"]),zwe=Bt("billing_period",["one_time","monthly","yearly"]),vW=Bt("email_type",["welcome_community_admin","invite_delegate","invite_member","reset_password","verify_email","new_event","new_collection","collection_contribution_thanks","message_to_admin"]),qwe=Bt("collection_status",["open","closed","canceled"]),Fwe=Bt("transaction_type",["subscription","membership","collection"]),Bwe=Bt("transaction_status",["pending","succeeded","failed","refunded"]),Uwe=Bt("white_label_tier",["basic","standard","premium"]),Vwe=Bt("billing_mode",["self_service","manual_contract"]),Kwe=Bt("maintenance_status",["active","pending","late","stopped"]),Hwe=Bt("tag_type",["user","content","hybrid"]),Gwe=Bt("membership_billing_type",["one_time","annual"]),Wwe=Bt("membership_plan_type",["FIXED_PERIOD","ROLLING_DURATION"]),Ywe=Bt("fixed_period_type",["CALENDAR_YEAR","SEASON"]),Qwe=Bt("event_visibility_mode",["ALL","SECTION","TAGS"]),Xwe=Bt("event_rsvp_mode",["NONE","OPTIONAL","REQUIRED","APPROVAL"]),Zwe=Bt("event_status",["DRAFT","PUBLISHED","CANCELLED"]),Jwe=Bt("event_registration_status",["GOING","NOT_GOING","WAITLIST","PENDING","CANCELLED"]),e1e=Bt("event_payment_status",["NONE","PENDING","PAID","FAILED","REFUNDED"]),t1e=Bt("attendance_source",["QR_SCAN","MANUAL"]),n1e=Bt("membership_payment_status",["free","due","paid"]),r1e=Bt("account_type",["STANDARD","GRAND_COMPTE"]),AT=Bt("saas_client_status",["ACTIVE","IMPAYE_1","IMPAYE_2","SUSPENDU","RESILIE"]),s1e=Bt("saas_transition_reason",["PAYMENT_FAILED","PAYMENT_SUCCEEDED","DELAY_EXPIRED","MANUAL"]),a1e=Bt("self_enrollment_channel",["OFFLINE","ONLINE"]),i1e=Bt("self_enrollment_mode",["OPEN","CLOSED"]),o1e=Bt("enrollment_request_status",["PENDING","APPROVED","REJECTED","CANCELLED","EXPIRED","CONVERTED"]),Rf=[{value:"sports_club",label:"Club sportif"},{value:"association",label:"Association"},{value:"union",label:"Syndicat / Union"},{value:"cultural",label:"Communaut culturelle"},{value:"students",label:"Groupe d'tudiants"},{value:"parents",label:"Association de parents"},{value:"corporate",label:"Communaut d'entreprise"},{value:"neighborhood",label:"Communaut de quartier"},{value:"youth",label:"Groupe de jeunes"},{value:"charity",label:"Organisation caritative / ONG"},{value:"professional",label:"Rseau professionnel"},{value:"religious",label:"Communaut religieuse"},{value:"hobby",label:"Groupe de loisirs / hobby"},{value:"community_org",label:"Organisation communautaire"},{value:"other",label:"Autre"}],BO=Yt("accounts",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),email:ce("email").notNull().unique(),passwordHash:ce("password_hash").notNull(),firstName:ce("first_name"),lastName:ce("last_name"),avatar:ce("avatar"),authProvider:ce("auth_provider").default("email"),providerId:ce("provider_id"),firebaseUid:ce("firebase_uid").unique(),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),l1e=Bt("billing_status",["trialing","active","past_due","canceled","unpaid"]),bW=Yt("plans",{id:ke("id",{length:50}).primaryKey(),code:ce("code").notNull().unique(),name:ce("name").notNull(),description:ce("description"),tagline:ce("tagline"),maxMembers:ut("max_members"),maxAdmins:ut("max_admins"),priceMonthly:ut("price_monthly"),priceYearly:ut("price_yearly"),features:Pr("features").$type().notNull(),capabilities:Pr("capabilities").$type().default({}),isPopular:xn("is_popular").default(!1),isPublic:xn("is_public").default(!0),isCustom:xn("is_custom").default(!1),isWhiteLabel:xn("is_white_label").default(!1),sortOrder:ut("sort_order").default(0)}),Aa={FREE:"FREE",PLUS:"PLUS",PRO:"PRO",GRAND_COMPTE:"GRAND_COMPTE"},Dr=Yt("communities",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),ownerId:ke("owner_id",{length:50}).references(()=>ha.id),name:ce("name").notNull(),communityType:ce("community_type").notNull().default("association"),communityTypeOther:ce("community_type_other"),category:ce("category"),logo:ce("logo"),primaryColor:ce("primary_color").default("207 100% 63%"),secondaryColor:ce("secondary_color").default("350 80% 55%"),description:ce("description"),address:ce("address"),city:ce("city"),postalCode:ce("postal_code"),country:ce("country").default("France"),contactEmail:ce("contact_email"),contactPhone:ce("contact_phone"),siret:ce("siret"),iban:ce("iban"),bic:ce("bic"),website:ce("website"),facebook:ce("facebook"),twitter:ce("twitter"),instagram:ce("instagram"),linkedin:ce("linkedin"),membershipStartDate:Fe("membership_start_date"),membershipEndDate:Fe("membership_end_date"),welcomeMessage:ce("welcome_message"),membershipFeeEnabled:xn("membership_fee_enabled").default(!1),membershipFeeAmount:ut("membership_fee_amount"),currency:ce("currency").default("EUR"),billingPeriod:zwe("billing_period").default("yearly"),stripePriceId:ce("stripe_price_id"),stripeProductId:ce("stripe_product_id"),stripeCustomerId:ce("stripe_customer_id"),stripeSubscriptionId:ce("stripe_subscription_id"),memberCount:ut("member_count").default(0),planId:ke("plan_id",{length:50}).references(()=>bW.id).notNull(),subscriptionStatus:Twe("subscription_status").default("active"),billingStatus:l1e("billing_status").default("active"),trialEndsAt:Fe("trial_ends_at"),currentPeriodEnd:Fe("current_period_end"),fullAccessGrantedAt:Fe("full_access_granted_at"),fullAccessExpiresAt:Fe("full_access_expires_at"),fullAccessReason:ce("full_access_reason"),fullAccessGrantedBy:ke("full_access_granted_by",{length:50}),stripeConnectAccountId:ce("stripe_connect_account_id"),paymentsEnabled:xn("payments_enabled").default(!1),platformFeePercent:ut("platform_fee_percent").default(2),maxMembersAllowed:ut("max_members_allowed"),whiteLabel:xn("white_label").default(!1),whiteLabelTier:Uwe("white_label_tier"),billingMode:Vwe("billing_mode").default("self_service"),setupFeeAmountCents:ut("setup_fee_amount_cents"),setupFeeCurrency:ce("setup_fee_currency").default("EUR"),setupFeeInvoiceRef:ce("setup_fee_invoice_ref"),maintenanceAmountYearCents:ut("maintenance_amount_year_cents"),maintenanceCurrency:ce("maintenance_currency").default("EUR"),maintenanceNextBillingDate:Fe("maintenance_next_billing_date"),maintenanceStatus:Kwe("maintenance_status"),internalNotes:ce("internal_notes"),brandConfig:Pr("brand_config").$type(),brandingLogoPath:ce("branding_logo_path"),brandingIconPath:ce("branding_icon_path"),brandingSplashPath:ce("branding_splash_path"),brandingPrimaryColor:ce("branding_primary_color"),brandingSecondaryColor:ce("branding_secondary_color"),customDomain:ce("custom_domain").unique(),webAppUrl:ce("web_app_url"),androidStoreUrl:ce("android_store_url"),iosStoreUrl:ce("ios_store_url"),whiteLabelIncludedMembers:ut("white_label_included_members"),whiteLabelMaxMembersSoftLimit:ut("white_label_max_members_soft_limit"),whiteLabelAdditionalFeePerMemberCents:ut("white_label_additional_fee_per_member_cents"),accountType:r1e("account_type").default("STANDARD"),distributionChannels:Pr("distribution_channels").$type(),contractMemberLimit:ut("contract_member_limit"),contractMemberAlertThreshold:ut("contract_member_alert_threshold").default(90),memberIdPrefix:ce("member_id_prefix"),memberIdCounter:ut("member_id_counter").default(0),saasClientStatus:AT("saas_client_status").default("ACTIVE"),saasStatusChangedAt:Fe("saas_status_changed_at"),unpaidSince:Fe("unpaid_since"),suspendedAt:Fe("suspended_at"),terminatedAt:Fe("terminated_at"),selfEnrollmentEnabled:xn("self_enrollment_enabled").default(!1),selfEnrollmentChannel:a1e("self_enrollment_channel").default("OFFLINE"),selfEnrollmentMode:i1e("self_enrollment_mode").default("OPEN"),selfEnrollmentSlug:ce("self_enrollment_slug").unique(),selfEnrollmentEligiblePlans:Pr("self_enrollment_eligible_plans").$type(),selfEnrollmentRequiredFields:Pr("self_enrollment_required_fields").$type(),selfEnrollmentSectionsEnabled:xn("self_enrollment_sections_enabled").default(!1),createdAt:Fe("created_at").defaultNow().notNull()}),ha=Yt("users",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),firstName:ce("first_name").notNull(),lastName:ce("last_name").notNull(),email:ce("email").notNull().unique(),password:ce("password").notNull(),phone:ce("phone"),avatar:ce("avatar"),globalRole:$we("global_role"),isPlatformOwner:xn("is_platform_owner").default(!1),isActive:xn("is_active").default(!1),emailVerifiedAt:Fe("email_verified_at"),failedLoginAttempts:ut("failed_login_attempts").default(0),lockedUntil:Fe("locked_until"),createdAt:Fe("created_at").defaultNow().notNull()});Yt("platform_verification_tokens",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),userId:ke("user_id",{length:50}).references(()=>ha.id).notNull(),token:ce("token").notNull().unique(),expiresAt:Fe("expires_at").notNull(),usedAt:Fe("used_at"),createdAt:Fe("created_at").defaultNow().notNull()});const c1e=Yt("platform_sessions",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),userId:ke("user_id",{length:50}).references(()=>ha.id).notNull(),token:ce("token").notNull().unique(),ipAddress:ce("ip_address"),userAgent:ce("user_agent"),expiresAt:Fe("expires_at").notNull(),revokedAt:Fe("revoked_at"),createdAt:Fe("created_at").defaultNow().notNull()}),u1e=Bt("audit_action_enum",["login","logout","session_expired","session_renewed","create_user","update_user","delete_user","update_role","create_community","update_community","delete_community","update_plan","update_settings","access_denied","ip_blocked"]),d1e=Yt("platform_audit_logs",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),userId:ke("user_id",{length:50}).references(()=>ha.id),action:u1e("action").notNull(),targetType:ce("target_type"),targetId:ce("target_id"),details:Pr("details").$type(),ipAddress:ce("ip_address"),userAgent:ce("user_agent"),countryCode:ce("country_code"),success:xn("success").default(!0),errorMessage:ce("error_message"),createdAt:Fe("created_at").defaultNow().notNull()}),m1e=Bt("salutation_enum",["M","Mme","Autre"]),au=Yt("user_community_memberships",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),userId:ke("user_id",{length:50}).references(()=>ha.id),accountId:ke("account_id",{length:50}).references(()=>BO.id),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),memberId:ce("member_id").notNull(),claimCode:ce("claim_code"),displayName:ce("display_name"),salutation:m1e("salutation"),firstName:ce("first_name"),lastName:ce("last_name"),profileData:Pr("profile_data").$type(),email:ce("email"),phone:ce("phone"),role:ce("role").notNull(),adminRole:kwe("admin_role"),status:Pwe("status").default("active"),section:ce("section"),joinDate:Fe("join_date").defaultNow().notNull(),contributionStatus:Owe("contribution_status").default("pending"),nextDueDate:Fe("next_due_date"),claimedAt:Fe("claimed_at"),membershipPlanId:ke("membership_plan_id",{length:50}),membershipPriceCustom:ut("membership_price_custom"),membershipCurrency:ce("membership_currency").default("EUR"),membershipPaymentStatus:n1e("membership_payment_status").default("free"),membershipAmountDue:ut("membership_amount_due").default(0),membershipPaidAt:Fe("membership_paid_at"),membershipValidUntil:Fe("membership_valid_until"),membershipAmountPaid:ut("membership_amount_paid"),membershipPaymentProvider:ce("membership_payment_provider"),membershipPaymentReference:ce("membership_payment_reference"),membershipStartDate:Fe("membership_start_date"),membershipSeasonLabel:ce("membership_season_label"),canManageArticles:xn("can_manage_articles").default(!0),canManageEvents:xn("can_manage_events").default(!0),canManageCollections:xn("can_manage_collections").default(!0),canManageMessages:xn("can_manage_messages").default(!0),canManageMembers:xn("can_manage_members").default(!0),canScanPresence:xn("can_scan_presence").default(!0),isOwner:xn("is_owner").default(!1),sectionScope:ce("section_scope").default("ALL"),sectionIds:Pr("section_ids").$type(),permissions:Pr("permissions").$type().default([])}),UO=Yt("sections",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),name:ce("name").notNull(),code:ke("code",{length:50}),type:ke("type",{length:50}),note:ce("note"),isActive:xn("is_active").default(!0),sortOrder:ut("sort_order").default(0)}),f1e=Yt("enrollment_requests",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),email:ce("email").notNull(),firstName:ce("first_name"),lastName:ce("last_name"),phone:ce("phone"),membershipPlanId:ke("membership_plan_id",{length:50}),sectionIds:Pr("section_ids").$type(),profileData:Pr("profile_data").$type(),status:o1e("status").default("PENDING").notNull(),reviewedBy:ke("reviewed_by",{length:50}).references(()=>ha.id),reviewedAt:Fe("reviewed_at"),rejectionReason:ce("rejection_reason"),paymentRequested:xn("payment_requested").default(!1),paymentRequestedAt:Fe("payment_requested_at"),paymentRequestedBy:ke("payment_requested_by",{length:50}).references(()=>ha.id),stripePaymentLinkId:ce("stripe_payment_link_id"),stripeCheckoutSessionId:ce("stripe_checkout_session_id"),convertedMembershipId:ke("converted_membership_id",{length:50}),convertedAt:Fe("converted_at"),distributionUniverse:ce("distribution_universe"),expiresAt:Fe("expires_at"),rgpdConsentAt:Fe("rgpd_consent_at").notNull(),marketingConsentAt:Fe("marketing_consent_at"),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),jW=["ADDRESS","EMERGENCY_CONTACT","MINOR_GUARDIANS"],wW=["admin_only","member_editable"],E0=ew(jW),NW=ew(wW);Jj(E0,NW).optional();Vd({enabledFields:tx(E0).optional(),requiredFields:tx(E0).optional(),visibility:Jj(E0,NW).optional()}).refine(e=>{if(e.requiredFields&&e.requiredFields.length>0){const t=e.enabledFields??[];return e.requiredFields.every(r=>t.includes(r))}return!0},{message:"Les champs obligatoires doivent tre activs"});const VO=["M","Mme","Autre"],h1e=ew(VO).nullable().optional(),p1e=Vd({street:ca().optional(),postalCode:ca().optional(),city:ca().optional(),country:ca().optional()}).optional(),g1e=Vd({name:ca().optional(),phone:ca().optional(),relationship:ca().optional()}).optional(),x1e=Vd({salutation:h1e,firstName:ca().optional(),lastName:ca().optional(),email:ca().email().optional().or(hW("")),phone:ca().optional()});Vd({ADDRESS:p1e,EMERGENCY_CONTACT:g1e,MINOR_GUARDIANS:tx(x1e).optional()}).partial().nullable();Yt("community_member_profile_config",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull().unique(),enabledFields:Pr("enabled_fields").$type(),requiredFields:Pr("required_fields").$type(),visibility:Pr("visibility").$type(),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()});const KO=Yt("news_articles",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),title:ce("title").notNull(),summary:ce("summary").notNull(),content:ce("content").notNull(),category:ce("category"),categoryId:ke("category_id",{length:50}).references(()=>_W.id),image:ce("image"),scope:yW("scope").default("national"),section:ce("section"),author:ce("author").notNull(),status:Dwe("status").default("draft"),publishedAt:Fe("published_at").defaultNow().notNull()}),HO=Yt("events",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),title:ce("title").notNull(),description:ce("description").notNull(),date:Fe("date").notNull(),endDate:Fe("end_date"),location:ce("location").notNull(),type:ce("type").notNull(),scope:yW("scope").default("national"),section:ce("section"),participants:ut("participants").default(0),createdByAdminId:ke("created_by_admin_id",{length:50}).references(()=>ha.id),visibilityMode:Qwe("visibility_mode").default("ALL"),sectionId:ke("section_id",{length:50}).references(()=>UO.id),tagIds:ce("tag_ids").array(),rsvpMode:Xwe("rsvp_mode").default("NONE"),rsvpDeadlineAt:Fe("rsvp_deadline_at"),capacity:ut("capacity"),isPaid:xn("is_paid").default(!1),priceCents:ut("price_cents"),currency:ce("currency").default("EUR"),status:Zwe("status").default("DRAFT"),paidEventCountedAt:Fe("paid_event_counted_at"),image:ce("image"),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),y1e=Yt("event_registrations",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),eventId:ke("event_id",{length:50}).references(()=>HO.id).notNull(),membershipId:ke("membership_id",{length:50}).references(()=>au.id).notNull(),accountId:ke("account_id",{length:50}).references(()=>BO.id),status:Jwe("status").default("PENDING"),paymentStatus:e1e("payment_status").default("NONE"),amountCents:ut("amount_cents"),currency:ce("currency").default("EUR"),stripeCheckoutSessionId:ce("stripe_checkout_session_id"),stripePaymentIntentId:ce("stripe_payment_intent_id"),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),v1e=Yt("event_attendance",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),eventId:ke("event_id",{length:50}).references(()=>HO.id).notNull(),membershipId:ke("membership_id",{length:50}).references(()=>au.id).notNull(),scannedByAdminId:ke("scanned_by_admin_id",{length:50}).references(()=>ha.id),scannedAt:Fe("scanned_at").defaultNow().notNull(),source:t1e("source").default("QR_SCAN")}),b1e=Yt("community_monthly_usage",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),yearMonth:ke("year_month",{length:7}).notNull(),paidEventsCreatedCount:ut("paid_events_created_count").default(0),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),SW=Yt("support_tickets",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),userId:ke("user_id",{length:50}).references(()=>ha.id).notNull(),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),subject:ce("subject").notNull(),message:ce("message").notNull(),status:Mwe("status").default("open"),priority:Rwe("priority").default("medium"),assignedTo:ke("assigned_to",{length:50}).references(()=>ha.id),assignedAt:Fe("assigned_at"),resolvedAt:Fe("resolved_at"),createdAt:Fe("created_at").defaultNow().notNull(),lastUpdate:Fe("last_update").defaultNow().notNull()}),j1e=Yt("ticket_responses",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),ticketId:ke("ticket_id",{length:50}).references(()=>SW.id).notNull(),userId:ke("user_id",{length:50}).references(()=>ha.id).notNull(),message:ce("message").notNull(),isInternal:xn("is_internal").default(!1),createdAt:Fe("created_at").defaultNow().notNull()}),w1e=Yt("faqs",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),question:ce("question").notNull(),answer:ce("answer").notNull(),category:ce("category").notNull(),targetRole:ce("target_role").notNull()}),N1e=Yt("messages",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),conversationId:ke("conversation_id",{length:50}).notNull(),senderMembershipId:ke("sender_membership_id",{length:50}).references(()=>au.id),senderType:ce("sender_type").notNull().default("member"),content:ce("content").notNull(),read:xn("read").default(!1),createdAt:Fe("created_at").defaultNow().notNull()}),CW=Yt("membership_fees",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),name:ce("name").notNull(),amount:ut("amount").notNull(),currency:ce("currency").default("EUR"),period:ce("period").notNull(),description:ce("description"),isActive:xn("is_active").default(!0)}),S1e=Yt("membership_plans",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),name:ce("name").notNull(),slug:ce("slug").notNull(),tagline:ce("tagline"),amount:ut("amount").notNull().default(0),currency:ce("currency").default("EUR"),billingType:Gwe("billing_type").default("annual"),membershipType:Wwe("membership_type").default("FIXED_PERIOD"),fixedPeriodType:Ywe("fixed_period_type"),rollingDurationMonths:ut("rolling_duration_months"),description:ce("description"),isActive:xn("is_active").default(!0),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),AW=Yt("payment_requests",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),membershipId:ke("membership_id",{length:50}).references(()=>au.id).notNull(),feeId:ke("fee_id",{length:50}).references(()=>CW.id).notNull(),amount:ut("amount").notNull(),currency:ce("currency").default("EUR"),status:Lwe("status").default("pending"),dueDate:Fe("due_date").notNull(),message:ce("message"),createdAt:Fe("created_at").defaultNow().notNull(),paidAt:Fe("paid_at")}),C1e=Yt("payments",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),membershipId:ke("membership_id",{length:50}).references(()=>au.id).notNull(),paymentRequestId:ke("payment_request_id",{length:50}).references(()=>AW.id),amount:ut("amount").notNull(),currency:ce("currency").default("EUR"),status:Iwe("status").default("pending"),paymentMethod:ce("payment_method"),stripePaymentId:ce("stripe_payment_id"),description:ce("description"),createdAt:Fe("created_at").defaultNow().notNull(),completedAt:Fe("completed_at")}),EW=Yt("collections",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),title:ce("title").notNull(),description:ce("description"),targetAmountCents:ut("target_amount_cents"),amountCents:ut("amount_cents").notNull(),currency:ce("currency").default("EUR"),status:qwe("status").default("open"),platformFeePercent:ut("platform_fee_percent"),allowCustomAmount:xn("allow_custom_amount").default(!1),deadline:Fe("deadline"),collectedAmountCents:ut("collected_amount_cents").default(0),participantsCount:ut("participants_count").default(0),createdAt:Fe("created_at").defaultNow().notNull(),closedAt:Fe("closed_at")}),A1e=Yt("transactions",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),membershipId:ke("membership_id",{length:50}).references(()=>au.id),collectionId:ke("collection_id",{length:50}).references(()=>EW.id),type:Fwe("type").notNull(),amountTotalCents:ut("amount_total_cents").notNull(),amountFeeKoomyCents:ut("amount_fee_koomy_cents").default(0),amountToCommunity:ut("amount_to_community").notNull(),currency:ce("currency").default("EUR"),stripePaymentIntentId:ce("stripe_payment_intent_id"),stripeChargeId:ce("stripe_charge_id"),stripeTransferId:ce("stripe_transfer_id"),stripeApplicationFeeId:ce("stripe_application_fee_id"),status:Bwe("status").default("pending"),metadata:Pr("metadata").$type(),createdAt:Fe("created_at").defaultNow().notNull(),completedAt:Fe("completed_at")}),E1e=Yt("commercial_contacts",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),name:ce("name").notNull(),email:ce("email").notNull(),organization:ce("organization").notNull(),phone:ce("phone"),message:ce("message").notNull(),type:ce("type").notNull(),status:ce("status").default("new"),createdAt:Fe("created_at").defaultNow().notNull()}),_1e=Yt("email_templates",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),type:vW("type").notNull().unique(),subject:ce("subject").notNull(),html:ce("html").notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),T1e=Yt("email_logs",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),to:ce("to").notNull(),type:vW("type").notNull(),sentAt:Fe("sent_at").defaultNow().notNull(),success:xn("success").notNull(),errorMessage:ce("error_message")}),_W=Yt("categories",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),name:ce("name").notNull(),slug:ce("slug").notNull(),sortOrder:ut("sort_order").default(0).notNull(),isActive:xn("is_active").default(!0).notNull(),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),GO=Yt("tags",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),name:ce("name").notNull(),slug:ce("slug").notNull(),color:ce("color"),type:Hwe("type").default("user"),description:ce("description"),isActive:xn("is_active").default(!0).notNull(),createdBy:ke("created_by",{length:50}).references(()=>ha.id),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()}),P1e=Yt("member_tags",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),membershipId:ke("membership_id",{length:50}).references(()=>au.id).notNull(),tagId:ke("tag_id",{length:50}).references(()=>GO.id).notNull()}),O1e=Yt("article_tags",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),articleId:ke("article_id",{length:50}).references(()=>KO.id).notNull(),tagId:ke("tag_id",{length:50}).references(()=>GO.id).notNull(),createdAt:Fe("created_at").defaultNow().notNull()}),k1e=Yt("article_sections",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),articleId:ke("article_id",{length:50}).references(()=>KO.id,{onDelete:"cascade"}).notNull(),sectionId:ke("section_id",{length:50}).references(()=>UO.id,{onDelete:"cascade"}).notNull(),createdAt:Fe("created_at").defaultNow().notNull()},e=>({articleSectionUnique:bje("article_sections_article_section_unique").on(e.articleId,e.sectionId)})),M1e=Yt("subscription_status_audit",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),previousStatus:AT("previous_status").notNull(),newStatus:AT("new_status").notNull(),transitionReason:s1e("transition_reason").notNull(),triggeredBy:ce("triggered_by").notNull(),stripeEventId:ce("stripe_event_id"),stripeInvoiceId:ce("stripe_invoice_id"),metadata:Pr("metadata").$type(),createdAt:Fe("created_at").defaultNow().notNull()}),R1e=Yt("subscription_emails_sent",{id:ke("id",{length:50}).primaryKey().default(Ft`gen_random_uuid()`),communityId:ke("community_id",{length:50}).references(()=>Dr.id).notNull(),emailType:ce("email_type").notNull(),recipientEmail:ce("recipient_email").notNull(),sentAt:Fe("sent_at").defaultNow().notNull(),relatedUnpaidSince:Fe("related_unpaid_since"),metadata:Pr("metadata").$type()}),D1e=Yt("platform_metrics_daily",{metricDate:aW("date").primaryKey().notNull(),totalCommunities:ut("total_communities").default(0),totalMembers:ut("total_members").default(0),newMembers7d:ut("new_members_7d").default(0),totalAdmins:ut("total_admins").default(0),apiLatencyAvgMs:ut("api_latency_avg_ms"),apiLatencyP95Ms:ut("api_latency_p95_ms"),apiErrorRate:iW("api_error_rate",{precision:5,scale:2}),dbSizeMb:ut("db_size_mb"),dbGrowth7dMb:ut("db_growth_7d_mb"),dbConnectionsPeak:ut("db_connections_peak"),topTablesBySize:Pr("top_tables_by_size").$type(),infraCostEstimateEur:ut("infra_cost_estimate_eur_cents"),neonPlan:ce("neon_plan"),neonQuotaMb:ut("neon_quota_mb"),createdAt:Fe("created_at").defaultNow().notNull(),updatedAt:Fe("updated_at").defaultNow().notNull()});nn(bW);nn(Dr).omit({id:!0,createdAt:!0,memberCount:!0});nn(ha).omit({id:!0,createdAt:!0});nn(BO).omit({id:!0,createdAt:!0,updatedAt:!0});nn(au).omit({id:!0,joinDate:!0,claimedAt:!0}).strip();nn(UO).omit({id:!0});nn(KO).omit({id:!0,publishedAt:!0});nn(HO).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({date:rg.date(),endDate:rg.date().optional().nullable(),rsvpDeadlineAt:rg.date().optional().nullable(),paidEventCountedAt:rg.date().optional().nullable()});nn(y1e).omit({id:!0,createdAt:!0,updatedAt:!0});nn(v1e).omit({id:!0,scannedAt:!0});nn(b1e).omit({id:!0,createdAt:!0,updatedAt:!0});nn(SW).omit({id:!0,createdAt:!0,lastUpdate:!0,assignedAt:!0,resolvedAt:!0});nn(j1e).omit({id:!0,createdAt:!0});nn(w1e).omit({id:!0});nn(N1e).omit({id:!0,createdAt:!0});nn(CW).omit({id:!0});nn(S1e).omit({id:!0,createdAt:!0,updatedAt:!0});nn(AW).omit({id:!0,createdAt:!0,paidAt:!0});nn(C1e).omit({id:!0,createdAt:!0,completedAt:!0});nn(EW).omit({id:!0,createdAt:!0,closedAt:!0,collectedAmountCents:!0,participantsCount:!0});nn(A1e).omit({id:!0,createdAt:!0,completedAt:!0});nn(E1e).omit({id:!0,createdAt:!0,status:!0});nn(_1e).omit({id:!0,updatedAt:!0});nn(T1e).omit({id:!0,sentAt:!0});nn(_W).omit({id:!0,createdAt:!0,updatedAt:!0});nn(GO).omit({id:!0,createdAt:!0,updatedAt:!0});nn(P1e).omit({id:!0});nn(O1e).omit({id:!0,createdAt:!0});nn(k1e).omit({id:!0,createdAt:!0});nn(M1e).omit({id:!0,createdAt:!0});nn(R1e).omit({id:!0,sentAt:!0});nn(D1e).omit({createdAt:!0,updatedAt:!0});nn(c1e).omit({id:!0,createdAt:!0,revokedAt:!0});nn(d1e).omit({id:!0,createdAt:!0});nn(f1e).omit({id:!0,createdAt:!0,updatedAt:!0,reviewedAt:!0,convertedAt:!0});function ql(e){return{canManageArticles:e.canManageArticles??!0,canManageEvents:e.canManageEvents??!0,canManageCollections:e.canManageCollections??!0,canManageMessages:e.canManageMessages??!0,canManageMembers:e.canManageMembers??!0,canScanPresence:e.canScanPresence??!0}}function I1e(){const[e,t]=zt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(1),{setUser:d,selectCommunity:m}=dt(),[f,h]=v.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",communityName:"",communityType:"",communityTypeOther:""}),g=(C,E)=>{h(T=>({...T,[C]:E}))},b=()=>!f.firstName||!f.lastName||!f.email||!f.password?(X.error("Veuillez remplir tous les champs obligatoires"),!1):f.password!==f.confirmPassword?(X.error("Les mots de passe ne correspondent pas"),!1):f.password.length<8?(X.error("Le mot de passe doit contenir au moins 8 caractres"),!1):!0,w=()=>!f.communityName||!f.communityType?(X.error("Veuillez remplir le nom et le type de votre communaut"),!1):f.communityType==="other"&&!f.communityTypeOther?(X.error("Veuillez prciser le type de votre communaut"),!1):!0,y=()=>{o===1&&b()&&c(2)},j=async C=>{if(C.preventDefault(),!!w()){i(!0);try{const E=await fetch(`${Lt()}/api/admin/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:f.firstName,lastName:f.lastName,email:f.email,phone:f.phone||null,password:f.password,communityName:f.communityName,communityType:f.communityType,communityTypeOther:f.communityTypeOther||null})}),T=await E.json();if(!E.ok)throw new Error(T.error||"Erreur lors de l'inscription");const A={...T.user,memberships:T.memberships};d(A),T.memberships.length>0&&m(T.memberships[0].communityId),X.success("Compte cr avec succs! Bienvenue sur Koomy."),setTimeout(()=>{t(T.memberships.length>0?`/app/${T.memberships[0].communityId}/admin`:"/app/admin/dashboard")},100)}catch(E){X.error(E instanceof Error?E.message:"Erreur lors de l'inscription")}finally{i(!1)}}},N=()=>n.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[n.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full text-xs font-bold transition-all ${o>=1?"bg-purple-500 text-white":"bg-white/10 text-gray-400"}`,children:o>1?n.jsx(Ws,{size:14}):"1"}),n.jsx("div",{className:`w-8 h-0.5 ${o>=2?"bg-purple-500":"bg-white/10"}`}),n.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full text-xs font-bold transition-all ${o>=2?"bg-purple-500 text-white":"bg-white/10 text-gray-400"}`,children:"2"})]});return n.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden","data-testid":"mobile-admin-register-page",style:{background:"linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)"},children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full h-80 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-20 -left-20 w-80 h-80 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(138, 43, 226, 0.4) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute -top-10 right-0 w-60 h-60 rounded-full opacity-15",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.4) 0%, transparent 70%)"}})]}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col px-6 pt-8 pb-6",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsx("img",{src:$g,alt:"Koomy",className:"w-32 h-auto mb-4 drop-shadow-lg"}),n.jsx("h1",{className:"text-xl font-bold text-white text-center",children:"Crez votre espace Koomy"}),n.jsx("p",{className:"text-gray-400 text-sm text-center mt-1",children:o===1?"Vos informations personnelles":"Identit de votre communaut"})]}),n.jsx(N,{}),n.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-3xl p-5 border border-white/20 shadow-2xl flex-1 overflow-y-auto",children:o===1?n.jsxs("form",{onSubmit:C=>{C.preventDefault(),y()},className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Prnom *"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{type:"text",placeholder:"Jean",value:f.firstName,onChange:C=>g("firstName",C.target.value),className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white placeholder:text-gray-500 text-sm",required:!0,"data-testid":"input-register-firstname"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Nom *"}),n.jsx(ne,{type:"text",placeholder:"Dupont",value:f.lastName,onChange:C=>g("lastName",C.target.value),className:"h-11 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white placeholder:text-gray-500 text-sm",required:!0,"data-testid":"input-register-lastname"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Email *"}),n.jsxs("div",{className:"relative",children:[n.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{type:"email",placeholder:"email@exemple.com",value:f.email,onChange:C=>g("email",C.target.value),className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white placeholder:text-gray-500 text-sm",required:!0,"data-testid":"input-register-email"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Tlphone"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{type:"tel",placeholder:"06 12 34 56 78",value:f.phone,onChange:C=>g("phone",C.target.value),className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white placeholder:text-gray-500 text-sm","data-testid":"input-register-phone"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Mot de passe *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{type:r?"text":"password",placeholder:"Minimum 8 caractres",value:f.password,onChange:C=>g("password",C.target.value),className:"h-11 pl-10 pr-10 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white placeholder:text-gray-500 text-sm",required:!0,"data-testid":"input-register-password"}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-400",children:r?n.jsx(ma,{size:16}):n.jsx(ws,{size:16})})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Confirmer le mot de passe *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{type:r?"text":"password",placeholder:"Confirmez votre mot de passe",value:f.confirmPassword,onChange:C=>g("confirmPassword",C.target.value),className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white placeholder:text-gray-500 text-sm",required:!0,"data-testid":"input-register-confirm-password"})]})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl text-base font-bold mt-4 group",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",boxShadow:"0 4px 14px -2px rgba(139, 92, 246, 0.5)"},"data-testid":"button-register-next",children:n.jsxs("span",{className:"flex items-center gap-2",children:["Continuer ",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})})]}):n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Nom de votre communaut *"}),n.jsxs("div",{className:"relative",children:[n.jsx(ys,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{type:"text",placeholder:"Ex: Club de Tennis de Lyon",value:f.communityName,onChange:C=>g("communityName",C.target.value),className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white placeholder:text-gray-500 text-sm",required:!0,"data-testid":"input-register-community-name"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Type de communaut *"}),n.jsxs(it,{value:f.communityType,onValueChange:C=>g("communityType",C),children:[n.jsx(rt,{className:"h-11 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white text-sm [&>span]:text-gray-400 data-[state=open]:border-purple-400","data-testid":"select-register-community-type",children:n.jsx(ot,{placeholder:"Slectionnez un type"})}),n.jsx(st,{className:"bg-slate-800 border-slate-700",children:Rf.map(C=>n.jsx(Ae,{value:C.value,className:"text-white hover:bg-slate-700 focus:bg-slate-700",children:C.label},C.value))})]})]}),f.communityType==="other"&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Prcisez le type *"}),n.jsx(ne,{type:"text",placeholder:"Ex: Collectif d'artistes",value:f.communityTypeOther,onChange:C=>g("communityTypeOther",C.target.value),className:"h-11 rounded-xl bg-white/10 border-white/20 focus:border-purple-400 text-white placeholder:text-gray-500 text-sm","data-testid":"input-register-community-type-other"})]}),n.jsx("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4 mt-4",children:n.jsx("p",{className:"text-purple-300 text-xs leading-relaxed",children:"Vous pourrez personnaliser davantage votre communaut (logo, description, cotisations...) depuis le tableau de bord aprs la cration."})}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsxs(H,{type:"button",variant:"outline",onClick:()=>c(1),className:"flex-1 h-12 rounded-xl border-2 border-gray-600 text-gray-300 hover:bg-white/5 font-semibold","data-testid":"button-register-back",children:[n.jsx(Bn,{size:18,className:"mr-2"}),"Retour"]}),n.jsx(H,{type:"submit",className:"flex-1 h-12 rounded-xl text-base font-bold group",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",boxShadow:"0 4px 14px -2px rgba(139, 92, 246, 0.5)"},disabled:a,"data-testid":"button-register-submit",children:a?"Cration...":n.jsxs("span",{className:"flex items-center gap-2",children:["Crer ",n.jsx(En,{className:"group-hover:translate-x-1 transition-transform",size:18})]})})]})]})}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("button",{type:"button",onClick:()=>t("/app/admin/login"),className:"text-sm font-medium text-gray-400 hover:text-purple-400 transition-colors","data-testid":"link-back-to-login",children:["Dj un compte ? ",n.jsx("span",{className:"underline",children:"Se connecter"})]})})]})]})}function L1e(){const[e,t]=zt(),{user:r,currentMembership:s}=dt();return v.useEffect(()=>{r?s?t(`/app/${s.communityId}/admin`):r.memberships&&r.memberships.length===1?t(`/app/${r.memberships[0].communityId}/admin`):t("/app/admin/dashboard"):t("/app/admin/login")},[r,s,t]),null}function ib(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var $1e=qa[" useInsertionEffect ".trim().toString()]||an;function z1e({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=q1e({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=F1e(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function q1e({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return $1e(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function F1e(e){return typeof e=="function"}function xr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function B1e(e){const t=U1e(e),r=v.forwardRef((s,a)=>{const{children:i,...o}=s,c=v.Children.toArray(i),d=c.find(K1e);if(d){const m=d.props.children,f=c.map(h=>h===d?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:h);return n.jsx(t,{...o,ref:a,children:v.isValidElement(m)?v.cloneElement(m,void 0,f):null})}return n.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function U1e(e){const t=v.forwardRef((r,s)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=G1e(a),c=H1e(i,a.props);return a.type!==v.Fragment&&(c.ref=s?Ro(s,o):o),v.cloneElement(a,c)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V1e=Symbol("radix.slottable");function K1e(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V1e}function H1e(e,t){const r={...t};for(const s in t){const a=e[s],i=t[s];/^on[A-Z]/.test(s)?a&&i?r[s]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[s]=a):s==="style"?r[s]={...a,...i}:s==="className"&&(r[s]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function G1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ET=["Enter"," "],W1e=["ArrowDown","PageUp","Home"],TW=["ArrowUp","PageDown","End"],Y1e=[...W1e,...TW],Q1e={ltr:[...ET,"ArrowRight"],rtl:[...ET,"ArrowLeft"]},X1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ty="Menu",[nx,Z1e,J1e]=Dj(ty),[Kd,PW]=ts(ty,[J1e,Gj,yh]),tw=Gj(),OW=yh(),[eNe,Hd]=Kd(ty),[tNe,ny]=Kd(ty),kW=e=>{const{__scopeMenu:t,open:r=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=e,c=tw(t),[d,m]=v.useState(null),f=v.useRef(!1),h=qn(i),g=Ud(a);return v.useEffect(()=>{const b=()=>{f.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>f.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),n.jsx(lG,{...c,children:n.jsx(eNe,{scope:t,open:r,onOpenChange:h,content:d,onContentChange:m,children:n.jsx(tNe,{scope:t,onClose:v.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:g,modal:o,children:s})})})};kW.displayName=ty;var nNe="MenuAnchor",WO=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=tw(r);return n.jsx(cG,{...a,...s,ref:t})});WO.displayName=nNe;var YO="MenuPortal",[rNe,MW]=Kd(YO,{forceMount:void 0}),RW=e=>{const{__scopeMenu:t,forceMount:r,children:s,container:a}=e,i=Hd(YO,t);return n.jsx(rNe,{scope:t,forceMount:r,children:n.jsx(Ls,{present:r||i.open,children:n.jsx(Pj,{asChild:!0,container:a,children:s})})})};RW.displayName=YO;var hi="MenuContent",[sNe,QO]=Kd(hi),DW=v.forwardRef((e,t)=>{const r=MW(hi,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Hd(hi,e.__scopeMenu),o=ny(hi,e.__scopeMenu);return n.jsx(nx.Provider,{scope:e.__scopeMenu,children:n.jsx(Ls,{present:s||i.open,children:n.jsx(nx.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(aNe,{...a,ref:t}):n.jsx(iNe,{...a,ref:t})})})})}),aNe=v.forwardRef((e,t)=>{const r=Hd(hi,e.__scopeMenu),s=v.useRef(null),a=xt(t,s);return v.useEffect(()=>{const i=s.current;if(i)return iO(i)},[]),n.jsx(XO,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:xr(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),iNe=v.forwardRef((e,t)=>{const r=Hd(hi,e.__scopeMenu);return n.jsx(XO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),oNe=B1e("MenuContent.ScrollLock"),XO=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:b,disableOutsideScroll:w,...y}=e,j=Hd(hi,r),N=ny(hi,r),C=tw(r),E=OW(r),T=Z1e(r),[A,k]=v.useState(null),P=v.useRef(null),O=xt(t,P,j.onContentChange),M=v.useRef(0),F=v.useRef(""),D=v.useRef(0),$=v.useRef(null),V=v.useRef("right"),z=v.useRef(0),q=w?kj:v.Fragment,I=w?{as:oNe,allowPinchZoom:!0}:void 0,K=B=>{const ie=F.current+B,G=T().filter(me=>!me.disabled),Y=document.activeElement,se=G.find(me=>me.ref.current===Y)?.textValue,he=G.map(me=>me.textValue),Q=vNe(he,ie,se),xe=G.find(me=>me.textValue===Q)?.ref.current;(function me(Ue){F.current=Ue,window.clearTimeout(M.current),Ue!==""&&(M.current=window.setTimeout(()=>me(""),1e3))})(ie),xe&&setTimeout(()=>xe.focus())};v.useEffect(()=>()=>window.clearTimeout(M.current),[]),aO();const U=v.useCallback(B=>V.current===$.current?.side&&jNe(B,$.current?.area),[]);return n.jsx(sNe,{scope:r,searchRef:F,onItemEnter:v.useCallback(B=>{U(B)&&B.preventDefault()},[U]),onItemLeave:v.useCallback(B=>{U(B)||(P.current?.focus(),k(null))},[U]),onTriggerLeave:v.useCallback(B=>{U(B)&&B.preventDefault()},[U]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback(B=>{$.current=B},[]),children:n.jsx(q,{...I,children:n.jsx(Tj,{asChild:!0,trapped:a,onMountAutoFocus:xr(i,B=>{B.preventDefault(),P.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(_j,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:g,onDismiss:b,children:n.jsx(SO,{asChild:!0,...E,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:A,onCurrentTabStopIdChange:k,onEntryFocus:xr(d,B=>{N.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(uG,{role:"menu","aria-orientation":"vertical","data-state":XW(j.open),"data-radix-menu-content":"",dir:N.dir,...C,...y,ref:O,style:{outline:"none",...y.style},onKeyDown:xr(y.onKeyDown,B=>{const G=B.target.closest("[data-radix-menu-content]")===B.currentTarget,Y=B.ctrlKey||B.altKey||B.metaKey,se=B.key.length===1;G&&(B.key==="Tab"&&B.preventDefault(),!Y&&se&&K(B.key));const he=P.current;if(B.target!==he||!Y1e.includes(B.key))return;B.preventDefault();const xe=T().filter(me=>!me.disabled).map(me=>me.ref.current);TW.includes(B.key)&&xe.reverse(),xNe(xe)}),onBlur:xr(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(M.current),F.current="")}),onPointerMove:xr(e.onPointerMove,rx(B=>{const ie=B.target,G=z.current!==B.clientX;if(B.currentTarget.contains(ie)&&G){const Y=B.clientX>z.current?"right":"left";V.current=Y,z.current=B.clientX}}))})})})})})})});DW.displayName=hi;var lNe="MenuGroup",ZO=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(at.div,{role:"group",...s,ref:t})});ZO.displayName=lNe;var cNe="MenuLabel",IW=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(at.div,{...s,ref:t})});IW.displayName=cNe;var ob="MenuItem",KL="menu.itemSelect",nw=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:s,...a}=e,i=v.useRef(null),o=ny(ob,e.__scopeMenu),c=QO(ob,e.__scopeMenu),d=xt(t,i),m=v.useRef(!1),f=()=>{const h=i.current;if(!r&&h){const g=new CustomEvent(KL,{bubbles:!0,cancelable:!0});h.addEventListener(KL,b=>s?.(b),{once:!0}),XV(h,g),g.defaultPrevented?m.current=!1:o.onClose()}};return n.jsx(LW,{...a,ref:d,disabled:r,onClick:xr(e.onClick,f),onPointerDown:h=>{e.onPointerDown?.(h),m.current=!0},onPointerUp:xr(e.onPointerUp,h=>{m.current||h.currentTarget?.click()}),onKeyDown:xr(e.onKeyDown,h=>{const g=c.searchRef.current!=="";r||g&&h.key===" "||ET.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});nw.displayName=ob;var LW=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:s=!1,textValue:a,...i}=e,o=QO(ob,r),c=OW(r),d=v.useRef(null),m=xt(t,d),[f,h]=v.useState(!1),[g,b]=v.useState("");return v.useEffect(()=>{const w=d.current;w&&b((w.textContent??"").trim())},[i.children]),n.jsx(nx.ItemSlot,{scope:r,disabled:s,textValue:a??g,children:n.jsx(CO,{asChild:!0,...c,focusable:!s,children:n.jsx(at.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:m,onPointerMove:xr(e.onPointerMove,rx(w=>{s?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:xr(e.onPointerLeave,rx(w=>o.onItemLeave(w))),onFocus:xr(e.onFocus,()=>h(!0)),onBlur:xr(e.onBlur,()=>h(!1))})})})}),uNe="MenuCheckboxItem",$W=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:s,...a}=e;return n.jsx(UW,{scope:e.__scopeMenu,checked:r,children:n.jsx(nw,{role:"menuitemcheckbox","aria-checked":lb(r)?"mixed":r,...a,ref:t,"data-state":ek(r),onSelect:xr(a.onSelect,()=>s?.(lb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$W.displayName=uNe;var zW="MenuRadioGroup",[dNe,mNe]=Kd(zW,{value:void 0,onValueChange:()=>{}}),qW=v.forwardRef((e,t)=>{const{value:r,onValueChange:s,...a}=e,i=qn(s);return n.jsx(dNe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(ZO,{...a,ref:t})})});qW.displayName=zW;var FW="MenuRadioItem",BW=v.forwardRef((e,t)=>{const{value:r,...s}=e,a=mNe(FW,e.__scopeMenu),i=r===a.value;return n.jsx(UW,{scope:e.__scopeMenu,checked:i,children:n.jsx(nw,{role:"menuitemradio","aria-checked":i,...s,ref:t,"data-state":ek(i),onSelect:xr(s.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});BW.displayName=FW;var JO="MenuItemIndicator",[UW,fNe]=Kd(JO,{checked:!1}),VW=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:s,...a}=e,i=fNe(JO,r);return n.jsx(Ls,{present:s||lb(i.checked)||i.checked===!0,children:n.jsx(at.span,{...a,ref:t,"data-state":ek(i.checked)})})});VW.displayName=JO;var hNe="MenuSeparator",KW=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e;return n.jsx(at.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});KW.displayName=hNe;var pNe="MenuArrow",HW=v.forwardRef((e,t)=>{const{__scopeMenu:r,...s}=e,a=tw(r);return n.jsx(dG,{...a,...s,ref:t})});HW.displayName=pNe;var gNe="MenuSub",[s8e,GW]=Kd(gNe),sg="MenuSubTrigger",WW=v.forwardRef((e,t)=>{const r=Hd(sg,e.__scopeMenu),s=ny(sg,e.__scopeMenu),a=GW(sg,e.__scopeMenu),i=QO(sg,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,m={__scopeMenu:e.__scopeMenu},f=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>f,[f]),v.useEffect(()=>{const h=c.current;return()=>{window.clearTimeout(h),d(null)}},[c,d]),n.jsx(WO,{asChild:!0,...m,children:n.jsx(LW,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":XW(r.open),...e,ref:Ro(t,a.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:xr(e.onPointerMove,rx(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:xr(e.onPointerLeave,rx(h=>{f();const g=r.content?.getBoundingClientRect();if(g){const b=r.content?.dataset.side,w=b==="right",y=w?-5:5,j=g[w?"left":"right"],N=g[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:j,y:g.top},{x:N,y:g.top},{x:N,y:g.bottom},{x:j,y:g.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:xr(e.onKeyDown,h=>{const g=i.searchRef.current!=="";e.disabled||g&&h.key===" "||Q1e[s.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});WW.displayName=sg;var YW="MenuSubContent",QW=v.forwardRef((e,t)=>{const r=MW(hi,e.__scopeMenu),{forceMount:s=r.forceMount,...a}=e,i=Hd(hi,e.__scopeMenu),o=ny(hi,e.__scopeMenu),c=GW(YW,e.__scopeMenu),d=v.useRef(null),m=xt(t,d);return n.jsx(nx.Provider,{scope:e.__scopeMenu,children:n.jsx(Ls,{present:s||i.open,children:n.jsx(nx.Slot,{scope:e.__scopeMenu,children:n.jsx(XO,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:m,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&d.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:xr(e.onFocusOutside,f=>{f.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:xr(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:xr(e.onKeyDown,f=>{const h=f.currentTarget.contains(f.target),g=X1e[o.dir].includes(f.key);h&&g&&(i.onOpenChange(!1),c.trigger?.focus(),f.preventDefault())})})})})})});QW.displayName=YW;function XW(e){return e?"open":"closed"}function lb(e){return e==="indeterminate"}function ek(e){return lb(e)?"indeterminate":e?"checked":"unchecked"}function xNe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function yNe(e,t){return e.map((r,s)=>e[(t+s)%e.length])}function vNe(e,t,r){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=yNe(e,Math.max(i,0));a.length===1&&(o=o.filter(m=>m!==r));const d=o.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function bNe(e,t){const{x:r,y:s}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],m=c.x,f=c.y,h=d.x,g=d.y;f>s!=g>s&&r<(h-m)*(s-f)/(g-f)+m&&(a=!a)}return a}function jNe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return bNe(r,t)}function rx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wNe=kW,NNe=WO,SNe=RW,CNe=DW,ANe=ZO,ENe=IW,_Ne=nw,TNe=$W,PNe=qW,ONe=BW,kNe=VW,MNe=KW,RNe=HW,DNe=WW,INe=QW,rw="DropdownMenu",[LNe]=ts(rw,[PW]),Qs=PW(),[$Ne,ZW]=LNe(rw),JW=e=>{const{__scopeDropdownMenu:t,children:r,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=Qs(t),m=v.useRef(null),[f,h]=z1e({prop:a,defaultProp:i??!1,onChange:o,caller:rw});return n.jsx($Ne,{scope:t,triggerId:fi(),triggerRef:m,contentId:fi(),open:f,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(g=>!g),[h]),modal:c,children:n.jsx(wNe,{...d,open:f,onOpenChange:h,dir:s,modal:c,children:r})})};JW.displayName=rw;var eY="DropdownMenuTrigger",tY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:s=!1,...a}=e,i=ZW(eY,r),o=Qs(r);return n.jsx(NNe,{asChild:!0,...o,children:n.jsx(at.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Ro(t,i.triggerRef),onPointerDown:ib(e.onPointerDown,c=>{!s&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:ib(e.onKeyDown,c=>{s||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});tY.displayName=eY;var zNe="DropdownMenuPortal",nY=e=>{const{__scopeDropdownMenu:t,...r}=e,s=Qs(t);return n.jsx(SNe,{...s,...r})};nY.displayName=zNe;var rY="DropdownMenuContent",sY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=ZW(rY,r),i=Qs(r),o=v.useRef(!1);return n.jsx(CNe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:t,onCloseAutoFocus:ib(e.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:ib(e.onInteractOutside,c=>{const d=c.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,f=d.button===2||m;(!a.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sY.displayName=rY;var qNe="DropdownMenuGroup",FNe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(ANe,{...a,...s,ref:t})});FNe.displayName=qNe;var BNe="DropdownMenuLabel",aY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(ENe,{...a,...s,ref:t})});aY.displayName=BNe;var UNe="DropdownMenuItem",iY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(_Ne,{...a,...s,ref:t})});iY.displayName=UNe;var VNe="DropdownMenuCheckboxItem",oY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(TNe,{...a,...s,ref:t})});oY.displayName=VNe;var KNe="DropdownMenuRadioGroup",HNe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(PNe,{...a,...s,ref:t})});HNe.displayName=KNe;var GNe="DropdownMenuRadioItem",lY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(ONe,{...a,...s,ref:t})});lY.displayName=GNe;var WNe="DropdownMenuItemIndicator",cY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(kNe,{...a,...s,ref:t})});cY.displayName=WNe;var YNe="DropdownMenuSeparator",uY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(MNe,{...a,...s,ref:t})});uY.displayName=YNe;var QNe="DropdownMenuArrow",XNe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(RNe,{...a,...s,ref:t})});XNe.displayName=QNe;var ZNe="DropdownMenuSubTrigger",dY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(DNe,{...a,...s,ref:t})});dY.displayName=ZNe;var JNe="DropdownMenuSubContent",mY=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...s}=e,a=Qs(r);return n.jsx(INe,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mY.displayName=JNe;var e2e=JW,t2e=tY,n2e=nY,fY=sY,hY=aY,pY=iY,gY=oY,xY=lY,yY=cY,vY=uY,bY=dY,jY=mY;const tk=e2e,nk=t2e,r2e=v.forwardRef(({className:e,inset:t,children:r,...s},a)=>n.jsxs(bY,{ref:a,className:Le("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[r,n.jsx(xs,{className:"ml-auto"})]}));r2e.displayName=bY.displayName;const s2e=v.forwardRef(({className:e,...t},r)=>n.jsx(jY,{ref:r,className:Le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));s2e.displayName=jY.displayName;const sw=v.forwardRef(({className:e,sideOffset:t=4,...r},s)=>n.jsx(n2e,{children:n.jsx(fY,{ref:s,sideOffset:t,className:Le("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));sw.displayName=fY.displayName;const fd=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(pY,{ref:s,className:Le("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));fd.displayName=pY.displayName;const a2e=v.forwardRef(({className:e,children:t,checked:r,...s},a)=>n.jsxs(gY,{ref:a,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(yY,{children:n.jsx(Ws,{className:"h-4 w-4"})})}),t]}));a2e.displayName=gY.displayName;const i2e=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(xY,{ref:s,className:Le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(yY,{children:n.jsx(D9,{className:"h-2 w-2 fill-current"})})}),t]}));i2e.displayName=xY.displayName;const o2e=v.forwardRef(({className:e,inset:t,...r},s)=>n.jsx(hY,{ref:s,className:Le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));o2e.displayName=hY.displayName;const l2e=v.forwardRef(({className:e,...t},r)=>n.jsx(vY,{ref:r,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));l2e.displayName=vY.displayName;const pi="/assets/koomy-logo-B3YF02wE.png";function Or({children:e,communityId:t,communityName:r,permissions:s}){const[a,i]=zt(),{user:o,logout:c}=dt(),d=o?.memberships||[],m=()=>{c(),i("/app/admin/login")};if(!o)return null;if(d.length===0)return n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",style:{background:"linear-gradient(180deg, #1a1a2e 0%, #16213e 100%)"},children:[n.jsx("img",{src:pi,alt:"Koomy",className:"h-10 mb-8"}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 max-w-sm w-full text-center",children:[n.jsx("div",{className:"h-14 w-14 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(br,{className:"h-7 w-7 text-amber-400"})}),n.jsx("h1",{className:"text-lg font-bold text-white mb-2",children:"Aucun club associ"}),n.jsx("p",{className:"text-gray-400 text-sm mb-5",children:"Ce compte n'est li  aucun club. Contactez le propritaire ou utilisez le bon email."}),n.jsxs(H,{onClick:m,variant:"outline",className:"border-white/20 text-white hover:bg-white/10 gap-2",children:[n.jsx(pl,{className:"h-4 w-4"}),"Se dconnecter"]})]})]});if(d.length>1)return n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6",style:{background:"linear-gradient(180deg, #1a1a2e 0%, #16213e 100%)"},children:[n.jsx("img",{src:pi,alt:"Koomy",className:"h-10 mb-8"}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 max-w-sm w-full text-center",children:[n.jsx("div",{className:"h-14 w-14 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Nl,{className:"h-7 w-7 text-red-400"})}),n.jsx("h1",{className:"text-lg font-bold text-white mb-2",children:"Configuration non supporte"}),n.jsxs("p",{className:"text-gray-400 text-sm mb-3",children:["Ce compte est li  ",d.length," clubs. Un admin = un club."]}),n.jsx("p",{className:"text-gray-500 text-xs mb-5",children:"Crez un compte distinct par club."}),n.jsxs(H,{onClick:m,variant:"outline",className:"border-white/20 text-white hover:bg-white/10 gap-2",children:[n.jsx(pl,{className:"h-4 w-4"}),"Se dconnecter"]})]})]});const{data:f}=Pe({queryKey:[`/api/communities/${t}`],enabled:!!t}),{data:h}=Pe({queryKey:[`/api/plans/${f?.planId}`],enabled:!!f?.planId}),g=v.useMemo(()=>f?.whiteLabel&&f?.brandConfig?f.brandConfig:null,[f]),b=g?.appName||r||f?.name||"Ma communaut",w=g?.logoUrl||f?.logo,y=g?.brandColor||"#8b5cf6",j=!!f?.whiteLabel,N=h?.name||f?.planId||"Free",E=[{icon:Kx,label:"Accueil",path:`/app/${t}/admin`},{icon:eu,label:"Articles",path:`/app/${t}/admin/articles`,permission:"canManageArticles"},{icon:Gn,label:"vnements",path:`/app/${t}/admin/events`,permission:"canManageEvents"},{icon:It,label:"Membres",path:`/app/${t}/admin/members`,permission:"canManageMembers"},{icon:tu,label:"Finances",path:`/app/${t}/admin/finances`,permission:"canManageCollections"},{icon:zi,label:"Tags",path:`/app/${t}/admin/tags`},{icon:xo,label:"Messages",path:`/app/${t}/admin/messages`,permission:"canManageMessages"},{icon:Cl,label:"Paramtres",path:`/app/${t}/admin/settings`}].filter(O=>!O.permission||!s?!0:s[O.permission]),T=E.slice(0,4),A=E.slice(4),k=O=>O===`/app/${t}/admin`?a===O:a.startsWith(O),P=A.some(O=>k(O.path));return n.jsxs("div",{className:"min-h-screen flex flex-col",style:{background:j?`linear-gradient(180deg, ${y}15 0%, #16213e 100%)`:"linear-gradient(180deg, #1a1a2e 0%, #16213e 100%)"},"data-testid":"mobile-admin-layout",children:[n.jsx("header",{className:"backdrop-blur-sm border-b px-4 py-3 sticky top-0 z-40",style:{backgroundColor:j?`${y}20`:"rgba(17, 24, 39, 0.8)",borderColor:j?`${y}30`:"rgba(255, 255, 255, 0.1)"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[w&&n.jsxs(ks,{className:"h-10 w-10 border",style:{borderColor:`${y}50`},children:[n.jsx(gO,{src:w,alt:b}),n.jsx(Ms,{style:{backgroundColor:`${y}30`,color:y},children:b.charAt(0).toUpperCase()})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h1",{className:"text-white font-bold text-lg truncate",children:b}),n.jsx("p",{className:"text-gray-400 text-xs truncate",children:o?`${o.firstName} ${o.lastName}`:"Administrateur"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Se,{className:"text-[10px]",style:{backgroundColor:j?`${y}20`:"rgba(139, 92, 246, 0.2)",color:j?y:"#c4b5fd",borderColor:j?`${y}30`:"rgba(139, 92, 246, 0.3)"},children:j?"WL":N}),n.jsx("button",{onClick:m,className:"text-gray-400 hover:text-red-400 transition-colors p-2","data-testid":"button-admin-logout",children:n.jsx(pl,{size:18})})]})]})}),n.jsx("main",{className:"flex-1 overflow-y-auto pb-20",children:e}),n.jsx("nav",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-sm border-t px-2 py-1 z-50",style:{backgroundColor:"rgba(17, 24, 39, 0.95)",borderColor:j?`${y}20`:"rgba(255, 255, 255, 0.1)"},children:n.jsxs("div",{className:"flex items-center justify-around max-w-md mx-auto",children:[T.map(O=>{const M=O.icon,F=k(O.path);return n.jsx($e,{href:O.path,children:n.jsxs("button",{className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all",style:{color:F?j?y:"#a78bfa":"#6b7280"},"data-testid":`nav-${O.label.toLowerCase().replace(/\s+/g,"-")}`,children:[n.jsx(M,{size:20}),n.jsx("span",{className:"text-[10px] mt-1 font-medium",children:O.label})]})},O.path)}),A.length>0&&n.jsxs(tk,{children:[n.jsx(nk,{asChild:!0,children:n.jsxs("button",{className:"flex flex-col items-center py-2 px-3 rounded-lg transition-all",style:{color:P?j?y:"#a78bfa":"#6b7280"},"data-testid":"nav-more",children:[n.jsx(zae,{size:20}),n.jsx("span",{className:"text-[10px] mt-1 font-medium",children:"Plus"})]})}),n.jsx(sw,{align:"end",className:"w-48 mb-2 bg-gray-900 border-white/10",children:A.map(O=>{const M=O.icon,F=k(O.path);return n.jsx(fd,{asChild:!0,className:F?"bg-white/10":"",children:n.jsx($e,{href:O.path,children:n.jsxs("div",{className:"flex items-center gap-3 w-full py-1",children:[n.jsx(M,{size:18,style:{color:F?j?y:"#a78bfa":"#9ca3af"}}),n.jsx("span",{className:"text-sm",style:{color:F?j?y:"#a78bfa":"#e5e7eb"},children:O.label})]})})},O.path)})})]})]})}),j&&g?.showPoweredBy!==!1&&n.jsx("div",{className:"fixed bottom-16 left-0 right-0 text-center py-1 text-[10px] text-gray-500 z-40",children:"Propuls par Koomy"})]})}function c2e({params:e}){const[t,r]=zt(),s=e.communityId,{user:a,currentCommunity:i,currentMembership:o,selectCommunity:c}=dt(),d=v.useMemo(()=>{if(o)return ql(o)},[o]);v.useEffect(()=>{if(!a){r("/app/admin/login");return}i?.id!==s&&c(s)},[a,s,i,c,r]);const{data:m}=Pe({queryKey:[`/api/communities/${s}`],enabled:!!s}),{data:f=[]}=Pe({queryKey:[`/api/communities/${s}/memberships`],enabled:!!s}),{data:h=[]}=Pe({queryKey:[`/api/communities/${s}/news`],enabled:!!s}),{data:g=[]}=Pe({queryKey:[`/api/communities/${s}/events`],enabled:!!s}),{data:b=[]}=Pe({queryKey:[`/api/communities/${s}/fees`],enabled:!!s}),{data:w=[]}=Pe({queryKey:[`/api/communities/${s}/messages`],enabled:!!s});if(!a)return null;const y=i?.name||m?.name||"Communaut",j=f.filter(k=>k.role==="member").length,N=g.filter(k=>new Date(k.date)>=new Date),C=b.filter(k=>k.isActive),E=w.filter(k=>!k.read&&k.senderType==="member").length,T=h.sort((k,P)=>new Date(P.publishedAt).getTime()-new Date(k.publishedAt).getTime())[0],A=N.sort((k,P)=>new Date(k.date).getTime()-new Date(P.date).getTime())[0];return n.jsx(Or,{communityId:s,communityName:y,permissions:d,children:n.jsxs("div",{className:"p-4 space-y-6","data-testid":"mobile-admin-home-page",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(It,{size:16,className:"text-purple-400"}),n.jsx("span",{className:"text-gray-400 text-xs",children:"Membres"})]}),n.jsx("div",{className:"text-white text-2xl font-bold",children:j})]}),n.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Gn,{size:16,className:"text-blue-400"}),n.jsx("span",{className:"text-gray-400 text-xs",children:"vnements"})]}),n.jsx("div",{className:"text-white text-2xl font-bold",children:N.length})]}),n.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(tu,{size:16,className:"text-green-400"}),n.jsx("span",{className:"text-gray-400 text-xs",children:"Collectes"})]}),n.jsx("div",{className:"text-white text-2xl font-bold",children:C.length})]}),n.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(eu,{size:16,className:"text-yellow-400"}),n.jsx("span",{className:"text-gray-400 text-xs",children:"Articles"})]}),n.jsx("div",{className:"text-white text-2xl font-bold",children:h.length})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"Actions rapides"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx($e,{href:`/app/${s}/admin/articles`,children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center gap-3 hover:bg-white/10 transition-colors cursor-pointer","data-testid":"quick-action-article",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:n.jsx(Sn,{size:18,className:"text-yellow-400"})}),n.jsx("span",{className:"text-white text-sm font-medium",children:"Crer un article"})]})}),n.jsx($e,{href:`/app/${s}/admin/events`,children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center gap-3 hover:bg-white/10 transition-colors cursor-pointer","data-testid":"quick-action-event",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx(Sn,{size:18,className:"text-blue-400"})}),n.jsx("span",{className:"text-white text-sm font-medium",children:"Crer un vnement"})]})}),n.jsx($e,{href:`/app/${s}/admin/collections`,children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center gap-3 hover:bg-white/10 transition-colors cursor-pointer","data-testid":"quick-action-collection",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:n.jsx(Sn,{size:18,className:"text-green-400"})}),n.jsx("span",{className:"text-white text-sm font-medium",children:"Crer une collecte"})]})}),n.jsx($e,{href:`/app/${s}/admin/scanner`,children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center gap-3 hover:bg-white/10 transition-colors cursor-pointer","data-testid":"quick-action-scanner",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx($l,{size:18,className:"text-purple-400"})}),n.jsx("span",{className:"text-white text-sm font-medium",children:"Scanner QR"})]})}),d?.canManageMembers&&n.jsx($e,{href:`/app/${s}/admin/members?action=add`,children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center gap-3 hover:bg-white/10 transition-colors cursor-pointer","data-testid":"quick-action-add-member",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-indigo-500/20 flex items-center justify-center",children:n.jsx(Vc,{size:18,className:"text-indigo-400"})}),n.jsx("span",{className:"text-white text-sm font-medium",children:"Ajouter un membre"})]})})]})]}),A&&n.jsxs("div",{className:"bg-gradient-to-r from-blue-600/20 to-purple-600/20 border border-blue-500/20 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(Ln,{size:14,className:"text-blue-400"}),n.jsx("span",{className:"text-blue-400 text-xs font-medium uppercase",children:"Prochain vnement"})]}),n.jsx("h4",{className:"text-white font-semibold mb-1",children:A.title}),n.jsx("p",{className:"text-gray-400 text-sm",children:new Date(A.date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})}),n.jsx($e,{href:`/app/${s}/admin/events`,children:n.jsx("button",{className:"text-purple-400 text-sm font-medium mt-2 hover:text-purple-300","data-testid":"link-view-events",children:"Voir tous les vnements "})})]}),T&&n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(po,{size:14,className:"text-yellow-400"}),n.jsx("span",{className:"text-yellow-400 text-xs font-medium uppercase",children:"Dernier article"})]}),n.jsx("h4",{className:"text-white font-semibold mb-1",children:T.title}),n.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:T.summary}),n.jsx($e,{href:`/app/${s}/admin/articles`,children:n.jsx("button",{className:"text-purple-400 text-sm font-medium mt-2 hover:text-purple-300","data-testid":"link-view-articles",children:"Voir tous les articles "})})]}),E>0&&n.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-orange-500/20 flex items-center justify-center",children:n.jsx(Se,{className:"bg-orange-500 text-white text-xs h-6 w-6 flex items-center justify-center rounded-full p-0",children:E})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white text-sm font-medium",children:"Messages non lus"}),n.jsx("p",{className:"text-gray-400 text-xs",children:"De vos membres"})]})]}),n.jsx($e,{href:`/app/${s}/admin/messages`,children:n.jsx("button",{className:"text-orange-400 text-sm font-medium hover:text-orange-300","data-testid":"link-view-messages",children:"Voir "})})]})}),n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:[n.jsxs("div",{className:"p-3 border-b border-white/10 flex justify-between items-center",children:[n.jsx("span",{className:"text-white font-semibold text-sm",children:"Membres rcents"}),n.jsx($e,{href:`/app/${s}/admin/members`,children:n.jsx("button",{className:"text-purple-400 text-xs font-medium","data-testid":"link-view-members",children:"Voir tous"})})]}),n.jsxs("div",{className:"divide-y divide-white/5",children:[f.filter(k=>k.role==="member").slice(0,4).map(k=>n.jsxs("div",{className:"p-3 flex items-center gap-3",children:[n.jsx(ks,{className:"h-8 w-8",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400 text-xs",children:k.displayName?.[0]?.toUpperCase()||"M"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("span",{className:"text-white text-sm font-medium truncate block",children:k.displayName||"Membre"}),n.jsx("span",{className:"text-gray-500 text-xs truncate block",children:k.memberId})]}),n.jsx(Se,{className:`text-[9px] ${k.status==="active"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:k.status==="active"?"Actif":"Inactif"})]},k.id)),f.filter(k=>k.role==="member").length===0&&n.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"Aucun membre pour le moment"})]})]})]})})}function u2e({params:e}){const[t,r]=zt(),{user:s}=dt(),[a,i]=v.useState(!0),[o,c]=v.useState(null);v.useEffect(()=>{if(!s){r("/app/admin/login");return}},[s,r]),v.useEffect(()=>{if(a&&s){const m=setTimeout(()=>{i(!1),c("MEMBER-2024-8892")},3e3);return()=>clearTimeout(m)}},[a,s]);const d=()=>{c(null),i(!0)};return s?n.jsxs("div",{className:"min-h-screen bg-black flex justify-center","data-testid":"mobile-admin-scanner-page",children:[n.jsxs("div",{className:"w-full max-w-md bg-black min-h-screen relative flex flex-col",children:[n.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 z-20 flex justify-between items-center",children:[n.jsx($e,{href:`/app/${e.communityId}/admin`,children:n.jsx(H,{variant:"ghost",size:"icon",className:"text-white rounded-full bg-black/20 backdrop-blur-md",children:n.jsx(Bn,{})})}),n.jsx("div",{className:"text-white font-bold text-shadow",children:"Scanner Entre"}),n.jsx("div",{className:"w-10"})]}),n.jsx("div",{className:"flex-1 relative overflow-hidden flex flex-col items-center justify-center",children:a?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute inset-0 bg-gray-900",children:n.jsx("div",{className:"w-full h-full opacity-20",style:{backgroundImage:"radial-gradient(circle, #ffffff 1px, transparent 1px)",backgroundSize:"20px 20px"}})}),n.jsxs("div",{className:"relative z-10 w-64 h-64 border-2 border-white/50 rounded-3xl flex flex-col items-center justify-center overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-green-500 shadow-[0_0_15px_rgba(34,197,94,0.8)] animate-[scan_2s_infinite_linear]"}),n.jsx("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-4 border-l-4 border-white rounded-tl-lg"}),n.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-4 border-r-4 border-white rounded-tr-lg"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-4 border-l-4 border-white rounded-bl-lg"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-4 border-r-4 border-white rounded-br-lg"})]}),n.jsx("p",{className:"relative z-10 text-white/80 mt-8 text-sm font-medium bg-black/40 px-4 py-2 rounded-full backdrop-blur-sm",children:"Visez le QR Code de l'adhrent"})]}):n.jsxs("div",{className:"bg-white w-[90%] rounded-3xl p-8 flex flex-col items-center animate-in zoom-in-95 duration-200",children:[n.jsx("div",{className:"h-20 w-20 bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-4",children:n.jsx(vs,{size:40})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Valid !"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Membre vrifi"}),n.jsxs("div",{className:"w-full bg-gray-50 rounded-xl p-4 mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-gray-500",children:"Statut"}),n.jsx("span",{className:"font-bold text-green-600",children:" Jour"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Code"}),n.jsx("span",{className:"font-medium font-mono",children:o})]})]}),n.jsx(H,{className:"w-full h-12 text-lg",onClick:d,"data-testid":"button-scan-next",children:"Scanner le suivant"})]})})]}),n.jsx("style",{children:`
        @keyframes scan {
          0% { top: 0%; opacity: 0; }
          10% { opacity: 1; }
          90% { opacity: 1; }
          100% { top: 100%; opacity: 0; }
        }
      `})]}):null}function d2e({params:e}){const t=e.communityId,[r,s]=zt(),{user:a,currentCommunity:i,currentMembership:o}=dt(),c=Wt(),[d,m]=v.useState(""),[f,h]=v.useState(!1),[g,b]=v.useState(null),[w,y]=v.useState(null),[j,N]=v.useState(""),[C,E]=v.useState(""),[T,A]=v.useState(!1),k=v.useMemo(()=>{if(o)return ql(o)},[o]);v.useEffect(()=>{a||s("/app/admin/login")},[a,s]),v.useEffect(()=>{k&&!k.canManageMessages&&(X.error("Vous n'avez pas la permission de grer les messages"),s(`/app/${t}/admin`))},[k,t,s]);const{data:P=[],isLoading:O}=Pe({queryKey:[`/api/communities/${t}/conversations`],enabled:!!t,queryFn:async()=>{const I=await fetch(`${Lt()}/api/communities/${t}/conversations`);if(!I.ok)throw new Error("Erreur lors du chargement");return I.json()}}),{data:M=[]}=Pe({queryKey:[`/api/communities/${t}/memberships`],enabled:!!t&&f}),{data:F=[]}=Pe({queryKey:[`/api/communities/${t}/messages/${w}`],enabled:!!w,queryFn:async()=>{const I=await fetch(`${Lt()}/api/communities/${t}/messages/${w}`);if(!I.ok)throw new Error("Erreur lors du chargement");return I.json()}}),D=v.useMemo(()=>{const I=new Map;return M.forEach(K=>I.set(K.id,K)),I},[M]),$=v.useMemo(()=>{if(!C)return M.filter(K=>K.role==="member");const I=C.toLowerCase();return M.filter(K=>K.role==="member"&&(K.displayName?.toLowerCase().includes(I)||K.email?.toLowerCase().includes(I)))},[M,C]),V=v.useMemo(()=>{if(!d)return P;const I=d.toLowerCase();return P.filter(K=>K.lastMessage.content.toLowerCase().includes(I)||K.conversationId.toLowerCase().includes(I))},[P,d]);if(!a)return null;const z=async()=>{if(!g||!j.trim()){X.error("Veuillez slectionner un membre et crire un message");return}A(!0);try{const I=`conv_${g.id}_admin`;if(!(await fetch(`${Lt()}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({communityId:t,conversationId:I,senderMembershipId:o?.id,senderType:"admin",content:j.trim()})})).ok)throw new Error("Erreur lors de l'envoi du message");X.success(`Message envoy  ${g.displayName||"ce membre"}`),c.invalidateQueries({queryKey:[`/api/communities/${t}/conversations`]}),h(!1),b(null),N(""),E("")}catch{X.error("Erreur lors de l'envoi du message")}finally{A(!1)}},q=async()=>{if(!(!j.trim()||!w)){A(!0);try{if(!(await fetch(`${Lt()}/api/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({communityId:t,conversationId:w,senderMembershipId:o?.id,senderType:"admin",content:j.trim()})})).ok)throw new Error("Erreur lors de l'envoi du message");X.success("Message envoy"),c.invalidateQueries({queryKey:[`/api/communities/${t}/messages/${w}`]}),c.invalidateQueries({queryKey:[`/api/communities/${t}/conversations`]}),N("")}catch{X.error("Erreur lors de l'envoi du message")}finally{A(!1)}}};if(w){const I=P.find(U=>U.conversationId===w),K=I?.membershipId?D.get(I.membershipId):null;return n.jsx(Or,{communityId:t,communityName:i?.name,permissions:k,children:n.jsxs("div",{className:"flex flex-col h-[calc(100vh-64px)]",children:[n.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center gap-3",children:[n.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-white p-2","data-testid":"button-back-conversations",children:n.jsx(Bn,{size:20})}),n.jsx(ks,{className:"h-10 w-10",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400",children:K?.displayName?.[0]?.toUpperCase()||"M"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:K?.displayName||"Membre"}),n.jsx("p",{className:"text-gray-400 text-sm",children:K?.email||"Conversation"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:F.map(U=>{const B=U.senderType==="admin";return n.jsx("div",{className:`flex ${B?"justify-end":"justify-start"}`,"data-testid":`message-${U.id}`,children:n.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${B?"bg-purple-500 text-white rounded-br-none":"bg-white/10 text-white rounded-bl-none"}`,children:[n.jsx("p",{className:"text-sm",children:U.content}),n.jsx("p",{className:`text-[10px] mt-1 text-right ${B?"text-purple-200":"text-gray-400"}`,children:new Date(U.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},U.id)})}),n.jsx("div",{className:"p-4 border-t border-white/10",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{value:j,onChange:U=>N(U.target.value),placeholder:"Rpondre...",className:"flex-1 rounded-full bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-reply-message",onKeyDown:U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),q())}}),n.jsx(H,{onClick:q,disabled:!j.trim()||T,className:"rounded-full px-4",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},"data-testid":"button-reply-message",children:n.jsx(Rs,{size:18})})]})})]})})}return f?n.jsx(Or,{communityId:t,communityName:i?.name,permissions:k,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Nouveau message"}),n.jsx("button",{onClick:()=>{h(!1),b(null),N(""),E("")},className:"text-gray-400 hover:text-white p-2","data-testid":"button-close-new-message",children:n.jsx(fn,{size:20})})]}),g?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ks,{className:"h-10 w-10",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400",children:g.displayName?.[0]?.toUpperCase()||"M"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-white font-medium",children:g.displayName||"Membre"}),n.jsx("p",{className:"text-gray-400 text-sm",children:g.email||g.memberId})]}),n.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-white","data-testid":"button-change-recipient",children:n.jsx(fn,{size:18})})]})}),n.jsx(Nn,{value:j,onChange:I=>N(I.target.value),placeholder:"crivez votre message...",className:"min-h-[150px] rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500 resize-none mb-4","data-testid":"textarea-message-content"}),n.jsxs(H,{onClick:z,disabled:!j.trim()||T,className:"w-full h-12 rounded-xl font-bold",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},"data-testid":"button-send-message",children:[n.jsx(Rs,{size:18,className:"mr-2"}),T?"Envoi en cours...":"Envoyer le message"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),n.jsx(ne,{value:C,onChange:I=>E(I.target.value),placeholder:"Rechercher un membre...",className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-search-member-message"})]}),n.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Slectionnez un destinataire"}),n.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:[$.map(I=>n.jsxs("div",{onClick:()=>b(I),className:"flex items-center gap-3 p-3 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:bg-white/10 transition-colors","data-testid":`select-member-${I.id}`,children:[n.jsx(ks,{className:"h-10 w-10",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400",children:I.displayName?.[0]?.toUpperCase()||"M"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"text-white font-medium truncate",children:I.displayName||"Membre"}),n.jsx("p",{className:"text-gray-400 text-sm truncate",children:I.email||I.memberId})]})]},I.id)),$.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(It,{size:40,className:"mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"Aucun membre trouv"})]})]})]})]})}):n.jsx(Or,{communityId:t,communityName:i?.name,permissions:k,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Messagerie"}),n.jsxs(H,{size:"sm",onClick:()=>h(!0),className:"h-9 px-3 rounded-xl font-medium",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},"data-testid":"button-new-message",children:[n.jsx(S6,{size:16,className:"mr-1"}),"Nouveau"]})]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),n.jsx(ne,{value:d,onChange:I=>m(I.target.value),placeholder:"Rechercher...",className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-search-messages"})]}),O?n.jsx("div",{className:"text-center py-8 text-gray-400",children:"Chargement..."}):n.jsxs("div",{className:"space-y-2",children:[V.map(I=>{const K=I.membershipId?D.get(I.membershipId):null;return n.jsxs("div",{onClick:()=>y(I.conversationId),className:"flex items-center gap-4 p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 cursor-pointer transition-colors","data-testid":`conversation-${I.conversationId}`,children:[n.jsxs("div",{className:"relative",children:[n.jsx(ks,{className:"h-12 w-12",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400",children:K?.displayName?.[0]?.toUpperCase()||"M"})}),I.unreadCount>0&&n.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-purple-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-[#1a1a2e]",children:I.unreadCount})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("h3",{className:"font-bold text-white truncate",children:K?.displayName||"Membre"}),n.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:new Date(I.lastMessage.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),n.jsx("p",{className:`text-sm truncate ${I.unreadCount>0?"font-semibold text-gray-200":"text-gray-400"}`,children:I.lastMessage.content})]})]},I.conversationId)}),V.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-400",children:[n.jsx(S6,{size:48,className:"mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"text-sm",children:"Aucune conversation"}),n.jsx(H,{variant:"link",onClick:()=>h(!0),className:"text-purple-400 mt-2",children:"Dmarrer une conversation"})]})]})]})})}function m2e({value:e,onChange:t,label:r="Image de couverture",folder:s="news",className:a=""}){const[i,o]=v.useState(!1),c=v.useRef(null),d=async h=>{o(!0);try{const{objectPath:g}=await Qx(h,{folder:s});t(g),X.success("Image uploade avec succs")}catch(g){console.error("[MobileImageUpload] Upload error:",g),X.error(g instanceof Error?g.message:"Erreur lors de l'upload de l'image")}finally{o(!1)}},m=h=>{const g=h.target.files?.[0];g&&d(g)},f=()=>{t(""),c.current&&(c.current.value="")};return n.jsxs("div",{className:Le("space-y-2",a),children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:r}),e?n.jsxs("div",{className:"relative rounded-xl overflow-hidden border border-white/20 bg-white/5",children:[n.jsx("img",{src:ar(e,"MobileImageUpload-preview")||e,alt:"Aperu",className:"w-full h-32 object-cover"}),n.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[n.jsx("button",{type:"button",onClick:()=>c.current?.click(),className:"p-2 bg-white/20 rounded-full text-white hover:bg-white/30 transition-colors","data-testid":"button-change-image",children:n.jsx(Uc,{size:18})}),n.jsx("button",{type:"button",onClick:f,className:"p-2 bg-red-500/80 rounded-full text-white hover:bg-red-500 transition-colors","data-testid":"button-remove-image",children:n.jsx(fn,{size:18})})]})]}):n.jsx("button",{type:"button",onClick:()=>c.current?.click(),disabled:i,className:Le("w-full h-32 rounded-xl border-2 border-dashed transition-colors flex flex-col items-center justify-center gap-2",i?"border-purple-400/50 bg-purple-500/10":"border-white/20 bg-white/5 hover:border-purple-400/50 hover:bg-white/10"),"data-testid":"button-upload-image",children:i?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{size:24,className:"text-purple-400 animate-spin"}),n.jsx("span",{className:"text-xs text-gray-400",children:"Upload en cours..."})]}):n.jsxs(n.Fragment,{children:[n.jsx($9,{size:24,className:"text-gray-400"}),n.jsx("span",{className:"text-xs text-gray-400",children:"Cliquez pour ajouter une image"})]})}),n.jsx("input",{ref:c,type:"file",accept:"image/*",className:"hidden",onChange:m,"data-testid":"input-image-file"})]})}const f2e=[{value:"actualite",label:"Actualit"},{value:"annonce",label:"Annonce"},{value:"evenement",label:"vnement"},{value:"info",label:"Information"}];function h2e({params:e}){const t=e.communityId,[r,s]=zt(),{user:a,currentCommunity:i,currentMembership:o}=dt(),c=Wt(),d=v.useMemo(()=>{if(o)return ql(o)},[o]);v.useEffect(()=>{d&&!d.canManageArticles&&(X.error("Vous n'avez pas la permission de grer les articles"),s(`/app/${t}/admin`))},[d,t,s]);const[m,f]=v.useState(!1),[h,g]=v.useState(null),[b,w]=v.useState({title:"",summary:"",content:"",category:"actualite",status:"draft",image:""}),{data:y=[],isLoading:j}=Pe({queryKey:[`/api/communities/${t}/news`],enabled:!!t}),N=qe({mutationFn:async P=>{const O=await fetch(`${Lt()}/api/communities/${t}/news`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,author:`${a?.firstName} ${a?.lastName}`})});if(!O.ok)throw new Error("Erreur lors de la cration");return O.json()},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/communities/${t}/news`]}),X.success("Article cr avec succs"),T()},onError:()=>X.error("Erreur lors de la cration de l'article")}),C=qe({mutationFn:async({id:P,data:O})=>{const M=await fetch(`${Lt()}/api/communities/${t}/news/${P}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!M.ok)throw new Error("Erreur lors de la mise  jour");return M.json()},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/communities/${t}/news`]}),X.success("Article mis  jour avec succs"),T()},onError:()=>X.error("Erreur lors de la mise  jour de l'article")}),E=qe({mutationFn:async P=>{if(!(await fetch(`${Lt()}/api/communities/${t}/news/${P}`,{method:"DELETE"})).ok)throw new Error("Erreur lors de la suppression")},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/communities/${t}/news`]}),X.success("Article supprim")},onError:()=>X.error("Erreur lors de la suppression")}),T=()=>{f(!1),g(null),w({title:"",summary:"",content:"",category:"actualite",status:"draft",image:""})},A=P=>{g(P),w({title:P.title,summary:P.summary,content:P.content,category:P.category,status:P.status||"draft",image:P.image||""}),f(!0)},k=P=>{if(P.preventDefault(),!b.title||!b.summary||!b.content){X.error("Veuillez remplir tous les champs obligatoires");return}h?C.mutate({id:h.id,data:b}):N.mutate(b)};return m?n.jsx(Or,{communityId:t,communityName:i?.name,permissions:d,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:h?"Modifier l'article":"Nouvel article"}),n.jsx("button",{onClick:T,className:"text-gray-400 hover:text-white p-2",children:n.jsx(fn,{size:20})})]}),n.jsxs("form",{onSubmit:k,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Titre *"}),n.jsx(ne,{value:b.title,onChange:P=>w(O=>({...O,title:P.target.value})),placeholder:"Titre de l'article",className:"h-11 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-article-title"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Catgorie"}),n.jsxs(it,{value:b.category,onValueChange:P=>w(O=>({...O,category:P})),children:[n.jsx(rt,{className:"h-11 rounded-xl bg-white/10 border-white/20 text-white","data-testid":"select-article-category",children:n.jsx(ot,{})}),n.jsx(st,{className:"bg-slate-800 border-slate-700",children:f2e.map(P=>n.jsx(Ae,{value:P.value,className:"text-white hover:bg-slate-700",children:P.label},P.value))})]})]}),n.jsx(m2e,{value:b.image,onChange:P=>w(O=>({...O,image:P})),label:"Image de couverture",folder:"news"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Rsum *"}),n.jsx(Nn,{value:b.summary,onChange:P=>w(O=>({...O,summary:P.target.value})),placeholder:"Rsum court de l'article...",className:"min-h-[60px] rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500 resize-none","data-testid":"input-article-summary"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Contenu *"}),n.jsx(aT,{value:b.content,onChange:P=>w(O=>({...O,content:P})),placeholder:"Contenu complet de l'article...",minHeight:"200px",darkMode:!0})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(H,{type:"button",variant:"outline",className:"flex-1 h-12 rounded-xl border-gray-600 text-gray-300 hover:bg-white/5",onClick:()=>{w(P=>({...P,status:"draft"})),k(new Event("submit"))},disabled:N.isPending||C.isPending,"data-testid":"button-save-draft",children:"Brouillon"}),n.jsx(H,{type:"submit",className:"flex-1 h-12 rounded-xl font-bold",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},onClick:()=>w(P=>({...P,status:"published"})),disabled:N.isPending||C.isPending,"data-testid":"button-publish-article",children:N.isPending||C.isPending?"...":"Publier"})]})]})]})}):n.jsx(Or,{communityId:t,communityName:i?.name,permissions:d,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Articles"}),n.jsxs(H,{onClick:()=>f(!0),className:"h-10 rounded-xl font-semibold text-sm",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},"data-testid":"button-new-article",children:[n.jsx(Sn,{size:16,className:"mr-1"}),"Nouveau"]})]}),j?n.jsx("div",{className:"space-y-3",children:[1,2,3].map(P=>n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]},P))}):y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(eu,{className:"mx-auto mb-3 text-gray-500",size:40}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Aucun article pour le moment"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Crez votre premier article"})]}):n.jsx("div",{className:"space-y-3",children:y.map(P=>n.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 hover:bg-white/10 transition-colors","data-testid":`article-card-${P.id}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"text-white font-semibold text-sm truncate",children:P.title}),n.jsx(Se,{className:`text-[9px] ${P.status==="published"?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"}`,children:P.status==="published"?"Publi":"Brouillon"})]}),n.jsx("p",{className:"text-gray-400 text-xs line-clamp-2",children:P.summary}),n.jsx("p",{className:"text-gray-500 text-[10px] mt-2",children:new Date(P.publishedAt).toLocaleDateString("fr-FR")})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>A(P),className:"p-2 text-gray-400 hover:text-purple-400 transition-colors","data-testid":`button-edit-article-${P.id}`,children:n.jsx(zl,{size:16})}),n.jsx("button",{onClick:()=>{confirm("Supprimer cet article ?")&&E.mutate(P.id)},className:"p-2 text-gray-400 hover:text-red-400 transition-colors","data-testid":`button-delete-article-${P.id}`,children:n.jsx(js,{size:16})})]})]})},P.id))})]})})}const p2e=[{value:"reunion",label:"Runion"},{value:"formation",label:"Formation"},{value:"conference",label:"Confrence"},{value:"atelier",label:"Atelier"},{value:"social",label:"vnement social"},{value:"autre",label:"Autre"}];function g2e({params:e}){const t=e.communityId,[r,s]=zt(),{currentCommunity:a,currentMembership:i}=dt(),o=Wt(),c=v.useMemo(()=>{if(i)return ql(i)},[i]);v.useEffect(()=>{c&&!c.canManageEvents&&(X.error("Vous n'avez pas la permission de grer les vnements"),s(`/app/${t}/admin`))},[c,t,s]);const[d,m]=v.useState(!1),[f,h]=v.useState(null),[g,b]=v.useState({title:"",description:"",date:"",time:"",location:"",type:"reunion",isPaid:!1,priceCents:0}),{data:w=[],isLoading:y}=Pe({queryKey:[`/api/communities/${t}/events`],enabled:!!t}),j=qe({mutationFn:async M=>{const F=new Date(`${M.date}T${M.time||"00:00"}`),D=await fetch(`${Lt()}/api/events`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({communityId:t,title:M.title,description:M.description,date:F.toISOString(),location:M.location,type:M.type,isPaid:M.isPaid,priceCents:M.isPaid?M.priceCents:null,currency:"EUR"})});if(!D.ok){const $=await D.json().catch(()=>({}));throw new Error($.error||"Erreur lors de la cration")}return D.json()},onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/communities/${t}/events`]}),X.success("vnement cr avec succs"),E()},onError:M=>X.error(M.message||"Erreur lors de la cration de l'vnement")}),N=qe({mutationFn:async({id:M,data:F})=>{const D=new Date(`${F.date}T${F.time||"00:00"}`),$=await fetch(`${Lt()}/api/events/${M}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:F.title,description:F.description,date:D.toISOString(),location:F.location,type:F.type,isPaid:F.isPaid,priceCents:F.isPaid?F.priceCents:null,currency:"EUR"})});if(!$.ok){const V=await $.json().catch(()=>({}));throw new Error(V.error||"Erreur lors de la mise  jour")}return $.json()},onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/communities/${t}/events`]}),X.success("vnement mis  jour avec succs"),E()},onError:M=>X.error(M.message||"Erreur lors de la mise  jour de l'vnement")}),C=qe({mutationFn:async M=>{if(!(await fetch(`${Lt()}/api/communities/${t}/events/${M}`,{method:"DELETE"})).ok)throw new Error("Erreur lors de la suppression")},onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/communities/${t}/events`]}),X.success("vnement supprim")},onError:()=>X.error("Erreur lors de la suppression")}),E=()=>{m(!1),h(null),b({title:"",description:"",date:"",time:"",location:"",type:"reunion",isPaid:!1,priceCents:0})},T=M=>{const F=new Date(M.date);h(M),b({title:M.title,description:M.description,date:F.toISOString().split("T")[0],time:F.toTimeString().slice(0,5),location:M.location,type:M.type,isPaid:M.isPaid||!1,priceCents:M.priceCents||0}),m(!0)},A=M=>{if(M.preventDefault(),!g.title||!g.description||!g.date||!g.location){X.error("Veuillez remplir tous les champs obligatoires");return}if(g.isPaid&&(!g.priceCents||g.priceCents<=0)){X.error("Veuillez dfinir un prix pour l'vnement payant");return}f?N.mutate({id:f.id,data:g}):j.mutate(g)},k=M=>new Date(M)>=new Date,P=w.filter(M=>k(M.date.toString())),O=w.filter(M=>!k(M.date.toString()));return d?n.jsx(Or,{communityId:t,communityName:a?.name,permissions:c,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:f?"Modifier l'vnement":"Nouvel vnement"}),n.jsx("button",{onClick:E,className:"text-gray-400 hover:text-white p-2",children:n.jsx(fn,{size:20})})]}),n.jsxs("form",{onSubmit:A,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Titre *"}),n.jsx(ne,{value:g.title,onChange:M=>b(F=>({...F,title:M.target.value})),placeholder:"Nom de l'vnement",className:"h-11 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-event-title"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Type"}),n.jsxs(it,{value:g.type,onValueChange:M=>b(F=>({...F,type:M})),children:[n.jsx(rt,{className:"h-11 rounded-xl bg-white/10 border-white/20 text-white","data-testid":"select-event-type",children:n.jsx(ot,{})}),n.jsx(st,{className:"bg-slate-800 border-slate-700",children:p2e.map(M=>n.jsx(Ae,{value:M.value,className:"text-white hover:bg-slate-700",children:M.label},M.value))})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Date *"}),n.jsx(ne,{type:"date",value:g.date,onChange:M=>b(F=>({...F,date:M.target.value})),className:"h-11 rounded-xl bg-white/10 border-white/20 text-white [color-scheme:dark]","data-testid":"input-event-date"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Heure"}),n.jsx(ne,{type:"time",value:g.time,onChange:M=>b(F=>({...F,time:M.target.value})),className:"h-11 rounded-xl bg-white/10 border-white/20 text-white [color-scheme:dark]","data-testid":"input-event-time"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Lieu *"}),n.jsx(ne,{value:g.location,onChange:M=>b(F=>({...F,location:M.target.value})),placeholder:"Adresse ou lieu",className:"h-11 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-event-location"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Description *"}),n.jsx(Nn,{value:g.description,onChange:M=>b(F=>({...F,description:M.target.value})),placeholder:"Dcrivez l'vnement...",className:"min-h-[100px] rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500 resize-none","data-testid":"input-event-description"})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-white",children:"vnement payant"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Facturer une participation"})]}),n.jsx(Qn,{checked:g.isPaid,onCheckedChange:M=>b(F=>({...F,isPaid:M})),"data-testid":"switch-event-paid"})]}),g.isPaid&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Prix () *"}),n.jsxs("div",{className:"relative",children:[n.jsx(oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{type:"number",min:"0.01",step:"0.01",placeholder:"10.00",value:g.priceCents>0?(g.priceCents/100).toFixed(2):"",onChange:M=>{const F=parseFloat(M.target.value);b(D=>({...D,priceCents:isNaN(F)?0:Math.round(F*100)}))},className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-event-price"})]})]})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl font-bold mt-4",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},disabled:j.isPending||N.isPending,"data-testid":"button-save-event",children:j.isPending||N.isPending?"...":f?"Mettre  jour":"Crer l'vnement"})]})]})}):n.jsx(Or,{communityId:t,communityName:a?.name,permissions:c,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"vnements"}),n.jsxs(H,{onClick:()=>m(!0),className:"h-10 rounded-xl font-semibold text-sm",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},"data-testid":"button-new-event",children:[n.jsx(Sn,{size:16,className:"mr-1"}),"Nouveau"]})]}),y?n.jsx("div",{className:"space-y-3",children:[1,2,3].map(M=>n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]},M))}):w.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Gn,{className:"mx-auto mb-3 text-gray-500",size:40}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Aucun vnement pour le moment"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Crez votre premier vnement"})]}):n.jsxs("div",{className:"space-y-6",children:[P.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-purple-400 font-semibold text-xs uppercase tracking-wide mb-3",children:" venir"}),n.jsx("div",{className:"space-y-3",children:P.map(M=>n.jsx(HL,{event:M,communityId:t,onEdit:T,onDelete:F=>{confirm("Supprimer cet vnement ?")&&C.mutate(F)}},M.id))})]}),O.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-gray-500 font-semibold text-xs uppercase tracking-wide mb-3",children:"Passs"}),n.jsx("div",{className:"space-y-3 opacity-70",children:O.slice(0,5).map(M=>n.jsx(HL,{event:M,communityId:t,onEdit:T,onDelete:F=>{confirm("Supprimer cet vnement ?")&&C.mutate(F)}},M.id))})]})]})]})})}function HL({event:e,communityId:t,onEdit:r,onDelete:s}){const a=new Date(e.date);return n.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4","data-testid":`event-card-${e.id}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"bg-purple-500/20 rounded-lg p-2 text-center min-w-[50px]",children:[n.jsx("div",{className:"text-purple-400 text-xs font-medium uppercase",children:a.toLocaleDateString("fr-FR",{month:"short"})}),n.jsx("div",{className:"text-white text-lg font-bold",children:a.getDate()})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("h3",{className:"text-white font-semibold text-sm",children:e.title}),e.isPaid&&n.jsxs(Se,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30 text-xs px-1.5 py-0","data-testid":`badge-paid-${e.id}`,children:[n.jsx(oa,{size:10,className:"mr-0.5"}),((e.priceCents||0)/100).toFixed(2)," "]})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs mt-1",children:[n.jsx(Ln,{size:12}),a.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs mt-0.5",children:[n.jsx(Hr,{size:12}),n.jsx("span",{className:"truncate",children:e.location})]})]})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx($e,{href:`/app/${t}/admin/scanner`,children:n.jsx("button",{className:"p-2 text-purple-400 hover:text-purple-300 transition-colors","data-testid":`button-scan-event-${e.id}`,children:n.jsx($l,{size:16})})}),n.jsx("button",{onClick:()=>r(e),className:"p-2 text-gray-400 hover:text-purple-400 transition-colors","data-testid":`button-edit-event-${e.id}`,children:n.jsx(zl,{size:16})}),n.jsx("button",{onClick:()=>s(e.id),className:"p-2 text-gray-400 hover:text-red-400 transition-colors","data-testid":`button-delete-event-${e.id}`,children:n.jsx(js,{size:16})})]})]})})}function x2e({params:e}){const t=e.communityId,[r,s]=zt(),{currentCommunity:a,currentMembership:i}=dt(),o=Wt(),c=v.useMemo(()=>{if(i)return ql(i)},[i]);v.useEffect(()=>{c&&!c.canManageCollections&&(X.error("Vous n'avez pas la permission de grer les collectes"),s(`/app/${t}/admin`))},[c,t,s]);const[d,m]=v.useState(!1),[f,h]=v.useState(null),[g,b]=v.useState({name:"",description:"",amount:"",period:"one_time"}),{data:w=[],isLoading:y}=Pe({queryKey:[`/api/communities/${t}/fees`],enabled:!!t}),{data:j=[]}=Pe({queryKey:[`/api/communities/${t}/payment-requests`],enabled:!!t}),{data:N=[]}=Pe({queryKey:[`/api/communities/${t}/memberships`],enabled:!!t}),C=qe({mutationFn:async P=>{const O=await fetch(`${Lt()}/api/communities/${t}/fees`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:P.name,description:P.description||null,amount:Math.round(parseFloat(P.amount)*100),period:P.period,currency:"EUR"})});if(!O.ok)throw new Error("Erreur lors de la cration");return O.json()},onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/communities/${t}/fees`]}),X.success("Collecte cre avec succs"),T()},onError:()=>X.error("Erreur lors de la cration de la collecte")}),E=qe({mutationFn:async P=>{if(!(await fetch(`${Lt()}/api/communities/${t}/fees/${P}`,{method:"DELETE"})).ok)throw new Error("Erreur lors de la suppression")},onSuccess:()=>{o.invalidateQueries({queryKey:[`/api/communities/${t}/fees`]}),X.success("Collecte supprime")},onError:()=>X.error("Erreur lors de la suppression")}),T=()=>{m(!1),b({name:"",description:"",amount:"",period:"one_time"})},A=P=>{if(P.preventDefault(),!g.name||!g.amount){X.error("Veuillez remplir tous les champs obligatoires");return}C.mutate(g)},k=P=>{const O=j.filter($=>$.feeId===P),M=O.filter($=>$.status==="paid").length,F=O.filter($=>$.status==="pending").length,D=O.reduce(($,V)=>V.status==="paid"?$+V.amount:$,0);return{paid:M,pending:F,total:D,totalRequests:O.length}};if(f){const P=k(f.id),O=j.filter(M=>M.feeId===f.id);return n.jsx(Or,{communityId:t,communityName:a?.name,permissions:c,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:f.name}),n.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-white p-2",children:n.jsx(fn,{size:20})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[n.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-green-400 text-2xl font-bold",children:P.paid}),n.jsx("div",{className:"text-green-400/70 text-xs",children:"Pay"})]}),n.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-yellow-400 text-2xl font-bold",children:P.pending}),n.jsx("div",{className:"text-yellow-400/70 text-xs",children:"En attente"})]})]}),n.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4 mb-6",children:[n.jsx("div",{className:"text-purple-400 text-xs mb-1",children:"Total collect"}),n.jsxs("div",{className:"text-white text-2xl font-bold",children:[(P.total/100).toFixed(2)," "]})]}),n.jsx("h3",{className:"text-white font-semibold text-sm mb-3",children:"Dtail des paiements"}),O.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(It,{className:"mx-auto mb-2 text-gray-500",size:32}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Aucune demande envoye"})]}):n.jsx("div",{className:"space-y-2",children:O.map(M=>{const F=N.find(D=>D.id===M.membershipId);return n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white text-sm font-medium",children:F?.displayName||"Membre"}),n.jsxs("div",{className:"text-gray-400 text-xs",children:[(M.amount/100).toFixed(2)," "]})]}),n.jsx(Se,{className:`text-[10px] ${M.status==="paid"?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"}`,children:M.status==="paid"?"Pay":"En attente"})]},M.id)})})]})})}return d?n.jsx(Or,{communityId:t,communityName:a?.name,permissions:c,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Nouvelle collecte"}),n.jsx("button",{onClick:T,className:"text-gray-400 hover:text-white p-2",children:n.jsx(fn,{size:20})})]}),n.jsxs("form",{onSubmit:A,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Titre *"}),n.jsx(ne,{value:g.name,onChange:P=>b(O=>({...O,name:P.target.value})),placeholder:"Ex: Cotisation 2025",className:"h-11 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-collection-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Montant () *"}),n.jsx(ne,{type:"number",step:"0.01",value:g.amount,onChange:P=>b(O=>({...O,amount:P.target.value})),placeholder:"50.00",className:"h-11 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-collection-amount"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Description"}),n.jsx(Nn,{value:g.description,onChange:P=>b(O=>({...O,description:P.target.value})),placeholder:"Dcrivez cette collecte...",className:"min-h-[80px] rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500 resize-none","data-testid":"input-collection-description"})]}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl font-bold mt-4",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},disabled:C.isPending,"data-testid":"button-create-collection",children:C.isPending?"...":"Crer la collecte"})]})]})}):n.jsx(Or,{communityId:t,communityName:a?.name,permissions:c,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Collectes"}),n.jsxs(H,{onClick:()=>m(!0),className:"h-10 rounded-xl font-semibold text-sm",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},"data-testid":"button-new-collection",children:[n.jsx(Sn,{size:16,className:"mr-1"}),"Nouveau"]})]}),y?n.jsx("div",{className:"space-y-3",children:[1,2,3].map(P=>n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]},P))}):w.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(tu,{className:"mx-auto mb-3 text-gray-500",size:40}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Aucune collecte pour le moment"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Crez votre premire collecte"})]}):n.jsx("div",{className:"space-y-3",children:w.map(P=>{const O=k(P.id);return n.jsx("div",{onClick:()=>h(P),className:"bg-white/5 border border-white/10 rounded-xl p-4 hover:bg-white/10 transition-colors cursor-pointer","data-testid":`collection-card-${P.id}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"text-white font-semibold text-sm",children:P.name}),n.jsx(Se,{className:P.isActive?"bg-green-500/20 text-green-300 text-[9px]":"bg-gray-500/20 text-gray-400 text-[9px]",children:P.isActive?"Active":"Inactive"})]}),n.jsxs("p",{className:"text-purple-400 font-bold text-lg",children:[(P.amount/100).toFixed(2)," "]}),n.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[n.jsxs("div",{className:"flex items-center gap-1 text-green-400 text-xs",children:[n.jsx(Ws,{size:12}),O.paid," pay",O.paid>1?"s":""]}),n.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 text-xs",children:[n.jsx(Ln,{size:12}),O.pending," en attente"]})]})]}),n.jsx("button",{onClick:M=>{M.stopPropagation(),confirm("Supprimer cette collecte ?")&&E.mutate(P.id)},className:"p-2 text-gray-400 hover:text-red-400 transition-colors","data-testid":`button-delete-collection-${P.id}`,children:n.jsx(js,{size:16})})]})},P.id)})})]})})}function y2e({params:e}){const t=e.communityId,[r,s]=zt(),a=Fx(),{currentCommunity:i,currentMembership:o}=dt(),c=Wt(),d=v.useMemo(()=>{if(o)return ql(o)},[o]);v.useEffect(()=>{d&&!d.canManageMembers&&(X.error("Vous n'avez pas la permission de grer les membres"),s(`/app/${t}/admin`))},[d,t,s]),v.useEffect(()=>{new URLSearchParams(a).get("action")==="add"&&d?.canManageMembers&&(C(!0),s(r.split("?")[0],{replace:!0}))},[a,d,r,s]);const[m,f]=v.useState(""),[h,g]=v.useState(null),[b,w]=v.useState(!1),[y,j]=v.useState(!1),[N,C]=v.useState(!1),[E,T]=v.useState(!1),[A,k]=v.useState(""),[P,O]=v.useState(!1),[M,F]=v.useState({firstName:"",lastName:"",email:"",phone:"",section:"",membershipPlanId:""}),{data:D=[],isLoading:$}=Pe({queryKey:[`/api/communities/${t}/memberships`],enabled:!!t}),{data:V=[]}=Pe({queryKey:[`/api/communities/${t}/sections`],enabled:!!t}),{data:z=[]}=Pe({queryKey:[`/api/communities/${t}/membership-plans`],enabled:!!t}),q=v.useMemo(()=>z.filter(Q=>Q.isActive),[z]),I=qe({mutationFn:async Q=>{const xe=await fetch(`${Lt()}/api/memberships`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({communityId:t,firstName:Q.firstName,lastName:Q.lastName,email:Q.email||void 0,phone:Q.phone||void 0,section:Q.section||void 0,membershipPlanId:Q.membershipPlanId||void 0,role:"member",status:"active",contributionStatus:"pending"})});if(!xe.ok){const me=await xe.json().catch(()=>({}));throw new Error(me.error||"Erreur lors de la cration")}return xe.json()},onSuccess:Q=>{c.invalidateQueries({queryKey:[`/api/communities/${t}/memberships`]}),k(Q.claimCode||""),C(!1),T(!0),F({firstName:"",lastName:"",email:"",phone:"",section:"",membershipPlanId:""})},onError:Q=>X.error(Q.message)}),K=()=>{if(!M.firstName.trim()||!M.lastName.trim()){X.error("Le prnom et le nom sont obligatoires");return}I.mutate(M)},U=async()=>{await navigator.clipboard.writeText(A),O(!0),setTimeout(()=>O(!1),2e3),X.success("Code copi !")},B=qe({mutationFn:async({id:Q,status:xe})=>{const me=await fetch(`${Lt()}/api/communities/${t}/memberships/${Q}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:xe})});if(!me.ok)throw new Error("Erreur lors de la mise  jour");return me.json()},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/communities/${t}/memberships`]}),X.success("Statut du membre mis  jour"),g(null)},onError:()=>X.error("Erreur lors de la mise  jour")}),ie=qe({mutationFn:async Q=>{const xe=await fetch(`${Lt()}/api/memberships/${Q}`,{method:"DELETE"});if(!xe.ok)throw new Error("Erreur lors de la suppression");return xe.json()},onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/communities/${t}/memberships`]}),X.success("Membre supprim avec succs"),g(null),j(!1)},onError:()=>X.error("Erreur lors de la suppression")}),G=qe({mutationFn:async Q=>{const xe=await fetch(`${Lt()}/api/memberships/${Q}/resend-claim-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"}),me=await xe.json();if(!xe.ok)throw xe.status===429?new Error(me.error||"Trop de tentatives. Veuillez patienter."):new Error(me.error||"chec de l'envoi de l'email");return me},onSuccess:Q=>{Q.status==="skipped"?X.warning(Q.message||"Email non configur, envoi ignor"):X.success(Q.message||"Email envoy avec succs")},onError:Q=>X.error(Q.message)}),Y=v.useMemo(()=>{if(!m)return D.filter(xe=>xe.role==="member");const Q=m.toLowerCase();return D.filter(xe=>xe.role==="member"&&(xe.displayName?.toLowerCase().includes(Q)||xe.email?.toLowerCase().includes(Q)||xe.memberId?.toLowerCase().includes(Q)))},[D,m]),se=Y.filter(Q=>Q.status==="active"),he=Y.filter(Q=>Q.status!=="active");return h?n.jsx(Or,{communityId:t,communityName:i?.name,permissions:d,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Dtails du membre"}),n.jsx("button",{onClick:()=>{g(null),w(!1)},className:"text-gray-400 hover:text-white p-2",children:n.jsx(fn,{size:20})})]}),n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx(ks,{className:"h-16 w-16",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400 text-xl",children:h.displayName?.[0]?.toUpperCase()||"M"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-bold text-lg",children:h.displayName||"Membre"}),n.jsx("p",{className:"text-gray-400 text-sm",children:h.memberId}),n.jsx(Se,{className:`mt-1 text-[10px] ${h.status==="active"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:h.status==="active"?"Actif":"Inactif"})]})]}),h.email&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-300 mb-3",children:[n.jsx(bs,{size:16,className:"text-gray-500"}),n.jsx("span",{className:"text-sm",children:h.email})]}),h.phone&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-300 mb-3",children:[n.jsx(Ll,{size:16,className:"text-gray-500"}),n.jsx("a",{href:`tel:${h.phone}`,className:"text-sm text-purple-400 hover:underline",children:h.phone})]}),h.section&&n.jsxs("div",{className:"flex items-center gap-3 text-gray-300 mb-3",children:[n.jsx(gi,{size:16,className:"text-gray-500"}),n.jsxs("span",{className:"text-sm",children:["Section: ",h.section]})]}),n.jsxs("div",{className:"border-t border-white/10 pt-4 mt-4",children:[n.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"Cotisation"}),n.jsx(Se,{className:`text-xs ${h.contributionStatus==="up_to_date"?"bg-green-500/20 text-green-300":h.contributionStatus==="pending"?"bg-yellow-500/20 text-yellow-300":"bg-red-500/20 text-red-300"}`,children:h.contributionStatus==="up_to_date"?" jour":h.contributionStatus==="pending"?"En attente":"En retard"})]})]}),h.claimCode&&!h.accountId&&h.email&&n.jsxs("div",{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/30 rounded-2xl p-4 mb-4 border border-blue-500/20",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(y4,{className:"text-blue-400",size:18}),n.jsx("h3",{className:"text-white font-semibold",children:"Code de rclamation"})]}),n.jsx("p",{className:"text-gray-400 text-xs mb-3",children:"Ce membre n'a pas encore activ son compte"}),n.jsx("div",{className:"bg-white/10 rounded-xl px-4 py-3 text-center mb-3",children:n.jsx("span",{className:"font-mono text-xl font-bold tracking-widest text-white","data-testid":"text-claim-code",children:h.claimCode})}),n.jsxs(H,{variant:"outline",className:"w-full h-12 rounded-xl border-blue-500/30 text-blue-300 hover:bg-blue-500/10",onClick:()=>G.mutate(h.id),disabled:G.isPending,"data-testid":"button-resend-claim-code",children:[G.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(Rs,{size:16,className:"mr-2"}),"Renvoyer le code par email"]})]}),b?n.jsxs("div",{className:"bg-white rounded-2xl p-6 text-center mb-6",children:[n.jsx(Lg,{value:h.memberId,size:180,className:"mx-auto"}),n.jsx("p",{className:"text-gray-600 text-sm mt-4",children:h.memberId}),n.jsx(H,{variant:"outline",className:"mt-4",onClick:()=>w(!1),children:"Masquer le QR"})]}):n.jsxs(H,{variant:"outline",className:"w-full h-12 rounded-xl border-gray-600 text-gray-300 hover:bg-white/5 mb-4",onClick:()=>w(!0),"data-testid":"button-show-qr",children:[n.jsx($l,{size:18,className:"mr-2"}),"Voir le QR Code"]}),n.jsx("div",{className:"flex gap-3",children:h.status==="active"?n.jsxs(H,{variant:"outline",className:"flex-1 h-12 rounded-xl border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:()=>B.mutate({id:h.id,status:"suspended"}),disabled:B.isPending,"data-testid":"button-suspend-member",children:[n.jsx(Goe,{size:18,className:"mr-2"}),"Suspendre"]}):n.jsxs(H,{className:"flex-1 h-12 rounded-xl font-bold",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)"},onClick:()=>B.mutate({id:h.id,status:"active"}),disabled:B.isPending,"data-testid":"button-reactivate-member",children:[n.jsx(q9,{size:18,className:"mr-2"}),"Ractiver"]})}),n.jsxs(H,{variant:"outline",className:"w-full h-12 rounded-xl border-red-500/50 text-red-400 hover:bg-red-500/10 mt-4",onClick:()=>j(!0),"data-testid":"button-delete-member",children:[n.jsx(js,{size:18,className:"mr-2"}),"Supprimer dfinitivement"]}),n.jsx(ht,{open:y,onOpenChange:j,children:n.jsxs(mt,{className:"bg-gray-900 border-gray-700 text-white",children:[n.jsxs(pt,{children:[n.jsxs(gt,{className:"flex items-center gap-2 text-red-400",children:[n.jsx(br,{size:20}),"Supprimer ce membre ?"]}),n.jsxs(Jr,{className:"text-gray-400",children:['Cette action est irrversible. Le membre "',h.displayName,'" sera dfinitivement supprim de la communaut.']})]}),n.jsxs(jt,{className:"gap-2 sm:gap-0",children:[n.jsx(H,{variant:"outline",className:"border-gray-600 text-gray-300",onClick:()=>j(!1),children:"Annuler"}),n.jsx(H,{variant:"destructive",onClick:()=>ie.mutate(h.id),disabled:ie.isPending,children:ie.isPending?"Suppression...":"Supprimer"})]})]})})]})}):n.jsx(Or,{communityId:t,communityName:i?.name,permissions:d,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Membres"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Se,{className:"bg-purple-500/20 text-purple-300 text-xs",children:[D.filter(Q=>Q.role==="member").length," total"]}),n.jsx(H,{size:"sm",className:"h-8 w-8 p-0 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600",onClick:()=>C(!0),"data-testid":"button-add-member",children:n.jsx(Sn,{size:16})})]})]}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),n.jsx(ne,{value:m,onChange:Q=>f(Q.target.value),placeholder:"Rechercher un membre...",className:"h-11 pl-10 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-search-members"})]}),$?n.jsx("div",{className:"space-y-3",children:[1,2,3,4].map(Q=>n.jsx("div",{className:"bg-white/5 rounded-xl p-4 animate-pulse",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-white/10"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-4 bg-white/10 rounded w-1/2 mb-2"}),n.jsx("div",{className:"h-3 bg-white/10 rounded w-1/3"})]})]})},Q))}):Y.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(gi,{className:"mx-auto mb-3 text-gray-500",size:40}),n.jsx("p",{className:"text-gray-400 text-sm",children:m?"Aucun membre trouv":"Aucun membre pour le moment"})]}):n.jsxs("div",{className:"space-y-6",children:[se.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-green-400 font-semibold text-xs uppercase tracking-wide mb-3",children:["Actifs (",se.length,")"]}),n.jsx("div",{className:"space-y-2",children:se.map(Q=>n.jsx(GL,{member:Q,onClick:()=>g(Q)},Q.id))})]}),he.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-red-400 font-semibold text-xs uppercase tracking-wide mb-3",children:["Inactifs (",he.length,")"]}),n.jsx("div",{className:"space-y-2 opacity-70",children:he.map(Q=>n.jsx(GL,{member:Q,onClick:()=>g(Q)},Q.id))})]})]}),n.jsx(ht,{open:N,onOpenChange:C,children:n.jsxs(mt,{className:"bg-gray-900 border-gray-700 text-white max-w-[95vw] rounded-2xl",children:[n.jsxs(pt,{children:[n.jsx(gt,{className:"text-white",children:"Ajouter un adhrent"}),n.jsx(Jr,{className:"text-gray-400",children:"Crez un nouveau membre pour votre communaut"})]}),n.jsxs("div",{className:"space-y-4 py-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ee,{className:"text-gray-300 text-xs",children:"Prnom *"}),n.jsx(ne,{placeholder:"Thomas",value:M.firstName,onChange:Q=>F({...M,firstName:Q.target.value}),className:"bg-white/10 border-white/20 text-white h-10","data-testid":"input-add-firstname"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ee,{className:"text-gray-300 text-xs",children:"Nom *"}),n.jsx(ne,{placeholder:"Dubois",value:M.lastName,onChange:Q=>F({...M,lastName:Q.target.value}),className:"bg-white/10 border-white/20 text-white h-10","data-testid":"input-add-lastname"})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ee,{className:"text-gray-300 text-xs",children:"Email (optionnel)"}),n.jsx(ne,{type:"email",placeholder:"exemple@email.com",value:M.email,onChange:Q=>F({...M,email:Q.target.value}),className:"bg-white/10 border-white/20 text-white h-10","data-testid":"input-add-email"})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ee,{className:"text-gray-300 text-xs",children:"Tlphone (optionnel)"}),n.jsx(ne,{type:"tel",placeholder:"06 12 34 56 78",value:M.phone,onChange:Q=>F({...M,phone:Q.target.value}),className:"bg-white/10 border-white/20 text-white h-10","data-testid":"input-add-phone"})]}),V.length>0&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ee,{className:"text-gray-300 text-xs",children:"Section (optionnel)"}),n.jsxs(it,{value:M.section,onValueChange:Q=>F({...M,section:Q}),children:[n.jsx(rt,{className:"bg-white/10 border-white/20 text-white h-10","data-testid":"select-add-section",children:n.jsx(ot,{placeholder:"Slectionner..."})}),n.jsx(st,{className:"bg-gray-800 border-gray-700",children:V.map(Q=>n.jsx(Ae,{value:Q.name,className:"text-white",children:Q.name},Q.id))})]})]}),q.length>0&&n.jsxs("div",{className:"space-y-1.5",children:[n.jsx(ee,{className:"text-gray-300 text-xs",children:"Formule d'adhsion (optionnel)"}),n.jsxs(it,{value:M.membershipPlanId,onValueChange:Q=>F({...M,membershipPlanId:Q}),children:[n.jsx(rt,{className:"bg-white/10 border-white/20 text-white h-10","data-testid":"select-add-plan",children:n.jsx(ot,{placeholder:"Slectionner..."})}),n.jsx(st,{className:"bg-gray-800 border-gray-700",children:q.map(Q=>n.jsxs(Ae,{value:Q.id,className:"text-white",children:[Q.name," - ",Q.amount===0?"Gratuit":`${(Q.amount/100).toFixed(0)} `]},Q.id))})]})]})]}),n.jsx("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-3",children:n.jsx("p",{className:"text-xs text-purple-300",children:"Un code d'activation sera gnr. Le membre pourra l'utiliser pour activer sa carte virtuelle."})}),n.jsxs(jt,{className:"gap-2 sm:gap-0",children:[n.jsx(H,{variant:"outline",className:"border-gray-600 text-gray-300",onClick:()=>C(!1),children:"Annuler"}),n.jsx(H,{className:"bg-gradient-to-r from-purple-600 to-indigo-600",onClick:K,disabled:I.isPending,"data-testid":"button-submit-member",children:I.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Cration..."]}):"Crer l'adhrent"})]})]})}),n.jsx(ht,{open:E,onOpenChange:T,children:n.jsxs(mt,{className:"bg-gray-900 border-gray-700 text-white max-w-[90vw] rounded-2xl",children:[n.jsx(pt,{children:n.jsxs(gt,{className:"text-green-400 flex items-center gap-2",children:[n.jsx(Ws,{className:"h-5 w-5"}),"Adhrent cr !"]})}),n.jsxs("div",{className:"py-4 text-center",children:[n.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Partagez ce code d'activation avec le nouveau membre :"}),n.jsxs("div",{className:"bg-white/10 border border-white/20 rounded-xl p-4 flex items-center justify-center gap-3",children:[n.jsx("code",{className:"text-2xl font-bold text-purple-400 tracking-wider",children:A}),n.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",onClick:U,"data-testid":"button-copy-code",children:P?n.jsx(Ws,{size:18}):n.jsx(uh,{size:18})})]}),n.jsx("p",{className:"text-gray-500 text-xs mt-3",children:"Le membre utilisera ce code pour activer sa carte dans l'application"})]}),n.jsx(jt,{children:n.jsx(H,{className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600",onClick:()=>T(!1),children:"Termin"})})]})})]})})}function GL({member:e,onClick:t}){return n.jsxs("div",{onClick:t,className:"bg-white/5 border border-white/10 rounded-xl p-3 flex items-center gap-3 hover:bg-white/10 transition-colors cursor-pointer","data-testid":`member-card-${e.id}`,children:[n.jsx(ks,{className:"h-10 w-10",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400 text-sm",children:e.displayName?.[0]?.toUpperCase()||"M"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-white font-medium text-sm truncate",children:e.displayName||"Membre"}),n.jsx(Se,{className:`text-[9px] ${e.contributionStatus==="up_to_date"?"bg-green-500/20 text-green-300":"bg-yellow-500/20 text-yellow-300"}`,children:e.contributionStatus==="up_to_date"?" jour":"En attente"})]}),n.jsx("p",{className:"text-gray-400 text-xs truncate",children:e.memberId})]})]})}const WL={canManageArticles:{label:"Grer les articles",icon:eu},canManageEvents:{label:"Grer les vnements",icon:Gn},canManageCollections:{label:"Grer les collectes",icon:tu},canManageMessages:{label:"Rpondre aux messages",icon:xo},canManageMembers:{label:"Grer les membres",icon:It},canScanPresence:{label:"Scanner les prsences",icon:$l}};function v2e({params:e}){const t=e.communityId,{user:r,currentCommunity:s,currentMembership:a,logout:i}=dt(),[o,c]=zt(),d=Wt(),m=v.useMemo(()=>{if(a)return ql(a)},[a]),[f,h]=v.useState(!1),[g,b]=v.useState(!1),[w,y]=v.useState(null),[j,N]=v.useState(""),[C,E]=v.useState(""),{data:T=[]}=Pe({queryKey:[`/api/communities/${t}/memberships`],enabled:!!t}),A=T.filter(V=>V.role==="admin"||V.role==="delegate"),k=T.find(V=>V.userId===r?.id),P=s?.ownerId===r?.id,O=qe({mutationFn:async({id:V,permissions:z})=>{const q=await fetch(`${Lt()}/api/communities/${t}/memberships/${V}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!q.ok)throw new Error("Erreur lors de la mise  jour");return q.json()},onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/communities/${t}/memberships`]}),X.success("Permissions mises  jour")},onError:()=>X.error("Erreur lors de la mise  jour des permissions")}),M=qe({mutationFn:async V=>{const z=await fetch(`${Lt()}/api/communities/${t}/delegates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:V.email,displayName:V.displayName,role:"delegate"})});if(!z.ok)throw new Error("Erreur lors de l'ajout");return z.json()},onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/communities/${t}/memberships`]}),X.success("Dlgu ajout avec succs"),b(!1),N(""),E("")},onError:()=>X.error("Erreur lors de l'ajout du dlgu")}),F=qe({mutationFn:async V=>{if(!(await fetch(`${Lt()}/api/communities/${t}/memberships/${V}`,{method:"DELETE"})).ok)throw new Error("Erreur lors de la suppression")},onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/communities/${t}/memberships`]}),X.success("Dlgu supprim"),y(null)},onError:()=>X.error("Erreur lors de la suppression")}),D=(V,z,q)=>{O.mutate({id:V,permissions:{[z]:!q}})},$=()=>{i(),c("/app/admin/login")};if(w){const V=s?.ownerId===w.userId;return n.jsx(Or,{communityId:t,communityName:s?.name,permissions:m,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Permissions du dlgu"}),n.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-white p-2",children:n.jsx(fn,{size:20})})]}),n.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ks,{className:"h-12 w-12",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400",children:w.displayName?.[0]?.toUpperCase()||"D"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-semibold",children:w.displayName||"Dlgu"}),n.jsx("p",{className:"text-gray-400 text-sm",children:w.email})]})]})}),V?n.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-purple-300",children:[n.jsx(Mr,{size:16}),n.jsx("span",{className:"text-sm font-medium",children:"Propritaire de la communaut"})]}),n.jsx("p",{className:"text-purple-300/70 text-xs mt-1",children:"Le propritaire a accs  toutes les fonctionnalits."})]}):n.jsx("div",{className:"space-y-3 mb-6",children:Object.keys(WL).map(z=>{const{label:q,icon:I}=WL[z],K=w[z]??!0;return n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(I,{size:18,className:"text-purple-400"}),n.jsx("span",{className:"text-white text-sm",children:q})]}),n.jsx(Qn,{checked:K,onCheckedChange:()=>D(w.id,z,K),disabled:O.isPending,"data-testid":`switch-permission-${z}`})]},z)})}),!V&&P&&n.jsxs(H,{variant:"outline",className:"w-full h-12 rounded-xl border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:()=>{confirm("Supprimer ce dlgu ?")&&F.mutate(w.id)},disabled:F.isPending,"data-testid":"button-remove-delegate",children:[n.jsx(js,{size:18,className:"mr-2"}),"Supprimer ce dlgu"]})]})})}return g?n.jsx(Or,{communityId:t,communityName:s?.name,permissions:m,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Ajouter un dlgu"}),n.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white p-2",children:n.jsx(fn,{size:20})})]}),n.jsxs("form",{onSubmit:V=>{if(V.preventDefault(),!j||!C){X.error("Veuillez remplir tous les champs");return}M.mutate({email:j,displayName:C})},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Nom *"}),n.jsx(ne,{value:C,onChange:V=>E(V.target.value),placeholder:"Nom du dlgu",className:"h-11 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-delegate-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Email *"}),n.jsx(ne,{type:"email",value:j,onChange:V=>N(V.target.value),placeholder:"email@exemple.com",className:"h-11 rounded-xl bg-white/10 border-white/20 text-white placeholder:text-gray-500","data-testid":"input-delegate-email"})]}),n.jsx("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-xl p-4",children:n.jsx("p",{className:"text-purple-300 text-xs",children:"Le dlgu recevra un email pour crer son compte et accder  l'app Pro avec les permissions que vous lui aurez attribues."})}),n.jsx(H,{type:"submit",className:"w-full h-12 rounded-xl font-bold mt-4",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},disabled:M.isPending,"data-testid":"button-add-delegate",children:M.isPending?"...":"Ajouter le dlgu"})]})]})}):f?n.jsx(Or,{communityId:t,communityName:s?.name,permissions:m,children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-bold text-white",children:"Dlgus"}),n.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-white p-2",children:n.jsx(fn,{size:20})})]}),P&&n.jsxs(H,{onClick:()=>b(!0),className:"w-full h-12 rounded-xl font-semibold mb-6",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},"data-testid":"button-new-delegate",children:[n.jsx(Sn,{size:18,className:"mr-2"}),"Ajouter un dlgu"]}),A.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(It,{className:"mx-auto mb-3 text-gray-500",size:40}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Aucun dlgu pour le moment"})]}):n.jsx("div",{className:"space-y-3",children:A.map(V=>{const z=s?.ownerId===V.userId;return n.jsxs("div",{onClick:()=>(P||V.id===k?.id)&&y(V),className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center justify-between hover:bg-white/10 transition-colors cursor-pointer","data-testid":`delegate-card-${V.id}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ks,{className:"h-10 w-10",children:n.jsx(Ms,{className:"bg-purple-500/20 text-purple-400",children:V.displayName?.[0]?.toUpperCase()||"D"})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-white font-medium text-sm",children:V.displayName||"Dlgu"}),z&&n.jsx(Se,{className:"bg-purple-500/20 text-purple-300 text-[9px]",children:"Propritaire"})]}),n.jsx("p",{className:"text-gray-400 text-xs",children:V.email})]})]}),n.jsx(xs,{size:18,className:"text-gray-500"})]},V.id)})})]})}):n.jsx(Or,{communityId:t,communityName:s?.name,permissions:m,children:n.jsxs("div",{className:"p-4",children:[n.jsx("h2",{className:"text-lg font-bold text-white mb-6",children:"Paramtres"}),n.jsxs("div",{className:"space-y-3",children:[P&&n.jsxs("div",{onClick:()=>h(!0),className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center justify-between hover:bg-white/10 transition-colors cursor-pointer","data-testid":"settings-delegates",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-purple-500/20 flex items-center justify-center",children:n.jsx(F9,{size:20,className:"text-purple-400"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium text-sm",children:"Gestion des dlgus"}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[A.length," dlgu",A.length>1?"s":""]})]})]}),n.jsx(xs,{size:18,className:"text-gray-500"})]}),n.jsx($e,{href:`/app/${t}/admin/scanner`,children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center justify-between hover:bg-white/10 transition-colors cursor-pointer","data-testid":"settings-scanner",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-500/20 flex items-center justify-center",children:n.jsx($l,{size:20,className:"text-blue-400"})}),n.jsx("span",{className:"text-white font-medium text-sm",children:"Scanner QR Code"})]}),n.jsx(xs,{size:18,className:"text-gray-500"})]})}),n.jsx($e,{href:"/admin/dashboard",children:n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center justify-between hover:bg-white/10 transition-colors cursor-pointer","data-testid":"settings-backoffice",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-green-500/20 flex items-center justify-center",children:n.jsx(Cl,{size:20,className:"text-green-400"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium text-sm",children:"Accder au Back-Office"}),n.jsx("p",{className:"text-gray-400 text-xs",children:"Paramtres avancs"})]})]}),n.jsx(xs,{size:18,className:"text-gray-500"})]})})]}),n.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:n.jsx(H,{variant:"outline",className:"w-full h-12 rounded-xl border-red-500/30 text-red-400 hover:bg-red-500/10",onClick:$,"data-testid":"button-logout",children:"Dconnexion"})})]})})}function YL(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var b2e=qa[" useInsertionEffect ".trim().toString()]||an;function j2e({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=w2e({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=N2e(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function w2e({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return b2e(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function N2e(e){return typeof e=="function"}var aw="Checkbox",[S2e]=ts(aw),[C2e,rk]=S2e(aw);function A2e(e){const{__scopeCheckbox:t,checked:r,children:s,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:d,required:m,value:f="on",internal_do_not_use_render:h}=e,[g,b]=j2e({prop:r,defaultProp:a??!1,onChange:d,caller:aw}),[w,y]=v.useState(null),[j,N]=v.useState(null),C=v.useRef(!1),E=w?!!o||!!w.closest("form"):!0,T={checked:g,disabled:i,setChecked:b,control:w,setControl:y,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:C,required:m,defaultChecked:qc(a)?!1:a,isFormControl:E,bubbleInput:j,setBubbleInput:N};return n.jsx(C2e,{scope:t,...T,children:E2e(h)?h(T):s})}var wY="CheckboxTrigger",NY=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...s},a)=>{const{control:i,value:o,disabled:c,checked:d,required:m,setControl:f,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:b,bubbleInput:w}=rk(wY,e),y=xt(a,f),j=v.useRef(d);return v.useEffect(()=>{const N=i?.form;if(N){const C=()=>h(j.current);return N.addEventListener("reset",C),()=>N.removeEventListener("reset",C)}},[i,h]),n.jsx(at.button,{type:"button",role:"checkbox","aria-checked":qc(d)?"mixed":d,"aria-required":m,"data-state":_Y(d),"data-disabled":c?"":void 0,disabled:c,value:o,...s,ref:y,onKeyDown:YL(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:YL(r,N=>{h(C=>qc(C)?!0:!C),w&&b&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});NY.displayName=wY;var sk=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:i,required:o,disabled:c,value:d,onCheckedChange:m,form:f,...h}=e;return n.jsx(A2e,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:m,name:s,form:f,value:d,internal_do_not_use_render:({isFormControl:g})=>n.jsxs(n.Fragment,{children:[n.jsx(NY,{...h,ref:t,__scopeCheckbox:r}),g&&n.jsx(EY,{__scopeCheckbox:r})]})})});sk.displayName=aw;var SY="CheckboxIndicator",CY=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,i=rk(SY,r);return n.jsx(Ls,{present:s||qc(i.checked)||i.checked===!0,children:n.jsx(at.span,{"data-state":_Y(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});CY.displayName=SY;var AY="CheckboxBubbleInput",EY=v.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:s,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:d,name:m,value:f,form:h,bubbleInput:g,setBubbleInput:b}=rk(AY,e),w=xt(r,b),y=qj(i),j=Fj(s);v.useEffect(()=>{const C=g;if(!C)return;const E=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(E,"checked").set,k=!a.current;if(y!==i&&A){const P=new Event("click",{bubbles:k});C.indeterminate=qc(i),A.call(C,qc(i)?!1:i),C.dispatchEvent(P)}},[g,y,i,a]);const N=v.useRef(qc(i)?!1:i);return n.jsx(at.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:c,disabled:d,name:m,value:f,form:h,...t,tabIndex:-1,ref:w,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});EY.displayName=AY;function E2e(e){return typeof e=="function"}function qc(e){return e==="indeterminate"}function _Y(e){return qc(e)?"indeterminate":e?"checked":"unchecked"}const Vs=v.forwardRef(({className:e,...t},r)=>n.jsx(sk,{ref:r,className:Le("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(CY,{className:Le("grid place-content-center text-current"),children:n.jsx(Ws,{className:"h-4 w-4"})})}));Vs.displayName=sk.displayName;function ll(e,t="EUR"){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:t}).format(e/100)}function _2e(e){return new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}function T2e({params:e}){const t=e.communityId,[r,s]=zt(),{user:a,currentCommunity:i,currentMembership:o,selectCommunity:c}=dt(),d=Wt(),m=v.useMemo(()=>{if(o)return ql(o)},[o]);v.useEffect(()=>{if(!a){s("/app/admin/login");return}i?.id!==t&&c(t)},[a,t,i,c,s]);const[f,h]=v.useState("overview"),[g,b]=v.useState(!1),[w,y]=v.useState(!1),[j,N]=v.useState(null),[C,E]=v.useState({title:"",description:"",amountCents:"",allowCustomAmount:!1,targetAmountCents:"",deadline:""}),{data:T,isLoading:A}=Pe({queryKey:[`/api/communities/${t}`],enabled:!!t}),{data:k}=Pe({queryKey:[`/api/plans/${T?.planId}`],enabled:!!T?.planId}),P=o?.userId,{data:O}=Pe({queryKey:[`/api/communities/${t}/collections/all?userId=${P}`],enabled:!!t&&!!P}),{data:M}=Pe({queryKey:[`/api/communities/${t}/transactions?userId=${P}`],enabled:!!t&&!!P}),F=qe({mutationFn:async()=>{const Y=await fetch("/api/payments/connect-community",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({communityId:t})});if(!Y.ok){const se=await Y.json();throw new Error(se.error||"Erreur lors de la connexion  Stripe")}return Y.json()},onSuccess:Y=>{Y.url&&(window.location.href=Y.url)},onError:Y=>{X.error(Y.message),b(!1)}}),D=qe({mutationFn:async Y=>{const se=await fetch("/api/collections",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({communityId:t,userId:o?.userId,...Y})});if(!se.ok){const he=await se.json();throw new Error(he.error||"Erreur lors de la cration")}return se.json()},onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/communities/${t}/collections/all`]}),X.success("Collecte cre"),h("collections"),E({title:"",description:"",amountCents:"",allowCustomAmount:!1,targetAmountCents:"",deadline:""})},onError:Y=>{X.error(Y.message)}}),$=qe({mutationFn:async Y=>{const se=await fetch(`/api/collections/${Y}/close`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:o?.userId})});if(!se.ok){const he=await se.json();throw new Error(he.error||"Erreur lors de la fermeture")}return se.json()},onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/communities/${t}/collections/all`]}),X.success("Collecte ferme"),y(!1),N(null)},onError:Y=>{X.error(Y.message)}}),V=()=>{b(!0),F.mutate()},z=()=>{const Y=Math.round(parseFloat(C.amountCents)*100);if(isNaN(Y)||Y<=0){X.error("Montant invalide");return}const se=C.targetAmountCents?Math.round(parseFloat(C.targetAmountCents)*100):null;D.mutate({title:C.title,description:C.description||null,amountCents:Y,allowCustomAmount:C.allowCustomAmount,targetAmountCents:se,deadline:C.deadline||null})},q=Y=>{const se=`https://app.koomy.app/community/${t}/collection/${Y}`;navigator.clipboard.writeText(se),X.success("Lien copi")},I=O?.collections||[],K=M?.transactions||[],U=I.filter(Y=>Y.status==="open"),B=!!T?.stripeConnectAccountId,ie=T?.paymentsEnabled===!0,G=K.filter(Y=>Y.status==="succeeded").reduce((Y,se)=>Y+se.amountToCommunity,0);return a?n.jsxs(Or,{communityId:t,communityName:i?.name||T?.name,permissions:m,children:[n.jsxs("div",{className:"p-4 space-y-6","data-testid":"mobile-admin-finances-page",children:[n.jsx("div",{className:"flex items-center gap-3",children:[{key:"overview",label:"Rsum"},{key:"collections",label:"Collectes"}].map(Y=>n.jsx("button",{onClick:()=>h(Y.key),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${f===Y.key?"bg-purple-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"}`,"data-testid":`tab-${Y.key}`,children:Y.label},Y.key))}),f==="overview"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 rounded-2xl p-5",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-white/20 flex items-center justify-center",children:n.jsx(tu,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-purple-200 text-sm",children:"Total encaiss"}),n.jsx("p",{className:"text-white text-2xl font-bold","data-testid":"text-total-collected",children:ll(G,T?.currency||"EUR")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"bg-white/10 rounded-xl p-3",children:[n.jsx("p",{className:"text-purple-200 text-xs",children:"Collectes ouvertes"}),n.jsx("p",{className:"text-white text-xl font-semibold",children:U.length})]}),n.jsxs("div",{className:"bg-white/10 rounded-xl p-3",children:[n.jsx("p",{className:"text-purple-200 text-xs",children:"Transactions"}),n.jsx("p",{className:"text-white text-xl font-semibold",children:K.length})]})]})]}),n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mn,{className:"h-5 w-5 text-gray-400"}),n.jsx("span",{className:"text-white font-medium",children:"Stripe Connect"})]}),B?ie?n.jsxs(Se,{className:"bg-green-500/20 text-green-300",children:[n.jsx(vs,{size:12,className:"mr-1"})," Activ"]}):n.jsxs(Se,{className:"bg-yellow-500/20 text-yellow-300",children:[n.jsx(Ln,{size:12,className:"mr-1"})," En attente"]}):n.jsx(Se,{className:"bg-gray-500/20 text-gray-300",children:"Non configur"})]}),n.jsx("p",{className:"text-gray-400 text-sm mb-4",children:ie?"Vous pouvez recevoir des paiements en ligne":"Configurez Stripe pour recevoir des paiements"}),n.jsxs(H,{className:"w-full",variant:B?"outline":"default",onClick:V,disabled:g||F.isPending,"data-testid":"button-connect-stripe",children:[(g||F.isPending)&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),B?"Grer Stripe":"Configurer Stripe",n.jsx(x4,{className:"ml-2 h-4 w-4"})]})]}),n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Plan actuel"}),n.jsx(Se,{variant:"secondary",children:k?.name||"Free"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-400 text-sm",children:"Cotisation annuelle"}),n.jsx("span",{className:"text-white font-medium",children:T?.membershipFeeAmount?ll(T.membershipFeeAmount,T.currency||"EUR"):"Non dfinie"})]})]}),K.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-white font-semibold text-sm",children:"Dernires transactions"}),K.slice(0,5).map(Y=>n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 flex items-center justify-between","data-testid":`transaction-${Y.id}`,children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-white text-sm font-medium",children:[Y.type==="membership"&&"Cotisation",Y.type==="collection"&&"Collecte",Y.type==="subscription"&&"Abonnement"]}),n.jsx("p",{className:"text-gray-400 text-xs",children:_2e(Y.createdAt)})]}),n.jsxs("span",{className:"text-green-400 font-semibold",children:["+",ll(Y.amountToCommunity,Y.currency)]})]},Y.id))]})]}),f==="collections"&&n.jsxs("div",{className:"space-y-4",children:[!ie&&n.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(br,{className:"h-5 w-5 text-yellow-400 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-300 font-medium text-sm",children:"Configuration requise"}),n.jsx("p",{className:"text-yellow-200/70 text-xs mt-1",children:"Configurez Stripe Connect pour crer des collectes."})]})]})}),n.jsxs(H,{className:"w-full",onClick:()=>h("create"),disabled:!ie,"data-testid":"button-new-collection",children:[n.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Nouvelle collecte"]}),U.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-white font-semibold text-sm",children:"En cours"}),U.map(Y=>n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4","data-testid":`collection-${Y.id}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium",children:Y.title}),Y.description&&n.jsx("p",{className:"text-gray-400 text-xs mt-1",children:Y.description})]}),n.jsx(Se,{className:"bg-green-500/20 text-green-300",children:"Ouverte"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm mb-3",children:[n.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[n.jsx(oa,{className:"h-4 w-4 text-gray-500"}),ll(Y.amountCents)]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[n.jsx(It,{className:"h-4 w-4 text-gray-500"}),Y.participantsCount]})]}),Y.targetAmountCents?n.jsxs("div",{className:"space-y-2 mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-400",children:"Progression"}),n.jsxs("span",{className:"text-white",children:[ll(Y.collectedAmountCents)," / ",ll(Y.targetAmountCents)]})]}),n.jsx(zc,{value:Y.percentComplete||0,className:"h-2"})]}):n.jsxs("div",{className:"flex justify-between text-sm mb-3",children:[n.jsx("span",{className:"text-gray-400",children:"Collect"}),n.jsx("span",{className:"text-green-400 font-medium",children:ll(Y.collectedAmountCents)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>q(Y.id),"data-testid":`share-${Y.id}`,children:[n.jsx(b4,{className:"mr-2 h-4 w-4"}),"Partager"]}),n.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{N(Y),y(!0)},"data-testid":`close-${Y.id}`,children:n.jsx(fn,{className:"h-4 w-4"})})]})]},Y.id))]}),I.filter(Y=>Y.status!=="open").length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"text-white font-semibold text-sm",children:"Termines"}),I.filter(Y=>Y.status!=="open").map(Y=>n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-white text-sm font-medium",children:Y.title}),n.jsxs("p",{className:"text-gray-400 text-xs",children:[ll(Y.collectedAmountCents),"  ",Y.participantsCount," participants"]})]}),n.jsx(Se,{variant:"secondary",className:"text-xs",children:Y.status==="closed"?"Ferme":"Annule"})]},Y.id))]}),I.length===0&&ie&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(wd,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}),n.jsx("p",{className:"text-white font-medium mb-2",children:"Aucune collecte"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Crez votre premire collecte"})]})]}),f==="create"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-white font-semibold",children:"Nouvelle collecte"}),n.jsx("button",{onClick:()=>h("collections"),className:"text-gray-400 hover:text-white",children:n.jsx(fn,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Titre *"}),n.jsx(ne,{placeholder:"Ex: Pot de dpart...",value:C.title,onChange:Y=>E(se=>({...se,title:Y.target.value})),className:"bg-white/10 border-white/20 text-white","data-testid":"input-title"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Description"}),n.jsx(Nn,{placeholder:"Dcrivez l'objectif...",value:C.description,onChange:Y=>E(se=>({...se,description:Y.target.value})),className:"bg-white/10 border-white/20 text-white","data-testid":"input-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Montant par participant () *"}),n.jsx(ne,{type:"number",step:"0.01",min:"0.50",placeholder:"10.00",value:C.amountCents,onChange:Y=>E(se=>({...se,amountCents:Y.target.value})),className:"bg-white/10 border-white/20 text-white","data-testid":"input-amount"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vs,{id:"allowCustom",checked:C.allowCustomAmount,onCheckedChange:Y=>E(se=>({...se,allowCustomAmount:Y===!0})),"data-testid":"checkbox-custom"}),n.jsx(ee,{htmlFor:"allowCustom",className:"text-gray-300 text-sm",children:"Permettre un montant libre"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Objectif ()"}),n.jsx(ne,{type:"number",step:"0.01",placeholder:"Optionnel",value:C.targetAmountCents,onChange:Y=>E(se=>({...se,targetAmountCents:Y.target.value})),className:"bg-white/10 border-white/20 text-white","data-testid":"input-target"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Date limite"}),n.jsx(ne,{type:"date",value:C.deadline,onChange:Y=>E(se=>({...se,deadline:Y.target.value})),className:"bg-white/10 border-white/20 text-white","data-testid":"input-deadline"})]}),n.jsxs(H,{className:"w-full mt-4",onClick:z,disabled:!C.title||!C.amountCents||D.isPending,"data-testid":"button-create",children:[D.isPending&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Crer la collecte"]})]})]})]}),w&&j&&n.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-end z-50",children:n.jsxs("div",{className:"bg-gray-900 w-full rounded-t-3xl p-6 space-y-4",children:[n.jsx("h3",{className:"text-white font-semibold text-lg",children:"Clore la collecte ?"}),n.jsxs("p",{className:"text-gray-400 text-sm",children:['"',j.title,'" - Cette action est irrversible.']}),n.jsxs("div",{className:"bg-white/5 rounded-xl p-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Collect"}),n.jsx("span",{className:"text-white font-medium",children:ll(j.collectedAmountCents)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-400",children:"Participants"}),n.jsx("span",{className:"text-white font-medium",children:j.participantsCount})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(H,{variant:"outline",className:"flex-1",onClick:()=>{y(!1),N(null)},children:"Annuler"}),n.jsxs(H,{variant:"destructive",className:"flex-1",onClick:()=>$.mutate(j.id),disabled:$.isPending,children:[$.isPending&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Clore"]})]})]})})]}):null}const P2e=[{value:"#6366f1",label:"Indigo"},{value:"#8b5cf6",label:"Violet"},{value:"#ec4899",label:"Rose"},{value:"#ef4444",label:"Rouge"},{value:"#f97316",label:"Orange"},{value:"#eab308",label:"Jaune"},{value:"#22c55e",label:"Vert"},{value:"#14b8a6",label:"Turquoise"},{value:"#3b82f6",label:"Bleu"},{value:"#64748b",label:"Gris"}];function O2e({params:e}){const t=e.communityId;zt();const{user:r,currentCommunity:s,currentMembership:a}=dt(),i=Wt(),o=v.useMemo(()=>{if(a)return ql(a)},[a]),[c,d]=v.useState(!1),[m,f]=v.useState(null),[h,g]=v.useState({name:"",slug:"",color:"#6366f1",type:"user",description:""}),{data:b}=Pe({queryKey:[`/api/communities/${t}`],enabled:!!t}),{data:w}=Pe({queryKey:[`/api/plans/${b?.planId}`],enabled:!!b?.planId}),{data:y=[],isLoading:j,error:N}=Pe({queryKey:[`/api/communities/${t}/tags`],queryFn:async()=>{const D=await fetch(`${Lt()}/api/communities/${t}/tags`),$=await D.json();if(!D.ok)throw $.error?.includes("Pro")||$.error?.includes("plan")?new Error("PLAN_UPGRADE_REQUIRED"):new Error($.error||"Erreur lors du chargement des tags");return $},enabled:!!t,retry:(D,$)=>$.message==="PLAN_UPGRADE_REQUIRED"?!1:D<2});v.useEffect(()=>{N&&N.message!=="PLAN_UPGRADE_REQUIRED"&&X.error(N.message||"Erreur lors du chargement des tags")},[N]);const C=N?.message==="PLAN_UPGRADE_REQUIRED",E=qe({mutationFn:async D=>{const $=await fetch(`${Lt()}/api/communities/${t}/tags`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...D,userId:r?.id})});if(!$.ok){const V=await $.json();throw new Error(V.error||"Erreur lors de la cration")}return $.json()},onSuccess:()=>{i.invalidateQueries({queryKey:[`/api/communities/${t}/tags`]}),d(!1),k(),X.success("Tag cr avec succs")},onError:D=>{X.error(D.message)}}),T=qe({mutationFn:async({id:D,data:$})=>{const V=await fetch(`${Lt()}/api/tags/${D}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({...$,userId:r?.id})});if(!V.ok){const z=await V.json();throw new Error(z.error||"Erreur lors de la mise  jour")}return V.json()},onSuccess:()=>{i.invalidateQueries({queryKey:[`/api/communities/${t}/tags`]}),d(!1),f(null),k(),X.success("Tag mis  jour")},onError:D=>{X.error(D.message)}}),A=qe({mutationFn:async D=>{const $=await fetch(`${Lt()}/api/tags/${D}?userId=${r?.id}`,{method:"DELETE"});if(!$.ok)throw new Error("Erreur lors de la suppression");return $.json()},onSuccess:()=>{i.invalidateQueries({queryKey:[`/api/communities/${t}/tags`]}),X.success("Tag supprim")},onError:()=>{X.error("Erreur lors de la suppression")}}),k=()=>{g({name:"",slug:"",color:"#6366f1",type:"user",description:""})},P=D=>{f(D),g({name:D.name,slug:D.slug,color:D.color||"#6366f1",type:D.type,description:D.description||""}),d(!0)},O=()=>{if(!h.name||!h.slug){X.error("Le nom et le slug sont requis");return}m?T.mutate({id:m.id,data:h}):E.mutate(h)},M=D=>D.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),F=a?.role==="admin";return C?n.jsx(Or,{communityId:t,communityName:s?.name||"",permissions:o,children:n.jsx("div",{className:"p-4","data-testid":"mobile-admin-tags-page",children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center p-6",children:[n.jsx("div",{className:"h-16 w-16 rounded-full bg-amber-500/20 flex items-center justify-center mb-4",children:n.jsx(Vi,{size:32,className:"text-amber-400"})}),n.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:"Fonctionnalit Pro"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"Les tags et la segmentation sont disponibles avec le plan Pro ou suprieur."}),n.jsxs(Se,{variant:"outline",className:"border-amber-500/50 text-amber-400",children:["Plan actuel: ",w?.name||b?.planId]})]})})}):n.jsxs(Or,{communityId:t,communityName:s?.name||"",permissions:o,children:[n.jsxs("div",{className:"p-4","data-testid":"mobile-admin-tags-page",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-white text-xl font-bold",children:"Tags"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Segmentation des membres"})]}),F&&n.jsxs(H,{onClick:()=>{k(),f(null),d(!0)},size:"sm",className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-create-tag",children:[n.jsx(Sn,{size:16,className:"mr-1"}),"Crer"]})]}),j?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-purple-400"})}):y.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[n.jsx("div",{className:"h-16 w-16 rounded-full bg-purple-500/20 flex items-center justify-center mb-4",children:n.jsx(E6,{size:32,className:"text-purple-400"})}),n.jsx("h3",{className:"text-white font-semibold mb-2",children:"Aucun tag"}),n.jsx("p",{className:"text-gray-400 text-sm max-w-xs",children:"Crez des tags pour segmenter et organiser vos membres"})]}):n.jsx("div",{className:"space-y-3",children:y.map(D=>n.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4","data-testid":`tag-card-${D.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${D.color||"#6366f1"}20`},children:n.jsx(E6,{size:20,style:{color:D.color||"#6366f1"}})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-white font-medium",children:D.name}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs",children:[n.jsxs("span",{children:["#",D.slug]}),D.memberCount!==void 0&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsx(It,{size:12}),n.jsxs("span",{children:[D.memberCount," membres"]})]})]})]})]}),F&&D.type==="user"&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(H,{variant:"ghost",size:"icon",onClick:()=>P(D),"data-testid":`button-edit-tag-${D.id}`,children:n.jsx(zl,{size:16,className:"text-gray-400"})}),n.jsx(H,{variant:"ghost",size:"icon",onClick:()=>A.mutate(D.id),className:"text-red-400 hover:text-red-300","data-testid":`button-delete-tag-${D.id}`,children:n.jsx(js,{size:16})})]})]}),D.description&&n.jsx("p",{className:"text-gray-400 text-sm mt-2",children:D.description})]},D.id))})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-end",children:n.jsxs("div",{className:"bg-gray-900 w-full rounded-t-3xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-gray-900 p-4 border-b border-white/10 flex justify-between items-center",children:[n.jsx("h2",{className:"text-white font-bold text-lg",children:m?"Modifier le tag":"Nouveau tag"}),n.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{d(!1),f(null),k()},children:n.jsx(fn,{size:20})})]}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Nom *"}),n.jsx(ne,{value:h.name,onChange:D=>{const $=D.target.value;g({...h,name:$,slug:m?h.slug:M($)})},placeholder:"Ex: Membre actif",className:"bg-white/5 border-white/10 text-white","data-testid":"input-tag-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Slug *"}),n.jsx(ne,{value:h.slug,onChange:D=>g({...h,slug:D.target.value}),placeholder:"membre-actif",className:"bg-white/5 border-white/10 text-white","data-testid":"input-tag-slug"}),n.jsx("p",{className:"text-gray-500 text-xs",children:"Identifiant unique du tag"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Couleur"}),n.jsx("div",{className:"grid grid-cols-5 gap-2",children:P2e.map(D=>n.jsx("button",{type:"button",onClick:()=>g({...h,color:D.value}),className:`h-10 rounded-lg border-2 transition-all ${h.color===D.value?"border-white scale-110":"border-transparent"}`,style:{backgroundColor:D.value},title:D.label,"data-testid":`color-${D.value}`},D.value))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-300",children:"Description (optionnelle)"}),n.jsx(Nn,{value:h.description,onChange:D=>g({...h,description:D.target.value}),placeholder:"Description du tag...",className:"bg-white/5 border-white/10 text-white min-h-[80px]","data-testid":"input-tag-description"})]}),n.jsxs(H,{onClick:O,disabled:E.isPending||T.isPending||!h.name||!h.slug,className:"w-full bg-purple-600 hover:bg-purple-700","data-testid":"button-submit-tag",children:[E.isPending||T.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin mr-2"}):null,m?"Mettre  jour":"Crer le tag"]})]})]})})]})}const dl={sha:"auth-fix-01",timestamp:"2026-01-08T09:00:00Z",marker:"koomy-prod-v1.13.1-auth-resolve-userid"};function QL(){const e=Lt();let t="unknown";try{const a=window.__WL_CONFIG__;a?.communityId&&(t=a.appName||a.communityId)}catch{t="error"}const r=dl.sha,s=dl.timestamp;return typeof window<"u"&&!window.__BUILD_INFO_LOGGED__&&(console.log(`[BACKOFFICE BUILD] sha=${dl.sha} marker=${dl.marker} time=${dl.timestamp}`),window.__BUILD_INFO_LOGGED__=!0),{webBuildId:r,webBuildTimestamp:s,gitSha:dl.sha,marker:dl.marker,versionName:"1.12.1",versionCode:13,apiBaseUrl:e||"not set",platform:Hn.getPlatform(),isNative:Hn.isNativePlatform(),tenant:t}}function k2e({params:e}){const{communityId:t}=e,[r,s]=v.useState(null),[a,i]=v.useState(!1);v.useEffect(()=>{s(QL())},[]);const o=()=>{if(r){const m=JSON.stringify(r,null,2);navigator.clipboard.writeText(m),i(!0),X.success("Infos copies !"),setTimeout(()=>i(!1),2e3)}},c=()=>{s(QL()),X.success("Infos rafrachies")};if(!r)return n.jsx(Ds,{communityId:t,children:n.jsx("div",{className:"p-6 pt-10 text-center text-gray-500",children:"Chargement..."})});const d=({label:m,value:f,highlight:h})=>n.jsxs("div",{className:"flex justify-between items-start py-3 border-b border-gray-100",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:m}),n.jsx("span",{className:`text-sm font-mono text-right max-w-[60%] break-all ${h?"text-blue-600 font-bold":"text-gray-900"}`,children:f})]});return n.jsx(Ds,{communityId:t,children:n.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center gap-3 sticky top-0 z-10",children:[n.jsx($e,{href:`/app/${t}/profile`,children:n.jsx(H,{variant:"ghost",size:"icon",className:"h-10 w-10",children:n.jsx(Bn,{className:"h-5 w-5"})})}),n.jsx("h1",{className:"text-lg font-semibold",children:"Build Info"}),n.jsx("div",{className:"flex-1"}),n.jsx(H,{variant:"ghost",size:"icon",onClick:c,children:n.jsx(Sl,{className:"h-5 w-5"})}),n.jsx(H,{variant:"ghost",size:"icon",onClick:o,children:a?n.jsx(Ws,{className:"h-5 w-5 text-green-500"}):n.jsx(uh,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[n.jsx("h2",{className:"font-semibold text-gray-900 mb-2",children:"Version"}),n.jsx(d,{label:"versionName",value:r.versionName,highlight:!0}),n.jsx(d,{label:"versionCode",value:String(r.versionCode),highlight:!0})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[n.jsx("h2",{className:"font-semibold text-gray-900 mb-2",children:"Web Bundle"}),n.jsx(d,{label:"WEB_BUILD_ID",value:r.webBuildId,highlight:!0}),n.jsx(d,{label:"Build Timestamp",value:r.webBuildTimestamp})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[n.jsx("h2",{className:"font-semibold text-gray-900 mb-2",children:"Runtime"}),n.jsx(d,{label:"API_BASE_URL",value:r.apiBaseUrl,highlight:!0}),n.jsx(d,{label:"Platform",value:r.platform}),n.jsx(d,{label:"Is Native",value:r.isNative?"YES":"NO"}),n.jsx(d,{label:"Tenant",value:r.tenant})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:n.jsx("p",{className:"text-yellow-800 text-sm",children:`Si WEB_BUILD_ID contient "PLACEHOLDER", le bundle web n'a pas t rebuild avant le sync Capacitor.`})})]})]})})}const _0="G-LP2VQVLC0H";let sx=!1;function M2e(){if(sx){console.log("[GA4] Already initialized");return}if(typeof window>"u")return;console.log("[GA4] Initializing with consent..."),delete window[`ga-disable-${_0}`];const e=document.createElement("script");e.async=!0,e.defer=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${_0}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=function(...r){window.dataLayer.push(r)},window.gtag("js",new Date),window.gtag("config",_0,{anonymize_ip:!0,allow_google_signals:!1,allow_ad_personalization_signals:!1,ads_data_redaction:!0,cookie_flags:"SameSite=Lax;Secure",send_page_view:!0}),window.gtag("set","ads_data_redaction",!0),window.gtag("set","url_passthrough",!1),sx=!0,console.log("[GA4] Initialized successfully (GDPR compliant mode)")}function R2e(e,t){!sx||typeof window>"u"||!window.gtag||window.gtag("event","page_view",{page_path:e,page_title:document.title,page_location:window.location.href})}function uS(){return sx}function D2e(){if(typeof window>"u")return;console.log("[GA4] Disabling tracking and removing scripts..."),window[`ga-disable-${_0}`]=!0;const e=document.querySelector('script[src*="googletagmanager.com/gtag/js"]');e&&(e.remove(),console.log("[GA4] Script tag removed")),window.dataLayer&&(window.dataLayer.length=0),window.gtag=function(){};const t=document.cookie.split(";");for(const r of t){const[s]=r.trim().split("=");(s.startsWith("_ga")||s.startsWith("_gid"))&&(document.cookie=`${s}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=${window.location.hostname}`,document.cookie=`${s}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`)}sx=!1,console.log("[GA4] Tracking fully disabled and cleaned up")}function XL(){if(typeof window>"u")return!1;try{const e=localStorage.getItem("koomy_cookie_preferences");return e?JSON.parse(e).analytics===!0:!1}catch{return!1}}function I2e(){const[e]=zt(),t=v.useRef(null),[r,s]=v.useState(()=>XL()),a=v.useCallback(()=>{const i=XL();s(o=>(o!==i&&console.log(`[Analytics] Consent changed: ${o}  ${i}`),i))},[]);v.useEffect(()=>{a();const i=c=>{c.key==="koomy_cookie_preferences"&&a()},o=()=>{a()};return window.addEventListener("storage",i),window.addEventListener("cookieConsentChanged",o),()=>{window.removeEventListener("storage",i),window.removeEventListener("cookieConsentChanged",o)}},[a]),v.useEffect(()=>{r&&!uS()?(console.log("[Analytics] Consent granted, initializing GA4..."),M2e()):!r&&uS()?(console.log("[Analytics] Consent revoked, disabling GA4..."),D2e()):r||console.log("[Analytics] No consent, GA4 not loaded")},[r]),v.useEffect(()=>{t.current!==null&&e!==t.current&&uS()&&R2e(e),t.current=e},[e])}function TY(){const[e,t]=zt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{setUser:o,selectCommunity:c}=dt(),[d,m]=v.useState(""),[f,h]=v.useState(""),g=async b=>{b.preventDefault(),i(!0);try{const w=await da("/api/admin/login",{email:d,password:f});if(!w.ok)throw new Error(w.data?.error||"Erreur de connexion");const y=w.data;y.sessionToken?(await vj(y.sessionToken),console.log("[Admin Login] Token stored successfully")):console.warn("[Admin Login] No sessionToken in response");const j={...y.user,memberships:y.memberships};o(j),X.success("Connexion russie!"),y.memberships.length===1&&c(y.memberships[0].communityId),setTimeout(()=>{t("/admin/dashboard")},100)}catch(w){X.error(w instanceof Error?w.message:"Erreur de connexion")}finally{i(!1)}};return n.jsxs("div",{className:"min-h-screen flex","data-testid":"admin-login-page",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)"},children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.4) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full opacity-15",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.3) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full opacity-10",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.5) 0%, transparent 60%)"}})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center w-full p-12 text-white",children:[n.jsx("img",{src:pi,alt:"Koomy",className:"w-72 mb-6 drop-shadow-2xl",style:{filter:"drop-shadow(0 0 30px rgba(68, 168, 255, 0.5))"}}),n.jsx("h1",{className:"text-4xl font-bold mb-4 text-center font-nunito",children:"Portail Admin"}),n.jsx("p",{className:"text-xl text-white/80 text-center max-w-md",children:"Grez votre communaut depuis une interface simple et puissante."}),n.jsxs("div",{className:"mt-12 grid grid-cols-2 gap-6 text-center",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[n.jsx("div",{className:"text-3xl font-bold mb-1",children:"12K+"}),n.jsx("div",{className:"text-sm text-white/70",children:"Adhrents grs"})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[n.jsx("div",{className:"text-3xl font-bold mb-1",children:"50+"}),n.jsx("div",{className:"text-sm text-white/70",children:"Communauts actives"})]})]})]})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-gray-50",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsx("div",{className:"lg:hidden flex justify-center mb-8",children:n.jsx("img",{src:pi,alt:"Koomy",className:"w-48"})}),n.jsxs(ve,{className:"border-0 shadow-xl",children:[n.jsxs(Ge,{className:"text-center pb-2",children:[n.jsx("div",{className:"mx-auto mb-4 h-14 w-14 rounded-2xl bg-primary/10 flex items-center justify-center",children:n.jsx(ys,{className:"h-7 w-7 text-primary"})}),n.jsx(Ve,{className:"text-2xl font-bold",children:"Connexion Administrateur"}),n.jsx(Ct,{children:"Accdez  votre espace de gestion communautaire"})]}),n.jsxs(je,{className:"pt-4",children:[n.jsxs("form",{onSubmit:g,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email professionnel"}),n.jsxs("div",{className:"relative",children:[n.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"email",type:"email",value:d,onChange:b=>m(b.target.value),placeholder:"admin@organisation.fr",className:"pl-11 h-12 rounded-xl border-gray-200 focus:border-primary focus:ring-primary",required:!0,"data-testid":"input-admin-email"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(ee,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),n.jsx("button",{type:"button",className:"text-xs text-primary hover:underline",children:"Mot de passe oubli ?"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"password",type:r?"text":"password",value:f,onChange:b=>h(b.target.value),placeholder:"",className:"pl-11 pr-11 h-12 rounded-xl border-gray-200 focus:border-primary focus:ring-primary",required:!0,"data-testid":"input-admin-password"}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?n.jsx(ma,{size:20}):n.jsx(ws,{size:20})})]})]}),n.jsx(H,{type:"submit",disabled:a,className:"w-full h-12 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold shadow-lg shadow-primary/30 transition-all","data-testid":"button-admin-submit",children:a?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Connexion..."]}):n.jsxs("div",{className:"flex items-center gap-2",children:["Se connecter",n.jsx(En,{size:18})]})})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[n.jsx("p",{className:"text-sm text-gray-500 text-center mb-4",children:"Vous n'avez pas encore de compte ?"}),n.jsxs(H,{variant:"outline",onClick:()=>t("/admin/register"),className:"w-full h-12 rounded-xl border-2 border-primary/20 hover:border-primary hover:bg-primary/5 font-semibold transition-all","data-testid":"button-admin-register",children:[n.jsx(Vc,{size:18,className:"mr-2"}),"Crer mon compte et ma communaut"]})]})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>t("/"),className:"text-sm text-gray-500 hover:text-primary transition-colors",children:" Retour  l'accueil"})})]})})]})}function PY({currentLogo:e,communityName:t="C",onUploadComplete:r,disabled:s=!1,size:a="lg"}){const[i,o]=v.useState(!1),[c,d]=v.useState(null),m=v.useRef(null),f={sm:"h-16 w-16",md:"h-24 w-24",lg:"h-32 w-32"},h=async w=>{const y=w.target.files?.[0];if(!y)return;const j=URL.createObjectURL(y);d(j),o(!0);try{const{objectPath:N}=await Qx(y,{folder:"logos"});r(N),X.success("Logo tlcharg avec succs")}catch(N){console.error("[LogoUploader] Upload error:",N),X.error(N instanceof Error?N.message:"Erreur lors du tlchargement"),d(null)}finally{o(!1),m.current&&(m.current.value="")}},g=c||e,b=t.split(" ").map(w=>w[0]).join("").substring(0,2).toUpperCase();return n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsxs("div",{className:"relative group",children:[n.jsxs(ks,{className:`${f[a]} border-4 border-white shadow-lg`,children:[n.jsx(gO,{src:g||void 0,alt:t}),n.jsx(Ms,{className:"bg-gradient-to-br from-[hsl(var(--koomy-primary))] to-[hsl(var(--koomy-primary-dark))] text-white text-2xl font-bold",children:b||n.jsx(mie,{className:"h-8 w-8"})})]}),i&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full",children:n.jsx(Oe,{className:"h-8 w-8 text-white animate-spin"})}),!s&&!i&&n.jsx("button",{onClick:()=>m.current?.click(),className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer","data-testid":"button-upload-logo-overlay",children:n.jsx(Uc,{className:"h-8 w-8 text-white"})})]}),n.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:s||i,"data-testid":"input-logo-file"}),n.jsx(H,{type:"button",variant:"outline",size:"sm",onClick:()=>m.current?.click(),disabled:s||i,className:"gap-2","data-testid":"button-upload-logo",children:i?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"h-4 w-4 animate-spin"}),"Tlchargement..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Uc,{className:"h-4 w-4"}),e?"Changer le logo":"Tlcharger un logo"]})}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Format JPG, PNG ou GIF. Max 5 Mo."})]})}const OY={[Aa.FREE]:{id:"free",code:Aa.FREE,name:"Free",tagline:"Dcouvrir Koomy",description:"Idal pour les petites communauts qui dbutent",maxMembers:20,maxAdmins:1,priceMonthly:0,priceYearly:0,features:["Jusqu' 20 membres","1 administrateur","Carte membre digitale simple","Fil d'actualits","vnements basiques","Support par email"],exclusions:["Multi-admin & rles","Export de donnes","Accs API","Personnalisation avance"],capabilities:{qrCard:!1,dues:!1,messaging:!1,events:!0,analytics:!1,advancedAnalytics:!1,exportData:!1,apiAccess:!1,multiAdmin:!1,unlimitedSections:!1,customization:!1,multiCommunity:!1,slaGuarantee:!1,dedicatedManager:!1,prioritySupport:!1,support24x7:!1,customDomain:!1,whiteLabeling:!1,eventRsvp:!1,eventPaid:!1,eventPaidQuota:0,eventTargeting:!1,eventCapacity:!1,eventDeadline:!1,eventStats:!1,eventWaitlist:!1,eventApproval:!1},isPopular:!1,isPublic:!0,isCustom:!1,sortOrder:1,ctaText:"Crer un compte gratuit",ctaLink:"/admin/register?plan=free"},[Aa.PLUS]:{id:"plus",code:Aa.PLUS,name:"Plus",tagline:"Structurer sa communaut",description:"Pour les associations et clubs en croissance",maxMembers:300,maxAdmins:null,priceMonthly:1200,priceYearly:12e3,features:["Jusqu' 300 membres","Cartes membres avec QR code","Gestion des cotisations","vnements + inscriptions","Messagerie membres/admins","Statistiques de base","Support prioritaire"],capabilities:{qrCard:!0,dues:!0,messaging:!0,events:!0,analytics:!0,advancedAnalytics:!1,exportData:!1,apiAccess:!1,multiAdmin:!1,unlimitedSections:!1,customization:!1,multiCommunity:!1,slaGuarantee:!1,dedicatedManager:!1,prioritySupport:!0,support24x7:!1,customDomain:!1,whiteLabeling:!1,eventRsvp:!0,eventPaid:!0,eventPaidQuota:2,eventTargeting:!1,eventCapacity:!1,eventDeadline:!1,eventStats:!1,eventWaitlist:!1,eventApproval:!1},isPopular:!0,isPublic:!0,isCustom:!1,sortOrder:2,ctaText:"Commencer l'essai",ctaLink:"/admin/register?plan=plus"},[Aa.PRO]:{id:"pro",code:Aa.PRO,name:"Pro",tagline:"Piloter & dvelopper",description:"Pour les grandes organisations avec des besoins avancs",maxMembers:1e3,maxAdmins:null,priceMonthly:3900,priceYearly:39e3,features:["Jusqu' 1 000 membres","Multi-admin avec rles","Sections/rgions illimites","Personnalisation avance","Analytics avances","Export de donnes","Accs API","Support prioritaire renforc"],capabilities:{qrCard:!0,dues:!0,messaging:!0,events:!0,analytics:!0,advancedAnalytics:!0,exportData:!0,apiAccess:!0,multiAdmin:!0,unlimitedSections:!0,customization:!0,multiCommunity:!1,slaGuarantee:!1,dedicatedManager:!1,prioritySupport:!0,support24x7:!1,customDomain:!1,whiteLabeling:!1,eventRsvp:!0,eventPaid:!0,eventPaidQuota:null,eventTargeting:!0,eventCapacity:!0,eventDeadline:!0,eventStats:!0,eventWaitlist:!1,eventApproval:!1},isPopular:!1,isPublic:!0,isCustom:!1,sortOrder:3,ctaText:"Commencer l'essai",ctaLink:"/admin/register?plan=pro"},[Aa.GRAND_COMPTE]:{id:"enterprise",code:Aa.GRAND_COMPTE,name:"Grand Compte",tagline:"Dploiement  grande chelle",description:"Solution sur mesure pour les trs grandes organisations",maxMembers:null,maxAdmins:null,priceMonthly:null,priceYearly:null,features:["Membres illimits","Multi-communauts","Configuration personnalise","Intgrations sur mesure","SLA garanti","Support prioritaire 24/7","Manager de succs ddi"],capabilities:{qrCard:!0,dues:!0,messaging:!0,events:!0,analytics:!0,advancedAnalytics:!0,exportData:!0,apiAccess:!0,multiAdmin:!0,unlimitedSections:!0,customization:!0,multiCommunity:!0,slaGuarantee:!0,dedicatedManager:!0,prioritySupport:!0,support24x7:!0,customDomain:!0,whiteLabeling:!0,eventRsvp:!0,eventPaid:!0,eventPaidQuota:null,eventTargeting:!0,eventCapacity:!0,eventDeadline:!0,eventStats:!0,eventWaitlist:!0,eventApproval:!0},isPopular:!1,isPublic:!0,isCustom:!0,sortOrder:4,ctaText:"Contacter l'quipe",ctaLink:"/website/contact"}},Km={title:"Marque Blanche",subtitle:"Votre propre plateforme  vos couleurs, sur devis.",note:"Rserv aux projets Grand Compte",features:[{label:"Branding complet",description:"Logo, couleurs, identit"},{label:"Nom de domaine personnalis",description:"option"},{label:"App et web  votre marque",description:"option selon scope"},{label:"Dploiement sur mesure",description:null},{label:"Support et accompagnement ddis",description:null}],ctaText:"Parler  un expert",ctaLink:"/website/contact?subject=whitelabel"};function L2e(e){return OY[e]}function $2e(){return Object.values(OY).sort((e,t)=>e.sortOrder-t.sortOrder)}function z2e(){return $2e().filter(e=>e.isPublic)}function ZL(e){return e==null?"":e===0?"0":`${(e/100).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g," ")}`}function q2e(e,t){return e.isCustom?null:t&&e.priceYearly!==null?Math.round(e.priceYearly/12):e.priceMonthly}const F2e=[{value:"sport",label:"Sport"},{value:"culture",label:"Culture"},{value:"education",label:"ducation"},{value:"social",label:"Social"},{value:"professionnel",label:"Professionnel"},{value:"loisirs",label:"Loisirs"},{value:"environnement",label:"Environnement"},{value:"sante",label:"Sant"},{value:"autre",label:"Autre"}];function B2e(){const[e,t]=zt(),r=Fx(),[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,d]=v.useState(1),{user:m,setUser:f,selectCommunity:h}=dt(),g=new URLSearchParams(r).get("plan")?.toUpperCase(),b=g&&Object.values(Aa).includes(g)?L2e(g):null;v.useEffect(()=>{m&&t("/admin/dashboard")},[m,t]);const[w,y]=v.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",communityName:"",communityType:"",communityTypeOther:"",category:"",description:"",logo:"",address:"",city:"",postalCode:"",country:"France",contactEmail:"",contactPhone:"",welcomeMessage:""}),j=(P,O)=>{y(M=>({...M,[P]:O}))},N=P=>{j("logo",P),X.success("Logo tlcharg avec succs")},C=()=>!w.firstName||!w.lastName||!w.email||!w.password?(X.error("Veuillez remplir tous les champs obligatoires"),!1):w.password!==w.confirmPassword?(X.error("Les mots de passe ne correspondent pas"),!1):w.password.length<8?(X.error("Le mot de passe doit contenir au moins 8 caractres"),!1):!0,E=()=>!w.communityName||!w.communityType?(X.error("Veuillez remplir le nom et le type de votre communaut"),!1):w.communityType==="other"&&!w.communityTypeOther?(X.error("Veuillez prciser le type de votre communaut"),!1):!0,T=()=>{c===1&&C()&&d(2)},A=async P=>{P.preventDefault(),o(!0);try{const O=b?.code?.toLowerCase()||"free",M=await da("/api/admin/register",{firstName:w.firstName,lastName:w.lastName,email:w.email,phone:w.phone,password:w.password,communityName:w.communityName,communityType:w.communityType,communityTypeOther:w.communityTypeOther||null,category:w.category||null,description:w.description||null,address:w.address||null,city:w.city||null,postalCode:w.postalCode||null,country:w.country,contactEmail:w.contactEmail||w.email,contactPhone:w.contactPhone||w.phone,logo:w.logo||null,welcomeMessage:w.welcomeMessage||null,membershipFeeEnabled:!1,membershipFeeAmount:null,currency:"EUR",billingPeriod:"yearly",planId:O});if(!M.ok)throw new Error(M.data?.error||"Erreur lors de l'inscription");const F=M.data;if(F.redirectUrl){X.success("Redirection vers le paiement..."),window.location.href=F.redirectUrl;return}const D={...F.user,memberships:F.memberships};f(D),F.memberships.length>0&&h(F.memberships[0].communityId),X.success("Compte cr avec succs! Bienvenue sur Koomy."),setTimeout(()=>{t("/admin/dashboard")},100)}catch(O){X.error(O instanceof Error?O.message:"Erreur lors de l'inscription")}finally{o(!1)}},k=()=>w.communityType==="other"?w.communityTypeOther||"communaut":Rf.find(O=>O.value===w.communityType)?.label.toLowerCase()||"communaut";return n.jsxs("div",{className:"min-h-screen flex","data-testid":"admin-register-page",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)"},children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.4) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full opacity-15",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.3) 0%, transparent 70%)"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full opacity-10",style:{background:"radial-gradient(circle, rgba(68, 168, 255, 0.5) 0%, transparent 60%)"}})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center w-full p-12 text-white",children:[n.jsx("img",{src:pi,alt:"Koomy",className:"w-72 mb-6 drop-shadow-2xl",style:{filter:"drop-shadow(0 0 30px rgba(68, 168, 255, 0.5))"}}),n.jsx("h1",{className:"text-4xl font-bold mb-4 text-center font-nunito",children:"Rejoignez Koomy"}),n.jsx("p",{className:"text-xl text-white/80 text-center max-w-md",children:"Crez votre espace communautaire en quelques minutes et commencez  fdrer vos adhrents."}),n.jsxs("div",{className:"mt-12 space-y-4 text-left max-w-sm",children:[n.jsxs("div",{className:`flex items-center gap-4 ${c===1?"bg-white/20":"bg-white/10"} backdrop-blur-sm rounded-xl p-4 transition-all`,children:[n.jsx("div",{className:`h-10 w-10 rounded-full ${c>=1?"bg-primary":"bg-white/20"} flex items-center justify-center text-lg font-bold`,children:"1"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:"Crez votre compte"}),n.jsx("div",{className:"text-sm text-white/70",children:"Vos informations personnelles"})]})]}),n.jsxs("div",{className:`flex items-center gap-4 ${c===2?"bg-white/20":"bg-white/10"} backdrop-blur-sm rounded-xl p-4 transition-all`,children:[n.jsx("div",{className:`h-10 w-10 rounded-full ${c>=2?"bg-primary":"bg-white/20"} flex items-center justify-center text-lg font-bold`,children:"2"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:"Identit de votre communaut"}),n.jsx("div",{className:"text-sm text-white/70",children:"Nom, type et coordonnes"})]})]})]})]})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-gray-50 overflow-y-auto",children:n.jsxs("div",{className:"w-full max-w-lg",children:[n.jsx("div",{className:"lg:hidden flex justify-center mb-6",children:n.jsx("img",{src:pi,alt:"Koomy",className:"w-48"})}),n.jsxs(ve,{className:"border-0 shadow-xl",children:[n.jsxs(Ge,{className:"text-center pb-2",children:[n.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[n.jsx("div",{className:`h-2 w-12 rounded-full transition-colors ${c>=1?"bg-primary":"bg-gray-200"}`}),n.jsx("div",{className:`h-2 w-12 rounded-full transition-colors ${c>=2?"bg-primary":"bg-gray-200"}`})]}),n.jsx(Ve,{className:"text-2xl font-bold",children:c===1?"Crer votre compte":"Votre communaut"}),n.jsx(Ct,{children:c===1?"Commencez par vos informations personnelles":"Configurez l'identit de votre espace"}),b&&c===1&&n.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 bg-blue-50 text-blue-700 text-sm font-medium px-3 py-1.5 rounded-full border border-blue-100",children:[n.jsx("span",{children:"Plan slectionn :"}),n.jsx("span",{className:"font-bold",children:b.name}),b.priceMonthly!==null&&b.priceMonthly>0&&n.jsxs("span",{className:"text-blue-500",children:["(",(b.priceMonthly/100).toFixed(0),"/mois)"]}),b.priceMonthly===0&&n.jsx("span",{className:"text-green-600",children:"(Gratuit)"})]})]}),n.jsxs(je,{className:"pt-4",children:[c===1?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"firstName",className:"text-sm font-medium text-gray-700",children:"Prnom *"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"firstName",type:"text",value:w.firstName,onChange:P=>j("firstName",P.target.value),placeholder:"Jean",className:"pl-11 h-12 rounded-xl border-gray-200",required:!0,"data-testid":"input-register-firstname"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"lastName",className:"text-sm font-medium text-gray-700",children:"Nom *"}),n.jsx(ne,{id:"lastName",type:"text",value:w.lastName,onChange:P=>j("lastName",P.target.value),placeholder:"Dupont",className:"h-12 rounded-xl border-gray-200",required:!0,"data-testid":"input-register-lastname"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email professionnel *"}),n.jsxs("div",{className:"relative",children:[n.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"email",type:"email",value:w.email,onChange:P=>j("email",P.target.value),placeholder:"jean.dupont@organisation.fr",className:"pl-11 h-12 rounded-xl border-gray-200",required:!0,"data-testid":"input-register-email"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Tlphone"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"phone",type:"tel",value:w.phone,onChange:P=>j("phone",P.target.value),placeholder:"06 12 34 56 78",className:"pl-11 h-12 rounded-xl border-gray-200","data-testid":"input-register-phone"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"password",type:s?"text":"password",value:w.password,onChange:P=>j("password",P.target.value),placeholder:"Minimum 8 caractres",className:"pl-11 pr-11 h-12 rounded-xl border-gray-200",required:!0,"data-testid":"input-register-password"}),n.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?n.jsx(ma,{size:20}):n.jsx(ws,{size:20})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirmer le mot de passe *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"confirmPassword",type:s?"text":"password",value:w.confirmPassword,onChange:P=>j("confirmPassword",P.target.value),placeholder:"Confirmez votre mot de passe",className:"pl-11 h-12 rounded-xl border-gray-200",required:!0,"data-testid":"input-register-confirm-password"})]})]}),n.jsx(H,{type:"button",onClick:T,className:"w-full h-12 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold shadow-lg shadow-primary/30 transition-all mt-4","data-testid":"button-register-next",children:n.jsxs("div",{className:"flex items-center gap-2",children:["Continuer",n.jsx(En,{size:18})]})})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"communityName",className:"text-sm font-medium text-gray-700",children:"Nom de votre communaut *"}),n.jsxs("div",{className:"relative",children:[n.jsx(ys,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"communityName",type:"text",value:w.communityName,onChange:P=>j("communityName",P.target.value),placeholder:"Ex: Club de Tennis de Lyon",className:"pl-11 h-12 rounded-xl border-gray-200",required:!0,"data-testid":"input-register-community-name"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"communityType",className:"text-sm font-medium text-gray-700",children:"Type de communaut *"}),n.jsxs(it,{value:w.communityType,onValueChange:P=>j("communityType",P),children:[n.jsx(rt,{className:"h-12 rounded-xl border-gray-200","data-testid":"select-register-community-type",children:n.jsx(ot,{placeholder:"Slectionnez un type"})}),n.jsx(st,{children:Rf.map(P=>n.jsx(Ae,{value:P.value,children:P.label},P.value))})]})]}),w.communityType==="other"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"communityTypeOther",className:"text-sm font-medium text-gray-700",children:"Prcisez le type *"}),n.jsx(ne,{id:"communityTypeOther",type:"text",value:w.communityTypeOther,onChange:P=>j("communityTypeOther",P.target.value),placeholder:"Ex: Collectif d'artistes",className:"h-12 rounded-xl border-gray-200","data-testid":"input-register-community-type-other"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"category",className:"text-sm font-medium text-gray-700",children:"Catgorie"}),n.jsxs(it,{value:w.category,onValueChange:P=>j("category",P),children:[n.jsx(rt,{className:"h-12 rounded-xl border-gray-200","data-testid":"select-register-category",children:n.jsx(ot,{placeholder:"Slectionnez une catgorie"})}),n.jsx(st,{children:F2e.map(P=>n.jsx(Ae,{value:P.value,children:P.label},P.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:"Description"}),n.jsx(Nn,{id:"description",value:w.description,onChange:P=>j("description",P.target.value),placeholder:"Dcrivez brivement votre communaut...",className:"min-h-[80px] rounded-xl border-gray-200 resize-none","data-testid":"input-register-community-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-sm font-medium text-gray-700",children:"Logo de la communaut"}),n.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[n.jsx(PY,{currentLogo:w.logo,communityName:w.communityName,onUploadComplete:N,disabled:!1,size:"md"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Tlchargez le logo de votre ",k()||"communaut"]}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Format JPG, PNG ou GIF. Taille max 5 Mo."})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"city",className:"text-sm font-medium text-gray-700",children:"Ville"}),n.jsxs("div",{className:"relative",children:[n.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"city",type:"text",value:w.city,onChange:P=>j("city",P.target.value),placeholder:"Lyon",className:"pl-11 h-12 rounded-xl border-gray-200","data-testid":"input-register-city"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"postalCode",className:"text-sm font-medium text-gray-700",children:"Code postal"}),n.jsx(ne,{id:"postalCode",type:"text",value:w.postalCode,onChange:P=>j("postalCode",P.target.value),placeholder:"69001",className:"h-12 rounded-xl border-gray-200","data-testid":"input-register-postal-code"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"address",className:"text-sm font-medium text-gray-700",children:"Adresse"}),n.jsx(ne,{id:"address",type:"text",value:w.address,onChange:P=>j("address",P.target.value),placeholder:"12 rue de la Rpublique",className:"h-12 rounded-xl border-gray-200","data-testid":"input-register-address"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"country",className:"text-sm font-medium text-gray-700",children:"Pays"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ui,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"country",type:"text",value:w.country,onChange:P=>j("country",P.target.value),placeholder:"France",className:"pl-11 h-12 rounded-xl border-gray-200","data-testid":"input-register-country"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"contactEmail",className:"text-sm font-medium text-gray-700",children:"Email de contact"}),n.jsx(ne,{id:"contactEmail",type:"email",value:w.contactEmail,onChange:P=>j("contactEmail",P.target.value),placeholder:"contact@...",className:"h-12 rounded-xl border-gray-200","data-testid":"input-register-contact-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"contactPhone",className:"text-sm font-medium text-gray-700",children:"Tlphone"}),n.jsx(ne,{id:"contactPhone",type:"tel",value:w.contactPhone,onChange:P=>j("contactPhone",P.target.value),placeholder:"04 XX XX XX XX",className:"h-12 rounded-xl border-gray-200","data-testid":"input-register-contact-phone"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"welcomeMessage",className:"text-sm font-medium text-gray-700",children:"Message d'accueil (optionnel)"}),n.jsxs("div",{className:"relative",children:[n.jsx(xo,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx(Nn,{id:"welcomeMessage",value:w.welcomeMessage,onChange:P=>j("welcomeMessage",P.target.value),placeholder:`Bienvenue dans notre ${k()}! Nous sommes ravis de vous accueillir.`,className:"pl-11 min-h-[80px] rounded-xl border-gray-200 resize-none","data-testid":"input-register-welcome-message"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Ce message sera affich aux nouveaux membres"})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsxs(H,{type:"button",variant:"outline",onClick:()=>d(1),className:"flex-1 h-12 rounded-xl","data-testid":"button-register-back",children:[n.jsx(Bn,{size:18,className:"mr-2"}),"Retour"]}),n.jsx(H,{type:"button",onClick:P=>{E()&&A(P)},disabled:i,className:"flex-1 h-12 rounded-xl bg-primary hover:bg-primary/90 text-white font-semibold shadow-lg shadow-primary/30 transition-all","data-testid":"button-register-submit",children:i?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Cration..."]}):n.jsxs("div",{className:"flex items-center gap-2",children:["Crer ma communaut",n.jsx(En,{size:18})]})})]})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:n.jsxs("p",{className:"text-sm text-gray-500",children:["Dj un compte ?"," ",n.jsx("button",{onClick:()=>t("/admin/login"),className:"text-primary hover:underline font-medium",children:"Se connecter"})]})})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>t("/"),className:"text-sm text-gray-500 hover:text-primary transition-colors",children:" Retour  l'accueil"})})]})})]})}function U2e(){const[e,t]=zt(),{user:r}=dt();return v.useEffect(()=>{t(r?"/admin/dashboard":"/admin/login")},[r,t]),null}function dn({children:e}){const[t,r]=zt(),{user:s,logout:a,currentCommunity:i,selectCommunity:o}=dt(),{data:c}=Pe({queryKey:["/api/env"],staleTime:1/0}),d=c?.isSandbox||!1;v.useEffect(()=>{if(!s){r("/admin/login");return}const y=s.memberships||[];y.length===1&&!i&&o(y[0].communityId)},[s,i,o,r]);const m=()=>{a(),r("/admin/login")};if(!s)return null;const f=s.memberships||[];if(f.length===0)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-8",children:n.jsxs("div",{className:"w-full max-w-md text-center",children:[n.jsx("img",{src:pi,alt:"Koomy",className:"h-12 mx-auto mb-8"}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border",children:[n.jsx("div",{className:"h-16 w-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(br,{className:"h-8 w-8 text-amber-600"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-3",children:"Aucun club associ"}),n.jsx("p",{className:"text-gray-500 mb-6 leading-relaxed",children:"Ce compte administrateur n'est li  aucun club. Contactez le propritaire du club ou utilisez le bon email."}),n.jsxs(H,{onClick:m,variant:"outline",className:"gap-2",children:[n.jsx(pl,{className:"h-4 w-4"}),"Se dconnecter"]})]})]})});if(f.length>1)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-8",children:n.jsxs("div",{className:"w-full max-w-md text-center",children:[n.jsx("img",{src:pi,alt:"Koomy",className:"h-12 mx-auto mb-8"}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border",children:[n.jsx("div",{className:"h-16 w-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Nl,{className:"h-8 w-8 text-red-600"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-3",children:"Configuration non supporte"}),n.jsxs("p",{className:"text-gray-500 mb-4 leading-relaxed",children:["Ce compte est li  plusieurs clubs (",f.length,"). Un compte admin ne peut grer qu'un seul club."]}),n.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Crez un compte distinct pour chaque club  administrer."}),n.jsxs(H,{onClick:m,variant:"outline",className:"gap-2",children:[n.jsx(pl,{className:"h-4 w-4"}),"Se dconnecter"]})]})]})});if(!i)return n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 font-medium",children:"Chargement du club..."})]})});const h=i.planId!=="free"&&i.planId!=null,g=i.subscriptionStatus==="pending";if(h&&g)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center p-8",children:n.jsxs("div",{className:"w-full max-w-md text-center",children:[n.jsx("img",{src:pi,alt:"Koomy",className:"h-12 mx-auto mb-8"}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border",children:[n.jsx("div",{className:"h-16 w-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(mn,{className:"h-8 w-8 text-amber-600"})}),n.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-3",children:"Paiement requis"}),n.jsxs("p",{className:"text-gray-500 mb-6 leading-relaxed",children:["Votre inscription au plan ",n.jsx("strong",{className:"text-primary",children:i.planId?.toUpperCase()})," est en attente de paiement. Finalisez le paiement pour accder  votre espace d'administration."]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(H,{onClick:()=>window.location.href=`/api/billing/retry-checkout?communityId=${i.id}`,className:"w-full","data-testid":"button-complete-payment",children:[n.jsx(mn,{className:"h-4 w-4 mr-2"}),"Finaliser le paiement"]}),n.jsxs(H,{onClick:m,variant:"outline",className:"w-full gap-2",children:[n.jsx(pl,{className:"h-4 w-4"}),"Se dconnecter"]})]})]})]})});const b=[{icon:v4,label:"Tableau de bord",path:"/admin/dashboard"},{icon:It,label:"Adhrents",path:"/admin/members"},{icon:Hr,label:"Sections",path:"/admin/sections"},{icon:Gn,label:"vnements",path:"/admin/events"},{icon:xo,label:"Messagerie",path:"/admin/messages"},{icon:eu,label:"Actualits",path:"/admin/news"},{icon:T_,label:"Rubriques",path:"/admin/categories"},{icon:zi,label:"Tags",path:"/admin/tags"},{icon:mn,label:"Finances & Collectes",path:"/admin/finances"},{icon:__,label:"Mes offres d'adhsion",path:"/admin/membership-plans"},{icon:aoe,label:"Facturation",path:"/admin/billing"},{icon:Mr,label:"Administrateurs",path:"/admin/admins"},{icon:Il,label:"Support",path:"/admin/support"},{icon:Cl,label:"Paramtres",path:"/admin/settings"}],w=()=>i?i.communityType==="other"?i.communityTypeOther||"Communaut":Rf.find(j=>j.value===i.communityType)?.label||"Communaut":"";return n.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[d&&n.jsxs("div",{className:"bg-amber-500 text-amber-950 text-center py-1.5 px-4 text-sm font-bold flex items-center justify-center gap-2 z-50","data-testid":"sandbox-banner",children:[n.jsx(Wae,{className:"h-4 w-4"}),n.jsx("span",{children:"SANDBOX"}),n.jsx("span",{className:"text-amber-800 font-medium",children:" Environnement de test"})]}),n.jsxs("div",{className:"flex flex-1",children:[n.jsxs("aside",{className:"w-64 bg-sidebar text-sidebar-foreground flex flex-col shadow-xl z-10 hidden md:flex",children:[n.jsxs("div",{className:"p-5 flex items-center gap-3 border-b border-sidebar-border/20",children:[i?.logo?n.jsx("img",{src:ar(i.logo,"AdminLayout-logo")||i.logo,alt:"Logo",className:"h-9 w-9 rounded-lg bg-white p-1 object-contain"}):n.jsx("div",{className:"h-9 w-9 rounded-lg bg-primary/20 flex items-center justify-center",children:n.jsx(ys,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h1",{className:"font-bold text-sm leading-tight truncate","data-testid":"text-sidebar-community-name",children:i?.name||"Koomy Admin"}),n.jsx("span",{className:"text-xs opacity-70 truncate block","data-testid":"text-sidebar-community-type",children:w()})]})]}),n.jsx("nav",{className:"flex-1 py-6 px-3 space-y-1",children:b.map(y=>{const j=t===y.path;return n.jsxs($e,{href:y.path,className:Le("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",j?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-white"),children:[n.jsx(y.icon,{className:"h-5 w-5"}),y.label]},y.path)})}),n.jsx("div",{className:"p-4 border-t border-sidebar-border/20",children:n.jsxs("button",{onClick:m,className:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-red-400 hover:bg-red-500/10 transition-colors w-full",children:[n.jsx(pl,{className:"h-5 w-5"}),"Dconnexion"]})}),n.jsxs("div",{className:"px-4 pb-2 text-xs text-sidebar-foreground/40 font-mono","data-testid":"build-marker",children:["build: ",dl.sha," / ",dl.marker]})]}),n.jsxs("main",{className:"flex-1 overflow-y-auto",children:[n.jsxs("header",{className:"bg-white shadow-sm border-b h-16 flex items-center justify-between px-8 sticky top-0 z-10",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{children:n.jsx("h2",{className:"font-semibold text-lg text-gray-800",children:b.find(y=>y.path===t)?.label||"Administration"})}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 bg-primary/10 rounded-lg",children:[i.logo&&n.jsx("img",{src:ar(i.logo,"AdminLayout-header"),alt:"",className:"h-5 w-5 rounded object-cover"}),n.jsx("span",{className:"text-sm font-medium text-primary","data-testid":"header-active-club",children:i.name})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right hidden sm:block",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s?.firstName," ",s?.lastName]}),n.jsx("p",{className:"text-xs text-gray-500",children:s?.email})]}),n.jsxs("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:[s?.firstName?.[0],s?.lastName?.[0]]})]})]}),n.jsx("div",{className:"p-8",children:e})]})]})]})}var dS,JL;function pa(){if(JL)return dS;JL=1;var e=Array.isArray;return dS=e,dS}var mS,e3;function kY(){if(e3)return mS;e3=1;var e=typeof Rv=="object"&&Rv&&Rv.Object===Object&&Rv;return mS=e,mS}var fS,t3;function Lo(){if(t3)return fS;t3=1;var e=kY(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return fS=r,fS}var hS,n3;function ry(){if(n3)return hS;n3=1;var e=Lo(),t=e.Symbol;return hS=t,hS}var pS,r3;function V2e(){if(r3)return pS;r3=1;var e=ry(),t=Object.prototype,r=t.hasOwnProperty,s=t.toString,a=e?e.toStringTag:void 0;function i(o){var c=r.call(o,a),d=o[a];try{o[a]=void 0;var m=!0}catch{}var f=s.call(o);return m&&(c?o[a]=d:delete o[a]),f}return pS=i,pS}var gS,s3;function K2e(){if(s3)return gS;s3=1;var e=Object.prototype,t=e.toString;function r(s){return t.call(s)}return gS=r,gS}var xS,a3;function Fl(){if(a3)return xS;a3=1;var e=ry(),t=V2e(),r=K2e(),s="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(c){return c==null?c===void 0?a:s:i&&i in Object(c)?t(c):r(c)}return xS=o,xS}var yS,i3;function Bl(){if(i3)return yS;i3=1;function e(t){return t!=null&&typeof t=="object"}return yS=e,yS}var vS,o3;function wh(){if(o3)return vS;o3=1;var e=Fl(),t=Bl(),r="[object Symbol]";function s(a){return typeof a=="symbol"||t(a)&&e(a)==r}return vS=s,vS}var bS,l3;function ak(){if(l3)return bS;l3=1;var e=pa(),t=wh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(e(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||t(i)?!0:s.test(i)||!r.test(i)||o!=null&&i in Object(o)}return bS=a,bS}var jS,c3;function iu(){if(c3)return jS;c3=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return jS=e,jS}var wS,u3;function ik(){if(u3)return wS;u3=1;var e=Fl(),t=iu(),r="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(c){if(!t(c))return!1;var d=e(c);return d==s||d==a||d==r||d==i}return wS=o,wS}var NS,d3;function H2e(){if(d3)return NS;d3=1;var e=Lo(),t=e["__core-js_shared__"];return NS=t,NS}var SS,m3;function G2e(){if(m3)return SS;m3=1;var e=H2e(),t=(function(){var s=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function r(s){return!!t&&t in s}return SS=r,SS}var CS,f3;function MY(){if(f3)return CS;f3=1;var e=Function.prototype,t=e.toString;function r(s){if(s!=null){try{return t.call(s)}catch{}try{return s+""}catch{}}return""}return CS=r,CS}var AS,h3;function W2e(){if(h3)return AS;h3=1;var e=ik(),t=G2e(),r=iu(),s=MY(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,c=Object.prototype,d=o.toString,m=c.hasOwnProperty,f=RegExp("^"+d.call(m).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||t(g))return!1;var b=e(g)?f:i;return b.test(s(g))}return AS=h,AS}var ES,p3;function Y2e(){if(p3)return ES;p3=1;function e(t,r){return t?.[r]}return ES=e,ES}var _S,g3;function Gd(){if(g3)return _S;g3=1;var e=W2e(),t=Y2e();function r(s,a){var i=t(s,a);return e(i)?i:void 0}return _S=r,_S}var TS,x3;function iw(){if(x3)return TS;x3=1;var e=Gd(),t=e(Object,"create");return TS=t,TS}var PS,y3;function Q2e(){if(y3)return PS;y3=1;var e=iw();function t(){this.__data__=e?e(null):{},this.size=0}return PS=t,PS}var OS,v3;function X2e(){if(v3)return OS;v3=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return OS=e,OS}var kS,b3;function Z2e(){if(b3)return kS;b3=1;var e=iw(),t="__lodash_hash_undefined__",r=Object.prototype,s=r.hasOwnProperty;function a(i){var o=this.__data__;if(e){var c=o[i];return c===t?void 0:c}return s.call(o,i)?o[i]:void 0}return kS=a,kS}var MS,j3;function J2e(){if(j3)return MS;j3=1;var e=iw(),t=Object.prototype,r=t.hasOwnProperty;function s(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return MS=s,MS}var RS,w3;function eSe(){if(w3)return RS;w3=1;var e=iw(),t="__lodash_hash_undefined__";function r(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=e&&a===void 0?t:a,this}return RS=r,RS}var DS,N3;function tSe(){if(N3)return DS;N3=1;var e=Q2e(),t=X2e(),r=Z2e(),s=J2e(),a=eSe();function i(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var m=o[c];this.set(m[0],m[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,DS=i,DS}var IS,S3;function nSe(){if(S3)return IS;S3=1;function e(){this.__data__=[],this.size=0}return IS=e,IS}var LS,C3;function ok(){if(C3)return LS;C3=1;function e(t,r){return t===r||t!==t&&r!==r}return LS=e,LS}var $S,A3;function ow(){if(A3)return $S;A3=1;var e=ok();function t(r,s){for(var a=r.length;a--;)if(e(r[a][0],s))return a;return-1}return $S=t,$S}var zS,E3;function rSe(){if(E3)return zS;E3=1;var e=ow(),t=Array.prototype,r=t.splice;function s(a){var i=this.__data__,o=e(i,a);if(o<0)return!1;var c=i.length-1;return o==c?i.pop():r.call(i,o,1),--this.size,!0}return zS=s,zS}var qS,_3;function sSe(){if(_3)return qS;_3=1;var e=ow();function t(r){var s=this.__data__,a=e(s,r);return a<0?void 0:s[a][1]}return qS=t,qS}var FS,T3;function aSe(){if(T3)return FS;T3=1;var e=ow();function t(r){return e(this.__data__,r)>-1}return FS=t,FS}var BS,P3;function iSe(){if(P3)return BS;P3=1;var e=ow();function t(r,s){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,s])):a[i][1]=s,this}return BS=t,BS}var US,O3;function lw(){if(O3)return US;O3=1;var e=nSe(),t=rSe(),r=sSe(),s=aSe(),a=iSe();function i(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var m=o[c];this.set(m[0],m[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,US=i,US}var VS,k3;function lk(){if(k3)return VS;k3=1;var e=Gd(),t=Lo(),r=e(t,"Map");return VS=r,VS}var KS,M3;function oSe(){if(M3)return KS;M3=1;var e=tSe(),t=lw(),r=lk();function s(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return KS=s,KS}var HS,R3;function lSe(){if(R3)return HS;R3=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return HS=e,HS}var GS,D3;function cw(){if(D3)return GS;D3=1;var e=lSe();function t(r,s){var a=r.__data__;return e(s)?a[typeof s=="string"?"string":"hash"]:a.map}return GS=t,GS}var WS,I3;function cSe(){if(I3)return WS;I3=1;var e=cw();function t(r){var s=e(this,r).delete(r);return this.size-=s?1:0,s}return WS=t,WS}var YS,L3;function uSe(){if(L3)return YS;L3=1;var e=cw();function t(r){return e(this,r).get(r)}return YS=t,YS}var QS,$3;function dSe(){if($3)return QS;$3=1;var e=cw();function t(r){return e(this,r).has(r)}return QS=t,QS}var XS,z3;function mSe(){if(z3)return XS;z3=1;var e=cw();function t(r,s){var a=e(this,r),i=a.size;return a.set(r,s),this.size+=a.size==i?0:1,this}return XS=t,XS}var ZS,q3;function ck(){if(q3)return ZS;q3=1;var e=oSe(),t=cSe(),r=uSe(),s=dSe(),a=mSe();function i(o){var c=-1,d=o==null?0:o.length;for(this.clear();++c<d;){var m=o[c];this.set(m[0],m[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,ZS=i,ZS}var JS,F3;function RY(){if(F3)return JS;F3=1;var e=ck(),t="Expected a function";function r(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var o=arguments,c=a?a.apply(this,o):o[0],d=i.cache;if(d.has(c))return d.get(c);var m=s.apply(this,o);return i.cache=d.set(c,m)||d,m};return i.cache=new(r.Cache||e),i}return r.Cache=e,JS=r,JS}var eC,B3;function fSe(){if(B3)return eC;B3=1;var e=RY(),t=500;function r(s){var a=e(s,function(o){return i.size===t&&i.clear(),o}),i=a.cache;return a}return eC=r,eC}var tC,U3;function hSe(){if(U3)return tC;U3=1;var e=fSe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(o,c,d,m){i.push(d?m.replace(r,"$1"):c||o)}),i});return tC=s,tC}var nC,V3;function uk(){if(V3)return nC;V3=1;function e(t,r){for(var s=-1,a=t==null?0:t.length,i=Array(a);++s<a;)i[s]=r(t[s],s,t);return i}return nC=e,nC}var rC,K3;function pSe(){if(K3)return rC;K3=1;var e=ry(),t=uk(),r=pa(),s=wh(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function o(c){if(typeof c=="string")return c;if(r(c))return t(c,o)+"";if(s(c))return i?i.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return rC=o,rC}var sC,H3;function DY(){if(H3)return sC;H3=1;var e=pSe();function t(r){return r==null?"":e(r)}return sC=t,sC}var aC,G3;function IY(){if(G3)return aC;G3=1;var e=pa(),t=ak(),r=hSe(),s=DY();function a(i,o){return e(i)?i:t(i,o)?[i]:r(s(i))}return aC=a,aC}var iC,W3;function uw(){if(W3)return iC;W3=1;var e=wh();function t(r){if(typeof r=="string"||e(r))return r;var s=r+"";return s=="0"&&1/r==-1/0?"-0":s}return iC=t,iC}var oC,Y3;function dk(){if(Y3)return oC;Y3=1;var e=IY(),t=uw();function r(s,a){a=e(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[t(a[i++])];return i&&i==o?s:void 0}return oC=r,oC}var lC,Q3;function LY(){if(Q3)return lC;Q3=1;var e=dk();function t(r,s,a){var i=r==null?void 0:e(r,s);return i===void 0?a:i}return lC=t,lC}var gSe=LY();const La=yn(gSe);var cC,X3;function xSe(){if(X3)return cC;X3=1;function e(t){return t==null}return cC=e,cC}var ySe=xSe();const At=yn(ySe);var uC,Z3;function vSe(){if(Z3)return uC;Z3=1;var e=Fl(),t=pa(),r=Bl(),s="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==s}return uC=a,uC}var bSe=vSe();const Pd=yn(bSe);var jSe=ik();const vt=yn(jSe);var wSe=iu();const Nh=yn(wSe);var dC={exports:{}},bn={};var J3;function NSe(){if(J3)return bn;J3=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function y(j){if(typeof j=="object"&&j!==null){var N=j.$$typeof;switch(N){case e:switch(j=j.type,j){case r:case a:case s:case m:case f:return j;default:switch(j=j&&j.$$typeof,j){case c:case o:case d:case g:case h:case i:return j;default:return N}}case t:return N}}}return bn.ContextConsumer=o,bn.ContextProvider=i,bn.Element=e,bn.ForwardRef=d,bn.Fragment=r,bn.Lazy=g,bn.Memo=h,bn.Portal=t,bn.Profiler=a,bn.StrictMode=s,bn.Suspense=m,bn.SuspenseList=f,bn.isAsyncMode=function(){return!1},bn.isConcurrentMode=function(){return!1},bn.isContextConsumer=function(j){return y(j)===o},bn.isContextProvider=function(j){return y(j)===i},bn.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},bn.isForwardRef=function(j){return y(j)===d},bn.isFragment=function(j){return y(j)===r},bn.isLazy=function(j){return y(j)===g},bn.isMemo=function(j){return y(j)===h},bn.isPortal=function(j){return y(j)===t},bn.isProfiler=function(j){return y(j)===a},bn.isStrictMode=function(j){return y(j)===s},bn.isSuspense=function(j){return y(j)===m},bn.isSuspenseList=function(j){return y(j)===f},bn.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===a||j===s||j===m||j===f||j===b||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===h||j.$$typeof===i||j.$$typeof===o||j.$$typeof===d||j.$$typeof===w||j.getModuleId!==void 0)},bn.typeOf=y,bn}var e$;function SSe(){return e$||(e$=1,dC.exports=NSe()),dC.exports}var CSe=SSe(),mC,t$;function $Y(){if(t$)return mC;t$=1;var e=Fl(),t=Bl(),r="[object Number]";function s(a){return typeof a=="number"||t(a)&&e(a)==r}return mC=s,mC}var fC,n$;function ASe(){if(n$)return fC;n$=1;var e=$Y();function t(r){return e(r)&&r!=+r}return fC=t,fC}var ESe=ASe();const Sh=yn(ESe);var _Se=$Y();const TSe=yn(_Se);var Ks=function(t){return t===0?0:t>0?1:-1},rd=function(t){return Pd(t)&&t.indexOf("%")===t.length-1},Ie=function(t){return TSe(t)&&!Sh(t)},PSe=function(t){return At(t)},Gr=function(t){return Ie(t)||Pd(t)},OSe=0,Wd=function(t){var r=++OSe;return"".concat(t||"").concat(r)},Hs=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&!Pd(t))return s;var i;if(rd(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Sh(i)&&(i=s),a&&i>r&&(i=r),i},Ic=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},kSe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,s={},a=0;a<r;a++)if(!s[t[a]])s[t[a]]=!0;else return!0;return!1},Kr=function(t,r){return Ie(t)&&Ie(r)?function(s){return t+s*(r-t)}:function(){return r}};function cb(e,t,r){return!e||!e.length?null:e.find(function(s){return s&&(typeof t=="function"?t(s):La(s,t))===r})}var MSe=function(t,r){return Ie(t)&&Ie(r)?t-r:Pd(t)&&Pd(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function wf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var s in t)if({}.hasOwnProperty.call(t,s)&&!{}.hasOwnProperty.call(e,s))return!1;return!0}function _T(e){"@babel/helpers - typeof";return _T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_T(e)}var RSe=["viewBox","children"],DSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r$=["points","pathLength"],hC={svg:RSe,polygon:r$,polyline:r$},mk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ub=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!Nh(s))return null;var a={};return Object.keys(s).forEach(function(i){mk.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},ISe=function(t,r,s){return function(a){return t(r,s,a),null}},Od=function(t,r,s){if(!Nh(t)||_T(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];mk.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=ISe(o,r,s))}),a},LSe=["children"],$Se=["children"];function s$(e,t){if(e==null)return{};var r=zSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function zSe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function TT(e){"@babel/helpers - typeof";return TT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TT(e)}var a$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},i$=null,pC=null,fk=function e(t){if(t===i$&&Array.isArray(pC))return pC;var r=[];return v.Children.forEach(t,function(s){At(s)||(CSe.isFragment(s)?r=r.concat(e(s.props.children)):r.push(s))}),pC=r,i$=t,r};function $a(e,t){var r=[],s=[];return Array.isArray(t)?s=t.map(function(a){return vl(a)}):s=[vl(t)],fk(e).forEach(function(a){var i=La(a,"type.displayName")||La(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function Ea(e,t){var r=$a(e,t);return r&&r[0]}var o$=function(t){if(!t||!t.props)return!1;var r=t.props,s=r.width,a=r.height;return!(!Ie(s)||s<=0||!Ie(a)||a<=0)},qSe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],FSe=function(t){return t&&t.type&&Pd(t.type)&&qSe.indexOf(t.type)>=0},zY=function(t){return t&&TT(t)==="object"&&"clipDot"in t},BSe=function(t,r,s,a){var i,o=(i=hC?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!vt(t)&&(a&&o.includes(r)||DSe.includes(r))||s&&mk.includes(r)},nt=function(t,r,s){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!Nh(a))return null;var i={};return Object.keys(a).forEach(function(o){var c;BSe((c=a)===null||c===void 0?void 0:c[o],o,r,s)&&(i[o]=a[o])}),i},PT=function e(t,r){if(t===r)return!0;var s=v.Children.count(t);if(s!==v.Children.count(r))return!1;if(s===0)return!0;if(s===1)return l$(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!l$(i,o))return!1}return!0},l$=function(t,r){if(At(t)&&At(r))return!0;if(!At(t)&&!At(r)){var s=t.props||{},a=s.children,i=s$(s,LSe),o=r.props||{},c=o.children,d=s$(o,$Se);return a&&c?wf(i,d)&&PT(a,c):!a&&!c?wf(i,d):!1}return!1},c$=function(t,r){var s=[],a={};return fk(t).forEach(function(i,o){if(FSe(i))s.push(i);else if(i){var c=vl(i.type),d=r[c]||{},m=d.handler,f=d.once;if(m&&(!f||!a[c])){var h=m(i,c,o);s.push(h),a[c]=!0}}}),s},USe=function(t){var r=t&&t.type;return r&&a$[r]?a$[r]:null},VSe=function(t,r){return fk(r).indexOf(t)},KSe=["children","width","height","viewBox","className","style","title","desc"];function OT(){return OT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},OT.apply(this,arguments)}function HSe(e,t){if(e==null)return{};var r=GSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function GSe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function kT(e){var t=e.children,r=e.width,s=e.height,a=e.viewBox,i=e.className,o=e.style,c=e.title,d=e.desc,m=HSe(e,KSe),f=a||{width:r,height:s,x:0,y:0},h=Et("recharts-surface",i);return J.createElement("svg",OT({},nt(m,!0,"svg"),{className:h,width:r,height:s,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),J.createElement("title",null,c),J.createElement("desc",null,d),t)}var WSe=["children","className"];function MT(){return MT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},MT.apply(this,arguments)}function YSe(e,t){if(e==null)return{};var r=QSe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function QSe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Ht=J.forwardRef(function(e,t){var r=e.children,s=e.className,a=YSe(e,WSe),i=Et("recharts-layer",s);return J.createElement("g",MT({className:i},nt(a,!0),{ref:t}),r)}),Bi=function(t,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},gC,u$;function XSe(){if(u$)return gC;u$=1;function e(t,r,s){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),s=s>i?i:s,s<0&&(s+=i),i=r>s?0:s-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=t[a+r];return o}return gC=e,gC}var xC,d$;function ZSe(){if(d$)return xC;d$=1;var e=XSe();function t(r,s,a){var i=r.length;return a=a===void 0?i:a,!s&&a>=i?r:e(r,s,a)}return xC=t,xC}var yC,m$;function qY(){if(m$)return yC;m$=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=t+r+s,i="\\ufe0e\\ufe0f",o="\\u200d",c=RegExp("["+o+e+a+i+"]");function d(m){return c.test(m)}return yC=d,yC}var vC,f$;function JSe(){if(f$)return vC;f$=1;function e(t){return t.split("")}return vC=e,vC}var bC,h$;function eCe(){if(h$)return bC;h$=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=t+r+s,i="\\ufe0e\\ufe0f",o="["+e+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",m="(?:"+c+"|"+d+")",f="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=m+"?",y="["+i+"]?",j="(?:"+b+"(?:"+[f,h,g].join("|")+")"+y+w+")*",N=y+w+j,C="(?:"+[f+c+"?",c,h,g,o].join("|")+")",E=RegExp(d+"(?="+d+")|"+C+N,"g");function T(A){return A.match(E)||[]}return bC=T,bC}var jC,p$;function tCe(){if(p$)return jC;p$=1;var e=JSe(),t=qY(),r=eCe();function s(a){return t(a)?r(a):e(a)}return jC=s,jC}var wC,g$;function nCe(){if(g$)return wC;g$=1;var e=ZSe(),t=qY(),r=tCe(),s=DY();function a(i){return function(o){o=s(o);var c=t(o)?r(o):void 0,d=c?c[0]:o.charAt(0),m=c?e(c,1).join(""):o.slice(1);return d[i]()+m}}return wC=a,wC}var NC,x$;function rCe(){if(x$)return NC;x$=1;var e=nCe(),t=e("toUpperCase");return NC=t,NC}var sCe=rCe();const dw=yn(sCe);function zn(e){return function(){return e}}const FY=Math.cos,db=Math.sin,eo=Math.sqrt,mb=Math.PI,mw=2*mb,RT=Math.PI,DT=2*RT,Xu=1e-6,aCe=DT-Xu;function BY(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function iCe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BY;const r=10**t;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class oCe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BY:iCe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,s,a){this._append`Q${+t},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(t,r,s,a,i,o){this._append`C${+t},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,s,a,i){if(t=+t,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,d=s-t,m=a-r,f=o-t,h=c-r,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Xu)if(!(Math.abs(h*d-m*f)>Xu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let b=s-o,w=a-c,y=d*d+m*m,j=b*b+w*w,N=Math.sqrt(y),C=Math.sqrt(g),E=i*Math.tan((RT-Math.acos((y+g-j)/(2*N*C)))/2),T=E/C,A=E/N;Math.abs(T-1)>Xu&&this._append`L${t+T*f},${r+T*h}`,this._append`A${i},${i},0,0,${+(h*b>f*w)},${this._x1=t+A*d},${this._y1=r+A*m}`}}arc(t,r,s,a,i,o){if(t=+t,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let c=s*Math.cos(a),d=s*Math.sin(a),m=t+c,f=r+d,h=1^o,g=o?a-i:i-a;this._x1===null?this._append`M${m},${f}`:(Math.abs(this._x1-m)>Xu||Math.abs(this._y1-f)>Xu)&&this._append`L${m},${f}`,s&&(g<0&&(g=g%DT+DT),g>aCe?this._append`A${s},${s},0,1,${h},${t-c},${r-d}A${s},${s},0,1,${h},${this._x1=m},${this._y1=f}`:g>Xu&&this._append`A${s},${s},0,${+(g>=RT)},${h},${this._x1=t+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(t,r,s,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function hk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);t=s}return e},()=>new oCe(t)}function pk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UY(e){this._context=e}UY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fw(e){return new UY(e)}function VY(e){return e[0]}function KY(e){return e[1]}function HY(e,t){var r=zn(!0),s=null,a=fw,i=null,o=hk(c);e=typeof e=="function"?e:e===void 0?VY:zn(e),t=typeof t=="function"?t:t===void 0?KY:zn(t);function c(d){var m,f=(d=pk(d)).length,h,g=!1,b;for(s==null&&(i=a(b=o())),m=0;m<=f;++m)!(m<f&&r(h=d[m],m,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(h,m,d),+t(h,m,d));if(b)return i=null,b+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:zn(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:zn(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:zn(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,s!=null&&(i=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=i=null:i=a(s=d),c):s},c}function Xv(e,t,r){var s=null,a=zn(!0),i=null,o=fw,c=null,d=hk(m);e=typeof e=="function"?e:e===void 0?VY:zn(+e),t=typeof t=="function"?t:zn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KY:zn(+r);function m(h){var g,b,w,y=(h=pk(h)).length,j,N=!1,C,E=new Array(y),T=new Array(y);for(i==null&&(c=o(C=d())),g=0;g<=y;++g){if(!(g<y&&a(j=h[g],g,h))===N)if(N=!N)b=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=b;--w)c.point(E[w],T[w]);c.lineEnd(),c.areaEnd()}N&&(E[g]=+e(j,g,h),T[g]=+t(j,g,h),c.point(s?+s(j,g,h):E[g],r?+r(j,g,h):T[g]))}if(C)return c=null,C+""||null}function f(){return HY().defined(a).curve(o).context(i)}return m.x=function(h){return arguments.length?(e=typeof h=="function"?h:zn(+h),s=null,m):e},m.x0=function(h){return arguments.length?(e=typeof h=="function"?h:zn(+h),m):e},m.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:zn(+h),m):s},m.y=function(h){return arguments.length?(t=typeof h=="function"?h:zn(+h),r=null,m):t},m.y0=function(h){return arguments.length?(t=typeof h=="function"?h:zn(+h),m):t},m.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:zn(+h),m):r},m.lineX0=m.lineY0=function(){return f().x(e).y(t)},m.lineY1=function(){return f().x(e).y(r)},m.lineX1=function(){return f().x(s).y(t)},m.defined=function(h){return arguments.length?(a=typeof h=="function"?h:zn(!!h),m):a},m.curve=function(h){return arguments.length?(o=h,i!=null&&(c=o(i)),m):o},m.context=function(h){return arguments.length?(h==null?i=c=null:c=o(i=h),m):i},m}class GY{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function lCe(e){return new GY(e,!0)}function cCe(e){return new GY(e,!1)}const gk={draw(e,t){const r=eo(t/mb);e.moveTo(r,0),e.arc(0,0,r,0,mw)}},uCe={draw(e,t){const r=eo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},WY=eo(1/3),dCe=WY*2,mCe={draw(e,t){const r=eo(t/dCe),s=r*WY;e.moveTo(0,-r),e.lineTo(s,0),e.lineTo(0,r),e.lineTo(-s,0),e.closePath()}},fCe={draw(e,t){const r=eo(t),s=-r/2;e.rect(s,s,r,r)}},hCe=.8908130915292852,YY=db(mb/10)/db(7*mb/10),pCe=db(mw/10)*YY,gCe=-FY(mw/10)*YY,xCe={draw(e,t){const r=eo(t*hCe),s=pCe*r,a=gCe*r;e.moveTo(0,-r),e.lineTo(s,a);for(let i=1;i<5;++i){const o=mw*i/5,c=FY(o),d=db(o);e.lineTo(d*r,-c*r),e.lineTo(c*s-d*a,d*s+c*a)}e.closePath()}},SC=eo(3),yCe={draw(e,t){const r=-eo(t/(SC*3));e.moveTo(0,r*2),e.lineTo(-SC*r,-r),e.lineTo(SC*r,-r),e.closePath()}},ei=-.5,ti=eo(3)/2,IT=1/eo(12),vCe=(IT/2+1)*3,bCe={draw(e,t){const r=eo(t/vCe),s=r/2,a=r*IT,i=s,o=r*IT+r,c=-i,d=o;e.moveTo(s,a),e.lineTo(i,o),e.lineTo(c,d),e.lineTo(ei*s-ti*a,ti*s+ei*a),e.lineTo(ei*i-ti*o,ti*i+ei*o),e.lineTo(ei*c-ti*d,ti*c+ei*d),e.lineTo(ei*s+ti*a,ei*a-ti*s),e.lineTo(ei*i+ti*o,ei*o-ti*i),e.lineTo(ei*c+ti*d,ei*d-ti*c),e.closePath()}};function jCe(e,t){let r=null,s=hk(a);e=typeof e=="function"?e:zn(e||gk),t=typeof t=="function"?t:zn(t===void 0?64:+t);function a(){let i;if(r||(r=i=s()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function fb(){}function hb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QY(e){this._context=e}QY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wCe(e){return new QY(e)}function XY(e){this._context=e}XY.prototype={areaStart:fb,areaEnd:fb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NCe(e){return new XY(e)}function ZY(e){this._context=e}ZY.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:hb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SCe(e){return new ZY(e)}function JY(e){this._context=e}JY.prototype={areaStart:fb,areaEnd:fb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function CCe(e){return new JY(e)}function y$(e){return e<0?-1:1}function v$(e,t,r){var s=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(s||a<0&&-0),o=(r-e._y1)/(a||s<0&&-0),c=(i*a+o*s)/(s+a);return(y$(i)+y$(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function b$(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function CC(e,t,r){var s=e._x0,a=e._y0,i=e._x1,o=e._y1,c=(i-s)/3;e._context.bezierCurveTo(s+c,a+c*t,i-c,o-c*r,i,o)}function pb(e){this._context=e}pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:CC(this,this._t0,b$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,CC(this,b$(this,r=v$(this,e,t)),r);break;default:CC(this,this._t0,r=v$(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eQ(e){this._context=new tQ(e)}(eQ.prototype=Object.create(pb.prototype)).point=function(e,t){pb.prototype.point.call(this,t,e)};function tQ(e){this._context=e}tQ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,s,a,i){this._context.bezierCurveTo(t,e,s,r,i,a)}};function ACe(e){return new pb(e)}function ECe(e){return new eQ(e)}function nQ(e){this._context=e}nQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var s=j$(e),a=j$(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function j$(e){var t,r=e.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)s=a[t]/i[t-1],i[t]-=s,o[t]-=s*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function _Ce(e){return new nQ(e)}function hw(e,t){this._context=e,this._t=t}hw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function TCe(e){return new hw(e,.5)}function PCe(e){return new hw(e,0)}function OCe(e){return new hw(e,1)}function Df(e,t){if((o=e.length)>1)for(var r=1,s,a,i=e[t[0]],o,c=i.length;r<o;++r)for(a=i,i=e[t[r]],s=0;s<c;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function LT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kCe(e,t){return e[t]}function MCe(e){const t=[];return t.key=e,t}function RCe(){var e=zn([]),t=LT,r=Df,s=kCe;function a(i){var o=Array.from(e.apply(this,arguments),MCe),c,d=o.length,m=-1,f;for(const h of i)for(c=0,++m;c<d;++c)(o[c][m]=[0,+s(h,o[c].key,m,i)]).data=h;for(c=0,f=pk(t(o));c<d;++c)o[f[c]].index=c;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:zn(+i),a):s},a.order=function(i){return arguments.length?(t=i==null?LT:typeof i=="function"?i:zn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Df,a):r},a}function DCe(e,t){if((s=e.length)>0){for(var r,s,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<s;++r)e[r][a][1]/=o}Df(e,t)}}function ICe(e,t){if((a=e.length)>0){for(var r=0,s=e[t[0]],a,i=s.length;r<i;++r){for(var o=0,c=0;o<a;++o)c+=e[o][r][1]||0;s[r][1]+=s[r][0]=-c/2}Df(e,t)}}function LCe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var c=0,d=0,m=0;c<o;++c){for(var f=e[t[c]],h=f[s][1]||0,g=f[s-1][1]||0,b=(h-g)/2,w=0;w<c;++w){var y=e[t[w]],j=y[s][1]||0,N=y[s-1][1]||0;b+=j-N}d+=h,m+=b*h}a[s-1][1]+=a[s-1][0]=r,d&&(r-=m/d)}a[s-1][1]+=a[s-1][0]=r,Df(e,t)}}function ax(e){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ax(e)}var $Ce=["type","size","sizeType"];function $T(){return $T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},$T.apply(this,arguments)}function w$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function N$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(r),!0).forEach(function(s){zCe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function zCe(e,t,r){return t=qCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qCe(e){var t=FCe(e,"string");return ax(t)=="symbol"?t:t+""}function FCe(e,t){if(ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ax(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BCe(e,t){if(e==null)return{};var r=UCe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function UCe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var rQ={symbolCircle:gk,symbolCross:uCe,symbolDiamond:mCe,symbolSquare:fCe,symbolStar:xCe,symbolTriangle:yCe,symbolWye:bCe},VCe=Math.PI/180,KCe=function(t){var r="symbol".concat(dw(t));return rQ[r]||gk},HCe=function(t,r,s){if(r==="area")return t;switch(s){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*VCe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},GCe=function(t,r){rQ["symbol".concat(dw(t))]=r},xk=function(t){var r=t.type,s=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,c=o===void 0?"area":o,d=BCe(t,$Ce),m=N$(N$({},d),{},{type:s,size:i,sizeType:c}),f=function(){var j=KCe(s),N=jCe().type(j).size(HCe(i,c,s));return N()},h=m.className,g=m.cx,b=m.cy,w=nt(m,!0);return g===+g&&b===+b&&i===+i?J.createElement("path",$T({},w,{className:Et("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(b,")"),d:f()})):null};xk.registerSymbol=GCe;function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zT.apply(this,arguments)}function S$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function WCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S$(Object(r),!0).forEach(function(s){ix(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S$(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function YCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QCe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aQ(s.key),s)}}function XCe(e,t,r){return t&&QCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZCe(e,t,r){return t=gb(t),JCe(e,sQ()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function JCe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eAe(e)}function eAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sQ=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(e)}function tAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qT(e,t)}function qT(e,t){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qT(e,t)}function ix(e,t,r){return t=aQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=nAe(e,"string");return If(t)=="symbol"?t:t+""}function nAe(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(If(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ni=32,yk=(function(e){function t(){return YCe(this,t),ZCe(this,t,arguments)}return tAe(t,e),XCe(t,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=ni/2,o=ni/6,c=ni/3,d=s.inactive?a:s.color;if(s.type==="plainline")return J.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:ni,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return J.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(ni,"M").concat(2*c,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return J.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-ni,"z"),className:"recharts-legend-icon"});if(J.isValidElement(s.legendIcon)){var m=WCe({},s);return delete m.legendIcon,J.cloneElement(s.legendIcon,m)}return J.createElement(xk,{fill:d,cx:i,cy:i,size:ni,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,c=a.layout,d=a.formatter,m=a.inactiveColor,f={x:0,y:0,width:ni,height:ni},h={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(b,w){var y=b.formatter||d,j=Et(ix(ix({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",b.inactive));if(b.type==="none")return null;var N=vt(b.value)?null:b.value;Bi(!vt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=b.inactive?m:b.color;return J.createElement("li",zT({className:j,style:h,key:"legend-item-".concat(w)},Od(s.props,b,w)),J.createElement(kT,{width:o,height:o,viewBox:f,style:g},s.renderIcon(b)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},y?y(N,b,w):N))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(v.PureComponent);ix(yk,"displayName","Legend");ix(yk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var AC,C$;function rAe(){if(C$)return AC;C$=1;var e=lw();function t(){this.__data__=new e,this.size=0}return AC=t,AC}var EC,A$;function sAe(){if(A$)return EC;A$=1;function e(t){var r=this.__data__,s=r.delete(t);return this.size=r.size,s}return EC=e,EC}var _C,E$;function aAe(){if(E$)return _C;E$=1;function e(t){return this.__data__.get(t)}return _C=e,_C}var TC,_$;function iAe(){if(_$)return TC;_$=1;function e(t){return this.__data__.has(t)}return TC=e,TC}var PC,T$;function oAe(){if(T$)return PC;T$=1;var e=lw(),t=lk(),r=ck(),s=200;function a(i,o){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!t||d.length<s-1)return d.push([i,o]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(i,o),this.size=c.size,this}return PC=a,PC}var OC,P$;function iQ(){if(P$)return OC;P$=1;var e=lw(),t=rAe(),r=sAe(),s=aAe(),a=iAe(),i=oAe();function o(c){var d=this.__data__=new e(c);this.size=d.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,OC=o,OC}var kC,O$;function lAe(){if(O$)return kC;O$=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return kC=t,kC}var MC,k$;function cAe(){if(k$)return MC;k$=1;function e(t){return this.__data__.has(t)}return MC=e,MC}var RC,M$;function oQ(){if(M$)return RC;M$=1;var e=ck(),t=lAe(),r=cAe();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new e;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=t,s.prototype.has=r,RC=s,RC}var DC,R$;function lQ(){if(R$)return DC;R$=1;function e(t,r){for(var s=-1,a=t==null?0:t.length;++s<a;)if(r(t[s],s,t))return!0;return!1}return DC=e,DC}var IC,D$;function cQ(){if(D$)return IC;D$=1;function e(t,r){return t.has(r)}return IC=e,IC}var LC,I$;function uQ(){if(I$)return LC;I$=1;var e=oQ(),t=lQ(),r=cQ(),s=1,a=2;function i(o,c,d,m,f,h){var g=d&s,b=o.length,w=c.length;if(b!=w&&!(g&&w>b))return!1;var y=h.get(o),j=h.get(c);if(y&&j)return y==c&&j==o;var N=-1,C=!0,E=d&a?new e:void 0;for(h.set(o,c),h.set(c,o);++N<b;){var T=o[N],A=c[N];if(m)var k=g?m(A,T,N,c,o,h):m(T,A,N,o,c,h);if(k!==void 0){if(k)continue;C=!1;break}if(E){if(!t(c,function(P,O){if(!r(E,O)&&(T===P||f(T,P,d,m,h)))return E.push(O)})){C=!1;break}}else if(!(T===A||f(T,A,d,m,h))){C=!1;break}}return h.delete(o),h.delete(c),C}return LC=i,LC}var $C,L$;function uAe(){if(L$)return $C;L$=1;var e=Lo(),t=e.Uint8Array;return $C=t,$C}var zC,$$;function dAe(){if($$)return zC;$$=1;function e(t){var r=-1,s=Array(t.size);return t.forEach(function(a,i){s[++r]=[i,a]}),s}return zC=e,zC}var qC,z$;function vk(){if(z$)return qC;z$=1;function e(t){var r=-1,s=Array(t.size);return t.forEach(function(a){s[++r]=a}),s}return qC=e,qC}var FC,q$;function mAe(){if(q$)return FC;q$=1;var e=ry(),t=uAe(),r=ok(),s=uQ(),a=dAe(),i=vk(),o=1,c=2,d="[object Boolean]",m="[object Date]",f="[object Error]",h="[object Map]",g="[object Number]",b="[object RegExp]",w="[object Set]",y="[object String]",j="[object Symbol]",N="[object ArrayBuffer]",C="[object DataView]",E=e?e.prototype:void 0,T=E?E.valueOf:void 0;function A(k,P,O,M,F,D,$){switch(O){case C:if(k.byteLength!=P.byteLength||k.byteOffset!=P.byteOffset)return!1;k=k.buffer,P=P.buffer;case N:return!(k.byteLength!=P.byteLength||!D(new t(k),new t(P)));case d:case m:case g:return r(+k,+P);case f:return k.name==P.name&&k.message==P.message;case b:case y:return k==P+"";case h:var V=a;case w:var z=M&o;if(V||(V=i),k.size!=P.size&&!z)return!1;var q=$.get(k);if(q)return q==P;M|=c,$.set(k,P);var I=s(V(k),V(P),M,F,D,$);return $.delete(k),I;case j:if(T)return T.call(k)==T.call(P)}return!1}return FC=A,FC}var BC,F$;function dQ(){if(F$)return BC;F$=1;function e(t,r){for(var s=-1,a=r.length,i=t.length;++s<a;)t[i+s]=r[s];return t}return BC=e,BC}var UC,B$;function fAe(){if(B$)return UC;B$=1;var e=dQ(),t=pa();function r(s,a,i){var o=a(s);return t(s)?o:e(o,i(s))}return UC=r,UC}var VC,U$;function hAe(){if(U$)return VC;U$=1;function e(t,r){for(var s=-1,a=t==null?0:t.length,i=0,o=[];++s<a;){var c=t[s];r(c,s,t)&&(o[i++]=c)}return o}return VC=e,VC}var KC,V$;function pAe(){if(V$)return KC;V$=1;function e(){return[]}return KC=e,KC}var HC,K$;function gAe(){if(K$)return HC;K$=1;var e=hAe(),t=pAe(),r=Object.prototype,s=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(c){return s.call(o,c)}))}:t;return HC=i,HC}var GC,H$;function xAe(){if(H$)return GC;H$=1;function e(t,r){for(var s=-1,a=Array(t);++s<t;)a[s]=r(s);return a}return GC=e,GC}var WC,G$;function yAe(){if(G$)return WC;G$=1;var e=Fl(),t=Bl(),r="[object Arguments]";function s(a){return t(a)&&e(a)==r}return WC=s,WC}var YC,W$;function bk(){if(W$)return YC;W$=1;var e=yAe(),t=Bl(),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(o){return t(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return YC=i,YC}var ag={exports:{}},QC,Y$;function vAe(){if(Y$)return QC;Y$=1;function e(){return!1}return QC=e,QC}ag.exports;var Q$;function mQ(){return Q$||(Q$=1,(function(e,t){var r=Lo(),s=vAe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,c=o?r.Buffer:void 0,d=c?c.isBuffer:void 0,m=d||s;e.exports=m})(ag,ag.exports)),ag.exports}var XC,X$;function jk(){if(X$)return XC;X$=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(s,a){var i=typeof s;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(s))&&s>-1&&s%1==0&&s<a}return XC=r,XC}var ZC,Z$;function wk(){if(Z$)return ZC;Z$=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return ZC=t,ZC}var JC,J$;function bAe(){if(J$)return JC;J$=1;var e=Fl(),t=wk(),r=Bl(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",c="[object Error]",d="[object Function]",m="[object Map]",f="[object Number]",h="[object Object]",g="[object RegExp]",b="[object Set]",w="[object String]",y="[object WeakMap]",j="[object ArrayBuffer]",N="[object DataView]",C="[object Float32Array]",E="[object Float64Array]",T="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",F="[object Uint32Array]",D={};D[C]=D[E]=D[T]=D[A]=D[k]=D[P]=D[O]=D[M]=D[F]=!0,D[s]=D[a]=D[j]=D[i]=D[N]=D[o]=D[c]=D[d]=D[m]=D[f]=D[h]=D[g]=D[b]=D[w]=D[y]=!1;function $(V){return r(V)&&t(V.length)&&!!D[e(V)]}return JC=$,JC}var eA,ez;function fQ(){if(ez)return eA;ez=1;function e(t){return function(r){return t(r)}}return eA=e,eA}var ig={exports:{}};ig.exports;var tz;function jAe(){return tz||(tz=1,(function(e,t){var r=kY(),s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,o=i&&r.process,c=(function(){try{var d=a&&a.require&&a.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();e.exports=c})(ig,ig.exports)),ig.exports}var tA,nz;function hQ(){if(nz)return tA;nz=1;var e=bAe(),t=fQ(),r=jAe(),s=r&&r.isTypedArray,a=s?t(s):e;return tA=a,tA}var nA,rz;function wAe(){if(rz)return nA;rz=1;var e=xAe(),t=bk(),r=pa(),s=mQ(),a=jk(),i=hQ(),o=Object.prototype,c=o.hasOwnProperty;function d(m,f){var h=r(m),g=!h&&t(m),b=!h&&!g&&s(m),w=!h&&!g&&!b&&i(m),y=h||g||b||w,j=y?e(m.length,String):[],N=j.length;for(var C in m)(f||c.call(m,C))&&!(y&&(C=="length"||b&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||a(C,N)))&&j.push(C);return j}return nA=d,nA}var rA,sz;function NAe(){if(sz)return rA;sz=1;var e=Object.prototype;function t(r){var s=r&&r.constructor,a=typeof s=="function"&&s.prototype||e;return r===a}return rA=t,rA}var sA,az;function pQ(){if(az)return sA;az=1;function e(t,r){return function(s){return t(r(s))}}return sA=e,sA}var aA,iz;function SAe(){if(iz)return aA;iz=1;var e=pQ(),t=e(Object.keys,Object);return aA=t,aA}var iA,oz;function CAe(){if(oz)return iA;oz=1;var e=NAe(),t=SAe(),r=Object.prototype,s=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var o=[];for(var c in Object(i))s.call(i,c)&&c!="constructor"&&o.push(c);return o}return iA=a,iA}var oA,lz;function sy(){if(lz)return oA;lz=1;var e=ik(),t=wk();function r(s){return s!=null&&t(s.length)&&!e(s)}return oA=r,oA}var lA,cz;function pw(){if(cz)return lA;cz=1;var e=wAe(),t=CAe(),r=sy();function s(a){return r(a)?e(a):t(a)}return lA=s,lA}var cA,uz;function AAe(){if(uz)return cA;uz=1;var e=fAe(),t=gAe(),r=pw();function s(a){return e(a,r,t)}return cA=s,cA}var uA,dz;function EAe(){if(dz)return uA;dz=1;var e=AAe(),t=1,r=Object.prototype,s=r.hasOwnProperty;function a(i,o,c,d,m,f){var h=c&t,g=e(i),b=g.length,w=e(o),y=w.length;if(b!=y&&!h)return!1;for(var j=b;j--;){var N=g[j];if(!(h?N in o:s.call(o,N)))return!1}var C=f.get(i),E=f.get(o);if(C&&E)return C==o&&E==i;var T=!0;f.set(i,o),f.set(o,i);for(var A=h;++j<b;){N=g[j];var k=i[N],P=o[N];if(d)var O=h?d(P,k,N,o,i,f):d(k,P,N,i,o,f);if(!(O===void 0?k===P||m(k,P,c,d,f):O)){T=!1;break}A||(A=N=="constructor")}if(T&&!A){var M=i.constructor,F=o.constructor;M!=F&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(T=!1)}return f.delete(i),f.delete(o),T}return uA=a,uA}var dA,mz;function _Ae(){if(mz)return dA;mz=1;var e=Gd(),t=Lo(),r=e(t,"DataView");return dA=r,dA}var mA,fz;function TAe(){if(fz)return mA;fz=1;var e=Gd(),t=Lo(),r=e(t,"Promise");return mA=r,mA}var fA,hz;function gQ(){if(hz)return fA;hz=1;var e=Gd(),t=Lo(),r=e(t,"Set");return fA=r,fA}var hA,pz;function PAe(){if(pz)return hA;pz=1;var e=Gd(),t=Lo(),r=e(t,"WeakMap");return hA=r,hA}var pA,gz;function OAe(){if(gz)return pA;gz=1;var e=_Ae(),t=lk(),r=TAe(),s=gQ(),a=PAe(),i=Fl(),o=MY(),c="[object Map]",d="[object Object]",m="[object Promise]",f="[object Set]",h="[object WeakMap]",g="[object DataView]",b=o(e),w=o(t),y=o(r),j=o(s),N=o(a),C=i;return(e&&C(new e(new ArrayBuffer(1)))!=g||t&&C(new t)!=c||r&&C(r.resolve())!=m||s&&C(new s)!=f||a&&C(new a)!=h)&&(C=function(E){var T=i(E),A=T==d?E.constructor:void 0,k=A?o(A):"";if(k)switch(k){case b:return g;case w:return c;case y:return m;case j:return f;case N:return h}return T}),pA=C,pA}var gA,xz;function kAe(){if(xz)return gA;xz=1;var e=iQ(),t=uQ(),r=mAe(),s=EAe(),a=OAe(),i=pa(),o=mQ(),c=hQ(),d=1,m="[object Arguments]",f="[object Array]",h="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function w(y,j,N,C,E,T){var A=i(y),k=i(j),P=A?f:a(y),O=k?f:a(j);P=P==m?h:P,O=O==m?h:O;var M=P==h,F=O==h,D=P==O;if(D&&o(y)){if(!o(j))return!1;A=!0,M=!1}if(D&&!M)return T||(T=new e),A||c(y)?t(y,j,N,C,E,T):r(y,j,P,N,C,E,T);if(!(N&d)){var $=M&&b.call(y,"__wrapped__"),V=F&&b.call(j,"__wrapped__");if($||V){var z=$?y.value():y,q=V?j.value():j;return T||(T=new e),E(z,q,N,C,T)}}return D?(T||(T=new e),s(y,j,N,C,E,T)):!1}return gA=w,gA}var xA,yz;function Nk(){if(yz)return xA;yz=1;var e=kAe(),t=Bl();function r(s,a,i,o,c){return s===a?!0:s==null||a==null||!t(s)&&!t(a)?s!==s&&a!==a:e(s,a,i,o,r,c)}return xA=r,xA}var yA,vz;function MAe(){if(vz)return yA;vz=1;var e=iQ(),t=Nk(),r=1,s=2;function a(i,o,c,d){var m=c.length,f=m,h=!d;if(i==null)return!f;for(i=Object(i);m--;){var g=c[m];if(h&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++m<f;){g=c[m];var b=g[0],w=i[b],y=g[1];if(h&&g[2]){if(w===void 0&&!(b in i))return!1}else{var j=new e;if(d)var N=d(w,y,b,i,o,j);if(!(N===void 0?t(y,w,r|s,d,j):N))return!1}}return!0}return yA=a,yA}var vA,bz;function xQ(){if(bz)return vA;bz=1;var e=iu();function t(r){return r===r&&!e(r)}return vA=t,vA}var bA,jz;function RAe(){if(jz)return bA;jz=1;var e=xQ(),t=pw();function r(s){for(var a=t(s),i=a.length;i--;){var o=a[i],c=s[o];a[i]=[o,c,e(c)]}return a}return bA=r,bA}var jA,wz;function yQ(){if(wz)return jA;wz=1;function e(t,r){return function(s){return s==null?!1:s[t]===r&&(r!==void 0||t in Object(s))}}return jA=e,jA}var wA,Nz;function DAe(){if(Nz)return wA;Nz=1;var e=MAe(),t=RAe(),r=yQ();function s(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||e(o,a,i)}}return wA=s,wA}var NA,Sz;function IAe(){if(Sz)return NA;Sz=1;function e(t,r){return t!=null&&r in Object(t)}return NA=e,NA}var SA,Cz;function LAe(){if(Cz)return SA;Cz=1;var e=IY(),t=bk(),r=pa(),s=jk(),a=wk(),i=uw();function o(c,d,m){d=e(d,c);for(var f=-1,h=d.length,g=!1;++f<h;){var b=i(d[f]);if(!(g=c!=null&&m(c,b)))break;c=c[b]}return g||++f!=h?g:(h=c==null?0:c.length,!!h&&a(h)&&s(b,h)&&(r(c)||t(c)))}return SA=o,SA}var CA,Az;function $Ae(){if(Az)return CA;Az=1;var e=IAe(),t=LAe();function r(s,a){return s!=null&&t(s,a,e)}return CA=r,CA}var AA,Ez;function zAe(){if(Ez)return AA;Ez=1;var e=Nk(),t=LY(),r=$Ae(),s=ak(),a=xQ(),i=yQ(),o=uw(),c=1,d=2;function m(f,h){return s(f)&&a(h)?i(o(f),h):function(g){var b=t(g,f);return b===void 0&&b===h?r(g,f):e(h,b,c|d)}}return AA=m,AA}var EA,_z;function Ch(){if(_z)return EA;_z=1;function e(t){return t}return EA=e,EA}var _A,Tz;function qAe(){if(Tz)return _A;Tz=1;function e(t){return function(r){return r?.[t]}}return _A=e,_A}var TA,Pz;function FAe(){if(Pz)return TA;Pz=1;var e=dk();function t(r){return function(s){return e(s,r)}}return TA=t,TA}var PA,Oz;function BAe(){if(Oz)return PA;Oz=1;var e=qAe(),t=FAe(),r=ak(),s=uw();function a(i){return r(i)?e(s(i)):t(i)}return PA=a,PA}var OA,kz;function $o(){if(kz)return OA;kz=1;var e=DAe(),t=zAe(),r=Ch(),s=pa(),a=BAe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?s(o)?t(o[0],o[1]):e(o):a(o)}return OA=i,OA}var kA,Mz;function vQ(){if(Mz)return kA;Mz=1;function e(t,r,s,a){for(var i=t.length,o=s+(a?1:-1);a?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return kA=e,kA}var MA,Rz;function UAe(){if(Rz)return MA;Rz=1;function e(t){return t!==t}return MA=e,MA}var RA,Dz;function VAe(){if(Dz)return RA;Dz=1;function e(t,r,s){for(var a=s-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return RA=e,RA}var DA,Iz;function KAe(){if(Iz)return DA;Iz=1;var e=vQ(),t=UAe(),r=VAe();function s(a,i,o){return i===i?r(a,i,o):e(a,t,o)}return DA=s,DA}var IA,Lz;function HAe(){if(Lz)return IA;Lz=1;var e=KAe();function t(r,s){var a=r==null?0:r.length;return!!a&&e(r,s,0)>-1}return IA=t,IA}var LA,$z;function GAe(){if($z)return LA;$z=1;function e(t,r,s){for(var a=-1,i=t==null?0:t.length;++a<i;)if(s(r,t[a]))return!0;return!1}return LA=e,LA}var $A,zz;function WAe(){if(zz)return $A;zz=1;function e(){}return $A=e,$A}var zA,qz;function YAe(){if(qz)return zA;qz=1;var e=gQ(),t=WAe(),r=vk(),s=1/0,a=e&&1/r(new e([,-0]))[1]==s?function(i){return new e(i)}:t;return zA=a,zA}var qA,Fz;function QAe(){if(Fz)return qA;Fz=1;var e=oQ(),t=HAe(),r=GAe(),s=cQ(),a=YAe(),i=vk(),o=200;function c(d,m,f){var h=-1,g=t,b=d.length,w=!0,y=[],j=y;if(f)w=!1,g=r;else if(b>=o){var N=m?null:a(d);if(N)return i(N);w=!1,g=s,j=new e}else j=m?[]:y;e:for(;++h<b;){var C=d[h],E=m?m(C):C;if(C=f||C!==0?C:0,w&&E===E){for(var T=j.length;T--;)if(j[T]===E)continue e;m&&j.push(E),y.push(C)}else g(j,E,f)||(j!==y&&j.push(E),y.push(C))}return y}return qA=c,qA}var FA,Bz;function XAe(){if(Bz)return FA;Bz=1;var e=$o(),t=QAe();function r(s,a){return s&&s.length?t(s,e(a,2)):[]}return FA=r,FA}var ZAe=XAe();const Uz=yn(ZAe);function bQ(e,t,r){return t===!0?Uz(e,r):vt(t)?Uz(e,t):e}function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}var JAe=["ref"];function Vz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vz(Object(r),!0).forEach(function(s){gw(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vz(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function eEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kz(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,wQ(s.key),s)}}function tEe(e,t,r){return t&&Kz(e.prototype,t),r&&Kz(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nEe(e,t,r){return t=xb(t),rEe(e,jQ()?Reflect.construct(t,r||[],xb(e).constructor):t.apply(e,r))}function rEe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sEe(e)}function sEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jQ=function(){return!!e})()}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(e)}function aEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FT(e,t)}function FT(e,t){return FT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FT(e,t)}function gw(e,t,r){return t=wQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=iEe(e,"string");return Lf(t)=="symbol"?t:t+""}function iEe(e,t){if(Lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Lf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function oEe(e,t){if(e==null)return{};var r=lEe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function lEe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function cEe(e){return e.value}function uEe(e,t){if(J.isValidElement(e))return J.cloneElement(e,t);if(typeof e=="function")return J.createElement(e,t);t.ref;var r=oEe(t,JAe);return J.createElement(yk,r)}var Hz=1,Fc=(function(e){function t(){var r;eEe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=nEe(this,t,[].concat(a)),gw(r,"lastBoundingBox",{width:-1,height:-1}),r}return aEe(t,e),tEe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Hz||Math.abs(a.height-this.lastBoundingBox.height)>Hz)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,c=a.verticalAlign,d=a.margin,m=a.chartWidth,f=a.chartHeight,h,g;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var b=this.getBBoxSnapshot();h={left:((m||0)-b.width)/2}}else h=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(c==="middle"){var w=this.getBBoxSnapshot();g={top:((f||0)-w.height)/2}}else g=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return cl(cl({},h),g)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,c=a.height,d=a.wrapperStyle,m=a.payloadUniqBy,f=a.payload,h=cl(cl({position:"absolute",width:o||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return J.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(b){s.wrapperNode=b}},uEe(i,cl(cl({},this.props),{},{payload:bQ(f,m,cEe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=cl(cl({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Ie(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(v.PureComponent);gw(Fc,"displayName","Legend");gw(Fc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BA,Gz;function dEe(){if(Gz)return BA;Gz=1;var e=ry(),t=bk(),r=pa(),s=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(s&&i&&i[s])}return BA=a,BA}var UA,Wz;function NQ(){if(Wz)return UA;Wz=1;var e=dQ(),t=dEe();function r(s,a,i,o,c){var d=-1,m=s.length;for(i||(i=t),c||(c=[]);++d<m;){var f=s[d];a>0&&i(f)?a>1?r(f,a-1,i,o,c):e(c,f):o||(c[c.length]=f)}return c}return UA=r,UA}var VA,Yz;function mEe(){if(Yz)return VA;Yz=1;function e(t){return function(r,s,a){for(var i=-1,o=Object(r),c=a(r),d=c.length;d--;){var m=c[t?d:++i];if(s(o[m],m,o)===!1)break}return r}}return VA=e,VA}var KA,Qz;function fEe(){if(Qz)return KA;Qz=1;var e=mEe(),t=e();return KA=t,KA}var HA,Xz;function SQ(){if(Xz)return HA;Xz=1;var e=fEe(),t=pw();function r(s,a){return s&&e(s,a,t)}return HA=r,HA}var GA,Zz;function hEe(){if(Zz)return GA;Zz=1;var e=sy();function t(r,s){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var o=a.length,c=s?o:-1,d=Object(a);(s?c--:++c<o)&&i(d[c],c,d)!==!1;);return a}}return GA=t,GA}var WA,Jz;function Sk(){if(Jz)return WA;Jz=1;var e=SQ(),t=hEe(),r=t(e);return WA=r,WA}var YA,eq;function CQ(){if(eq)return YA;eq=1;var e=Sk(),t=sy();function r(s,a){var i=-1,o=t(s)?Array(s.length):[];return e(s,function(c,d,m){o[++i]=a(c,d,m)}),o}return YA=r,YA}var QA,tq;function pEe(){if(tq)return QA;tq=1;function e(t,r){var s=t.length;for(t.sort(r);s--;)t[s]=t[s].value;return t}return QA=e,QA}var XA,nq;function gEe(){if(nq)return XA;nq=1;var e=wh();function t(r,s){if(r!==s){var a=r!==void 0,i=r===null,o=r===r,c=e(r),d=s!==void 0,m=s===null,f=s===s,h=e(s);if(!m&&!h&&!c&&r>s||c&&d&&f&&!m&&!h||i&&d&&f||!a&&f||!o)return 1;if(!i&&!c&&!h&&r<s||h&&a&&o&&!i&&!c||m&&a&&o||!d&&o||!f)return-1}return 0}return XA=t,XA}var ZA,rq;function xEe(){if(rq)return ZA;rq=1;var e=gEe();function t(r,s,a){for(var i=-1,o=r.criteria,c=s.criteria,d=o.length,m=a.length;++i<d;){var f=e(o[i],c[i]);if(f){if(i>=m)return f;var h=a[i];return f*(h=="desc"?-1:1)}}return r.index-s.index}return ZA=t,ZA}var JA,sq;function yEe(){if(sq)return JA;sq=1;var e=uk(),t=dk(),r=$o(),s=CQ(),a=pEe(),i=fQ(),o=xEe(),c=Ch(),d=pa();function m(f,h,g){h.length?h=e(h,function(y){return d(y)?function(j){return t(j,y.length===1?y[0]:y)}:y}):h=[c];var b=-1;h=e(h,i(r));var w=s(f,function(y,j,N){var C=e(h,function(E){return E(y)});return{criteria:C,index:++b,value:y}});return a(w,function(y,j){return o(y,j,g)})}return JA=m,JA}var eE,aq;function vEe(){if(aq)return eE;aq=1;function e(t,r,s){switch(s.length){case 0:return t.call(r);case 1:return t.call(r,s[0]);case 2:return t.call(r,s[0],s[1]);case 3:return t.call(r,s[0],s[1],s[2])}return t.apply(r,s)}return eE=e,eE}var tE,iq;function bEe(){if(iq)return tE;iq=1;var e=vEe(),t=Math.max;function r(s,a,i){return a=t(a===void 0?s.length-1:a,0),function(){for(var o=arguments,c=-1,d=t(o.length-a,0),m=Array(d);++c<d;)m[c]=o[a+c];c=-1;for(var f=Array(a+1);++c<a;)f[c]=o[c];return f[a]=i(m),e(s,this,f)}}return tE=r,tE}var nE,oq;function jEe(){if(oq)return nE;oq=1;function e(t){return function(){return t}}return nE=e,nE}var rE,lq;function AQ(){if(lq)return rE;lq=1;var e=Gd(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return rE=t,rE}var sE,cq;function wEe(){if(cq)return sE;cq=1;var e=jEe(),t=AQ(),r=Ch(),s=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return sE=s,sE}var aE,uq;function NEe(){if(uq)return aE;uq=1;var e=800,t=16,r=Date.now;function s(a){var i=0,o=0;return function(){var c=r(),d=t-(c-o);if(o=c,d>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return aE=s,aE}var iE,dq;function SEe(){if(dq)return iE;dq=1;var e=wEe(),t=NEe(),r=t(e);return iE=r,iE}var oE,mq;function CEe(){if(mq)return oE;mq=1;var e=Ch(),t=bEe(),r=SEe();function s(a,i){return r(t(a,i,e),a+"")}return oE=s,oE}var lE,fq;function xw(){if(fq)return lE;fq=1;var e=ok(),t=sy(),r=jk(),s=iu();function a(i,o,c){if(!s(c))return!1;var d=typeof o;return(d=="number"?t(c)&&r(o,c.length):d=="string"&&o in c)?e(c[o],i):!1}return lE=a,lE}var cE,hq;function AEe(){if(hq)return cE;hq=1;var e=NQ(),t=yEe(),r=CEe(),s=xw(),a=r(function(i,o){if(i==null)return[];var c=o.length;return c>1&&s(i,o[0],o[1])?o=[]:c>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return cE=a,cE}var EEe=AEe();const Ck=yn(EEe);function ox(e){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ox(e)}function BT(){return BT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},BT.apply(this,arguments)}function _Ee(e,t){return kEe(e)||OEe(e,t)||PEe(e,t)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(e,t){if(e){if(typeof e=="string")return pq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pq(e,t)}}function pq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function OEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function kEe(e){if(Array.isArray(e))return e}function gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gq(Object(r),!0).forEach(function(s){MEe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function MEe(e,t,r){return t=REe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function REe(e){var t=DEe(e,"string");return ox(t)=="symbol"?t:t+""}function DEe(e,t){if(ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ox(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IEe(e){return Array.isArray(e)&&Gr(e[0])&&Gr(e[1])?e.join(" ~ "):e}var LEe=function(t){var r=t.separator,s=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,c=o===void 0?{}:o,d=t.labelStyle,m=d===void 0?{}:d,f=t.payload,h=t.formatter,g=t.itemSorter,b=t.wrapperClassName,w=t.labelClassName,y=t.label,j=t.labelFormatter,N=t.accessibilityLayer,C=N===void 0?!1:N,E=function(){if(f&&f.length){var $={padding:0,margin:0},V=(g?Ck(f,g):f).map(function(z,q){if(z.type==="none")return null;var I=uE({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},c),K=z.formatter||h||IEe,U=z.value,B=z.name,ie=U,G=B;if(K&&ie!=null&&G!=null){var Y=K(U,B,z,q,f);if(Array.isArray(Y)){var se=_Ee(Y,2);ie=se[0],G=se[1]}else ie=Y}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:I},Gr(G)?J.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Gr(G)?J.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,J.createElement("span",{className:"recharts-tooltip-item-value"},ie),J.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return J.createElement("ul",{className:"recharts-tooltip-item-list",style:$},V)}return null},T=uE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),A=uE({margin:0},m),k=!At(y),P=k?y:"",O=Et("recharts-default-tooltip",b),M=Et("recharts-tooltip-label",w);k&&j&&f!==void 0&&f!==null&&(P=j(y,f));var F=C?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",BT({className:O,style:T},F),J.createElement("p",{className:M,style:A},J.isValidElement(P)?P:"".concat(P)),E())};function lx(e){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(e)}function Zv(e,t,r){return t=$Ee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Ee(e){var t=zEe(e,"string");return lx(t)=="symbol"?t:t+""}function zEe(e,t){if(lx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(lx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kp="recharts-tooltip-wrapper",qEe={visibility:"hidden"};function FEe(e){var t=e.coordinate,r=e.translateX,s=e.translateY;return Et(Kp,Zv(Zv(Zv(Zv({},"".concat(Kp,"-right"),Ie(r)&&t&&Ie(t.x)&&r>=t.x),"".concat(Kp,"-left"),Ie(r)&&t&&Ie(t.x)&&r<t.x),"".concat(Kp,"-bottom"),Ie(s)&&t&&Ie(t.y)&&s>=t.y),"".concat(Kp,"-top"),Ie(s)&&t&&Ie(t.y)&&s<t.y))}function xq(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,c=e.tooltipDimension,d=e.viewBox,m=e.viewBoxDimension;if(i&&Ie(i[s]))return i[s];var f=r[s]-c-a,h=r[s]+a;if(t[s])return o[s]?f:h;if(o[s]){var g=f,b=d[s];return g<b?Math.max(h,d[s]):Math.max(f,d[s])}var w=h+c,y=d[s]+m;return w>y?Math.max(f,d[s]):Math.max(h,d[s])}function BEe(e){var t=e.translateX,r=e.translateY,s=e.useTranslate3d;return{transform:s?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function UEe(e){var t=e.allowEscapeViewBox,r=e.coordinate,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox,m,f,h;return o.height>0&&o.width>0&&r?(f=xq({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),h=xq({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),m=BEe({translateX:f,translateY:h,useTranslate3d:c})):m=qEe,{cssProperties:m,cssClasses:FEe({translateX:f,translateY:h,coordinate:r})}}function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function yq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function vq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yq(Object(r),!0).forEach(function(s){VT(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function VEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KEe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_Q(s.key),s)}}function HEe(e,t,r){return t&&KEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GEe(e,t,r){return t=yb(t),WEe(e,EQ()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function WEe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YEe(e)}function YEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EQ=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function QEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UT(e,t)}function UT(e,t){return UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UT(e,t)}function VT(e,t,r){return t=_Q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=XEe(e,"string");return $f(t)=="symbol"?t:t+""}function XEe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if($f(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bq=1,ZEe=(function(e){function t(){var r;VEe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=GEe(this,t,[].concat(a)),VT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),VT(r,"handleKeyDown",function(o){if(o.key==="Escape"){var c,d,m,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(m=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&m!==void 0?m:0}})}}),r}return QEe(t,e),HEe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>bq||Math.abs(s.height-this.state.lastBoundingBox.height)>bq)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,m=a.children,f=a.coordinate,h=a.hasPayload,g=a.isAnimationActive,b=a.offset,w=a.position,y=a.reverseDirection,j=a.useTranslate3d,N=a.viewBox,C=a.wrapperStyle,E=UEe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:b,position:w,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:N}),T=E.cssClasses,A=E.cssProperties,k=vq(vq({transition:g&&i?"transform ".concat(c,"ms ").concat(d):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},C);return J.createElement("div",{tabIndex:-1,className:T,style:k,ref:function(O){s.wrapperNode=O}},m)}}])})(v.PureComponent),JEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ou={isSsr:JEe()};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function wq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jq(Object(r),!0).forEach(function(s){Ak(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function e_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t_e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PQ(s.key),s)}}function n_e(e,t,r){return t&&t_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r_e(e,t,r){return t=vb(t),s_e(e,TQ()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function s_e(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a_e(e)}function a_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TQ=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function i_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KT(e,t)}function KT(e,t){return KT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},KT(e,t)}function Ak(e,t,r){return t=PQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=o_e(e,"string");return zf(t)=="symbol"?t:t+""}function o_e(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(zf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function l_e(e){return e.dataKey}function c_e(e,t){return J.isValidElement(e)?J.cloneElement(e,t):typeof e=="function"?J.createElement(e,t):J.createElement(LEe,t)}var Ur=(function(e){function t(){return e_e(this,t),r_e(this,t,arguments)}return i_e(t,e),n_e(t,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,m=a.content,f=a.coordinate,h=a.filterNull,g=a.isAnimationActive,b=a.offset,w=a.payload,y=a.payloadUniqBy,j=a.position,N=a.reverseDirection,C=a.useTranslate3d,E=a.viewBox,T=a.wrapperStyle,A=w??[];h&&A.length&&(A=bQ(w.filter(function(P){return P.value!=null&&(P.hide!==!0||s.props.includeHidden)}),y,l_e));var k=A.length>0;return J.createElement(ZEe,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:g,active:i,coordinate:f,hasPayload:k,offset:b,position:j,reverseDirection:N,useTranslate3d:C,viewBox:E,wrapperStyle:T},c_e(m,wq(wq({},this.props),{},{payload:A})))}}])})(v.PureComponent);Ak(Ur,"displayName","Tooltip");Ak(Ur,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ou.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dE,Nq;function u_e(){if(Nq)return dE;Nq=1;var e=Lo(),t=function(){return e.Date.now()};return dE=t,dE}var mE,Sq;function d_e(){if(Sq)return mE;Sq=1;var e=/\s/;function t(r){for(var s=r.length;s--&&e.test(r.charAt(s)););return s}return mE=t,mE}var fE,Cq;function m_e(){if(Cq)return fE;Cq=1;var e=d_e(),t=/^\s+/;function r(s){return s&&s.slice(0,e(s)+1).replace(t,"")}return fE=r,fE}var hE,Aq;function OQ(){if(Aq)return hE;Aq=1;var e=m_e(),t=iu(),r=wh(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,c=parseInt;function d(m){if(typeof m=="number")return m;if(r(m))return s;if(t(m)){var f=typeof m.valueOf=="function"?m.valueOf():m;m=t(f)?f+"":f}if(typeof m!="string")return m===0?m:+m;m=e(m);var h=i.test(m);return h||o.test(m)?c(m.slice(2),h?2:8):a.test(m)?s:+m}return hE=d,hE}var pE,Eq;function f_e(){if(Eq)return pE;Eq=1;var e=iu(),t=u_e(),r=OQ(),s="Expected a function",a=Math.max,i=Math.min;function o(c,d,m){var f,h,g,b,w,y,j=0,N=!1,C=!1,E=!0;if(typeof c!="function")throw new TypeError(s);d=r(d)||0,e(m)&&(N=!!m.leading,C="maxWait"in m,g=C?a(r(m.maxWait)||0,d):g,E="trailing"in m?!!m.trailing:E);function T(V){var z=f,q=h;return f=h=void 0,j=V,b=c.apply(q,z),b}function A(V){return j=V,w=setTimeout(O,d),N?T(V):b}function k(V){var z=V-y,q=V-j,I=d-z;return C?i(I,g-q):I}function P(V){var z=V-y,q=V-j;return y===void 0||z>=d||z<0||C&&q>=g}function O(){var V=t();if(P(V))return M(V);w=setTimeout(O,k(V))}function M(V){return w=void 0,E&&f?T(V):(f=h=void 0,b)}function F(){w!==void 0&&clearTimeout(w),j=0,f=y=h=w=void 0}function D(){return w===void 0?b:M(t())}function $(){var V=t(),z=P(V);if(f=arguments,h=this,y=V,z){if(w===void 0)return A(y);if(C)return clearTimeout(w),w=setTimeout(O,d),T(y)}return w===void 0&&(w=setTimeout(O,d)),b}return $.cancel=F,$.flush=D,$}return pE=o,pE}var gE,_q;function h_e(){if(_q)return gE;_q=1;var e=f_e(),t=iu(),r="Expected a function";function s(a,i,o){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(c="leading"in o?!!o.leading:c,d="trailing"in o?!!o.trailing:d),e(a,i,{leading:c,maxWait:i,trailing:d})}return gE=s,gE}var p_e=h_e();const kQ=yn(p_e);function cx(e){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cx(e)}function Tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tq(Object(r),!0).forEach(function(s){g_e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function g_e(e,t,r){return t=x_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x_e(e){var t=y_e(e,"string");return cx(t)=="symbol"?t:t+""}function y_e(e,t){if(cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(cx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v_e(e,t){return N_e(e)||w_e(e,t)||j_e(e,t)||b_e()}function b_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_e(e,t){if(e){if(typeof e=="string")return Pq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pq(e,t)}}function Pq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function w_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function N_e(e){if(Array.isArray(e))return e}var mo=v.forwardRef(function(e,t){var r=e.aspect,s=e.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=e.width,o=i===void 0?"100%":i,c=e.height,d=c===void 0?"100%":c,m=e.minWidth,f=m===void 0?0:m,h=e.minHeight,g=e.maxHeight,b=e.children,w=e.debounce,y=w===void 0?0:w,j=e.id,N=e.className,C=e.onResize,E=e.style,T=E===void 0?{}:E,A=v.useRef(null),k=v.useRef();k.current=C,v.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var P=v.useState({containerWidth:a.width,containerHeight:a.height}),O=v_e(P,2),M=O[0],F=O[1],D=v.useCallback(function(V,z){F(function(q){var I=Math.round(V),K=Math.round(z);return q.containerWidth===I&&q.containerHeight===K?q:{containerWidth:I,containerHeight:K}})},[]);v.useEffect(function(){var V=function(B){var ie,G=B[0].contentRect,Y=G.width,se=G.height;D(Y,se),(ie=k.current)===null||ie===void 0||ie.call(k,Y,se)};y>0&&(V=kQ(V,y,{trailing:!0,leading:!1}));var z=new ResizeObserver(V),q=A.current.getBoundingClientRect(),I=q.width,K=q.height;return D(I,K),z.observe(A.current),function(){z.disconnect()}},[D,y]);var $=v.useMemo(function(){var V=M.containerWidth,z=M.containerHeight;if(V<0||z<0)return null;Bi(rd(o)||rd(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),Bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=rd(o)?V:o,I=rd(d)?z:d;r&&r>0&&(q?I=q/r:I&&(q=I*r),g&&I>g&&(I=g)),Bi(q>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,I,o,d,f,h,r);var K=!Array.isArray(b)&&vl(b.type).endsWith("Chart");return J.Children.map(b,function(U){return J.isValidElement(U)?v.cloneElement(U,Jv({width:q,height:I},K?{style:Jv({height:"100%",width:"100%",maxHeight:I,maxWidth:q},U.props.style)}:{})):U})},[r,b,d,g,h,f,M,o]);return J.createElement("div",{id:j?"".concat(j):void 0,className:Et("recharts-responsive-container",N),style:Jv(Jv({},T),{},{width:o,height:d,minWidth:f,minHeight:h,maxHeight:g}),ref:A},$)}),yw=function(t){return null};yw.displayName="Cell";function ux(e){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ux(e)}function Oq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function HT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oq(Object(r),!0).forEach(function(s){S_e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oq(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function S_e(e,t,r){return t=C_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C_e(e){var t=A_e(e,"string");return ux(t)=="symbol"?t:t+""}function A_e(e,t){if(ux(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ux(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hm={widthCache:{},cacheCount:0},E_e=2e3,__e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kq="recharts_measurement_span";function T_e(e){var t=HT({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var vg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ou.isSsr)return{width:0,height:0};var s=T_e(r),a=JSON.stringify({text:t,copyStyle:s});if(Hm.widthCache[a])return Hm.widthCache[a];try{var i=document.getElementById(kq);i||(i=document.createElement("span"),i.setAttribute("id",kq),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=HT(HT({},__e),s);Object.assign(i.style,o),i.textContent="".concat(t);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return Hm.widthCache[a]=d,++Hm.cacheCount>E_e&&(Hm.cacheCount=0,Hm.widthCache={}),d}catch{return{width:0,height:0}}},P_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function dx(e){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dx(e)}function bb(e,t){return R_e(e)||M_e(e,t)||k_e(e,t)||O_e()}function O_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_e(e,t){if(e){if(typeof e=="string")return Mq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mq(e,t)}}function Mq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function M_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function R_e(e){if(Array.isArray(e))return e}function D_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rq(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,L_e(s.key),s)}}function I_e(e,t,r){return t&&Rq(e.prototype,t),r&&Rq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function L_e(e){var t=$_e(e,"string");return dx(t)=="symbol"?t:t+""}function $_e(e,t){if(dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(dx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Iq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,q_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,MQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},F_e=Object.keys(MQ),of="NaN";function B_e(e,t){return e*MQ[t]}var e0=(function(){function e(t,r){D_e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!z_e.test(r)&&(this.num=NaN,this.unit=""),F_e.includes(r)&&(this.num=B_e(t,r),this.unit="px")}return I_e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=q_e.exec(r))!==null&&s!==void 0?s:[],i=bb(a,3),o=i[1],c=i[2];return new e(parseFloat(o),c??"")}}])})();function RQ(e){if(e.includes(of))return of;for(var t=e;t.includes("*")||t.includes("/");){var r,s=(r=Dq.exec(t))!==null&&r!==void 0?r:[],a=bb(s,4),i=a[1],o=a[2],c=a[3],d=e0.parse(i??""),m=e0.parse(c??""),f=o==="*"?d.multiply(m):d.divide(m);if(f.isNaN())return of;t=t.replace(Dq,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,g=(h=Iq.exec(t))!==null&&h!==void 0?h:[],b=bb(g,4),w=b[1],y=b[2],j=b[3],N=e0.parse(w??""),C=e0.parse(j??""),E=y==="+"?N.add(C):N.subtract(C);if(E.isNaN())return of;t=t.replace(Iq,E.toString())}return t}var Lq=/\(([^()]*)\)/;function U_e(e){for(var t=e;t.includes("(");){var r=Lq.exec(t),s=bb(r,2),a=s[1];t=t.replace(Lq,RQ(a))}return t}function V_e(e){var t=e.replace(/\s+/g,"");return t=U_e(t),t=RQ(t),t}function K_e(e){try{return V_e(e)}catch{return of}}function xE(e){var t=K_e(e.slice(5,-1));return t===of?"":t}var H_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],G_e=["dx","dy","angle","className","breakAll"];function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},GT.apply(this,arguments)}function $q(e,t){if(e==null)return{};var r=W_e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function W_e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function zq(e,t){return Z_e(e)||X_e(e,t)||Q_e(e,t)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(e,t){if(e){if(typeof e=="string")return qq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qq(e,t)}}function qq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function X_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function Z_e(e){if(Array.isArray(e))return e}var DQ=/[ \f\n\r\t\v\u2028\u2029]+/,IQ=function(t){var r=t.children,s=t.breakAll,a=t.style;try{var i=[];At(r)||(s?i=r.toString().split(""):i=r.toString().split(DQ));var o=i.map(function(d){return{word:d,width:vg(d,a).width}}),c=s?0:vg("",a).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}},J_e=function(t,r,s,a,i){var o=t.maxLines,c=t.children,d=t.style,m=t.breakAll,f=Ie(o),h=c,g=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(I,K){var U=K.word,B=K.width,ie=I[I.length-1];if(ie&&(a==null||i||ie.width+B+s<Number(a)))ie.words.push(U),ie.width+=B+s;else{var G={words:[U],width:B};I.push(G)}return I},[])},b=g(r),w=function(q){return q.reduce(function(I,K){return I.width>K.width?I:K})};if(!f)return b;for(var y="",j=function(q){var I=h.slice(0,q),K=IQ({breakAll:m,style:d,children:I+y}).wordsWithComputedWidth,U=g(K),B=U.length>o||w(U).width>Number(a);return[B,U]},N=0,C=h.length-1,E=0,T;N<=C&&E<=h.length-1;){var A=Math.floor((N+C)/2),k=A-1,P=j(k),O=zq(P,2),M=O[0],F=O[1],D=j(A),$=zq(D,1),V=$[0];if(!M&&!V&&(N=A+1),M&&V&&(C=A-1),!M&&V){T=F;break}E++}return T||b},Fq=function(t){var r=At(t)?[]:t.toString().split(DQ);return[{words:r}]},eTe=function(t){var r=t.width,s=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,c=t.maxLines;if((r||s)&&!ou.isSsr){var d,m,f=IQ({breakAll:o,children:a,style:i});if(f){var h=f.wordsWithComputedWidth,g=f.spaceWidth;d=h,m=g}else return Fq(a);return J_e({breakAll:o,children:a,maxLines:c,style:i},d,m,r,s)}return Fq(a)},Bq="#808080",kd=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,c=o===void 0?"1em":o,d=t.capHeight,m=d===void 0?"0.71em":d,f=t.scaleToFit,h=f===void 0?!1:f,g=t.textAnchor,b=g===void 0?"start":g,w=t.verticalAnchor,y=w===void 0?"end":w,j=t.fill,N=j===void 0?Bq:j,C=$q(t,H_e),E=v.useMemo(function(){return eTe({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:h,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,h,C.style,C.width]),T=C.dx,A=C.dy,k=C.angle,P=C.className,O=C.breakAll,M=$q(C,G_e);if(!Gr(s)||!Gr(i))return null;var F=s+(Ie(T)?T:0),D=i+(Ie(A)?A:0),$;switch(y){case"start":$=xE("calc(".concat(m,")"));break;case"middle":$=xE("calc(".concat((E.length-1)/2," * -").concat(c," + (").concat(m," / 2))"));break;default:$=xE("calc(".concat(E.length-1," * -").concat(c,")"));break}var V=[];if(h){var z=E[0].width,q=C.width;V.push("scale(".concat((Ie(q)?q/z:1)/z,")"))}return k&&V.push("rotate(".concat(k,", ").concat(F,", ").concat(D,")")),V.length&&(M.transform=V.join(" ")),J.createElement("text",GT({},nt(M,!0),{x:F,y:D,className:Et("recharts-text",P),textAnchor:b,fill:N.includes("url")?Bq:N}),E.map(function(I,K){var U=I.words.join(O?"":" ");return J.createElement("tspan",{x:F,dy:K===0?$:c,key:"".concat(U,"-").concat(K)},U)}))};function Bc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tTe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ek(e){let t,r,s;e.length!==2?(t=Bc,r=(c,d)=>Bc(e(c),d),s=(c,d)=>e(c)-d):(t=e===Bc||e===tTe?e:nTe,r=e,s=e);function a(c,d,m=0,f=c.length){if(m<f){if(t(d,d)!==0)return f;do{const h=m+f>>>1;r(c[h],d)<0?m=h+1:f=h}while(m<f)}return m}function i(c,d,m=0,f=c.length){if(m<f){if(t(d,d)!==0)return f;do{const h=m+f>>>1;r(c[h],d)<=0?m=h+1:f=h}while(m<f)}return m}function o(c,d,m=0,f=c.length){const h=a(c,d,m,f-1);return h>m&&s(c[h-1],d)>-s(c[h],d)?h-1:h}return{left:a,center:o,right:i}}function nTe(){return 0}function LQ(e){return e===null?NaN:+e}function*rTe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const sTe=Ek(Bc),ay=sTe.right;Ek(LQ).center;class Uq extends Map{constructor(t,r=oTe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[s,a]of t)this.set(s,a)}get(t){return super.get(Vq(this,t))}has(t){return super.has(Vq(this,t))}set(t,r){return super.set(aTe(this,t),r)}delete(t){return super.delete(iTe(this,t))}}function Vq({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):r}function aTe({_intern:e,_key:t},r){const s=t(r);return e.has(s)?e.get(s):(e.set(s,r),r)}function iTe({_intern:e,_key:t},r){const s=t(r);return e.has(s)&&(r=e.get(s),e.delete(s)),r}function oTe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lTe(e=Bc){if(e===Bc)return $Q;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const s=e(t,r);return s||s===0?s:(e(r,r)===0)-(e(t,t)===0)}}function $Q(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const cTe=Math.sqrt(50),uTe=Math.sqrt(10),dTe=Math.sqrt(2);function jb(e,t,r){const s=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=cTe?10:i>=uTe?5:i>=dTe?2:1;let c,d,m;return a<0?(m=Math.pow(10,-a)/o,c=Math.round(e*m),d=Math.round(t*m),c/m<e&&++c,d/m>t&&--d,m=-m):(m=Math.pow(10,a)*o,c=Math.round(e/m),d=Math.round(t/m),c*m<e&&++c,d*m>t&&--d),d<c&&.5<=r&&r<2?jb(e,t,r*2):[c,d,m]}function WT(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const s=t<e,[a,i,o]=s?jb(t,e,r):jb(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(s)if(o<0)for(let m=0;m<c;++m)d[m]=(i-m)/-o;else for(let m=0;m<c;++m)d[m]=(i-m)*o;else if(o<0)for(let m=0;m<c;++m)d[m]=(a+m)/-o;else for(let m=0;m<c;++m)d[m]=(a+m)*o;return d}function YT(e,t,r){return t=+t,e=+e,r=+r,jb(e,t,r)[2]}function QT(e,t,r){t=+t,e=+e,r=+r;const s=t<e,a=s?YT(t,e,r):YT(e,t,r);return(s?-1:1)*(a<0?1/-a:a)}function Kq(e,t){let r;for(const s of e)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function Hq(e,t){let r;for(const s of e)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function zQ(e,t,r=0,s=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(e.length-1,s)),!(r<=t&&t<=s))return e;for(a=a===void 0?$Q:lTe(a);s>r;){if(s-r>600){const d=s-r+1,m=t-r+1,f=Math.log(d),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(d-h)/d)*(m-d/2<0?-1:1),b=Math.max(r,Math.floor(t-m*h/d+g)),w=Math.min(s,Math.floor(t+(d-m)*h/d+g));zQ(e,t,b,w,a)}const i=e[t];let o=r,c=s;for(Hp(e,r,t),a(e[s],i)>0&&Hp(e,r,s);o<c;){for(Hp(e,o,c),++o,--c;a(e[o],i)<0;)++o;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?Hp(e,r,c):(++c,Hp(e,c,s)),c<=t&&(r=c+1),t<=c&&(s=c-1)}return e}function Hp(e,t,r){const s=e[t];e[t]=e[r],e[r]=s}function mTe(e,t,r){if(e=Float64Array.from(rTe(e)),!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return Hq(e);if(t>=1)return Kq(e);var s,a=(s-1)*t,i=Math.floor(a),o=Kq(zQ(e,i).subarray(0,i+1)),c=Hq(e.subarray(i+1));return o+(c-o)*(a-i)}}function fTe(e,t,r=LQ){if(!(!(s=e.length)||isNaN(t=+t))){if(t<=0||s<2)return+r(e[0],0,e);if(t>=1)return+r(e[s-1],s-1,e);var s,a=(s-1)*t,i=Math.floor(a),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(a-i)}}function hTe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++s<a;)i[s]=e+s*r;return i}function yi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ul(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const XT=Symbol("implicit");function _k(){var e=new Uq,t=[],r=[],s=XT;function a(i){let o=e.get(i);if(o===void 0){if(s!==XT)return s;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Uq;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return _k(t,r).unknown(s)},yi.apply(a,arguments),a}function mx(){var e=_k().unknown(void 0),t=e.domain,r=e.range,s=0,a=1,i,o,c=!1,d=0,m=0,f=.5;delete e.unknown;function h(){var g=t().length,b=a<s,w=b?a:s,y=b?s:a;i=(y-w)/Math.max(1,g-d+m*2),c&&(i=Math.floor(i)),w+=(y-w-i*(g-d))*f,o=i*(1-d),c&&(w=Math.round(w),o=Math.round(o));var j=hTe(g).map(function(N){return w+i*N});return r(b?j.reverse():j)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([s,a]=g,s=+s,a=+a,h()):[s,a]},e.rangeRound=function(g){return[s,a]=g,s=+s,a=+a,c=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(g){return arguments.length?(c=!!g,h()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,m=+g),h()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),h()):d},e.paddingOuter=function(g){return arguments.length?(m=+g,h()):m},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},e.copy=function(){return mx(t(),[s,a]).round(c).paddingInner(d).paddingOuter(m).align(f)},yi.apply(h(),arguments)}function qQ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qQ(t())},e}function bg(){return qQ(mx.apply(null,arguments).paddingInner(1))}function Tk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FQ(e,t){var r=Object.create(e.prototype);for(var s in t)r[s]=t[s];return r}function iy(){}var fx=.7,wb=1/fx,Nf="\\s*([+-]?\\d+)\\s*",hx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pTe=/^#([0-9a-f]{3,8})$/,gTe=new RegExp(`^rgb\\(${Nf},${Nf},${Nf}\\)$`),xTe=new RegExp(`^rgb\\(${Eo},${Eo},${Eo}\\)$`),yTe=new RegExp(`^rgba\\(${Nf},${Nf},${Nf},${hx}\\)$`),vTe=new RegExp(`^rgba\\(${Eo},${Eo},${Eo},${hx}\\)$`),bTe=new RegExp(`^hsl\\(${hx},${Eo},${Eo}\\)$`),jTe=new RegExp(`^hsla\\(${hx},${Eo},${Eo},${hx}\\)$`),Gq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tk(iy,px,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Wq,formatHex:Wq,formatHex8:wTe,formatHsl:NTe,formatRgb:Yq,toString:Yq});function Wq(){return this.rgb().formatHex()}function wTe(){return this.rgb().formatHex8()}function NTe(){return BQ(this).formatHsl()}function Yq(){return this.rgb().formatRgb()}function px(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=pTe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Qq(t):r===3?new ua(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?t0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?t0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=gTe.exec(e))?new ua(t[1],t[2],t[3],1):(t=xTe.exec(e))?new ua(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yTe.exec(e))?t0(t[1],t[2],t[3],t[4]):(t=vTe.exec(e))?t0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bTe.exec(e))?Jq(t[1],t[2]/100,t[3]/100,1):(t=jTe.exec(e))?Jq(t[1],t[2]/100,t[3]/100,t[4]):Gq.hasOwnProperty(e)?Qq(Gq[e]):e==="transparent"?new ua(NaN,NaN,NaN,0):null}function Qq(e){return new ua(e>>16&255,e>>8&255,e&255,1)}function t0(e,t,r,s){return s<=0&&(e=t=r=NaN),new ua(e,t,r,s)}function STe(e){return e instanceof iy||(e=px(e)),e?(e=e.rgb(),new ua(e.r,e.g,e.b,e.opacity)):new ua}function ZT(e,t,r,s){return arguments.length===1?STe(e):new ua(e,t,r,s??1)}function ua(e,t,r,s){this.r=+e,this.g=+t,this.b=+r,this.opacity=+s}Tk(ua,ZT,FQ(iy,{brighter(e){return e=e==null?wb:Math.pow(wb,e),new ua(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fx:Math.pow(fx,e),new ua(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ua(hd(this.r),hd(this.g),hd(this.b),Nb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xq,formatHex:Xq,formatHex8:CTe,formatRgb:Zq,toString:Zq}));function Xq(){return`#${sd(this.r)}${sd(this.g)}${sd(this.b)}`}function CTe(){return`#${sd(this.r)}${sd(this.g)}${sd(this.b)}${sd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zq(){const e=Nb(this.opacity);return`${e===1?"rgb(":"rgba("}${hd(this.r)}, ${hd(this.g)}, ${hd(this.b)}${e===1?")":`, ${e})`}`}function Nb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sd(e){return e=hd(e),(e<16?"0":"")+e.toString(16)}function Jq(e,t,r,s){return s<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $i(e,t,r,s)}function BQ(e){if(e instanceof $i)return new $i(e.h,e.s,e.l,e.opacity);if(e instanceof iy||(e=px(e)),!e)return new $i;if(e instanceof $i)return e;e=e.rgb();var t=e.r/255,r=e.g/255,s=e.b/255,a=Math.min(t,r,s),i=Math.max(t,r,s),o=NaN,c=i-a,d=(i+a)/2;return c?(t===i?o=(r-s)/c+(r<s)*6:r===i?o=(s-t)/c+2:o=(t-r)/c+4,c/=d<.5?i+a:2-i-a,o*=60):c=d>0&&d<1?0:o,new $i(o,c,d,e.opacity)}function ATe(e,t,r,s){return arguments.length===1?BQ(e):new $i(e,t,r,s??1)}function $i(e,t,r,s){this.h=+e,this.s=+t,this.l=+r,this.opacity=+s}Tk($i,ATe,FQ(iy,{brighter(e){return e=e==null?wb:Math.pow(wb,e),new $i(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fx:Math.pow(fx,e),new $i(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*t,a=2*r-s;return new ua(yE(e>=240?e-240:e+120,a,s),yE(e,a,s),yE(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new $i(e8(this.h),n0(this.s),n0(this.l),Nb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nb(this.opacity);return`${e===1?"hsl(":"hsla("}${e8(this.h)}, ${n0(this.s)*100}%, ${n0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function e8(e){return e=(e||0)%360,e<0?e+360:e}function n0(e){return Math.max(0,Math.min(1,e||0))}function yE(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Pk=e=>()=>e;function ETe(e,t){return function(r){return e+r*t}}function _Te(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(s){return Math.pow(e+s*t,r)}}function TTe(e){return(e=+e)==1?UQ:function(t,r){return r-t?_Te(t,r,e):Pk(isNaN(t)?r:t)}}function UQ(e,t){var r=t-e;return r?ETe(e,r):Pk(isNaN(e)?t:e)}const t8=(function e(t){var r=TTe(t);function s(a,i){var o=r((a=ZT(a)).r,(i=ZT(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),m=UQ(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=c(f),a.b=d(f),a.opacity=m(f),a+""}}return s.gamma=e,s})(1);function PTe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,s=t.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=e[a]*(1-i)+t[a]*i;return s}}function OTe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kTe(e,t){var r=t?t.length:0,s=e?Math.min(r,e.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Ah(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<s;++o)i[o]=a[o](c);return i}}function MTe(e,t){var r=new Date;return e=+e,t=+t,function(s){return r.setTime(e*(1-s)+t*s),r}}function Sb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function RTe(e,t){var r={},s={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ah(e[a],t[a]):s[a]=t[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var JT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vE=new RegExp(JT.source,"g");function DTe(e){return function(){return e}}function ITe(e){return function(t){return e(t)+""}}function LTe(e,t){var r=JT.lastIndex=vE.lastIndex=0,s,a,i,o=-1,c=[],d=[];for(e=e+"",t=t+"";(s=JT.exec(e))&&(a=vE.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(s=s[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,d.push({i:o,x:Sb(s,a)})),r=vE.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?d[0]?ITe(d[0].x):DTe(t):(t=d.length,function(m){for(var f=0,h;f<t;++f)c[(h=d[f]).i]=h.x(m);return c.join("")})}function Ah(e,t){var r=typeof t,s;return t==null||r==="boolean"?Pk(t):(r==="number"?Sb:r==="string"?(s=px(t))?(t=s,t8):LTe:t instanceof px?t8:t instanceof Date?MTe:OTe(t)?PTe:Array.isArray(t)?kTe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?RTe:Sb)(e,t)}function Ok(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $Te(e,t){t===void 0&&(t=e,e=Ah);for(var r=0,s=t.length-1,a=t[0],i=new Array(s<0?0:s);r<s;)i[r]=e(a,a=t[++r]);return function(o){var c=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[c](o-c)}}function zTe(e){return function(){return e}}function Cb(e){return+e}var n8=[0,1];function Gs(e){return e}function eP(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zTe(isNaN(t)?NaN:.5)}function qTe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(s){return Math.max(e,Math.min(t,s))}}function FTe(e,t,r){var s=e[0],a=e[1],i=t[0],o=t[1];return a<s?(s=eP(a,s),i=r(o,i)):(s=eP(s,a),i=r(i,o)),function(c){return i(s(c))}}function BTe(e,t,r){var s=Math.min(e.length,t.length)-1,a=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<s;)a[o]=eP(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var d=ay(e,c,1,s)-1;return i[d](a[d](c))}}function oy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vw(){var e=n8,t=n8,r=Ah,s,a,i,o=Gs,c,d,m;function f(){var g=Math.min(e.length,t.length);return o!==Gs&&(o=qTe(e[0],e[g-1])),c=g>2?BTe:FTe,d=m=null,h}function h(g){return g==null||isNaN(g=+g)?i:(d||(d=c(e.map(s),t,r)))(s(o(g)))}return h.invert=function(g){return o(a((m||(m=c(t,e.map(s),Sb)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,Cb),f()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),r=Ok,f()},h.clamp=function(g){return arguments.length?(o=g?!0:Gs,f()):o!==Gs},h.interpolate=function(g){return arguments.length?(r=g,f()):r},h.unknown=function(g){return arguments.length?(i=g,h):i},function(g,b){return s=g,a=b,f()}}function kk(){return vw()(Gs,Gs)}function UTe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ab(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,s=e.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+e.slice(r+1)]}function qf(e){return e=Ab(Math.abs(e)),e?e[1]:NaN}function VTe(e,t){return function(r,s){for(var a=r.length,i=[],o=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>s&&(c=Math.max(1,s-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>s));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function KTe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var HTe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gx(e){if(!(t=HTe.exec(e)))throw new Error("invalid format: "+e);var t;return new Mk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gx.prototype=Mk.prototype;function Mk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Mk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function GTe(e){e:for(var t=e.length,r=1,s=-1,a;r<t;++r)switch(e[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+e[r])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(a+1):e}var VQ;function WTe(e,t){var r=Ab(e,t);if(!r)return e+"";var s=r[0],a=r[1],i=a-(VQ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Ab(e,Math.max(0,t+i-1))[0]}function r8(e,t){var r=Ab(e,t);if(!r)return e+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const s8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:UTe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>r8(e*100,t),r:r8,s:WTe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function a8(e){return e}var i8=Array.prototype.map,o8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function YTe(e){var t=e.grouping===void 0||e.thousands===void 0?a8:VTe(i8.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?a8:KTe(i8.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function m(h){h=gx(h);var g=h.fill,b=h.align,w=h.sign,y=h.symbol,j=h.zero,N=h.width,C=h.comma,E=h.precision,T=h.trim,A=h.type;A==="n"?(C=!0,A="g"):s8[A]||(E===void 0&&(E=12),T=!0,A="g"),(j||g==="0"&&b==="=")&&(j=!0,g="0",b="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P=y==="$"?s:/[%p]/.test(A)?o:"",O=s8[A],M=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function F(D){var $=k,V=P,z,q,I;if(A==="c")V=O(D)+V,D="";else{D=+D;var K=D<0||1/D<0;if(D=isNaN(D)?d:O(Math.abs(D),E),T&&(D=GTe(D)),K&&+D==0&&w!=="+"&&(K=!1),$=(K?w==="("?w:c:w==="-"||w==="("?"":w)+$,V=(A==="s"?o8[8+VQ/3]:"")+V+(K&&w==="("?")":""),M){for(z=-1,q=D.length;++z<q;)if(I=D.charCodeAt(z),48>I||I>57){V=(I===46?a+D.slice(z+1):D.slice(z))+V,D=D.slice(0,z);break}}}C&&!j&&(D=t(D,1/0));var U=$.length+D.length+V.length,B=U<N?new Array(N-U+1).join(g):"";switch(C&&j&&(D=t(B+D,B.length?N-V.length:1/0),B=""),b){case"<":D=$+D+V+B;break;case"=":D=$+B+D+V;break;case"^":D=B.slice(0,U=B.length>>1)+$+D+V+B.slice(U);break;default:D=B+$+D+V;break}return i(D)}return F.toString=function(){return h+""},F}function f(h,g){var b=m((h=gx(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(qf(g)/3)))*3,y=Math.pow(10,-w),j=o8[8+w/3];return function(N){return b(y*N)+j}}return{format:m,formatPrefix:f}}var r0,Rk,KQ;QTe({thousands:",",grouping:[3],currency:["$",""]});function QTe(e){return r0=YTe(e),Rk=r0.format,KQ=r0.formatPrefix,r0}function XTe(e){return Math.max(0,-qf(Math.abs(e)))}function ZTe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qf(t)/3)))*3-qf(Math.abs(e)))}function JTe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qf(t)-qf(e))+1}function HQ(e,t,r,s){var a=QT(e,t,r),i;switch(s=gx(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return s.precision==null&&!isNaN(i=ZTe(a,o))&&(s.precision=i),KQ(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=JTe(a,Math.max(Math.abs(e),Math.abs(t))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=XTe(a))&&(s.precision=i-(s.type==="%")*2);break}}return Rk(s)}function lu(e){var t=e.domain;return e.ticks=function(r){var s=t();return WT(s[0],s[s.length-1],r??10)},e.tickFormat=function(r,s){var a=t();return HQ(a[0],a[a.length-1],r??10,s)},e.nice=function(r){r==null&&(r=10);var s=t(),a=0,i=s.length-1,o=s[a],c=s[i],d,m,f=10;for(c<o&&(m=o,o=c,c=m,m=a,a=i,i=m);f-- >0;){if(m=YT(o,c,r),m===d)return s[a]=o,s[i]=c,t(s);if(m>0)o=Math.floor(o/m)*m,c=Math.ceil(c/m)*m;else if(m<0)o=Math.ceil(o*m)/m,c=Math.floor(c*m)/m;else break;d=m}return e},e}function Eb(){var e=kk();return e.copy=function(){return oy(e,Eb())},yi.apply(e,arguments),lu(e)}function GQ(e){var t;function r(s){return s==null||isNaN(s=+s)?t:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(e=Array.from(s,Cb),r):e.slice()},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return GQ(e).unknown(t)},e=arguments.length?Array.from(e,Cb):[0,1],lu(r)}function WQ(e,t){e=e.slice();var r=0,s=e.length-1,a=e[r],i=e[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),e[r]=t.floor(a),e[s]=t.ceil(i),e}function l8(e){return Math.log(e)}function c8(e){return Math.exp(e)}function ePe(e){return-Math.log(-e)}function tPe(e){return-Math.exp(-e)}function nPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function rPe(e){return e===10?nPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function u8(e){return(t,r)=>-e(-t,r)}function Dk(e){const t=e(l8,c8),r=t.domain;let s=10,a,i;function o(){return a=sPe(s),i=rPe(s),r()[0]<0?(a=u8(a),i=u8(i),e(ePe,tPe)):e(l8,c8),t}return t.base=function(c){return arguments.length?(s=+c,o()):s},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const d=r();let m=d[0],f=d[d.length-1];const h=f<m;h&&([m,f]=[f,m]);let g=a(m),b=a(f),w,y;const j=c==null?10:+c;let N=[];if(!(s%1)&&b-g<j){if(g=Math.floor(g),b=Math.ceil(b),m>0){for(;g<=b;++g)for(w=1;w<s;++w)if(y=g<0?w/i(-g):w*i(g),!(y<m)){if(y>f)break;N.push(y)}}else for(;g<=b;++g)for(w=s-1;w>=1;--w)if(y=g>0?w/i(-g):w*i(g),!(y<m)){if(y>f)break;N.push(y)}N.length*2<j&&(N=WT(m,f,j))}else N=WT(g,b,Math.min(b-g,j)).map(i);return h?N.reverse():N},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=s===10?"s":","),typeof d!="function"&&(!(s%1)&&(d=gx(d)).precision==null&&(d.trim=!0),d=Rk(d)),c===1/0)return d;const m=Math.max(1,s*c/t.ticks().length);return f=>{let h=f/i(Math.round(a(f)));return h*s<s-.5&&(h*=s),h<=m?d(f):""}},t.nice=()=>r(WQ(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function YQ(){const e=Dk(vw()).domain([1,10]);return e.copy=()=>oy(e,YQ()).base(e.base()),yi.apply(e,arguments),e}function d8(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function m8(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ik(e){var t=1,r=e(d8(t),m8(t));return r.constant=function(s){return arguments.length?e(d8(t=+s),m8(t)):t},lu(r)}function QQ(){var e=Ik(vw());return e.copy=function(){return oy(e,QQ()).constant(e.constant())},yi.apply(e,arguments)}function f8(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function aPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iPe(e){return e<0?-e*e:e*e}function Lk(e){var t=e(Gs,Gs),r=1;function s(){return r===1?e(Gs,Gs):r===.5?e(aPe,iPe):e(f8(r),f8(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,s()):r},lu(t)}function $k(){var e=Lk(vw());return e.copy=function(){return oy(e,$k()).exponent(e.exponent())},yi.apply(e,arguments),e}function oPe(){return $k.apply(null,arguments).exponent(.5)}function h8(e){return Math.sign(e)*e*e}function lPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XQ(){var e=kk(),t=[0,1],r=!1,s;function a(i){var o=lPe(e(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return e.invert(h8(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Cb)).map(h8)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return XQ(e.domain(),t).round(r).clamp(e.clamp()).unknown(s)},yi.apply(a,arguments),lu(a)}function ZQ(){var e=[],t=[],r=[],s;function a(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=fTe(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?s:t[ay(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Bc),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return ZQ().domain(e).range(t).unknown(s)},yi.apply(i,arguments)}function JQ(){var e=0,t=1,r=1,s=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[ay(s,d,0,r)]:i}function c(){var d=-1;for(s=new Array(r);++d<r;)s[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},o.invertExtent=function(d){var m=a.indexOf(d);return m<0?[NaN,NaN]:m<1?[e,s[0]]:m>=r?[s[r-1],t]:[s[m-1],s[m]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return s.slice()},o.copy=function(){return JQ().domain([e,t]).range(a).unknown(i)},yi.apply(lu(o),arguments)}function eX(){var e=[.5],t=[0,1],r,s=1;function a(i){return i!=null&&i<=i?t[ay(e,i,0,s)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),s=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return eX().domain(e).range(t).unknown(r)},yi.apply(a,arguments)}const bE=new Date,jE=new Date;function Wr(e,t,r,s){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return d;let m;do d.push(m=new Date(+i)),t(i,c),e(i);while(m<i&&i<o);return d},a.filter=i=>Wr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(bE.setTime(+i),jE.setTime(+o),e(bE),e(jE),Math.floor(r(bE,jE))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const _b=Wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);_b.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):_b);_b.range;const gl=1e3,di=gl*60,xl=di*60,kl=xl*24,zk=kl*7,p8=kl*30,wE=kl*365,ad=Wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gl)},(e,t)=>(t-e)/gl,e=>e.getUTCSeconds());ad.range;const qk=Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl)},(e,t)=>{e.setTime(+e+t*di)},(e,t)=>(t-e)/di,e=>e.getMinutes());qk.range;const Fk=Wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*di)},(e,t)=>(t-e)/di,e=>e.getUTCMinutes());Fk.range;const Bk=Wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gl-e.getMinutes()*di)},(e,t)=>{e.setTime(+e+t*xl)},(e,t)=>(t-e)/xl,e=>e.getHours());Bk.range;const Uk=Wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xl)},(e,t)=>(t-e)/xl,e=>e.getUTCHours());Uk.range;const ly=Wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*di)/kl,e=>e.getDate()-1);ly.range;const bw=Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kl,e=>e.getUTCDate()-1);bw.range;const tX=Wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/kl,e=>Math.floor(e/kl));tX.range;function Yd(e){return Wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*di)/zk)}const jw=Yd(0),Tb=Yd(1),cPe=Yd(2),uPe=Yd(3),Ff=Yd(4),dPe=Yd(5),mPe=Yd(6);jw.range;Tb.range;cPe.range;uPe.range;Ff.range;dPe.range;mPe.range;function Qd(e){return Wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zk)}const ww=Qd(0),Pb=Qd(1),fPe=Qd(2),hPe=Qd(3),Bf=Qd(4),pPe=Qd(5),gPe=Qd(6);ww.range;Pb.range;fPe.range;hPe.range;Bf.range;pPe.range;gPe.range;const Vk=Wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vk.range;const Kk=Wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kk.range;const Ml=Wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ml.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ml.range;const Rl=Wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Rl.range;function nX(e,t,r,s,a,i){const o=[[ad,1,gl],[ad,5,5*gl],[ad,15,15*gl],[ad,30,30*gl],[i,1,di],[i,5,5*di],[i,15,15*di],[i,30,30*di],[a,1,xl],[a,3,3*xl],[a,6,6*xl],[a,12,12*xl],[s,1,kl],[s,2,2*kl],[r,1,zk],[t,1,p8],[t,3,3*p8],[e,1,wE]];function c(m,f,h){const g=f<m;g&&([m,f]=[f,m]);const b=h&&typeof h.range=="function"?h:d(m,f,h),w=b?b.range(m,+f+1):[];return g?w.reverse():w}function d(m,f,h){const g=Math.abs(f-m)/h,b=Ek(([,,j])=>j).right(o,g);if(b===o.length)return e.every(QT(m/wE,f/wE,h));if(b===0)return _b.every(Math.max(QT(m,f,h),1));const[w,y]=o[g/o[b-1][2]<o[b][2]/g?b-1:b];return w.every(y)}return[c,d]}const[xPe,yPe]=nX(Rl,Kk,ww,tX,Uk,Fk),[vPe,bPe]=nX(Ml,Vk,jw,ly,Bk,qk);function NE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function SE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Gp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jPe(e){var t=e.dateTime,r=e.date,s=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,m=Wp(a),f=Yp(a),h=Wp(i),g=Yp(i),b=Wp(o),w=Yp(o),y=Wp(c),j=Yp(c),N=Wp(d),C=Yp(d),E={a:K,A:U,b:B,B:ie,c:null,d:j8,e:j8,f:VPe,g:e4e,G:n4e,H:FPe,I:BPe,j:UPe,L:rX,m:KPe,M:HPe,p:G,q:Y,Q:S8,s:C8,S:GPe,u:WPe,U:YPe,V:QPe,w:XPe,W:ZPe,x:null,X:null,y:JPe,Y:t4e,Z:r4e,"%":N8},T={a:se,A:he,b:Q,B:xe,c:null,d:w8,e:w8,f:o4e,g:x4e,G:v4e,H:s4e,I:a4e,j:i4e,L:aX,m:l4e,M:c4e,p:me,q:Ue,Q:S8,s:C8,S:u4e,u:d4e,U:m4e,V:f4e,w:h4e,W:p4e,x:null,X:null,y:g4e,Y:y4e,Z:b4e,"%":N8},A={a:F,A:D,b:$,B:V,c:z,d:v8,e:v8,f:LPe,g:y8,G:x8,H:b8,I:b8,j:MPe,L:IPe,m:kPe,M:RPe,p:M,q:OPe,Q:zPe,s:qPe,S:DPe,u:APe,U:EPe,V:_Pe,w:CPe,W:TPe,x:q,X:I,y:y8,Y:x8,Z:PPe,"%":$Pe};E.x=k(r,E),E.X=k(s,E),E.c=k(t,E),T.x=k(r,T),T.X=k(s,T),T.c=k(t,T);function k(ge,Ee){return function(Z){var re=[],le=-1,Re=0,Pt=ge.length,Ot,_n,ss;for(Z instanceof Date||(Z=new Date(+Z));++le<Pt;)ge.charCodeAt(le)===37&&(re.push(ge.slice(Re,le)),(_n=g8[Ot=ge.charAt(++le)])!=null?Ot=ge.charAt(++le):_n=Ot==="e"?" ":"0",(ss=Ee[Ot])&&(Ot=ss(Z,_n)),re.push(Ot),Re=le+1);return re.push(ge.slice(Re,le)),re.join("")}}function P(ge,Ee){return function(Z){var re=Gp(1900,void 0,1),le=O(re,ge,Z+="",0),Re,Pt;if(le!=Z.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Ee&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Re=SE(Gp(re.y,0,1)),Pt=Re.getUTCDay(),Re=Pt>4||Pt===0?Pb.ceil(Re):Pb(Re),Re=bw.offset(Re,(re.V-1)*7),re.y=Re.getUTCFullYear(),re.m=Re.getUTCMonth(),re.d=Re.getUTCDate()+(re.w+6)%7):(Re=NE(Gp(re.y,0,1)),Pt=Re.getDay(),Re=Pt>4||Pt===0?Tb.ceil(Re):Tb(Re),Re=ly.offset(Re,(re.V-1)*7),re.y=Re.getFullYear(),re.m=Re.getMonth(),re.d=Re.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Pt="Z"in re?SE(Gp(re.y,0,1)).getUTCDay():NE(Gp(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Pt+5)%7:re.w+re.U*7-(Pt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,SE(re)):NE(re)}}function O(ge,Ee,Z,re){for(var le=0,Re=Ee.length,Pt=Z.length,Ot,_n;le<Re;){if(re>=Pt)return-1;if(Ot=Ee.charCodeAt(le++),Ot===37){if(Ot=Ee.charAt(le++),_n=A[Ot in g8?Ee.charAt(le++):Ot],!_n||(re=_n(ge,Z,re))<0)return-1}else if(Ot!=Z.charCodeAt(re++))return-1}return re}function M(ge,Ee,Z){var re=m.exec(Ee.slice(Z));return re?(ge.p=f.get(re[0].toLowerCase()),Z+re[0].length):-1}function F(ge,Ee,Z){var re=b.exec(Ee.slice(Z));return re?(ge.w=w.get(re[0].toLowerCase()),Z+re[0].length):-1}function D(ge,Ee,Z){var re=h.exec(Ee.slice(Z));return re?(ge.w=g.get(re[0].toLowerCase()),Z+re[0].length):-1}function $(ge,Ee,Z){var re=N.exec(Ee.slice(Z));return re?(ge.m=C.get(re[0].toLowerCase()),Z+re[0].length):-1}function V(ge,Ee,Z){var re=y.exec(Ee.slice(Z));return re?(ge.m=j.get(re[0].toLowerCase()),Z+re[0].length):-1}function z(ge,Ee,Z){return O(ge,t,Ee,Z)}function q(ge,Ee,Z){return O(ge,r,Ee,Z)}function I(ge,Ee,Z){return O(ge,s,Ee,Z)}function K(ge){return o[ge.getDay()]}function U(ge){return i[ge.getDay()]}function B(ge){return d[ge.getMonth()]}function ie(ge){return c[ge.getMonth()]}function G(ge){return a[+(ge.getHours()>=12)]}function Y(ge){return 1+~~(ge.getMonth()/3)}function se(ge){return o[ge.getUTCDay()]}function he(ge){return i[ge.getUTCDay()]}function Q(ge){return d[ge.getUTCMonth()]}function xe(ge){return c[ge.getUTCMonth()]}function me(ge){return a[+(ge.getUTCHours()>=12)]}function Ue(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ee=k(ge+="",E);return Ee.toString=function(){return ge},Ee},parse:function(ge){var Ee=P(ge+="",!1);return Ee.toString=function(){return ge},Ee},utcFormat:function(ge){var Ee=k(ge+="",T);return Ee.toString=function(){return ge},Ee},utcParse:function(ge){var Ee=P(ge+="",!0);return Ee.toString=function(){return ge},Ee}}}var g8={"-":"",_:" ",0:"0"},rs=/^\s*\d+/,wPe=/^%/,NPe=/[\\^$*+?|[\]().{}]/g;function hn(e,t,r){var s=e<0?"-":"",a=(s?-e:e)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(t)+a:a)}function SPe(e){return e.replace(NPe,"\\$&")}function Wp(e){return new RegExp("^(?:"+e.map(SPe).join("|")+")","i")}function Yp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function CPe(e,t,r){var s=rs.exec(t.slice(r,r+1));return s?(e.w=+s[0],r+s[0].length):-1}function APe(e,t,r){var s=rs.exec(t.slice(r,r+1));return s?(e.u=+s[0],r+s[0].length):-1}function EPe(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.U=+s[0],r+s[0].length):-1}function _Pe(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.V=+s[0],r+s[0].length):-1}function TPe(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.W=+s[0],r+s[0].length):-1}function x8(e,t,r){var s=rs.exec(t.slice(r,r+4));return s?(e.y=+s[0],r+s[0].length):-1}function y8(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function PPe(e,t,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function OPe(e,t,r){var s=rs.exec(t.slice(r,r+1));return s?(e.q=s[0]*3-3,r+s[0].length):-1}function kPe(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.m=s[0]-1,r+s[0].length):-1}function v8(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.d=+s[0],r+s[0].length):-1}function MPe(e,t,r){var s=rs.exec(t.slice(r,r+3));return s?(e.m=0,e.d=+s[0],r+s[0].length):-1}function b8(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.H=+s[0],r+s[0].length):-1}function RPe(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.M=+s[0],r+s[0].length):-1}function DPe(e,t,r){var s=rs.exec(t.slice(r,r+2));return s?(e.S=+s[0],r+s[0].length):-1}function IPe(e,t,r){var s=rs.exec(t.slice(r,r+3));return s?(e.L=+s[0],r+s[0].length):-1}function LPe(e,t,r){var s=rs.exec(t.slice(r,r+6));return s?(e.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function $Pe(e,t,r){var s=wPe.exec(t.slice(r,r+1));return s?r+s[0].length:-1}function zPe(e,t,r){var s=rs.exec(t.slice(r));return s?(e.Q=+s[0],r+s[0].length):-1}function qPe(e,t,r){var s=rs.exec(t.slice(r));return s?(e.s=+s[0],r+s[0].length):-1}function j8(e,t){return hn(e.getDate(),t,2)}function FPe(e,t){return hn(e.getHours(),t,2)}function BPe(e,t){return hn(e.getHours()%12||12,t,2)}function UPe(e,t){return hn(1+ly.count(Ml(e),e),t,3)}function rX(e,t){return hn(e.getMilliseconds(),t,3)}function VPe(e,t){return rX(e,t)+"000"}function KPe(e,t){return hn(e.getMonth()+1,t,2)}function HPe(e,t){return hn(e.getMinutes(),t,2)}function GPe(e,t){return hn(e.getSeconds(),t,2)}function WPe(e){var t=e.getDay();return t===0?7:t}function YPe(e,t){return hn(jw.count(Ml(e)-1,e),t,2)}function sX(e){var t=e.getDay();return t>=4||t===0?Ff(e):Ff.ceil(e)}function QPe(e,t){return e=sX(e),hn(Ff.count(Ml(e),e)+(Ml(e).getDay()===4),t,2)}function XPe(e){return e.getDay()}function ZPe(e,t){return hn(Tb.count(Ml(e)-1,e),t,2)}function JPe(e,t){return hn(e.getFullYear()%100,t,2)}function e4e(e,t){return e=sX(e),hn(e.getFullYear()%100,t,2)}function t4e(e,t){return hn(e.getFullYear()%1e4,t,4)}function n4e(e,t){var r=e.getDay();return e=r>=4||r===0?Ff(e):Ff.ceil(e),hn(e.getFullYear()%1e4,t,4)}function r4e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hn(t/60|0,"0",2)+hn(t%60,"0",2)}function w8(e,t){return hn(e.getUTCDate(),t,2)}function s4e(e,t){return hn(e.getUTCHours(),t,2)}function a4e(e,t){return hn(e.getUTCHours()%12||12,t,2)}function i4e(e,t){return hn(1+bw.count(Rl(e),e),t,3)}function aX(e,t){return hn(e.getUTCMilliseconds(),t,3)}function o4e(e,t){return aX(e,t)+"000"}function l4e(e,t){return hn(e.getUTCMonth()+1,t,2)}function c4e(e,t){return hn(e.getUTCMinutes(),t,2)}function u4e(e,t){return hn(e.getUTCSeconds(),t,2)}function d4e(e){var t=e.getUTCDay();return t===0?7:t}function m4e(e,t){return hn(ww.count(Rl(e)-1,e),t,2)}function iX(e){var t=e.getUTCDay();return t>=4||t===0?Bf(e):Bf.ceil(e)}function f4e(e,t){return e=iX(e),hn(Bf.count(Rl(e),e)+(Rl(e).getUTCDay()===4),t,2)}function h4e(e){return e.getUTCDay()}function p4e(e,t){return hn(Pb.count(Rl(e)-1,e),t,2)}function g4e(e,t){return hn(e.getUTCFullYear()%100,t,2)}function x4e(e,t){return e=iX(e),hn(e.getUTCFullYear()%100,t,2)}function y4e(e,t){return hn(e.getUTCFullYear()%1e4,t,4)}function v4e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bf(e):Bf.ceil(e),hn(e.getUTCFullYear()%1e4,t,4)}function b4e(){return"+0000"}function N8(){return"%"}function S8(e){return+e}function C8(e){return Math.floor(+e/1e3)}var Gm,oX,lX;j4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function j4e(e){return Gm=jPe(e),oX=Gm.format,Gm.parse,lX=Gm.utcFormat,Gm.utcParse,Gm}function w4e(e){return new Date(e)}function N4e(e){return e instanceof Date?+e:+new Date(+e)}function Hk(e,t,r,s,a,i,o,c,d,m){var f=kk(),h=f.invert,g=f.domain,b=m(".%L"),w=m(":%S"),y=m("%I:%M"),j=m("%I %p"),N=m("%a %d"),C=m("%b %d"),E=m("%B"),T=m("%Y");function A(k){return(d(k)<k?b:c(k)<k?w:o(k)<k?y:i(k)<k?j:s(k)<k?a(k)<k?N:C:r(k)<k?E:T)(k)}return f.invert=function(k){return new Date(h(k))},f.domain=function(k){return arguments.length?g(Array.from(k,N4e)):g().map(w4e)},f.ticks=function(k){var P=g();return e(P[0],P[P.length-1],k??10)},f.tickFormat=function(k,P){return P==null?A:m(P)},f.nice=function(k){var P=g();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?g(WQ(P,k)):f},f.copy=function(){return oy(f,Hk(e,t,r,s,a,i,o,c,d,m))},f}function S4e(){return yi.apply(Hk(vPe,bPe,Ml,Vk,jw,ly,Bk,qk,ad,oX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function C4e(){return yi.apply(Hk(xPe,yPe,Rl,Kk,ww,bw,Uk,Fk,ad,lX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nw(){var e=0,t=1,r,s,a,i,o=Gs,c=!1,d;function m(h){return h==null||isNaN(h=+h)?d:o(a===0?.5:(h=(i(h)-r)*a,c?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),s=i(t=+t),a=r===s?0:1/(s-r),m):[e,t]},m.clamp=function(h){return arguments.length?(c=!!h,m):c},m.interpolator=function(h){return arguments.length?(o=h,m):o};function f(h){return function(g){var b,w;return arguments.length?([b,w]=g,o=h(b,w),m):[o(0),o(1)]}}return m.range=f(Ah),m.rangeRound=f(Ok),m.unknown=function(h){return arguments.length?(d=h,m):d},function(h){return i=h,r=h(e),s=h(t),a=r===s?0:1/(s-r),m}}function cu(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cX(){var e=lu(Nw()(Gs));return e.copy=function(){return cu(e,cX())},Ul.apply(e,arguments)}function uX(){var e=Dk(Nw()).domain([1,10]);return e.copy=function(){return cu(e,uX()).base(e.base())},Ul.apply(e,arguments)}function dX(){var e=Ik(Nw());return e.copy=function(){return cu(e,dX()).constant(e.constant())},Ul.apply(e,arguments)}function Gk(){var e=Lk(Nw());return e.copy=function(){return cu(e,Gk()).exponent(e.exponent())},Ul.apply(e,arguments)}function A4e(){return Gk.apply(null,arguments).exponent(.5)}function mX(){var e=[],t=Gs;function r(s){if(s!=null&&!isNaN(s=+s))return t((ay(e,s,1)-1)/(e.length-1))}return r.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Bc),r},r.interpolator=function(s){return arguments.length?(t=s,r):t},r.range=function(){return e.map((s,a)=>t(a/(e.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>mTe(e,i/s))},r.copy=function(){return mX(t).domain(e)},Ul.apply(r,arguments)}function Sw(){var e=0,t=.5,r=1,s=1,a,i,o,c,d,m=Gs,f,h=!1,g;function b(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-i)*(s*y<s*i?c:d),m(h?Math.max(0,Math.min(1,y)):y))}b.domain=function(y){return arguments.length?([e,t,r]=y,a=f(e=+e),i=f(t=+t),o=f(r=+r),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,b):[e,t,r]},b.clamp=function(y){return arguments.length?(h=!!y,b):h},b.interpolator=function(y){return arguments.length?(m=y,b):m};function w(y){return function(j){var N,C,E;return arguments.length?([N,C,E]=j,m=$Te(y,[N,C,E]),b):[m(0),m(.5),m(1)]}}return b.range=w(Ah),b.rangeRound=w(Ok),b.unknown=function(y){return arguments.length?(g=y,b):g},function(y){return f=y,a=y(e),i=y(t),o=y(r),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),s=i<a?-1:1,b}}function fX(){var e=lu(Sw()(Gs));return e.copy=function(){return cu(e,fX())},Ul.apply(e,arguments)}function hX(){var e=Dk(Sw()).domain([.1,1,10]);return e.copy=function(){return cu(e,hX()).base(e.base())},Ul.apply(e,arguments)}function pX(){var e=Ik(Sw());return e.copy=function(){return cu(e,pX()).constant(e.constant())},Ul.apply(e,arguments)}function Wk(){var e=Lk(Sw());return e.copy=function(){return cu(e,Wk()).exponent(e.exponent())},Ul.apply(e,arguments)}function E4e(){return Wk.apply(null,arguments).exponent(.5)}const A8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mx,scaleDiverging:fX,scaleDivergingLog:hX,scaleDivergingPow:Wk,scaleDivergingSqrt:E4e,scaleDivergingSymlog:pX,scaleIdentity:GQ,scaleImplicit:XT,scaleLinear:Eb,scaleLog:YQ,scaleOrdinal:_k,scalePoint:bg,scalePow:$k,scaleQuantile:ZQ,scaleQuantize:JQ,scaleRadial:XQ,scaleSequential:cX,scaleSequentialLog:uX,scaleSequentialPow:Gk,scaleSequentialQuantile:mX,scaleSequentialSqrt:A4e,scaleSequentialSymlog:dX,scaleSqrt:oPe,scaleSymlog:QQ,scaleThreshold:eX,scaleTime:S4e,scaleUtc:C4e,tickFormat:HQ},Symbol.toStringTag,{value:"Module"}));var CE,E8;function Cw(){if(E8)return CE;E8=1;var e=wh();function t(r,s,a){for(var i=-1,o=r.length;++i<o;){var c=r[i],d=s(c);if(d!=null&&(m===void 0?d===d&&!e(d):a(d,m)))var m=d,f=c}return f}return CE=t,CE}var AE,_8;function gX(){if(_8)return AE;_8=1;function e(t,r){return t>r}return AE=e,AE}var EE,T8;function _4e(){if(T8)return EE;T8=1;var e=Cw(),t=gX(),r=Ch();function s(a){return a&&a.length?e(a,r,t):void 0}return EE=s,EE}var T4e=_4e();const Lc=yn(T4e);var _E,P8;function xX(){if(P8)return _E;P8=1;function e(t,r){return t<r}return _E=e,_E}var TE,O8;function P4e(){if(O8)return TE;O8=1;var e=Cw(),t=xX(),r=Ch();function s(a){return a&&a.length?e(a,r,t):void 0}return TE=s,TE}var O4e=P4e();const Aw=yn(O4e);var PE,k8;function k4e(){if(k8)return PE;k8=1;var e=uk(),t=$o(),r=CQ(),s=pa();function a(i,o){var c=s(i)?e:r;return c(i,t(o,3))}return PE=a,PE}var OE,M8;function M4e(){if(M8)return OE;M8=1;var e=NQ(),t=k4e();function r(s,a){return e(t(s,a),1)}return OE=r,OE}var R4e=M4e();const D4e=yn(R4e);var kE,R8;function I4e(){if(R8)return kE;R8=1;var e=Nk();function t(r,s){return e(r,s)}return kE=t,kE}var L4e=I4e();const Md=yn(L4e);var Eh=1e9,$4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Qk,Zn=!0,xi="[DecimalError] ",pd=xi+"Invalid argument: ",Yk=xi+"Exponent out of range: ",_h=Math.floor,Zu=Math.pow,z4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ma,Zr=1e7,Kn=7,yX=9007199254740991,Ob=_h(yX/Kn),Qe={};Qe.absoluteValue=Qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Qe.comparedTo=Qe.cmp=function(e){var t,r,s,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,a=e.d.length,t=0,r=s<a?s:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};Qe.decimalPlaces=Qe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Qe.dividedBy=Qe.div=function(e){return bl(this,new this.constructor(e))};Qe.dividedToIntegerBy=Qe.idiv=function(e){var t=this,r=t.constructor;return In(bl(t,new r(e),0,1),r.precision)};Qe.equals=Qe.eq=function(e){return!this.cmp(e)};Qe.exponent=function(){return Rr(this)};Qe.greaterThan=Qe.gt=function(e){return this.cmp(e)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(e){return this.cmp(e)>=0};Qe.isInteger=Qe.isint=function(){return this.e>this.d.length-2};Qe.isNegative=Qe.isneg=function(){return this.s<0};Qe.isPositive=Qe.ispos=function(){return this.s>0};Qe.isZero=function(){return this.s===0};Qe.lessThan=Qe.lt=function(e){return this.cmp(e)<0};Qe.lessThanOrEqualTo=Qe.lte=function(e){return this.cmp(e)<1};Qe.logarithm=Qe.log=function(e){var t,r=this,s=r.constructor,a=s.precision,i=a+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(Ma))throw Error(xi+"NaN");if(r.s<1)throw Error(xi+(r.s?"NaN":"-Infinity"));return r.eq(Ma)?new s(0):(Zn=!1,t=bl(xx(r,i),xx(e,i),i),Zn=!0,In(t,a))};Qe.minus=Qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jX(t,e):vX(t,(e.s=-e.s,e))};Qe.modulo=Qe.mod=function(e){var t,r=this,s=r.constructor,a=s.precision;if(e=new s(e),!e.s)throw Error(xi+"NaN");return r.s?(Zn=!1,t=bl(r,e,0,1).times(e),Zn=!0,r.minus(t)):In(new s(r),a)};Qe.naturalExponential=Qe.exp=function(){return bX(this)};Qe.naturalLogarithm=Qe.ln=function(){return xx(this)};Qe.negated=Qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Qe.plus=Qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vX(t,e):jX(t,(e.s=-e.s,e))};Qe.precision=Qe.sd=function(e){var t,r,s,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(pd+e);if(t=Rr(a)+1,s=a.d.length-1,r=s*Kn+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return e&&t>r?t:r};Qe.squareRoot=Qe.sqrt=function(){var e,t,r,s,a,i,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(xi+"NaN")}for(e=Rr(c),Zn=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=vo(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=_h((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),s=new d(t)):s=new d(a.toString()),r=d.precision,a=o=r+3;;)if(i=s,s=i.plus(bl(c,i,o+2)).times(.5),vo(i.d).slice(0,o)===(t=vo(s.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(In(i,r+1,0),i.times(i).eq(c)){s=i;break}}else if(t!="9999")break;o+=4}return Zn=!0,In(s,r)};Qe.times=Qe.mul=function(e){var t,r,s,a,i,o,c,d,m,f=this,h=f.constructor,g=f.d,b=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,d=g.length,m=b.length,d<m&&(i=g,g=b,b=i,o=d,d=m,m=o),i=[],o=d+m,s=o;s--;)i.push(0);for(s=m;--s>=0;){for(t=0,a=d+s;a>s;)c=i[a]+b[s]*g[a-s-1]+t,i[a--]=c%Zr|0,t=c/Zr|0;i[a]=(i[a]+t)%Zr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Zn?In(e,h.precision):e};Qe.toDecimalPlaces=Qe.todp=function(e,t){var r=this,s=r.constructor;return r=new s(r),e===void 0?r:(Mo(e,0,Eh),t===void 0?t=s.rounding:Mo(t,0,8),In(r,e+Rr(r)+1,t))};Qe.toExponential=function(e,t){var r,s=this,a=s.constructor;return e===void 0?r=Rd(s,!0):(Mo(e,0,Eh),t===void 0?t=a.rounding:Mo(t,0,8),s=In(new a(s),e+1,t),r=Rd(s,!0,e+1)),r};Qe.toFixed=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?Rd(a):(Mo(e,0,Eh),t===void 0?t=i.rounding:Mo(t,0,8),s=In(new i(a),e+Rr(a)+1,t),r=Rd(s.abs(),!1,e+Rr(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Qe.toInteger=Qe.toint=function(){var e=this,t=e.constructor;return In(new t(e),Rr(e)+1,t.rounding)};Qe.toNumber=function(){return+this};Qe.toPower=Qe.pow=function(e){var t,r,s,a,i,o,c=this,d=c.constructor,m=12,f=+(e=new d(e));if(!e.s)return new d(Ma);if(c=new d(c),!c.s){if(e.s<1)throw Error(xi+"Infinity");return c}if(c.eq(Ma))return c;if(s=d.precision,e.eq(Ma))return In(c,s);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=f<0?-f:f)<=yX){for(a=new d(Ma),t=Math.ceil(s/Kn+4),Zn=!1;r%2&&(a=a.times(c),I8(a.d,t)),r=_h(r/2),r!==0;)c=c.times(c),I8(c.d,t);return Zn=!0,e.s<0?new d(Ma).div(a):In(a,s)}}else if(i<0)throw Error(xi+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Zn=!1,a=e.times(xx(c,s+m)),Zn=!0,a=bX(a),a.s=i,a};Qe.toPrecision=function(e,t){var r,s,a=this,i=a.constructor;return e===void 0?(r=Rr(a),s=Rd(a,r<=i.toExpNeg||r>=i.toExpPos)):(Mo(e,1,Eh),t===void 0?t=i.rounding:Mo(t,0,8),a=In(new i(a),e,t),r=Rr(a),s=Rd(a,e<=r||r<=i.toExpNeg,e)),s};Qe.toSignificantDigits=Qe.tosd=function(e,t){var r=this,s=r.constructor;return e===void 0?(e=s.precision,t=s.rounding):(Mo(e,1,Eh),t===void 0?t=s.rounding:Mo(t,0,8)),In(new s(r),e,t)};Qe.toString=Qe.valueOf=Qe.val=Qe.toJSON=Qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rr(e),r=e.constructor;return Rd(e,t<=r.toExpNeg||t>=r.toExpPos)};function vX(e,t){var r,s,a,i,o,c,d,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Zn?In(t,h):t;if(d=e.d,m=t.d,o=e.e,a=t.e,d=d.slice(),i=o-a,i){for(i<0?(s=d,i=-i,c=m.length):(s=m,a=o,c=d.length),o=Math.ceil(h/Kn),c=o>c?o+1:c+1,i>c&&(i=c,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(c=d.length,i=m.length,c-i<0&&(i=c,s=m,m=d,d=s),r=0;i;)r=(d[--i]=d[i]+m[i]+r)/Zr|0,d[i]%=Zr;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Zn?In(t,h):t}function Mo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(pd+e)}function vo(e){var t,r,s,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)s=e[t]+"",r=Kn-s.length,r&&(i+=Dc(r)),i+=s;o=e[t],s=o+"",r=Kn-s.length,r&&(i+=Dc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var bl=(function(){function e(s,a){var i,o=0,c=s.length;for(s=s.slice();c--;)i=s[c]*a+o,s[c]=i%Zr|0,o=i/Zr|0;return o&&s.unshift(o),s}function t(s,a,i,o){var c,d;if(i!=o)d=i>o?1:-1;else for(c=d=0;c<i;c++)if(s[c]!=a[c]){d=s[c]>a[c]?1:-1;break}return d}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Zr+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var c,d,m,f,h,g,b,w,y,j,N,C,E,T,A,k,P,O,M=s.constructor,F=s.s==a.s?1:-1,D=s.d,$=a.d;if(!s.s)return new M(s);if(!a.s)throw Error(xi+"Division by zero");for(d=s.e-a.e,P=$.length,A=D.length,b=new M(F),w=b.d=[],m=0;$[m]==(D[m]||0);)++m;if($[m]>(D[m]||0)&&--d,i==null?C=i=M.precision:o?C=i+(Rr(s)-Rr(a))+1:C=i,C<0)return new M(0);if(C=C/Kn+2|0,m=0,P==1)for(f=0,$=$[0],C++;(m<A||f)&&C--;m++)E=f*Zr+(D[m]||0),w[m]=E/$|0,f=E%$|0;else{for(f=Zr/($[0]+1)|0,f>1&&($=e($,f),D=e(D,f),P=$.length,A=D.length),T=P,y=D.slice(0,P),j=y.length;j<P;)y[j++]=0;O=$.slice(),O.unshift(0),k=$[0],$[1]>=Zr/2&&++k;do f=0,c=t($,y,P,j),c<0?(N=y[0],P!=j&&(N=N*Zr+(y[1]||0)),f=N/k|0,f>1?(f>=Zr&&(f=Zr-1),h=e($,f),g=h.length,j=y.length,c=t(h,y,g,j),c==1&&(f--,r(h,P<g?O:$,g))):(f==0&&(c=f=1),h=$.slice()),g=h.length,g<j&&h.unshift(0),r(y,h,j),c==-1&&(j=y.length,c=t($,y,P,j),c<1&&(f++,r(y,P<j?O:$,j))),j=y.length):c===0&&(f++,y=[0]),w[m++]=f,c&&y[0]?y[j++]=D[T]||0:(y=[D[T]],j=1);while((T++<A||y[0]!==void 0)&&C--)}return w[0]||w.shift(),b.e=d,In(b,o?i+Rr(b)+1:i)}})();function bX(e,t){var r,s,a,i,o,c,d=0,m=0,f=e.constructor,h=f.precision;if(Rr(e)>16)throw Error(Yk+Rr(e));if(!e.s)return new f(Ma);for(Zn=!1,c=h,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),m+=5;for(s=Math.log(Zu(2,m))/Math.LN10*2+5|0,c+=s,r=a=i=new f(Ma),f.precision=c;;){if(a=In(a.times(e),c),r=r.times(++d),o=i.plus(bl(a,r,c)),vo(o.d).slice(0,c)===vo(i.d).slice(0,c)){for(;m--;)i=In(i.times(i),c);return f.precision=h,t==null?(Zn=!0,In(i,h)):i}i=o}}function Rr(e){for(var t=e.e*Kn,r=e.d[0];r>=10;r/=10)t++;return t}function ME(e,t,r){if(t>e.LN10.sd())throw Zn=!0,r&&(e.precision=r),Error(xi+"LN10 precision limit exceeded");return In(new e(e.LN10),t)}function Dc(e){for(var t="";e--;)t+="0";return t}function xx(e,t){var r,s,a,i,o,c,d,m,f,h=1,g=10,b=e,w=b.d,y=b.constructor,j=y.precision;if(b.s<1)throw Error(xi+(b.s?"NaN":"-Infinity"));if(b.eq(Ma))return new y(0);if(t==null?(Zn=!1,m=j):m=t,b.eq(10))return t==null&&(Zn=!0),ME(y,m);if(m+=g,y.precision=m,r=vo(w),s=r.charAt(0),i=Rr(b),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)b=b.times(e),r=vo(b.d),s=r.charAt(0),h++;i=Rr(b),s>1?(b=new y("0."+r),i++):b=new y(s+"."+r.slice(1))}else return d=ME(y,m+2,j).times(i+""),b=xx(new y(s+"."+r.slice(1)),m-g).plus(d),y.precision=j,t==null?(Zn=!0,In(b,j)):b;for(c=o=b=bl(b.minus(Ma),b.plus(Ma),m),f=In(b.times(b),m),a=3;;){if(o=In(o.times(f),m),d=c.plus(bl(o,new y(a),m)),vo(d.d).slice(0,m)===vo(c.d).slice(0,m))return c=c.times(2),i!==0&&(c=c.plus(ME(y,m+2,j).times(i+""))),c=bl(c,new y(h),m),y.precision=j,t==null?(Zn=!0,In(c,j)):c;c=d,a+=2}}function D8(e,t){var r,s,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charCodeAt(s)===48;)++s;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(s,a),t){if(a-=s,r=r-s-1,e.e=_h(r/Kn),e.d=[],s=(r+1)%Kn,r<0&&(s+=Kn),s<a){for(s&&e.d.push(+t.slice(0,s)),a-=Kn;s<a;)e.d.push(+t.slice(s,s+=Kn));t=t.slice(s),s=Kn-t.length}else s-=a;for(;s--;)t+="0";if(e.d.push(+t),Zn&&(e.e>Ob||e.e<-Ob))throw Error(Yk+r)}else e.s=0,e.e=0,e.d=[0];return e}function In(e,t,r){var s,a,i,o,c,d,m,f,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=t-o,s<0)s+=Kn,a=t,m=h[f=0];else{if(f=Math.ceil((s+1)/Kn),i=h.length,f>=i)return e;for(m=i=h[f],o=1;i>=10;i/=10)o++;s%=Kn,a=s-Kn+o}if(r!==void 0&&(i=Zu(10,o-a-1),c=m/i%10|0,d=t<0||h[f+1]!==void 0||m%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(s>0?a>0?m/Zu(10,o-a):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(i=Rr(e),h.length=1,t=t-i-1,h[0]=Zu(10,(Kn-t%Kn)%Kn),e.e=_h(-t/Kn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(s==0?(h.length=f,i=1,f--):(h.length=f+1,i=Zu(10,Kn-s),h[f]=a>0?(m/Zu(10,o-a)%Zu(10,a)|0)*i:0),d)for(;;)if(f==0){(h[0]+=i)==Zr&&(h[0]=1,++e.e);break}else{if(h[f]+=i,h[f]!=Zr)break;h[f--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(Zn&&(e.e>Ob||e.e<-Ob))throw Error(Yk+Rr(e));return e}function jX(e,t){var r,s,a,i,o,c,d,m,f,h,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Zn?In(t,b):t;if(d=e.d,h=t.d,s=t.e,m=e.e,d=d.slice(),o=m-s,o){for(f=o<0,f?(r=d,o=-o,c=h.length):(r=h,s=m,c=d.length),a=Math.max(Math.ceil(b/Kn),c)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=h.length,f=a<c,f&&(c=a),a=0;a<c;a++)if(d[a]!=h[a]){f=d[a]<h[a];break}o=0}for(f&&(r=d,d=h,h=r,t.s=-t.s),c=d.length,a=h.length-c;a>0;--a)d[c++]=0;for(a=h.length;a>o;){if(d[--a]<h[a]){for(i=a;i&&d[--i]===0;)d[i]=Zr-1;--d[i],d[a]+=Zr}d[a]-=h[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--s;return d[0]?(t.d=d,t.e=s,Zn?In(t,b):t):new g(0)}function Rd(e,t,r){var s,a=Rr(e),i=vo(e.d),o=i.length;return t?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Dc(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Dc(-a-1)+i,r&&(s=r-o)>0&&(i+=Dc(s))):a>=o?(i+=Dc(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Dc(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Dc(s))),e.s<0?"-"+i:i}function I8(e,t){if(e.length>t)return e.length=t,!0}function wX(e){var t,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(pd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return D8(o,i.toString())}else if(typeof i!="string")throw Error(pd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,z4e.test(i))D8(o,i);else throw Error(pd+i)}if(a.prototype=Qe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=wX,a.config=a.set=q4e,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<s.length;)e.hasOwnProperty(r=s[t++])||(e[r]=this[r]);return a.config(e),a}function q4e(e){if(!e||typeof e!="object")throw Error(xi+"Object expected");var t,r,s,a=["precision",1,Eh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((s=e[r=a[t]])!==void 0)if(_h(s)===s&&s>=a[t+1]&&s<=a[t+2])this[r]=s;else throw Error(pd+r+": "+s);if((s=e[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(pd+r+": "+s);return this}var Qk=wX($4e);Ma=new Qk(1);const Mn=Qk;function F4e(e){return K4e(e)||V4e(e)||U4e(e)||B4e()}function B4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U4e(e,t){if(e){if(typeof e=="string")return tP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tP(e,t)}}function V4e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function K4e(e){if(Array.isArray(e))return tP(e)}function tP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var H4e=function(t){return t},NX={},SX=function(t){return t===NX},L8=function(t){return function r(){return arguments.length===0||arguments.length===1&&SX(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},G4e=function e(t,r){return t===1?r:L8(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(c){return c!==NX}).length;return o>=t?r.apply(void 0,a):e(t-o,L8(function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];var f=a.map(function(h){return SX(h)?d.shift():h});return r.apply(void 0,F4e(f).concat(d))}))})},Ew=function(t){return G4e(t.length,t)},nP=function(t,r){for(var s=[],a=t;a<r;++a)s[a-t]=a;return s},W4e=Ew(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Y4e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];if(!r.length)return H4e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(c,d){return d(c)},i.apply(void 0,arguments))}},rP=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},CX=function(t){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(c,d){return c===r[d]})||(r=i,s=t.apply(void 0,i)),s}};function Q4e(e){var t;return e===0?t=1:t=Math.floor(new Mn(e).abs().log(10).toNumber())+1,t}function X4e(e,t,r){for(var s=new Mn(e),a=0,i=[];s.lt(t)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var Z4e=Ew(function(e,t,r){var s=+e,a=+t;return s+r*(a-s)}),J4e=Ew(function(e,t,r){var s=t-+e;return s=s||1/0,(r-e)/s}),eOe=Ew(function(e,t,r){var s=t-+e;return s=s||1/0,Math.max(0,Math.min(1,(r-e)/s))});const _w={rangeStep:X4e,getDigitCount:Q4e,interpolateNumber:Z4e,uninterpolateNumber:J4e,uninterpolateTruncation:eOe};function sP(e){return rOe(e)||nOe(e)||AX(e)||tOe()}function tOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nOe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rOe(e){if(Array.isArray(e))return aP(e)}function yx(e,t){return iOe(e)||aOe(e,t)||AX(e,t)||sOe()}function sOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AX(e,t){if(e){if(typeof e=="string")return aP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aP(e,t)}}function aP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function aOe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),c;!(s=(c=o.next()).done)&&(r.push(c.value),!(t&&r.length===t));s=!0);}catch(d){a=!0,i=d}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function iOe(e){if(Array.isArray(e))return e}function EX(e){var t=yx(e,2),r=t[0],s=t[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function _X(e,t,r){if(e.lte(0))return new Mn(0);var s=_w.getDigitCount(e.toNumber()),a=new Mn(10).pow(s),i=e.div(a),o=s!==1?.05:.1,c=new Mn(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=c.mul(a);return t?d:new Mn(Math.ceil(d))}function oOe(e,t,r){var s=1,a=new Mn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(s=new Mn(10).pow(_w.getDigitCount(e)-1),a=new Mn(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Mn(Math.floor(e)))}else e===0?a=new Mn(Math.floor((t-1)/2)):r||(a=new Mn(Math.floor(e)));var o=Math.floor((t-1)/2),c=Y4e(W4e(function(d){return a.add(new Mn(d-o).mul(s)).toNumber()}),nP);return c(0,t)}function TX(e,t,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Mn(0),tickMin:new Mn(0),tickMax:new Mn(0)};var i=_X(new Mn(t).sub(e).div(r-1),s,a),o;e<=0&&t>=0?o=new Mn(0):(o=new Mn(e).add(t).div(2),o=o.sub(new Mn(o).mod(i)));var c=Math.ceil(o.sub(e).div(i).toNumber()),d=Math.ceil(new Mn(t).sub(o).div(i).toNumber()),m=c+d+1;return m>r?TX(e,t,r,s,a+1):(m<r&&(d=t>0?d+(r-m):d,c=t>0?c:c+(r-m)),{step:i,tickMin:o.sub(new Mn(c).mul(i)),tickMax:o.add(new Mn(d).mul(i))})}function lOe(e){var t=yx(e,2),r=t[0],s=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),c=EX([r,s]),d=yx(c,2),m=d[0],f=d[1];if(m===-1/0||f===1/0){var h=f===1/0?[m].concat(sP(nP(0,a-1).map(function(){return 1/0}))):[].concat(sP(nP(0,a-1).map(function(){return-1/0})),[f]);return r>s?rP(h):h}if(m===f)return oOe(m,a,i);var g=TX(m,f,o,i),b=g.step,w=g.tickMin,y=g.tickMax,j=_w.rangeStep(w,y.add(new Mn(.1).mul(b)),b);return r>s?rP(j):j}function cOe(e,t){var r=yx(e,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EX([s,a]),c=yx(o,2),d=c[0],m=c[1];if(d===-1/0||m===1/0)return[s,a];if(d===m)return[d];var f=Math.max(t,2),h=_X(new Mn(m).sub(d).div(f-1),i,0),g=[].concat(sP(_w.rangeStep(new Mn(d),new Mn(m).sub(new Mn(.99).mul(h)),h)),[m]);return s>a?rP(g):g}var uOe=CX(lOe),dOe=CX(cOe),mOe="Invariant failed";function Dd(e,t){throw new Error(mOe)}var fOe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kb.apply(this,arguments)}function hOe(e,t){return yOe(e)||xOe(e,t)||gOe(e,t)||pOe()}function pOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gOe(e,t){if(e){if(typeof e=="string")return $8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $8(e,t)}}function $8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function xOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function yOe(e){if(Array.isArray(e))return e}function vOe(e,t){if(e==null)return{};var r=bOe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function bOe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function jOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wOe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,kX(s.key),s)}}function NOe(e,t,r){return t&&wOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SOe(e,t,r){return t=Mb(t),COe(e,PX()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function COe(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AOe(e)}function AOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PX=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function EOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iP(e,t)}function iP(e,t){return iP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},iP(e,t)}function OX(e,t,r){return t=kX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=_Oe(e,"string");return Uf(t)=="symbol"?t:t+""}function _Oe(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Uf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cy=(function(e){function t(){return jOe(this,t),SOe(this,t,arguments)}return EOe(t,e),NOe(t,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,c=s.dataKey,d=s.data,m=s.dataPointFormatter,f=s.xAxis,h=s.yAxis,g=vOe(s,fOe),b=nt(g,!1);this.props.direction==="x"&&f.type!=="number"&&Dd();var w=d.map(function(y){var j=m(y,c),N=j.x,C=j.y,E=j.value,T=j.errorVal;if(!T)return null;var A=[],k,P;if(Array.isArray(T)){var O=hOe(T,2);k=O[0],P=O[1]}else k=P=T;if(i==="vertical"){var M=f.scale,F=C+a,D=F+o,$=F-o,V=M(E-k),z=M(E+P);A.push({x1:z,y1:D,x2:z,y2:$}),A.push({x1:V,y1:F,x2:z,y2:F}),A.push({x1:V,y1:D,x2:V,y2:$})}else if(i==="horizontal"){var q=h.scale,I=N+a,K=I-o,U=I+o,B=q(E-k),ie=q(E+P);A.push({x1:K,y1:ie,x2:U,y2:ie}),A.push({x1:I,y1:B,x2:I,y2:ie}),A.push({x1:K,y1:B,x2:U,y2:B})}return J.createElement(Ht,kb({className:"recharts-errorBar",key:"bar-".concat(A.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},b),A.map(function(G){return J.createElement("line",kb({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return J.createElement(Ht,{className:"recharts-errorBars"},w)}}])})(J.Component);OX(cy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});OX(cy,"displayName","ErrorBar");function vx(e){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vx(e)}function z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z8(Object(r),!0).forEach(function(s){TOe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function TOe(e,t,r){return t=POe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function POe(e){var t=OOe(e,"string");return vx(t)=="symbol"?t:t+""}function OOe(e,t){if(vx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(vx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MX=function(t){var r=t.children,s=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=Ea(r,Fc);if(!o)return null;var c=Fc.defaultProps,d=c!==void 0?Hu(Hu({},c),o.props):{},m;return o.props&&o.props.payload?m=o.props&&o.props.payload:i==="children"?m=(s||[]).reduce(function(f,h){var g=h.item,b=h.props,w=b.sectors||b.data||[];return f.concat(w.map(function(y){return{type:o.props.iconType||g.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):m=(s||[]).map(function(f){var h=f.item,g=h.type.defaultProps,b=g!==void 0?Hu(Hu({},g),h.props):{},w=b.dataKey,y=b.name,j=b.legendType,N=b.hide;return{inactive:N,dataKey:w,type:d.iconType||j||"square",color:Xk(h),value:y||w,payload:b}}),Hu(Hu(Hu({},d),Fc.getWithHeight(o,a)),{},{payload:m,item:o})};function bx(e){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bx(e)}function q8(e){return DOe(e)||ROe(e)||MOe(e)||kOe()}function kOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MOe(e,t){if(e){if(typeof e=="string")return oP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oP(e,t)}}function ROe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DOe(e){if(Array.isArray(e))return oP(e)}function oP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(s){Sf(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Sf(e,t,r){return t=IOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IOe(e){var t=LOe(e,"string");return bx(t)=="symbol"?t:t+""}function LOe(e,t){if(bx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(bx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t,r){return At(e)||At(t)?r:Gr(t)?La(e,t,r):vt(t)?t(e):r}function jg(e,t,r,s){var a=D4e(e,function(c){return yr(c,t)});if(r==="number"){var i=a.filter(function(c){return Ie(c)||parseFloat(c)});return i.length?[Aw(i),Lc(i)]:[1/0,-1/0]}var o=s?a.filter(function(c){return!At(c)}):a;return o.map(function(c){return Gr(c)||c instanceof Date?c:""})}var $Oe=function(t){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,c=(r=s?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,m=0;m<c;m++){var f=m>0?a[m-1].coordinate:a[c-1].coordinate,h=a[m].coordinate,g=m>=c-1?a[0].coordinate:a[m+1].coordinate,b=void 0;if(Ks(h-f)!==Ks(g-h)){var w=[];if(Ks(g-h)===Ks(d[1]-d[0])){b=g;var y=h+d[1]-d[0];w[0]=Math.min(y,(y+f)/2),w[1]=Math.max(y,(y+f)/2)}else{b=f;var j=g+d[1]-d[0];w[0]=Math.min(h,(j+h)/2),w[1]=Math.max(h,(j+h)/2)}var N=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(t>N[0]&&t<=N[1]||t>=w[0]&&t<=w[1]){o=a[m].index;break}}else{var C=Math.min(f,g),E=Math.max(f,g);if(t>(C+h)/2&&t<=(E+h)/2){o=a[m].index;break}}}else for(var T=0;T<c;T++)if(T===0&&t<=(s[T].coordinate+s[T+1].coordinate)/2||T>0&&T<c-1&&t>(s[T].coordinate+s[T-1].coordinate)/2&&t<=(s[T].coordinate+s[T+1].coordinate)/2||T===c-1&&t>(s[T].coordinate+s[T-1].coordinate)/2){o=s[T].index;break}return o},Xk=function(t){var r,s=t,a=s.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ur(ur({},t.type.defaultProps),t.props):t.props,o=i.stroke,c=i.fill,d;switch(a){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:c;break;default:d=c;break}return d},zOe=function(t){var r=t.barSize,s=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},c=Object.keys(i),d=0,m=c.length;d<m;d++)for(var f=i[c[d]].stackGroups,h=Object.keys(f),g=0,b=h.length;g<b;g++){var w=f[h[g]],y=w.items,j=w.cateAxisId,N=y.filter(function(P){return vl(P.type).indexOf("Bar")>=0});if(N&&N.length){var C=N[0].type.defaultProps,E=C!==void 0?ur(ur({},C),N[0].props):N[0].props,T=E.barSize,A=E[j];o[A]||(o[A]=[]);var k=At(T)?r:T;o[A].push({item:N[0],stackList:N.slice(1),barSize:At(k)?void 0:Hs(k,s,0)})}}return o},qOe=function(t){var r=t.barGap,s=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,c=t.maxBarSize,d=o.length;if(d<1)return null;var m=Hs(r,a,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,b=a/d,w=o.reduce(function(T,A){return T+A.barSize||0},0);w+=(d-1)*m,w>=a&&(w-=(d-1)*m,m=0),w>=a&&b>0&&(g=!0,b*=.9,w=d*b);var y=(a-w)/2>>0,j={offset:y-m,size:0};f=o.reduce(function(T,A){var k={item:A.item,position:{offset:j.offset+j.size+m,size:g?b:A.barSize}},P=[].concat(q8(T),[k]);return j=P[P.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(O){P.push({item:O,position:j})}),P},h)}else{var N=Hs(s,a,0,!0);a-2*N-(d-1)*m<=0&&(m=0);var C=(a-2*N-(d-1)*m)/d;C>1&&(C>>=0);var E=c===+c?Math.min(C,c):C;f=o.reduce(function(T,A,k){var P=[].concat(q8(T),[{item:A.item,position:{offset:N+(C+m)*k+(C-E)/2,size:E}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},h)}return f},FOe=function(t,r,s,a){var i=s.children,o=s.width,c=s.margin,d=o-(c.left||0)-(c.right||0),m=MX({children:i,legendWidth:d});if(m){var f=a||{},h=f.width,g=f.height,b=m.align,w=m.verticalAlign,y=m.layout;if((y==="vertical"||y==="horizontal"&&w==="middle")&&b!=="center"&&Ie(t[b]))return ur(ur({},t),{},Sf({},b,t[b]+(h||0)));if((y==="horizontal"||y==="vertical"&&b==="center")&&w!=="middle"&&Ie(t[w]))return ur(ur({},t),{},Sf({},w,t[w]+(g||0)))}return t},BOe=function(t,r,s){return At(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},RX=function(t,r,s,a,i){var o=r.props.children,c=$a(o,cy).filter(function(m){return BOe(a,i,m.props.direction)});if(c&&c.length){var d=c.map(function(m){return m.props.dataKey});return t.reduce(function(m,f){var h=yr(f,s);if(At(h))return m;var g=Array.isArray(h)?[Aw(h),Lc(h)]:[h,h],b=d.reduce(function(w,y){var j=yr(f,y,0),N=g[0]-Math.abs(Array.isArray(j)?j[0]:j),C=g[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(N,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(b[0],m[0]),Math.max(b[1],m[1])]},[1/0,-1/0])}return null},UOe=function(t,r,s,a,i){var o=r.map(function(c){return RX(t,c,s,i,a)}).filter(function(c){return!At(c)});return o&&o.length?o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},DX=function(t,r,s,a,i){var o=r.map(function(d){var m=d.props.dataKey;return s==="number"&&m&&RX(t,d,m,a)||jg(t,m,s,i)});if(s==="number")return o.reduce(function(d,m){return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);var c={};return o.reduce(function(d,m){for(var f=0,h=m.length;f<h;f++)c[m[f]]||(c[m[f]]=!0,d.push(m[f]));return d},[])},IX=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},LX=function(t,r,s,a){if(a)return t.map(function(d){return d.coordinate});var i,o,c=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===s&&(o=!0),d.coordinate});return i||c.push(r),o||c.push(s),c},yl=function(t,r,s){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,c=t.range,d=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,m=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/d:0;if(m=t.axisType==="angleAxis"&&c?.length>=2?Ks(c[0]-c[1])*2*m:m,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(h){var g=i?i.indexOf(h):h;return{coordinate:a(g)+m,value:h,offset:m}});return f.filter(function(h){return!Sh(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,g){return{coordinate:a(h)+m,value:h,index:g,offset:m}}):a.ticks&&!s?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+m,value:h,offset:m}}):a.domain().map(function(h,g){return{coordinate:a(h)+m,value:i?i[h]:h,index:g,offset:m}})},RE=new WeakMap,s0=function(t,r){if(typeof r!="function")return t;RE.has(t)||RE.set(t,new WeakMap);var s=RE.get(t);if(s.has(r))return s.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},$X=function(t,r,s){var a=t.scale,i=t.type,o=t.layout,c=t.axisType;if(a==="auto")return o==="radial"&&c==="radiusAxis"?{scale:mx(),realScaleType:"band"}:o==="radial"&&c==="angleAxis"?{scale:Eb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:bg(),realScaleType:"point"}:i==="category"?{scale:mx(),realScaleType:"band"}:{scale:Eb(),realScaleType:"linear"};if(Pd(a)){var d="scale".concat(dw(a));return{scale:(A8[d]||bg)(),realScaleType:A8[d]?d:"point"}}return vt(a)?{scale:a}:{scale:bg(),realScaleType:"point"}},B8=1e-4,zX=function(t){var r=t.domain();if(!(!r||r.length<=2)){var s=r.length,a=t.range(),i=Math.min(a[0],a[1])-B8,o=Math.max(a[0],a[1])+B8,c=t(r[0]),d=t(r[s-1]);(c<i||c>o||d<i||d>o)&&t.domain([r[0],r[s-1]])}},VOe=function(t,r){if(!t)return null;for(var s=0,a=t.length;s<a;s++)if(t[s].item===r)return t[s].position;return null},KOe=function(t,r){if(!r||r.length!==2||!Ie(r[0])||!Ie(r[1]))return t;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Ie(t[0])||t[0]<s)&&(i[0]=s),(!Ie(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},HOe=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0,c=0;c<r;++c){var d=Sh(t[c][s][1])?t[c][s][0]:t[c][s][1];d>=0?(t[c][s][0]=i,t[c][s][1]=i+d,i=t[c][s][1]):(t[c][s][0]=o,t[c][s][1]=o+d,o=t[c][s][1])}},GOe=function(t){var r=t.length;if(!(r<=0))for(var s=0,a=t[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var c=Sh(t[o][s][1])?t[o][s][0]:t[o][s][1];c>=0?(t[o][s][0]=i,t[o][s][1]=i+c,i=t[o][s][1]):(t[o][s][0]=0,t[o][s][1]=0)}},WOe={sign:HOe,expand:DCe,none:Df,silhouette:ICe,wiggle:LCe,positive:GOe},YOe=function(t,r,s){var a=r.map(function(c){return c.props.dataKey}),i=WOe[s],o=RCe().keys(a).value(function(c,d){return+yr(c,d,0)}).order(LT).offset(i);return o(t)},QOe=function(t,r,s,a,i,o){if(!t)return null;var c=o?r.reverse():r,d={},m=c.reduce(function(h,g){var b,w=(b=g.type)!==null&&b!==void 0&&b.defaultProps?ur(ur({},g.type.defaultProps),g.props):g.props,y=w.stackId,j=w.hide;if(j)return h;var N=w[s],C=h[N]||{hasStack:!1,stackGroups:{}};if(Gr(y)){var E=C.stackGroups[y]||{numericAxisId:s,cateAxisId:a,items:[]};E.items.push(g),C.hasStack=!0,C.stackGroups[y]=E}else C.stackGroups[Wd("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[g]};return ur(ur({},h),{},Sf({},N,C))},d),f={};return Object.keys(m).reduce(function(h,g){var b=m[g];if(b.hasStack){var w={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(y,j){var N=b.stackGroups[j];return ur(ur({},y),{},Sf({},j,{numericAxisId:s,cateAxisId:a,items:N.items,stackedData:YOe(t,N.items,i)}))},w)}return ur(ur({},h),{},Sf({},g,b))},f)},qX=function(t,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,c=r.allowDecimals,d=s||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var m=t.domain();if(!m.length)return null;var f=uOe(m,i,c);return t.domain([Aw(f),Lc(f)]),{niceTicks:f}}if(i&&a==="number"){var h=t.domain(),g=dOe(h,i,c);return{niceTicks:g}}return null};function Rb(e){var t=e.axis,r=e.ticks,s=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!At(a[t.dataKey])){var c=cb(r,"value",a[t.dataKey]);if(c)return c.coordinate+s/2}return r[i]?r[i].coordinate+s/2:null}var d=yr(a,At(o)?t.dataKey:o);return At(d)?null:t.scale(d)}var U8=function(t){var r=t.axis,s=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,c=t.index;if(r.type==="category")return s[c]?s[c].coordinate+a:null;var d=yr(o,r.dataKey,r.domain[c]);return At(d)?null:r.scale(d)-i/2+a},XOe=function(t){var r=t.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},ZOe=function(t,r){var s,a=(s=t.type)!==null&&s!==void 0&&s.defaultProps?ur(ur({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Gr(i)){var o=r[i];if(o){var c=o.items.indexOf(t);return c>=0?o.stackedData[c]:null}}return null},JOe=function(t){return t.reduce(function(r,s){return[Aw(s.concat([r[0]]).filter(Ie)),Lc(s.concat([r[1]]).filter(Ie))]},[1/0,-1/0])},FX=function(t,r,s){return Object.keys(t).reduce(function(a,i){var o=t[i],c=o.stackedData,d=c.reduce(function(m,f){var h=JOe(f.slice(r,s+1));return[Math.min(m[0],h[0]),Math.max(m[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},V8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lP=function(t,r,s){if(vt(t))return t(r,s);if(!Array.isArray(t))return r;var a=[];if(Ie(t[0]))a[0]=s?t[0]:Math.min(t[0],r[0]);else if(V8.test(t[0])){var i=+V8.exec(t[0])[1];a[0]=r[0]-i}else vt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Ie(t[1]))a[1]=s?t[1]:Math.max(t[1],r[1]);else if(K8.test(t[1])){var o=+K8.exec(t[1])[1];a[1]=r[1]+o}else vt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Db=function(t,r,s){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!s||a>0)return a}if(t&&r&&r.length>=2){for(var i=Ck(r,function(h){return h.coordinate}),o=1/0,c=1,d=i.length;c<d;c++){var m=i[c],f=i[c-1];o=Math.min((m.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},H8=function(t,r,s){return!t||!t.length||Md(t,La(s,"type.defaultProps.domain"))?r:t},BX=function(t,r){var s=t.type.defaultProps?ur(ur({},t.type.defaultProps),t.props):t.props,a=s.dataKey,i=s.name,o=s.unit,c=s.formatter,d=s.tooltipType,m=s.chartType,f=s.hide;return ur(ur({},nt(t,!1)),{},{dataKey:a,unit:o,formatter:c,name:i||a,color:Xk(t),value:yr(r,a),type:d,payload:r,chartType:m,hide:f})};function jx(e){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(e)}function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ml(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(s){UX(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function UX(e,t,r){return t=eke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eke(e){var t=tke(e,"string");return jx(t)=="symbol"?t:t+""}function tke(e,t){if(jx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(jx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nke(e,t){return ike(e)||ake(e,t)||ske(e,t)||rke()}function rke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ske(e,t){if(e){if(typeof e=="string")return W8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W8(e,t)}}function W8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function ake(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function ike(e){if(Array.isArray(e))return e}var Ib=Math.PI/180,oke=function(t){return t*180/Math.PI},Fn=function(t,r,s,a){return{x:t+Math.cos(-Ib*a)*s,y:r+Math.sin(-Ib*a)*s}},VX=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},lke=function(t,r,s,a,i){var o=t.width,c=t.height,d=t.startAngle,m=t.endAngle,f=Hs(t.cx,o,o/2),h=Hs(t.cy,c,c/2),g=VX(o,c,s),b=Hs(t.innerRadius,g,0),w=Hs(t.outerRadius,g,g*.8),y=Object.keys(r);return y.reduce(function(j,N){var C=r[N],E=C.domain,T=C.reversed,A;if(At(C.range))a==="angleAxis"?A=[d,m]:a==="radiusAxis"&&(A=[b,w]),T&&(A=[A[1],A[0]]);else{A=C.range;var k=A,P=nke(k,2);d=P[0],m=P[1]}var O=$X(C,i),M=O.realScaleType,F=O.scale;F.domain(E).range(A),zX(F);var D=qX(F,ml(ml({},C),{},{realScaleType:M})),$=ml(ml(ml({},C),D),{},{range:A,radius:w,realScaleType:M,scale:F,cx:f,cy:h,innerRadius:b,outerRadius:w,startAngle:d,endAngle:m});return ml(ml({},j),{},UX({},N,$))},{})},cke=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},uke=function(t,r){var s=t.x,a=t.y,i=r.cx,o=r.cy,c=cke({x:s,y:a},{x:i,y:o});if(c<=0)return{radius:c};var d=(s-i)/c,m=Math.acos(d);return a>o&&(m=2*Math.PI-m),{radius:c,angle:oke(m),angleInRadian:m}},dke=function(t){var r=t.startAngle,s=t.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},mke=function(t,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),c=Math.min(i,o);return t+c*360},Y8=function(t,r){var s=t.x,a=t.y,i=uke({x:s,y:a},r),o=i.radius,c=i.angle,d=r.innerRadius,m=r.outerRadius;if(o<d||o>m)return!1;if(o===0)return!0;var f=dke(r),h=f.startAngle,g=f.endAngle,b=c,w;if(h<=g){for(;b>g;)b-=360;for(;b<h;)b+=360;w=b>=h&&b<=g}else{for(;b>h;)b-=360;for(;b<g;)b+=360;w=b>=g&&b<=h}return w?ml(ml({},r),{},{radius:o,angle:mke(b,r)}):null},KX=function(t){return!v.isValidElement(t)&&!vt(t)&&typeof t!="boolean"?t.className:""};function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}var fke=["offset"];function hke(e){return yke(e)||xke(e)||gke(e)||pke()}function pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gke(e,t){if(e){if(typeof e=="string")return cP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cP(e,t)}}function xke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yke(e){if(Array.isArray(e))return cP(e)}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function vke(e,t){if(e==null)return{};var r=bke(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function bke(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q8(Object(r),!0).forEach(function(s){jke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function jke(e,t,r){return t=wke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wke(e){var t=Nke(e,"string");return wx(t)=="symbol"?t:t+""}function Nke(e,t){if(wx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(wx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Nx.apply(this,arguments)}var Ske=function(t){var r=t.value,s=t.formatter,a=At(t.children)?r:t.children;return vt(s)?s(a):a},Cke=function(t,r){var s=Ks(r-t),a=Math.min(Math.abs(r-t),360);return s*a},Ake=function(t,r,s){var a=t.position,i=t.viewBox,o=t.offset,c=t.className,d=i,m=d.cx,f=d.cy,h=d.innerRadius,g=d.outerRadius,b=d.startAngle,w=d.endAngle,y=d.clockWise,j=(h+g)/2,N=Cke(b,w),C=N>=0?1:-1,E,T;a==="insideStart"?(E=b+C*o,T=y):a==="insideEnd"?(E=w-C*o,T=!y):a==="end"&&(E=w+C*o,T=y),T=N<=0?T:!T;var A=Fn(m,f,j,E),k=Fn(m,f,j,E+(T?1:-1)*359),P="M".concat(A.x,",").concat(A.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),O=At(t.id)?Wd("recharts-radial-line-"):t.id;return J.createElement("text",Nx({},s,{dominantBaseline:"central",className:Et("recharts-radial-bar-label",c)}),J.createElement("defs",null,J.createElement("path",{id:O,d:P})),J.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Eke=function(t){var r=t.viewBox,s=t.offset,a=t.position,i=r,o=i.cx,c=i.cy,d=i.innerRadius,m=i.outerRadius,f=i.startAngle,h=i.endAngle,g=(f+h)/2;if(a==="outside"){var b=Fn(o,c,m+s,g),w=b.x,y=b.y;return{x:w,y,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:c,textAnchor:"middle",verticalAnchor:"end"};var j=(d+m)/2,N=Fn(o,c,j,g),C=N.x,E=N.y;return{x:C,y:E,textAnchor:"middle",verticalAnchor:"middle"}},_ke=function(t){var r=t.viewBox,s=t.parentViewBox,a=t.offset,i=t.position,o=r,c=o.x,d=o.y,m=o.width,f=o.height,h=f>=0?1:-1,g=h*a,b=h>0?"end":"start",w=h>0?"start":"end",y=m>=0?1:-1,j=y*a,N=y>0?"end":"start",C=y>0?"start":"end";if(i==="top"){var E={x:c+m/2,y:d-h*a,textAnchor:"middle",verticalAnchor:b};return Fr(Fr({},E),s?{height:Math.max(d-s.y,0),width:m}:{})}if(i==="bottom"){var T={x:c+m/2,y:d+f+g,textAnchor:"middle",verticalAnchor:w};return Fr(Fr({},T),s?{height:Math.max(s.y+s.height-(d+f),0),width:m}:{})}if(i==="left"){var A={x:c-j,y:d+f/2,textAnchor:N,verticalAnchor:"middle"};return Fr(Fr({},A),s?{width:Math.max(A.x-s.x,0),height:f}:{})}if(i==="right"){var k={x:c+m+j,y:d+f/2,textAnchor:C,verticalAnchor:"middle"};return Fr(Fr({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:f}:{})}var P=s?{width:m,height:f}:{};return i==="insideLeft"?Fr({x:c+j,y:d+f/2,textAnchor:C,verticalAnchor:"middle"},P):i==="insideRight"?Fr({x:c+m-j,y:d+f/2,textAnchor:N,verticalAnchor:"middle"},P):i==="insideTop"?Fr({x:c+m/2,y:d+g,textAnchor:"middle",verticalAnchor:w},P):i==="insideBottom"?Fr({x:c+m/2,y:d+f-g,textAnchor:"middle",verticalAnchor:b},P):i==="insideTopLeft"?Fr({x:c+j,y:d+g,textAnchor:C,verticalAnchor:w},P):i==="insideTopRight"?Fr({x:c+m-j,y:d+g,textAnchor:N,verticalAnchor:w},P):i==="insideBottomLeft"?Fr({x:c+j,y:d+f-g,textAnchor:C,verticalAnchor:b},P):i==="insideBottomRight"?Fr({x:c+m-j,y:d+f-g,textAnchor:N,verticalAnchor:b},P):Nh(i)&&(Ie(i.x)||rd(i.x))&&(Ie(i.y)||rd(i.y))?Fr({x:c+Hs(i.x,m),y:d+Hs(i.y,f),textAnchor:"end",verticalAnchor:"end"},P):Fr({x:c+m/2,y:d+f/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Tke=function(t){return"cx"in t&&Ie(t.cx)};function es(e){var t=e.offset,r=t===void 0?5:t,s=vke(e,fke),a=Fr({offset:r},s),i=a.viewBox,o=a.position,c=a.value,d=a.children,m=a.content,f=a.className,h=f===void 0?"":f,g=a.textBreakAll;if(!i||At(c)&&At(d)&&!v.isValidElement(m)&&!vt(m))return null;if(v.isValidElement(m))return v.cloneElement(m,a);var b;if(vt(m)){if(b=v.createElement(m,a),v.isValidElement(b))return b}else b=Ske(a);var w=Tke(i),y=nt(a,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Ake(a,b,y);var j=w?Eke(a):_ke(a);return J.createElement(kd,Nx({className:Et("recharts-label",h)},y,j,{breakAll:g}),b)}es.displayName="Label";var HX=function(t){var r=t.cx,s=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,c=t.r,d=t.radius,m=t.innerRadius,f=t.outerRadius,h=t.x,g=t.y,b=t.top,w=t.left,y=t.width,j=t.height,N=t.clockWise,C=t.labelViewBox;if(C)return C;if(Ie(y)&&Ie(j)){if(Ie(h)&&Ie(g))return{x:h,y:g,width:y,height:j};if(Ie(b)&&Ie(w))return{x:b,y:w,width:y,height:j}}return Ie(h)&&Ie(g)?{x:h,y:g,width:0,height:0}:Ie(r)&&Ie(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:m||0,outerRadius:f||d||c||0,clockWise:N}:t.viewBox?t.viewBox:{}},Pke=function(t,r){return t?t===!0?J.createElement(es,{key:"label-implicit",viewBox:r}):Gr(t)?J.createElement(es,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===es?v.cloneElement(t,{key:"label-implicit",viewBox:r}):J.createElement(es,{key:"label-implicit",content:t,viewBox:r}):vt(t)?J.createElement(es,{key:"label-implicit",content:t,viewBox:r}):Nh(t)?J.createElement(es,Nx({viewBox:r},t,{key:"label-implicit"})):null:null},Oke=function(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var a=t.children,i=HX(t),o=$a(a,es).map(function(d,m){return v.cloneElement(d,{viewBox:r||i,key:"label-".concat(m)})});if(!s)return o;var c=Pke(t.label,r||i);return[c].concat(hke(o))};es.parseViewBox=HX;es.renderCallByParent=Oke;var DE,X8;function kke(){if(X8)return DE;X8=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return DE=e,DE}var Mke=kke();const Rke=yn(Mke);function Sx(e){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sx(e)}var Dke=["valueAccessor"],Ike=["data","dataKey","clockWise","id","textBreakAll"];function Lke(e){return Fke(e)||qke(e)||zke(e)||$ke()}function $ke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zke(e,t){if(e){if(typeof e=="string")return uP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uP(e,t)}}function qke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fke(e){if(Array.isArray(e))return uP(e)}function uP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Lb.apply(this,arguments)}function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function J8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(s){Bke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Bke(e,t,r){return t=Uke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uke(e){var t=Vke(e,"string");return Sx(t)=="symbol"?t:t+""}function Vke(e,t){if(Sx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Sx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eF(e,t){if(e==null)return{};var r=Kke(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Kke(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var Hke=function(t){return Array.isArray(t.value)?Rke(t.value):t.value};function _o(e){var t=e.valueAccessor,r=t===void 0?Hke:t,s=eF(e,Dke),a=s.data,i=s.dataKey,o=s.clockWise,c=s.id,d=s.textBreakAll,m=eF(s,Ike);return!a||!a.length?null:J.createElement(Ht,{className:"recharts-label-list"},a.map(function(f,h){var g=At(i)?r(f,h):yr(f&&f.payload,i),b=At(c)?{}:{id:"".concat(c,"-").concat(h)};return J.createElement(es,Lb({},nt(f,!0),m,b,{parentViewBox:f.parentViewBox,value:g,textBreakAll:d,viewBox:es.parseViewBox(At(o)?f:J8(J8({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}_o.displayName="LabelList";function Gke(e,t){return e?e===!0?J.createElement(_o,{key:"labelList-implicit",data:t}):J.isValidElement(e)||vt(e)?J.createElement(_o,{key:"labelList-implicit",data:t,content:e}):Nh(e)?J.createElement(_o,Lb({data:t},e,{key:"labelList-implicit"})):null:null}function Wke(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,a=$a(s,_o).map(function(o,c){return v.cloneElement(o,{data:t,key:"labelList-".concat(c)})});if(!r)return a;var i=Gke(e.label,t);return[i].concat(Lke(a))}_o.renderCallByParent=Wke;function Cx(e){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cx(e)}function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},dP.apply(this,arguments)}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function nF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(s){Yke(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Yke(e,t,r){return t=Qke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qke(e){var t=Xke(e,"string");return Cx(t)=="symbol"?t:t+""}function Xke(e,t){if(Cx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Cx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zke=function(t,r){var s=Ks(r-t),a=Math.min(Math.abs(r-t),359.999);return s*a},a0=function(t){var r=t.cx,s=t.cy,a=t.radius,i=t.angle,o=t.sign,c=t.isExternal,d=t.cornerRadius,m=t.cornerIsExternal,f=d*(c?1:-1)+a,h=Math.asin(d/f)/Ib,g=m?i:i+o*h,b=Fn(r,s,f,g),w=Fn(r,s,a,g),y=m?i-o*h:i,j=Fn(r,s,f*Math.cos(h*Ib),y);return{center:b,circleTangency:w,lineTangency:j,theta:h}},GX=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,c=t.endAngle,d=Zke(o,c),m=o+d,f=Fn(r,s,i,o),h=Fn(r,s,i,m),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var b=Fn(r,s,a,o),w=Fn(r,s,a,m);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(r,",").concat(s," Z");return g},Jke=function(t){var r=t.cx,s=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,c=t.forceCornerRadius,d=t.cornerIsExternal,m=t.startAngle,f=t.endAngle,h=Ks(f-m),g=a0({cx:r,cy:s,radius:i,angle:m,sign:h,cornerRadius:o,cornerIsExternal:d}),b=g.circleTangency,w=g.lineTangency,y=g.theta,j=a0({cx:r,cy:s,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:d}),N=j.circleTangency,C=j.lineTangency,E=j.theta,T=d?Math.abs(m-f):Math.abs(m-f)-y-E;if(T<0)return c?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GX({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:m,endAngle:f});var A="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
  `);if(a>0){var k=a0({cx:r,cy:s,radius:a,angle:m,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),P=k.circleTangency,O=k.lineTangency,M=k.theta,F=a0({cx:r,cy:s,radius:a,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),D=F.circleTangency,$=F.lineTangency,V=F.theta,z=d?Math.abs(m-f):Math.abs(m-f)-M-V;if(z<0&&o===0)return"".concat(A,"L").concat(r,",").concat(s,"Z");A+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else A+="L".concat(r,",").concat(s,"Z");return A},eMe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WX=function(t){var r=nF(nF({},eMe),t),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,m=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,g=r.className;if(o<i||f===h)return null;var b=Et("recharts-sector",g),w=o-i,y=Hs(c,w,0,!0),j;return y>0&&Math.abs(f-h)<360?j=Jke({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,w/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:f,endAngle:h}):j=GX({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),J.createElement("path",dP({},nt(r,!0),{className:b,d:j,role:"img"}))};function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}function mP(){return mP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},mP.apply(this,arguments)}function rF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function sF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rF(Object(r),!0).forEach(function(s){tMe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function tMe(e,t,r){return t=nMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nMe(e){var t=rMe(e,"string");return Ax(t)=="symbol"?t:t+""}function rMe(e,t){if(Ax(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Ax(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aF={curveBasisClosed:NCe,curveBasisOpen:SCe,curveBasis:wCe,curveBumpX:lCe,curveBumpY:cCe,curveLinearClosed:CCe,curveLinear:fw,curveMonotoneX:ACe,curveMonotoneY:ECe,curveNatural:_Ce,curveStep:TCe,curveStepAfter:OCe,curveStepBefore:PCe},i0=function(t){return t.x===+t.x&&t.y===+t.y},Qp=function(t){return t.x},Xp=function(t){return t.y},sMe=function(t,r){if(vt(t))return t;var s="curve".concat(dw(t));return(s==="curveMonotone"||s==="curveBump")&&r?aF["".concat(s).concat(r==="vertical"?"Y":"X")]:aF[s]||fw},aMe=function(t){var r=t.type,s=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,c=t.layout,d=t.connectNulls,m=d===void 0?!1:d,f=sMe(s,c),h=m?i.filter(function(y){return i0(y)}):i,g;if(Array.isArray(o)){var b=m?o.filter(function(y){return i0(y)}):o,w=h.map(function(y,j){return sF(sF({},y),{},{base:b[j]})});return c==="vertical"?g=Xv().y(Xp).x1(Qp).x0(function(y){return y.base.x}):g=Xv().x(Qp).y1(Xp).y0(function(y){return y.base.y}),g.defined(i0).curve(f),g(w)}return c==="vertical"&&Ie(o)?g=Xv().y(Xp).x1(Qp).x0(o):Ie(o)?g=Xv().x(Qp).y1(Xp).y0(o):g=HY().x(Qp).y(Xp),g.defined(i0).curve(f),g(h)},gd=function(t){var r=t.className,s=t.points,a=t.path,i=t.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?aMe(t):a;return v.createElement("path",mP({},nt(t,!1),ub(t),{className:Et("recharts-curve",r),d:o,ref:i}))},iMe=sO();const jn=yn(iMe);var oMe=Object.getOwnPropertyNames,lMe=Object.getOwnPropertySymbols,cMe=Object.prototype.hasOwnProperty;function iF(e,t){return function(s,a,i){return e(s,a,i)&&t(s,a,i)}}function o0(e){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return e(r,s,a);var i=a.cache,o=i.get(r),c=i.get(s);if(o&&c)return o===s&&c===r;i.set(r,s),i.set(s,r);var d=e(r,s,a);return i.delete(r),i.delete(s),d}}function uMe(e){return e?.[Symbol.toStringTag]}function oF(e){return oMe(e).concat(lMe(e))}var dMe=Object.hasOwn||(function(e,t){return cMe.call(e,t)});function Xd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var mMe="__v",fMe="__o",hMe="_owner",lF=Object.getOwnPropertyDescriptor,cF=Object.keys;function pMe(e,t,r){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r.equals(e[s],t[s],s,s,e,t,r))return!1;return!0}function gMe(e,t){return Xd(e.getTime(),t.getTime())}function xMe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function yMe(e,t){return e===t}function uF(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.entries(),o,c,d=0;(o=i.next())&&!o.done;){for(var m=t.entries(),f=!1,h=0;(c=m.next())&&!c.done;){if(a[h]){h++;continue}var g=o.value,b=c.value;if(r.equals(g[0],b[0],d,h,e,t,r)&&r.equals(g[1],b[1],g[0],b[0],e,t,r)){f=a[h]=!0;break}h++}if(!f)return!1;d++}return!0}var vMe=Xd;function bMe(e,t,r){var s=cF(e),a=s.length;if(cF(t).length!==a)return!1;for(;a-- >0;)if(!YX(e,t,r,s[a]))return!1;return!0}function Zp(e,t,r){var s=oF(e),a=s.length;if(oF(t).length!==a)return!1;for(var i,o,c;a-- >0;)if(i=s[a],!YX(e,t,r,i)||(o=lF(e,i),c=lF(t,i),(o||c)&&(!o||!c||o.configurable!==c.configurable||o.enumerable!==c.enumerable||o.writable!==c.writable)))return!1;return!0}function jMe(e,t){return Xd(e.valueOf(),t.valueOf())}function wMe(e,t){return e.source===t.source&&e.flags===t.flags}function dF(e,t,r){var s=e.size;if(s!==t.size)return!1;if(!s)return!0;for(var a=new Array(s),i=e.values(),o,c;(o=i.next())&&!o.done;){for(var d=t.values(),m=!1,f=0;(c=d.next())&&!c.done;){if(!a[f]&&r.equals(o.value,c.value,o.value,c.value,e,t,r)){m=a[f]=!0;break}f++}if(!m)return!1}return!0}function NMe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function SMe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YX(e,t,r,s){return(s===hMe||s===fMe||s===mMe)&&(e.$$typeof||t.$$typeof)?!0:dMe(t,s)&&r.equals(e[s],t[s],s,s,e,t,r)}var CMe="[object Arguments]",AMe="[object Boolean]",EMe="[object Date]",_Me="[object Error]",TMe="[object Map]",PMe="[object Number]",OMe="[object Object]",kMe="[object RegExp]",MMe="[object Set]",RMe="[object String]",DMe="[object URL]",IMe=Array.isArray,mF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,fF=Object.assign,LMe=Object.prototype.toString.call.bind(Object.prototype.toString);function $Me(e){var t=e.areArraysEqual,r=e.areDatesEqual,s=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,c=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,m=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,g=e.areUrlsEqual,b=e.unknownTagComparators;return function(y,j,N){if(y===j)return!0;if(y==null||j==null)return!1;var C=typeof y;if(C!==typeof j)return!1;if(C!=="object")return C==="number"?o(y,j,N):C==="function"?a(y,j,N):!1;var E=y.constructor;if(E!==j.constructor)return!1;if(E===Object)return c(y,j,N);if(IMe(y))return t(y,j,N);if(mF!=null&&mF(y))return h(y,j,N);if(E===Date)return r(y,j,N);if(E===RegExp)return m(y,j,N);if(E===Map)return i(y,j,N);if(E===Set)return f(y,j,N);var T=LMe(y);if(T===EMe)return r(y,j,N);if(T===kMe)return m(y,j,N);if(T===TMe)return i(y,j,N);if(T===MMe)return f(y,j,N);if(T===OMe)return typeof y.then!="function"&&typeof j.then!="function"&&c(y,j,N);if(T===DMe)return g(y,j,N);if(T===_Me)return s(y,j,N);if(T===CMe)return c(y,j,N);if(T===AMe||T===PMe||T===RMe)return d(y,j,N);if(b){var A=b[T];if(!A){var k=uMe(y);k&&(A=b[k])}if(A)return A(y,j,N)}return!1}}function zMe(e){var t=e.circular,r=e.createCustomConfig,s=e.strict,a={areArraysEqual:s?Zp:pMe,areDatesEqual:gMe,areErrorsEqual:xMe,areFunctionsEqual:yMe,areMapsEqual:s?iF(uF,Zp):uF,areNumbersEqual:vMe,areObjectsEqual:s?Zp:bMe,arePrimitiveWrappersEqual:jMe,areRegExpsEqual:wMe,areSetsEqual:s?iF(dF,Zp):dF,areTypedArraysEqual:s?Zp:NMe,areUrlsEqual:SMe,unknownTagComparators:void 0};if(r&&(a=fF({},a,r(a))),t){var i=o0(a.areArraysEqual),o=o0(a.areMapsEqual),c=o0(a.areObjectsEqual),d=o0(a.areSetsEqual);a=fF({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:d})}return a}function qMe(e){return function(t,r,s,a,i,o,c){return e(t,r,c)}}function FMe(e){var t=e.circular,r=e.comparator,s=e.createState,a=e.equals,i=e.strict;if(s)return function(d,m){var f=s(),h=f.cache,g=h===void 0?t?new WeakMap:void 0:h,b=f.meta;return r(d,m,{cache:g,equals:a,meta:b,strict:i})};if(t)return function(d,m){return r(d,m,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,m){return r(d,m,o)}}var BMe=uu();uu({strict:!0});uu({circular:!0});uu({circular:!0,strict:!0});uu({createInternalComparator:function(){return Xd}});uu({strict:!0,createInternalComparator:function(){return Xd}});uu({circular:!0,createInternalComparator:function(){return Xd}});uu({circular:!0,createInternalComparator:function(){return Xd},strict:!0});function uu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,s=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,c=zMe(e),d=$Me(c),m=s?s(d):qMe(d);return FMe({circular:r,comparator:d,createState:a,equals:m,strict:o})}function UMe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function hF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):UMe(a)};requestAnimationFrame(s)}function fP(e){"@babel/helpers - typeof";return fP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fP(e)}function VMe(e){return WMe(e)||GMe(e)||HMe(e)||KMe()}function KMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HMe(e,t){if(e){if(typeof e=="string")return pF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pF(e,t)}}function pF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function GMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WMe(e){if(Array.isArray(e))return e}function YMe(){var e={},t=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,c=VMe(o),d=c[0],m=c.slice(1);if(typeof d=="number"){hF(a.bind(null,m),d);return}a(d),hF(a.bind(null,m));return}fP(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ex(e){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ex(e)}function gF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function xF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(r),!0).forEach(function(s){QX(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function QX(e,t,r){return t=QMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QMe(e){var t=XMe(e,"string");return Ex(t)==="symbol"?t:String(t)}function XMe(e,t){if(Ex(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Ex(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZMe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},JMe=function(t){return t},e5e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wg=function(t,r){return Object.keys(r).reduce(function(s,a){return xF(xF({},s),{},QX({},a,t(a,r[a])))},{})},yF=function(t,r,s){return t.map(function(a){return"".concat(e5e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function t5e(e,t){return s5e(e)||r5e(e,t)||XX(e,t)||n5e()}function n5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function s5e(e){if(Array.isArray(e))return e}function a5e(e){return l5e(e)||o5e(e)||XX(e)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XX(e,t){if(e){if(typeof e=="string")return hP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hP(e,t)}}function o5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l5e(e){if(Array.isArray(e))return hP(e)}function hP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var $b=1e-4,ZX=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},JX=function(t,r){return t.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},vF=function(t,r){return function(s){var a=ZX(t,r);return JX(a,s)}},c5e=function(t,r){return function(s){var a=ZX(t,r),i=[].concat(a5e(a.map(function(o,c){return o*c}).slice(1)),[0]);return JX(i,s)}},bF=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,c=1;break;case"ease":a=.25,i=.1,o=.25,c=1;break;case"ease-in":a=.42,i=0,o=1,c=1;break;case"ease-out":a=.42,i=0,o=.58,c=1;break;case"ease-in-out":a=0,i=0,o=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var m=d[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),f=t5e(m,4);a=f[0],i=f[1],o=f[2],c=f[3]}}}var h=vF(a,o),g=vF(i,c),b=c5e(a,o),w=function(N){return N>1?1:N<0?0:N},y=function(N){for(var C=N>1?1:N,E=C,T=0;T<8;++T){var A=h(E)-C,k=b(E);if(Math.abs(A-C)<$b||k<$b)return g(E);E=w(E-A/k)}return g(E)};return y.isStepper=!1,y},u5e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,s=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,c=o===void 0?17:o,d=function(f,h,g){var b=-(f-h)*s,w=g*i,y=g+(b-w)*c/1e3,j=g*c/1e3+f;return Math.abs(j-h)<$b&&Math.abs(y)<$b?[h,0]:[j,y]};return d.isStepper=!0,d.dt=c,d},d5e=function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bF(a);case"spring":return u5e();default:if(a.split("(")[0]==="cubic-bezier")return bF(a)}return typeof a=="function"?a:null};function _x(e){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_x(e)}function jF(e){return h5e(e)||f5e(e)||eZ(e)||m5e()}function m5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h5e(e){if(Array.isArray(e))return gP(e)}function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(s){pP(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pP(e,t,r){return t=p5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p5e(e){var t=g5e(e,"string");return _x(t)==="symbol"?t:String(t)}function g5e(e,t){if(_x(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(_x(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x5e(e,t){return b5e(e)||v5e(e,t)||eZ(e,t)||y5e()}function y5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eZ(e,t){if(e){if(typeof e=="string")return gP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gP(e,t)}}function gP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function v5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function b5e(e){if(Array.isArray(e))return e}var zb=function(t,r,s){return t+(r-t)*s},xP=function(t){var r=t.from,s=t.to;return r!==s},j5e=function e(t,r,s){var a=wg(function(i,o){if(xP(o)){var c=t(o.from,o.to,o.velocity),d=x5e(c,2),m=d[0],f=d[1];return hs(hs({},o),{},{from:m,velocity:f})}return o},r);return s<1?wg(function(i,o){return xP(o)?hs(hs({},o),{},{velocity:zb(o.velocity,a[i].velocity,s),from:zb(o.from,a[i].from,s)}):o},r):e(t,a,s-1)};const w5e=(function(e,t,r,s,a){var i=ZMe(e,t),o=i.reduce(function(j,N){return hs(hs({},j),{},pP({},N,[e[N],t[N]]))},{}),c=i.reduce(function(j,N){return hs(hs({},j),{},pP({},N,{from:e[N],velocity:0,to:t[N]}))},{}),d=-1,m,f,h=function(){return null},g=function(){return wg(function(N,C){return C.from},c)},b=function(){return!Object.values(c).filter(xP).length},w=function(N){m||(m=N);var C=N-m,E=C/r.dt;c=j5e(r,c,E),a(hs(hs(hs({},e),t),g())),m=N,b()||(d=requestAnimationFrame(h))},y=function(N){f||(f=N);var C=(N-f)/s,E=wg(function(A,k){return zb.apply(void 0,jF(k).concat([r(C)]))},o);if(a(hs(hs(hs({},e),t),E)),C<1)d=requestAnimationFrame(h);else{var T=wg(function(A,k){return zb.apply(void 0,jF(k).concat([r(1)]))},o);a(hs(hs(hs({},e),t),T))}};return h=r.isStepper?w:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}var N5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function S5e(e,t){if(e==null)return{};var r=C5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function C5e(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function IE(e){return T5e(e)||_5e(e)||E5e(e)||A5e()}function A5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E5e(e,t){if(e){if(typeof e=="string")return yP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yP(e,t)}}function _5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T5e(e){if(Array.isArray(e))return yP(e)}function yP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function NF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NF(Object(r),!0).forEach(function(s){og(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function og(e,t,r){return t=tZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O5e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,tZ(s.key),s)}}function k5e(e,t,r){return t&&O5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tZ(e){var t=M5e(e,"string");return Vf(t)==="symbol"?t:String(t)}function M5e(e,t){if(Vf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Vf(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vP(e,t)}function vP(e,t){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},vP(e,t)}function D5e(e){var t=I5e();return function(){var s=qb(e),a;if(t){var i=qb(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return bP(this,a)}}function bP(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jP(e)}function jP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}var Wi=(function(e){R5e(r,e);var t=D5e(r);function r(s,a){var i;P5e(this,r),i=t.call(this,s,a);var o=i.props,c=o.isActive,d=o.attributeName,m=o.from,f=o.to,h=o.steps,g=o.children,b=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(jP(i)),i.changeStyle=i.changeStyle.bind(jP(i)),!c||b<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:f}),bP(i);if(h&&h.length)i.state={style:h[0].style};else if(m){if(typeof g=="function")return i.state={style:m},bP(i);i.state={style:d?og({},d,m):m}}else i.state={style:{}};return i}return k5e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,c=i.canBegin,d=i.attributeName,m=i.shouldReAnimate,f=i.to,h=i.from,g=this.state.style;if(c){if(!o){var b={style:d?og({},d,f):f};this.state&&g&&(d&&g[d]!==f||!d&&g!==f)&&this.setState(b);return}if(!(BMe(a.to,f)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=w||m?h:a.to;if(this.state&&g){var j={style:d?og({},d,y):y};(d&&g[d]!==y||!d&&g!==y)&&this.setState(j)}this.runAnimation(Ei(Ei({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,c=a.to,d=a.duration,m=a.easing,f=a.begin,h=a.onAnimationEnd,g=a.onAnimationStart,b=w5e(o,c,d5e(m),d,this.changeStyle),w=function(){i.stopJSAnimation=b()};this.manager.start([g,f,w,d,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,c=a.begin,d=a.onAnimationStart,m=o[0],f=m.style,h=m.duration,g=h===void 0?0:h,b=function(y,j,N){if(N===0)return y;var C=j.duration,E=j.easing,T=E===void 0?"ease":E,A=j.style,k=j.properties,P=j.onAnimationEnd,O=N>0?o[N-1]:j,M=k||Object.keys(A);if(typeof T=="function"||T==="spring")return[].concat(IE(y),[i.runJSAnimation.bind(i,{from:O.style,to:A,duration:C,easing:T}),C]);var F=yF(M,C,T),D=Ei(Ei(Ei({},O.style),A),{},{transition:F});return[].concat(IE(y),[D,C,P]).filter(JMe)};return this.manager.start([d].concat(IE(o.reduce(b,[f,Math.max(g,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=YMe());var i=a.begin,o=a.duration,c=a.attributeName,d=a.to,m=a.easing,f=a.onAnimationStart,h=a.onAnimationEnd,g=a.steps,b=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof m=="function"||typeof b=="function"||m==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var y=c?og({},c,d):d,j=yF(Object.keys(y),o,m);w.start([f,i,Ei(Ei({},y),{},{transition:j}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=S5e(a,N5e),m=v.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!c||m===0||o<=0)return i;var h=function(b){var w=b.props,y=w.style,j=y===void 0?{}:y,N=w.className,C=v.cloneElement(b,Ei(Ei({},d),{},{style:Ei(Ei({},j),f),className:N}));return C};return m===1?h(v.Children.only(i)):J.createElement("div",null,v.Children.map(i,function(g){return h(g)}))}}]),r})(v.PureComponent);Wi.displayName="Animate";Wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wi.propTypes={from:jn.oneOfType([jn.object,jn.string]),to:jn.oneOfType([jn.object,jn.string]),attributeName:jn.string,duration:jn.number,begin:jn.number,easing:jn.oneOfType([jn.string,jn.func]),steps:jn.arrayOf(jn.shape({duration:jn.number.isRequired,style:jn.object.isRequired,easing:jn.oneOfType([jn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jn.func]),properties:jn.arrayOf("string"),onAnimationEnd:jn.func})),children:jn.oneOfType([jn.node,jn.func]),isActive:jn.bool,canBegin:jn.bool,onAnimationEnd:jn.func,shouldReAnimate:jn.bool,onAnimationStart:jn.func,onAnimationReStart:jn.func};function Tx(e){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tx(e)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fb.apply(this,arguments)}function L5e(e,t){return F5e(e)||q5e(e,t)||z5e(e,t)||$5e()}function $5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z5e(e,t){if(e){if(typeof e=="string")return SF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SF(e,t)}}function SF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function q5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function F5e(e){if(Array.isArray(e))return e}function CF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function AF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CF(Object(r),!0).forEach(function(s){B5e(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function B5e(e,t,r){return t=U5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U5e(e){var t=V5e(e,"string");return Tx(t)=="symbol"?t:t+""}function V5e(e,t){if(Tx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Tx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EF=function(t,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,d=s>=0?1:-1,m=a>=0&&s>=0||a<0&&s<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,b=4;g<b;g++)h[g]=i[g]>o?o:i[g];f="M".concat(t,",").concat(r+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(t+d*h[0],",").concat(r)),f+="L ".concat(t+s-d*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(t+s,",").concat(r+c*h[1])),f+="L ".concat(t+s,",").concat(r+a-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(t+s-d*h[2],",").concat(r+a)),f+="L ".concat(t+d*h[3],",").concat(r+a),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(t,",").concat(r+a-c*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);f="M ".concat(t,",").concat(r+c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(t+d*w,",").concat(r,`
            L `).concat(t+s-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(t+s,",").concat(r+c*w,`
            L `).concat(t+s,",").concat(r+a-c*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(t+s-d*w,",").concat(r+a,`
            L `).concat(t+d*w,",").concat(r+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(t,",").concat(r+a-c*w," Z")}else f="M ".concat(t,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return f},K5e=function(t,r){if(!t||!r)return!1;var s=t.x,a=t.y,i=r.x,o=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var m=Math.min(i,i+c),f=Math.max(i,i+c),h=Math.min(o,o+d),g=Math.max(o,o+d);return s>=m&&s<=f&&a>=h&&a<=g}return!1},H5e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zk=function(t){var r=AF(AF({},H5e),t),s=v.useRef(),a=v.useState(-1),i=L5e(a,2),o=i[0],c=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var T=s.current.getTotalLength();T&&c(T)}catch{}},[]);var d=r.x,m=r.y,f=r.width,h=r.height,g=r.radius,b=r.className,w=r.animationEasing,y=r.animationDuration,j=r.animationBegin,N=r.isAnimationActive,C=r.isUpdateAnimationActive;if(d!==+d||m!==+m||f!==+f||h!==+h||f===0||h===0)return null;var E=Et("recharts-rectangle",b);return C?J.createElement(Wi,{canBegin:o>0,from:{width:f,height:h,x:d,y:m},to:{width:f,height:h,x:d,y:m},duration:y,animationEasing:w,isActive:C},function(T){var A=T.width,k=T.height,P=T.x,O=T.y;return J.createElement(Wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,isActive:N,easing:w},J.createElement("path",Fb({},nt(r,!0),{className:E,d:EF(P,O,A,k,g),ref:s})))}):J.createElement("path",Fb({},nt(r,!0),{className:E,d:EF(d,m,f,h,g)}))},G5e=["points","className","baseLinePoints","connectNulls"];function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},lf.apply(this,arguments)}function W5e(e,t){if(e==null)return{};var r=Y5e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function Y5e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function _F(e){return J5e(e)||Z5e(e)||X5e(e)||Q5e()}function Q5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X5e(e,t){if(e){if(typeof e=="string")return wP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wP(e,t)}}function Z5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J5e(e){if(Array.isArray(e))return wP(e)}function wP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var TF=function(t){return t&&t.x===+t.x&&t.y===+t.y},eRe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(s){TF(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),TF(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ng=function(t,r){var s=eRe(t);r&&(s=[s.reduce(function(i,o){return[].concat(_F(i),_F(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,c,d){return"".concat(o).concat(d===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},tRe=function(t,r,s){var a=Ng(t,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ng(r.reverse(),s).slice(1))},nRe=function(t){var r=t.points,s=t.className,a=t.baseLinePoints,i=t.connectNulls,o=W5e(t,G5e);if(!r||!r.length)return null;var c=Et("recharts-polygon",s);if(a&&a.length){var d=o.stroke&&o.stroke!=="none",m=tRe(r,a,i);return J.createElement("g",{className:c},J.createElement("path",lf({},nt(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:m})),d?J.createElement("path",lf({},nt(o,!0),{fill:"none",d:Ng(r,i)})):null,d?J.createElement("path",lf({},nt(o,!0),{fill:"none",d:Ng(a,i)})):null)}var f=Ng(r,i);return J.createElement("path",lf({},nt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:c,d:f}))};function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},NP.apply(this,arguments)}var uy=function(t){var r=t.cx,s=t.cy,a=t.r,i=t.className,o=Et("recharts-dot",i);return r===+r&&s===+s&&a===+a?v.createElement("circle",NP({},nt(t,!1),ub(t),{className:o,cx:r,cy:s,r:a})):null};function Px(e){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Px(e)}var rRe=["x","y","top","left","width","height","className"];function SP(){return SP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},SP.apply(this,arguments)}function PF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function sRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PF(Object(r),!0).forEach(function(s){aRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aRe(e,t,r){return t=iRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iRe(e){var t=oRe(e,"string");return Px(t)=="symbol"?t:t+""}function oRe(e,t){if(Px(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Px(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lRe(e,t){if(e==null)return{};var r=cRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function cRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var uRe=function(t,r,s,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},dRe=function(t){var r=t.x,s=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,c=o===void 0?0:o,d=t.left,m=d===void 0?0:d,f=t.width,h=f===void 0?0:f,g=t.height,b=g===void 0?0:g,w=t.className,y=lRe(t,rRe),j=sRe({x:s,y:i,top:c,left:m,width:h,height:b},y);return!Ie(s)||!Ie(i)||!Ie(h)||!Ie(b)||!Ie(c)||!Ie(m)?null:J.createElement("path",SP({},nt(j,!0),{className:Et("recharts-cross",w),d:uRe(s,i,h,b,c,m)}))},LE,OF;function mRe(){if(OF)return LE;OF=1;var e=Cw(),t=gX(),r=$o();function s(a,i){return a&&a.length?e(a,r(i,2),t):void 0}return LE=s,LE}var fRe=mRe();const hRe=yn(fRe);var $E,kF;function pRe(){if(kF)return $E;kF=1;var e=Cw(),t=$o(),r=xX();function s(a,i){return a&&a.length?e(a,t(i,2),r):void 0}return $E=s,$E}var gRe=pRe();const xRe=yn(gRe);var yRe=["cx","cy","angle","ticks","axisLine"],vRe=["ticks","tick","angle","tickFormatter","stroke"];function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Sg.apply(this,arguments)}function MF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MF(Object(r),!0).forEach(function(s){Tw(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function RF(e,t){if(e==null)return{};var r=bRe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function bRe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function jRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DF(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,rZ(s.key),s)}}function wRe(e,t,r){return t&&DF(e.prototype,t),r&&DF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function NRe(e,t,r){return t=Bb(t),SRe(e,nZ()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function SRe(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CRe(e)}function CRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nZ=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function ARe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CP(e,t)}function CP(e,t){return CP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},CP(e,t)}function Tw(e,t,r){return t=rZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rZ(e){var t=ERe(e,"string");return Kf(t)=="symbol"?t:t+""}function ERe(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Kf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pw=(function(e){function t(){return jRe(this,t),NRe(this,t,arguments)}return ARe(t,e),wRe(t,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,c=i.cx,d=i.cy;return Fn(c,d,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,c=s.ticks,d=hRe(c,function(f){return f.coordinate||0}),m=xRe(c,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:m.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,c=s.ticks,d=s.axisLine,m=RF(s,yRe),f=c.reduce(function(w,y){return[Math.min(w[0],y.coordinate),Math.max(w[1],y.coordinate)]},[1/0,-1/0]),h=Fn(a,i,f[0],o),g=Fn(a,i,f[1],o),b=Gu(Gu(Gu({},nt(m,!1)),{},{fill:"none"},nt(d,!1)),{},{x1:h.x,y1:h.y,x2:g.x,y2:g.y});return J.createElement("line",Sg({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,c=a.angle,d=a.tickFormatter,m=a.stroke,f=RF(a,vRe),h=this.getTickTextAnchor(),g=nt(f,!1),b=nt(o,!1),w=i.map(function(y,j){var N=s.getTickValueCoord(y),C=Gu(Gu(Gu(Gu({textAnchor:h,transform:"rotate(".concat(90-c,", ").concat(N.x,", ").concat(N.y,")")},g),{},{stroke:"none",fill:m},b),{},{index:j},N),{},{payload:y});return J.createElement(Ht,Sg({className:Et("recharts-polar-radius-axis-tick",KX(o)),key:"tick-".concat(y.coordinate)},Od(s.props,y,j)),t.renderTickItem(o,C,d?d(y.value,j):y.value))});return J.createElement(Ht,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:J.createElement(Ht,{className:Et("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),es.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return J.isValidElement(s)?o=J.cloneElement(s,a):vt(s)?o=s(a):o=J.createElement(kd,Sg({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(v.PureComponent);Tw(Pw,"displayName","PolarRadiusAxis");Tw(Pw,"axisType","radiusAxis");Tw(Pw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ju.apply(this,arguments)}function IF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IF(Object(r),!0).forEach(function(s){Ow(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function _Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LF(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,aZ(s.key),s)}}function TRe(e,t,r){return t&&LF(e.prototype,t),r&&LF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PRe(e,t,r){return t=Ub(t),ORe(e,sZ()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function ORe(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kRe(e)}function kRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sZ=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function MRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AP(e,t)}function AP(e,t){return AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},AP(e,t)}function Ow(e,t,r){return t=aZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aZ(e){var t=RRe(e,"string");return Hf(t)=="symbol"?t:t+""}function RRe(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Hf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DRe=Math.PI/180,$F=1e-5,kw=(function(e){function t(){return _Re(this,t),PRe(this,t,arguments)}return MRe(t,e),TRe(t,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,c=a.radius,d=a.orientation,m=a.tickSize,f=m||8,h=Fn(i,o,c,s.coordinate),g=Fn(i,o,c+(d==="inner"?-1:1)*f,s.coordinate);return{x1:h.x,y1:h.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*DRe),o;return i>$F?o=a==="outer"?"start":"end":i<-$F?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,c=s.axisLine,d=s.axisLineType,m=Wu(Wu({},nt(this.props,!1)),{},{fill:"none"},nt(c,!1));if(d==="circle")return J.createElement(uy,Ju({className:"recharts-polar-angle-axis-line"},m,{cx:a,cy:i,r:o}));var f=this.props.ticks,h=f.map(function(g){return Fn(a,i,o,g.coordinate)});return J.createElement(nRe,Ju({className:"recharts-polar-angle-axis-line"},m,{points:h}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,c=a.tickLine,d=a.tickFormatter,m=a.stroke,f=nt(this.props,!1),h=nt(o,!1),g=Wu(Wu({},f),{},{fill:"none"},nt(c,!1)),b=i.map(function(w,y){var j=s.getTickLineCoord(w),N=s.getTickTextAnchor(w),C=Wu(Wu(Wu({textAnchor:N},f),{},{stroke:"none",fill:m},h),{},{index:y,payload:w,x:j.x2,y:j.y2});return J.createElement(Ht,Ju({className:Et("recharts-polar-angle-axis-tick",KX(o)),key:"tick-".concat(w.coordinate)},Od(s.props,w,y)),c&&J.createElement("line",Ju({className:"recharts-polar-angle-axis-tick-line"},g,j)),o&&t.renderTickItem(o,C,d?d(w.value,y):w.value))});return J.createElement(Ht,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:J.createElement(Ht,{className:Et("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return J.isValidElement(s)?o=J.cloneElement(s,a):vt(s)?o=s(a):o=J.createElement(kd,Ju({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(v.PureComponent);Ow(kw,"displayName","PolarAngleAxis");Ow(kw,"axisType","angleAxis");Ow(kw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var zE,zF;function IRe(){if(zF)return zE;zF=1;var e=pQ(),t=e(Object.getPrototypeOf,Object);return zE=t,zE}var qE,qF;function LRe(){if(qF)return qE;qF=1;var e=Fl(),t=IRe(),r=Bl(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,c=i.hasOwnProperty,d=o.call(Object);function m(f){if(!r(f)||e(f)!=s)return!1;var h=t(f);if(h===null)return!0;var g=c.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==d}return qE=m,qE}var $Re=LRe();const zRe=yn($Re);var FE,FF;function qRe(){if(FF)return FE;FF=1;var e=Fl(),t=Bl(),r="[object Boolean]";function s(a){return a===!0||a===!1||t(a)&&e(a)==r}return FE=s,FE}var FRe=qRe();const BRe=yn(FRe);function Ox(e){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ox(e)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Vb.apply(this,arguments)}function URe(e,t){return GRe(e)||HRe(e,t)||KRe(e,t)||VRe()}function VRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KRe(e,t){if(e){if(typeof e=="string")return BF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BF(e,t)}}function BF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function HRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function GRe(e){if(Array.isArray(e))return e}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function VF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(s){WRe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function WRe(e,t,r){return t=YRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YRe(e){var t=QRe(e,"string");return Ox(t)=="symbol"?t:t+""}function QRe(e,t){if(Ox(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Ox(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KF=function(t,r,s,a,i){var o=s-a,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+s,",").concat(r),c+="L ".concat(t+s-o/2,",").concat(r+i),c+="L ".concat(t+s-o/2-a,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},XRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZRe=function(t){var r=VF(VF({},XRe),t),s=v.useRef(),a=v.useState(-1),i=URe(a,2),o=i[0],c=i[1];v.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var E=s.current.getTotalLength();E&&c(E)}catch{}},[]);var d=r.x,m=r.y,f=r.upperWidth,h=r.lowerWidth,g=r.height,b=r.className,w=r.animationEasing,y=r.animationDuration,j=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||m!==+m||f!==+f||h!==+h||g!==+g||f===0&&h===0||g===0)return null;var C=Et("recharts-trapezoid",b);return N?J.createElement(Wi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:m},to:{upperWidth:f,lowerWidth:h,height:g,x:d,y:m},duration:y,animationEasing:w,isActive:N},function(E){var T=E.upperWidth,A=E.lowerWidth,k=E.height,P=E.x,O=E.y;return J.createElement(Wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,easing:w},J.createElement("path",Vb({},nt(r,!0),{className:C,d:KF(P,O,T,A,k),ref:s})))}):J.createElement("g",null,J.createElement("path",Vb({},nt(r,!0),{className:C,d:KF(d,m,f,h,g)})))},JRe=["option","shapeType","propTransformer","activeClassName","isActive"];function kx(e){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kx(e)}function eDe(e,t){if(e==null)return{};var r=tDe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function tDe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function HF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HF(Object(r),!0).forEach(function(s){nDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function nDe(e,t,r){return t=rDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rDe(e){var t=sDe(e,"string");return kx(t)=="symbol"?t:t+""}function sDe(e,t){if(kx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(kx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aDe(e,t){return Kb(Kb({},t),e)}function iDe(e,t){return e==="symbols"}function GF(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return J.createElement(Zk,r);case"trapezoid":return J.createElement(ZRe,r);case"sector":return J.createElement(WX,r);case"symbols":if(iDe(t))return J.createElement(xk,r);break;default:return null}}function oDe(e){return v.isValidElement(e)?e.props:e}function iZ(e){var t=e.option,r=e.shapeType,s=e.propTransformer,a=s===void 0?aDe:s,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,c=e.isActive,d=eDe(e,JRe),m;if(v.isValidElement(t))m=v.cloneElement(t,Kb(Kb({},d),oDe(t)));else if(vt(t))m=t(d);else if(zRe(t)&&!BRe(t)){var f=a(t,d);m=J.createElement(GF,{shapeType:r,elementProps:f})}else{var h=d;m=J.createElement(GF,{shapeType:r,elementProps:h})}return c?J.createElement(Ht,{className:o},m):m}function Mw(e,t){return t!=null&&"trapezoids"in e.props}function Rw(e,t){return t!=null&&"sectors"in e.props}function Mx(e,t){return t!=null&&"points"in e.props}function lDe(e,t){var r,s,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(s=t.labelViewBox)===null||s===void 0?void 0:s.y)||e.y===t.y;return a&&i}function cDe(e,t){var r=e.endAngle===t.endAngle,s=e.startAngle===t.startAngle;return r&&s}function uDe(e,t){var r=e.x===t.x,s=e.y===t.y,a=e.z===t.z;return r&&s&&a}function dDe(e,t){var r;return Mw(e,t)?r=lDe:Rw(e,t)?r=cDe:Mx(e,t)&&(r=uDe),r}function mDe(e,t){var r;return Mw(e,t)?r="trapezoids":Rw(e,t)?r="sectors":Mx(e,t)&&(r="points"),r}function fDe(e,t){if(Mw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Rw(e,t)){var s;return(s=t.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Mx(e,t)?t.payload:{}}function hDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,s=e.itemData,a=mDe(r,t),i=fDe(r,t),o=s.filter(function(d,m){var f=Md(i,d),h=r.props[a].filter(function(w){var y=dDe(r,t);return y(w,t)}),g=r.props[a].indexOf(h[h.length-1]),b=m===g;return f&&b}),c=s.indexOf(o[o.length-1]);return c}var T0;function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cf.apply(this,arguments)}function WF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WF(Object(r),!0).forEach(function(s){ci(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function pDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YF(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,lZ(s.key),s)}}function gDe(e,t,r){return t&&YF(e.prototype,t),r&&YF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xDe(e,t,r){return t=Hb(t),yDe(e,oZ()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function yDe(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vDe(e)}function vDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oZ=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function bDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EP(e,t)}function EP(e,t){return EP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},EP(e,t)}function ci(e,t,r){return t=lZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e){var t=jDe(e,"string");return Gf(t)=="symbol"?t:t+""}function jDe(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Gf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vl=(function(e){function t(r){var s;return pDe(this,t),s=xDe(this,t,[r]),ci(s,"pieRef",null),ci(s,"sectorRefs",[]),ci(s,"id",Wd("recharts-pie-")),ci(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),vt(a)&&a()}),ci(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),vt(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return bDe(t,e),gDe(t,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,c=i.labelLine,d=i.dataKey,m=i.valueKey,f=nt(this.props,!1),h=nt(o,!1),g=nt(c,!1),b=o&&o.offsetRadius||20,w=s.map(function(y,j){var N=(y.startAngle+y.endAngle)/2,C=Fn(y.cx,y.cy,y.outerRadius+b,N),E=$n($n($n($n({},f),y),{},{stroke:"none"},h),{},{index:j,textAnchor:t.getTextAnchor(C.x,y.cx)},C),T=$n($n($n($n({},f),y),{},{fill:"none",stroke:y.fill},g),{},{index:j,points:[Fn(y.cx,y.cy,y.outerRadius,N),C]}),A=d;return At(d)&&At(m)?A="value":At(d)&&(A=m),J.createElement(Ht,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(j)},c&&t.renderLabelLineItem(c,T,"line"),t.renderLabelItem(o,E,yr(y,A)))});return J.createElement(Ht,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,c=i.blendStroke,d=i.inactiveShape;return s.map(function(m,f){if(m?.startAngle===0&&m?.endAngle===0&&s.length!==1)return null;var h=a.isActiveIndex(f),g=d&&a.hasActiveIndex()?d:null,b=h?o:g,w=$n($n({},m),{},{stroke:c?m.fill:m.stroke,tabIndex:-1});return J.createElement(Ht,cf({ref:function(j){j&&!a.sectorRefs.includes(j)&&a.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},Od(a.props,m,f),{key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(f)}),J.createElement(iZ,cf({option:b,isActive:h,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,m=a.animationEasing,f=a.animationId,h=this.state,g=h.prevSectors,b=h.prevIsAnimationActive;return J.createElement(Wi,{begin:c,duration:d,isActive:o,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var y=w.t,j=[],N=i&&i[0],C=N.startAngle;return i.forEach(function(E,T){var A=g&&g[T],k=T>0?La(E,"paddingAngle",0):0;if(A){var P=Kr(A.endAngle-A.startAngle,E.endAngle-E.startAngle),O=$n($n({},E),{},{startAngle:C+k,endAngle:C+P(y)+k});j.push(O),C=O.endAngle}else{var M=E.endAngle,F=E.startAngle,D=Kr(0,M-F),$=D(y),V=$n($n({},E),{},{startAngle:C+k,endAngle:C+$+k});j.push(V),C=V.endAngle}}),J.createElement(Ht,null,s.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var c=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Md(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,c=a.className,d=a.label,m=a.cx,f=a.cy,h=a.innerRadius,g=a.outerRadius,b=a.isAnimationActive,w=this.state.isAnimationFinished;if(i||!o||!o.length||!Ie(m)||!Ie(f)||!Ie(h)||!Ie(g))return null;var y=Et("recharts-pie",c);return J.createElement(Ht,{tabIndex:this.props.rootTabIndex,className:y,ref:function(N){s.pieRef=N}},this.renderSectors(),d&&this.renderLabels(o),es.renderCallByParent(this.props,null,!1),(!b||w)&&_o.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(J.isValidElement(s))return J.cloneElement(s,a);if(vt(s))return s(a);var o=Et("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return J.createElement(gd,cf({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(J.isValidElement(s))return J.cloneElement(s,a);var o=i;if(vt(s)&&(o=s(a),J.isValidElement(o)))return o;var c=Et("recharts-pie-label-text",typeof s!="boolean"&&!vt(s)?s.className:"");return J.createElement(kd,cf({},a,{alignmentBaseline:"middle",className:c}),o)}}])})(v.PureComponent);T0=Vl;ci(Vl,"displayName","Pie");ci(Vl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ou.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ci(Vl,"parseDeltaAngle",function(e,t){var r=Ks(t-e),s=Math.min(Math.abs(t-e),360);return r*s});ci(Vl,"getRealPieData",function(e){var t=e.data,r=e.children,s=nt(e,!1),a=$a(r,yw);return t&&t.length?t.map(function(i,o){return $n($n($n({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return $n($n({},s),i.props)}):[]});ci(Vl,"parseCoordinateOfPie",function(e,t){var r=t.top,s=t.left,a=t.width,i=t.height,o=VX(a,i),c=s+Hs(e.cx,a,a/2),d=r+Hs(e.cy,i,i/2),m=Hs(e.innerRadius,o,0),f=Hs(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:c,cy:d,innerRadius:m,outerRadius:f,maxRadius:h}});ci(Vl,"getComposedData",function(e){var t=e.item,r=e.offset,s=t.type.defaultProps!==void 0?$n($n({},t.type.defaultProps),t.props):t.props,a=T0.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,c=s.endAngle,d=s.paddingAngle,m=s.dataKey,f=s.nameKey,h=s.valueKey,g=s.tooltipType,b=Math.abs(s.minAngle),w=T0.parseCoordinateOfPie(s,r),y=T0.parseDeltaAngle(o,c),j=Math.abs(y),N=m;At(m)&&At(h)?(Bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):At(m)&&(Bi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=h);var C=a.filter(function(O){return yr(O,N,0)!==0}).length,E=(j>=360?C:C-1)*d,T=j-C*b-E,A=a.reduce(function(O,M){var F=yr(M,N,0);return O+(Ie(F)?F:0)},0),k;if(A>0){var P;k=a.map(function(O,M){var F=yr(O,N,0),D=yr(O,f,M),$=(Ie(F)?F:0)/A,V;M?V=P.endAngle+Ks(y)*d*(F!==0?1:0):V=o;var z=V+Ks(y)*((F!==0?b:0)+$*T),q=(V+z)/2,I=(w.innerRadius+w.outerRadius)/2,K=[{name:D,value:F,payload:O,dataKey:N,type:g}],U=Fn(w.cx,w.cy,I,q);return P=$n($n($n({percent:$,cornerRadius:i,name:D,tooltipPayload:K,midAngle:q,middleRadius:I,tooltipPosition:U},O),w),{},{value:yr(O,N),startAngle:V,endAngle:z,payload:O,paddingAngle:Ks(y)*d}),P})}return $n($n({},w),{},{sectors:k,data:a})});var BE,QF;function wDe(){if(QF)return BE;QF=1;var e=Math.ceil,t=Math.max;function r(s,a,i,o){for(var c=-1,d=t(e((a-s)/(i||1)),0),m=Array(d);d--;)m[o?d:++c]=s,s+=i;return m}return BE=r,BE}var UE,XF;function cZ(){if(XF)return UE;XF=1;var e=OQ(),t=1/0,r=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return UE=s,UE}var VE,ZF;function NDe(){if(ZF)return VE;ZF=1;var e=wDe(),t=xw(),r=cZ();function s(a){return function(i,o,c){return c&&typeof c!="number"&&t(i,o,c)&&(o=c=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),c=c===void 0?i<o?1:-1:r(c),e(i,o,c,a)}}return VE=s,VE}var KE,JF;function SDe(){if(JF)return KE;JF=1;var e=NDe(),t=e();return KE=t,KE}var CDe=SDe();const Gb=yn(CDe);function Rx(e){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rx(e)}function eB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function tB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eB(Object(r),!0).forEach(function(s){uZ(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function uZ(e,t,r){return t=ADe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ADe(e){var t=EDe(e,"string");return Rx(t)=="symbol"?t:t+""}function EDe(e,t){if(Rx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Rx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _De=["Webkit","Moz","O","ms"],TDe=function(t,r){var s=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=_De.reduce(function(i,o){return tB(tB({},i),{},uZ({},o+s,r))},{});return a[t]=r,a};function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Wb.apply(this,arguments)}function nB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function HE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nB(Object(r),!0).forEach(function(s){Ca(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function PDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rB(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,mZ(s.key),s)}}function ODe(e,t,r){return t&&rB(e.prototype,t),r&&rB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kDe(e,t,r){return t=Yb(t),MDe(e,dZ()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function MDe(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RDe(e)}function RDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dZ=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}function DDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_P(e,t)}function _P(e,t){return _P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_P(e,t)}function Ca(e,t,r){return t=mZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mZ(e){var t=IDe(e,"string");return Wf(t)=="symbol"?t:t+""}function IDe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Wf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LDe=function(t){var r=t.data,s=t.startIndex,a=t.endIndex,i=t.x,o=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,m=bg().domain(Gb(0,d)).range([i,i+o-c]),f=m.domain().map(function(h){return m(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(s),endX:m(a),scale:m,scaleValues:f}},sB=function(t){return t.changedTouches&&!!t.changedTouches.length},Yf=(function(e){function t(r){var s;return PDe(this,t),s=kDe(this,t,[r]),Ca(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Ca(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Ca(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,c=a.startIndex;o?.({endIndex:i,startIndex:c})}),s.detachDragEndListener()}),Ca(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Ca(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Ca(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Ca(s,"handleSlideDragStart",function(a){var i=sB(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return DDe(t,e),ODe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,c=this.props,d=c.gap,m=c.data,f=m.length-1,h=Math.min(a,i),g=Math.max(a,i),b=t.getIndexInRange(o,h),w=t.getIndexInRange(o,g);return{startIndex:b-b%d,endIndex:w===f?f:w-w%d}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,c=a.dataKey,d=yr(i[s],c,s);return vt(o)?o(d,s):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,c=a.endX,d=this.props,m=d.x,f=d.width,h=d.travellerWidth,g=d.startIndex,b=d.endIndex,w=d.onChange,y=s.pageX-i;y>0?y=Math.min(y,m+f-h-c,m+f-h-o):y<0&&(y=Math.max(y,m-o,m-c));var j=this.getIndex({startX:o+y,endX:c+y});(j.startIndex!==g||j.endIndex!==b)&&w&&w(j),this.setState({startX:o+y,endX:c+y,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=sB(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,c=a.endX,d=a.startX,m=this.state[o],f=this.props,h=f.x,g=f.width,b=f.travellerWidth,w=f.onChange,y=f.gap,j=f.data,N={startX:this.state.startX,endX:this.state.endX},C=s.pageX-i;C>0?C=Math.min(C,h+g-b-m):C<0&&(C=Math.max(C,h-m)),N[o]=m+C;var E=this.getIndex(N),T=E.startIndex,A=E.endIndex,k=function(){var O=j.length-1;return o==="startX"&&(c>d?T%y===0:A%y===0)||c<d&&A===O||o==="endX"&&(c>d?A%y===0:T%y===0)||c>d&&A===O};this.setState(Ca(Ca({},o,m+C),"brushMoveStartX",s.pageX),function(){w&&k()&&w(E)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,c=o.scaleValues,d=o.startX,m=o.endX,f=this.state[a],h=c.indexOf(f);if(h!==-1){var g=h+s;if(!(g===-1||g>=c.length)){var b=c[g];a==="startX"&&b>=m||a==="endX"&&b<=d||this.setState(Ca({},a,b),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,c=s.height,d=s.fill,m=s.stroke;return J.createElement("rect",{stroke:m,fill:d,x:a,y:i,width:o,height:c})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,c=s.height,d=s.data,m=s.children,f=s.padding,h=v.Children.only(m);return h?J.cloneElement(h,{x:a,y:i,width:o,height:c,margin:f,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,c=this,d=this.props,m=d.y,f=d.travellerWidth,h=d.height,g=d.traveller,b=d.ariaLabel,w=d.data,y=d.startIndex,j=d.endIndex,N=Math.max(s,this.props.x),C=HE(HE({},nt(this.props,!1)),{},{x:N,y:m,width:f,height:h}),E=b||"Min value: ".concat((i=w[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=w[j])===null||o===void 0?void 0:o.name);return J.createElement(Ht,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),c.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,C))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,c=i.height,d=i.stroke,m=i.travellerWidth,f=Math.min(s,a)+m,h=Math.max(Math.abs(a-s)-m,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:f,y:o,width:h,height:c})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,c=s.height,d=s.travellerWidth,m=s.stroke,f=this.state,h=f.startX,g=f.endX,b=5,w={pointerEvents:"none",fill:m};return J.createElement(Ht,{className:"recharts-brush-texts"},J.createElement(kd,Wb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-b,y:o+c/2},w),this.getTextOfTick(a)),J.createElement(kd,Wb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+d+b,y:o+c/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,c=s.x,d=s.y,m=s.width,f=s.height,h=s.alwaysShowText,g=this.state,b=g.startX,w=g.endX,y=g.isTextActive,j=g.isSlideMoving,N=g.isTravellerMoving,C=g.isTravellerFocused;if(!a||!a.length||!Ie(c)||!Ie(d)||!Ie(m)||!Ie(f)||m<=0||f<=0)return null;var E=Et("recharts-brush",i),T=J.Children.count(o)===1,A=TDe("userSelect","none");return J.createElement(Ht,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(b,w),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(w,"endX"),(y||j||N||C||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,c=s.height,d=s.stroke,m=Math.floor(i+c/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:a,y:i,width:o,height:c,fill:d,stroke:"none"}),J.createElement("line",{x1:a+1,y1:m,x2:a+o-1,y2:m,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:a+1,y1:m+2,x2:a+o-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return J.isValidElement(s)?i=J.cloneElement(s,a):vt(s)?i=s(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,c=s.x,d=s.travellerWidth,m=s.updateId,f=s.startIndex,h=s.endIndex;if(i!==a.prevData||m!==a.prevUpdateId)return HE({prevData:i,prevTravellerWidth:d,prevUpdateId:m,prevX:c,prevWidth:o},i&&i.length?LDe({data:i,width:o,x:c,travellerWidth:d,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+o-d]);var g=a.scale.domain().map(function(b){return a.scale(b)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:m,prevX:c,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,c=i-1;c-o>1;){var d=Math.floor((o+c)/2);s[d]>a?c=d:o=d}return a>=s[c]?c:o}}])})(v.PureComponent);Ca(Yf,"displayName","Brush");Ca(Yf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var GE,aB;function $De(){if(aB)return GE;aB=1;var e=Sk();function t(r,s){var a;return e(r,function(i,o,c){return a=s(i,o,c),!a}),!!a}return GE=t,GE}var WE,iB;function zDe(){if(iB)return WE;iB=1;var e=lQ(),t=$o(),r=$De(),s=pa(),a=xw();function i(o,c,d){var m=s(o)?e:r;return d&&a(o,c,d)&&(c=void 0),m(o,t(c,3))}return WE=i,WE}var qDe=zDe();const FDe=yn(qDe);var To=function(t,r){var s=t.alwaysShow,a=t.ifOverflow;return s&&(a="extendDomain"),a===r},YE,oB;function BDe(){if(oB)return YE;oB=1;var e=AQ();function t(r,s,a){s=="__proto__"&&e?e(r,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[s]=a}return YE=t,YE}var QE,lB;function UDe(){if(lB)return QE;lB=1;var e=BDe(),t=SQ(),r=$o();function s(a,i){var o={};return i=r(i,3),t(a,function(c,d,m){e(o,d,i(c,d,m))}),o}return QE=s,QE}var VDe=UDe();const KDe=yn(VDe);var XE,cB;function HDe(){if(cB)return XE;cB=1;function e(t,r){for(var s=-1,a=t==null?0:t.length;++s<a;)if(!r(t[s],s,t))return!1;return!0}return XE=e,XE}var ZE,uB;function GDe(){if(uB)return ZE;uB=1;var e=Sk();function t(r,s){var a=!0;return e(r,function(i,o,c){return a=!!s(i,o,c),a}),a}return ZE=t,ZE}var JE,dB;function WDe(){if(dB)return JE;dB=1;var e=HDe(),t=GDe(),r=$o(),s=pa(),a=xw();function i(o,c,d){var m=s(o)?e:t;return d&&a(o,c,d)&&(c=void 0),m(o,r(c,3))}return JE=i,JE}var YDe=WDe();const fZ=yn(YDe);var QDe=["x","y"];function Dx(e){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dx(e)}function TP(){return TP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},TP.apply(this,arguments)}function mB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Jp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mB(Object(r),!0).forEach(function(s){XDe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function XDe(e,t,r){return t=ZDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZDe(e){var t=JDe(e,"string");return Dx(t)=="symbol"?t:t+""}function JDe(e,t){if(Dx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Dx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e6e(e,t){if(e==null)return{};var r=t6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function t6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function n6e(e,t){var r=e.x,s=e.y,a=e6e(e,QDe),i="".concat(r),o=parseInt(i,10),c="".concat(s),d=parseInt(c,10),m="".concat(t.height||a.height),f=parseInt(m,10),h="".concat(t.width||a.width),g=parseInt(h,10);return Jp(Jp(Jp(Jp(Jp({},t),a),o?{x:o}:{}),d?{y:d}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function fB(e){return J.createElement(iZ,TP({shapeType:"rectangle",propTransformer:n6e,activeClassName:"recharts-active-bar"},e))}var r6e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof t=="number")return t;var i=Ie(s)||PSe(s);return i?t(s,a):(i||Dd(),r)}},s6e=["value","background"],hZ;function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function a6e(e,t){if(e==null)return{};var r=i6e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function i6e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qb.apply(this,arguments)}function hB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hB(Object(r),!0).forEach(function(s){$c(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function o6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pB(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,gZ(s.key),s)}}function l6e(e,t,r){return t&&pB(e.prototype,t),r&&pB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c6e(e,t,r){return t=Xb(t),u6e(e,pZ()?Reflect.construct(t,r||[],Xb(e).constructor):t.apply(e,r))}function u6e(e,t){if(t&&(Qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d6e(e)}function d6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pZ=function(){return!!e})()}function Xb(e){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(e)}function m6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PP(e,t)}function PP(e,t){return PP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},PP(e,t)}function $c(e,t,r){return t=gZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gZ(e){var t=f6e(e,"string");return Qf(t)=="symbol"?t:t+""}function f6e(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Qf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dl=(function(e){function t(){var r;o6e(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=c6e(this,t,[].concat(a)),$c(r,"state",{isAnimationFinished:!1}),$c(r,"id",Wd("recharts-bar-")),$c(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),$c(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return m6e(t,e),l6e(t,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,c=i.dataKey,d=i.activeIndex,m=i.activeBar,f=nt(this.props,!1);return s&&s.map(function(h,g){var b=g===d,w=b?m:o,y=Er(Er(Er({},f),h),{},{isActive:b,option:w,index:g,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return J.createElement(Ht,Qb({className:"recharts-bar-rectangle"},Od(a.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),J.createElement(fB,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,c=a.isAnimationActive,d=a.animationBegin,m=a.animationDuration,f=a.animationEasing,h=a.animationId,g=this.state.prevData;return J.createElement(Wi,{begin:d,duration:m,isActive:c,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t,y=i.map(function(j,N){var C=g&&g[N];if(C){var E=Kr(C.x,j.x),T=Kr(C.y,j.y),A=Kr(C.width,j.width),k=Kr(C.height,j.height);return Er(Er({},j),{},{x:E(w),y:T(w),width:A(w),height:k(w)})}if(o==="horizontal"){var P=Kr(0,j.height),O=P(w);return Er(Er({},j),{},{y:j.y+j.height-O,height:O})}var M=Kr(0,j.width),F=M(w);return Er(Er({},j),{},{width:F})});return J.createElement(Ht,null,s.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Md(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,c=a.activeIndex,d=nt(this.props.background,!1);return i.map(function(m,f){m.value;var h=m.background,g=a6e(m,s6e);if(!h)return null;var b=Er(Er(Er(Er(Er({},g),{},{fill:"#eee"},h),d),Od(s.props,m,f)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return J.createElement(fB,Qb({key:"background-bar-".concat(f),option:s.props.background,isActive:f===c},b))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,c=i.xAxis,d=i.yAxis,m=i.layout,f=i.children,h=$a(f,cy);if(!h)return null;var g=m==="vertical"?o[0].height/2:o[0].width/2,b=function(j,N){var C=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:C,errorVal:yr(j,N)}},w={clipPath:s?"url(#clipPath-".concat(a,")"):null};return J.createElement(Ht,w,h.map(function(y){return J.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:c,yAxis:d,layout:m,offset:g,dataPointFormatter:b})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,c=s.xAxis,d=s.yAxis,m=s.left,f=s.top,h=s.width,g=s.height,b=s.isAnimationActive,w=s.background,y=s.id;if(a||!i||!i.length)return null;var j=this.state.isAnimationFinished,N=Et("recharts-bar",o),C=c&&c.allowDataOverflow,E=d&&d.allowDataOverflow,T=C||E,A=At(y)?this.id:y;return J.createElement(Ht,{className:N},C||E?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(A)},J.createElement("rect",{x:C?m:m-h/2,y:E?f:f-g/2,width:C?h:h*2,height:E?g:g*2}))):null,J.createElement(Ht,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(A,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,A),(!b||j)&&_o.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(v.PureComponent);hZ=Dl;$c(Dl,"displayName","Bar");$c(Dl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ou.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$c(Dl,"getComposedData",function(e){var t=e.props,r=e.item,s=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,c=e.xAxisTicks,d=e.yAxisTicks,m=e.stackedData,f=e.dataStartIndex,h=e.displayedData,g=e.offset,b=VOe(s,r);if(!b)return null;var w=t.layout,y=r.type.defaultProps,j=y!==void 0?Er(Er({},y),r.props):r.props,N=j.dataKey,C=j.children,E=j.minPointSize,T=w==="horizontal"?o:i,A=m?T.scale.domain():null,k=XOe({numericAxis:T}),P=$a(C,yw),O=h.map(function(M,F){var D,$,V,z,q,I;m?D=KOe(m[f+F],A):(D=yr(M,N),Array.isArray(D)||(D=[k,D]));var K=r6e(E,hZ.defaultProps.minPointSize)(D[1],F);if(w==="horizontal"){var U,B=[o.scale(D[0]),o.scale(D[1])],ie=B[0],G=B[1];$=U8({axis:i,ticks:c,bandSize:a,offset:b.offset,entry:M,index:F}),V=(U=G??ie)!==null&&U!==void 0?U:void 0,z=b.size;var Y=ie-G;if(q=Number.isNaN(Y)?0:Y,I={x:$,y:o.y,width:z,height:o.height},Math.abs(K)>0&&Math.abs(q)<Math.abs(K)){var se=Ks(q||K)*(Math.abs(K)-Math.abs(q));V-=se,q+=se}}else{var he=[i.scale(D[0]),i.scale(D[1])],Q=he[0],xe=he[1];if($=Q,V=U8({axis:o,ticks:d,bandSize:a,offset:b.offset,entry:M,index:F}),z=xe-Q,q=b.size,I={x:i.x,y:V,width:i.width,height:q},Math.abs(K)>0&&Math.abs(z)<Math.abs(K)){var me=Ks(z||K)*(Math.abs(K)-Math.abs(z));z+=me}}return Er(Er(Er({},M),{},{x:$,y:V,width:z,height:q,value:m?D:D[1],payload:M,background:I},P&&P[F]&&P[F].props),{},{tooltipPayload:[BX(r,M)],tooltipPosition:{x:$+z/2,y:V+q/2}})});return Er({data:O,layout:w},g)});function Ix(e){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ix(e)}function h6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gB(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,xZ(s.key),s)}}function p6e(e,t,r){return t&&gB(e.prototype,t),r&&gB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xB(Object(r),!0).forEach(function(s){Dw(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Dw(e,t,r){return t=xZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=g6e(e,"string");return Ix(t)=="symbol"?t:t+""}function g6e(e,t){if(Ix(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Ix(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jk=function(t,r,s,a,i){var o=t.width,c=t.height,d=t.layout,m=t.children,f=Object.keys(r),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:c-s.bottom,bottomMirror:c-s.bottom},g=!!Ea(m,Dl);return f.reduce(function(b,w){var y=r[w],j=y.orientation,N=y.domain,C=y.padding,E=C===void 0?{}:C,T=y.mirror,A=y.reversed,k="".concat(j).concat(T?"Mirror":""),P,O,M,F,D;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var $=N[1]-N[0],V=1/0,z=y.categoricalDomain.sort(MSe);if(z.forEach(function(he,Q){Q>0&&(V=Math.min((he||0)-(z[Q-1]||0),V))}),Number.isFinite(V)){var q=V/$,I=y.layout==="vertical"?s.height:s.width;if(y.padding==="gap"&&(P=q*I/2),y.padding==="no-gap"){var K=Hs(t.barCategoryGap,q*I),U=q*I/2;P=U-K-(U-K)/I*K}}}a==="xAxis"?O=[s.left+(E.left||0)+(P||0),s.left+s.width-(E.right||0)-(P||0)]:a==="yAxis"?O=d==="horizontal"?[s.top+s.height-(E.bottom||0),s.top+(E.top||0)]:[s.top+(E.top||0)+(P||0),s.top+s.height-(E.bottom||0)-(P||0)]:O=y.range,A&&(O=[O[1],O[0]]);var B=$X(y,i,g),ie=B.scale,G=B.realScaleType;ie.domain(N).range(O),zX(ie);var Y=qX(ie,ki(ki({},y),{},{realScaleType:G}));a==="xAxis"?(D=j==="top"&&!T||j==="bottom"&&T,M=s.left,F=h[k]-D*y.height):a==="yAxis"&&(D=j==="left"&&!T||j==="right"&&T,M=h[k]-D*y.width,F=s.top);var se=ki(ki(ki({},y),Y),{},{realScaleType:G,x:M,y:F,scale:ie,width:a==="xAxis"?s.width:y.width,height:a==="yAxis"?s.height:y.height});return se.bandSize=Db(se,Y),!y.hide&&a==="xAxis"?h[k]+=(D?-1:1)*se.height:y.hide||(h[k]+=(D?-1:1)*se.width),ki(ki({},b),{},Dw({},w,se))},{})},yZ=function(t,r){var s=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},x6e=function(t){var r=t.x1,s=t.y1,a=t.x2,i=t.y2;return yZ({x:r,y:s},{x:a,y:i})},vZ=(function(){function e(t){h6e(this,e),this.scale=t}return p6e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])})();Dw(vZ,"EPS",1e-4);var eM=function(t){var r=Object.keys(t).reduce(function(s,a){return ki(ki({},s),{},Dw({},a,vZ.create(t[a])))},{});return ki(ki({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,c=i.position;return KDe(a,function(d,m){return r[m].apply(d,{bandAware:o,position:c})})},isInRange:function(a){return fZ(a,function(i,o){return r[o].isInRange(i)})}})};function y6e(e){return(e%180+180)%180}var v6e=function(t){var r=t.width,s=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=y6e(a),o=i*Math.PI/180,c=Math.atan(s/r),d=o>c&&o<Math.PI-c?s/Math.sin(o):r/Math.cos(o);return Math.abs(d)},e_,yB;function b6e(){if(yB)return e_;yB=1;var e=$o(),t=sy(),r=pw();function s(a){return function(i,o,c){var d=Object(i);if(!t(i)){var m=e(o,3);i=r(i),o=function(h){return m(d[h],h,d)}}var f=a(i,o,c);return f>-1?d[m?i[f]:f]:void 0}}return e_=s,e_}var t_,vB;function j6e(){if(vB)return t_;vB=1;var e=cZ();function t(r){var s=e(r),a=s%1;return s===s?a?s-a:s:0}return t_=t,t_}var n_,bB;function w6e(){if(bB)return n_;bB=1;var e=vQ(),t=$o(),r=j6e(),s=Math.max;function a(i,o,c){var d=i==null?0:i.length;if(!d)return-1;var m=c==null?0:r(c);return m<0&&(m=s(d+m,0)),e(i,t(o,3),m)}return n_=a,n_}var r_,jB;function N6e(){if(jB)return r_;jB=1;var e=b6e(),t=w6e(),r=e(t);return r_=r,r_}var S6e=N6e();const C6e=yn(S6e);var A6e=RY();const E6e=yn(A6e);var _6e=E6e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),tM=v.createContext(void 0),nM=v.createContext(void 0),bZ=v.createContext(void 0),jZ=v.createContext({}),wZ=v.createContext(void 0),NZ=v.createContext(0),SZ=v.createContext(0),wB=function(t){var r=t.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,c=t.children,d=t.width,m=t.height,f=_6e(i);return J.createElement(tM.Provider,{value:s},J.createElement(nM.Provider,{value:a},J.createElement(jZ.Provider,{value:i},J.createElement(bZ.Provider,{value:f},J.createElement(wZ.Provider,{value:o},J.createElement(NZ.Provider,{value:m},J.createElement(SZ.Provider,{value:d},c)))))))},T6e=function(){return v.useContext(wZ)},CZ=function(t){var r=v.useContext(tM);r==null&&Dd();var s=r[t];return s==null&&Dd(),s},P6e=function(){var t=v.useContext(tM);return Ic(t)},O6e=function(){var t=v.useContext(nM),r=C6e(t,function(s){return fZ(s.domain,Number.isFinite)});return r||Ic(t)},AZ=function(t){var r=v.useContext(nM);r==null&&Dd();var s=r[t];return s==null&&Dd(),s},k6e=function(){var t=v.useContext(bZ);return t},M6e=function(){return v.useContext(jZ)},rM=function(){return v.useContext(SZ)},sM=function(){return v.useContext(NZ)};function Xf(e){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xf(e)}function R6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_Z(s.key),s)}}function I6e(e,t,r){return t&&D6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function L6e(e,t,r){return t=Zb(t),$6e(e,EZ()?Reflect.construct(t,r||[],Zb(e).constructor):t.apply(e,r))}function $6e(e,t){if(t&&(Xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z6e(e)}function z6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EZ=function(){return!!e})()}function Zb(e){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(e)}function q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OP(e,t)}function OP(e,t){return OP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},OP(e,t)}function NB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function SB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NB(Object(r),!0).forEach(function(s){aM(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aM(e,t,r){return t=_Z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Z(e){var t=F6e(e,"string");return Xf(t)=="symbol"?t:t+""}function F6e(e,t){if(Xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Xf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B6e(e,t){return H6e(e)||K6e(e,t)||V6e(e,t)||U6e()}function U6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V6e(e,t){if(e){if(typeof e=="string")return CB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CB(e,t)}}function CB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function K6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function H6e(e){if(Array.isArray(e))return e}function kP(){return kP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kP.apply(this,arguments)}var G6e=function(t,r){var s;return J.isValidElement(t)?s=J.cloneElement(t,r):vt(t)?s=t(r):s=J.createElement("line",kP({},r,{className:"recharts-reference-line-line"})),s},W6e=function(t,r,s,a,i,o,c,d,m){var f=i.x,h=i.y,g=i.width,b=i.height;if(s){var w=m.y,y=t.y.apply(w,{position:o});if(To(m,"discard")&&!t.y.isInRange(y))return null;var j=[{x:f+g,y},{x:f,y}];return d==="left"?j.reverse():j}if(r){var N=m.x,C=t.x.apply(N,{position:o});if(To(m,"discard")&&!t.x.isInRange(C))return null;var E=[{x:C,y:h+b},{x:C,y:h}];return c==="top"?E.reverse():E}if(a){var T=m.segment,A=T.map(function(k){return t.apply(k,{position:o})});return To(m,"discard")&&FDe(A,function(k){return!t.isInRange(k)})?null:A}return null};function Y6e(e){var t=e.x,r=e.y,s=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,c=e.className,d=e.alwaysShow,m=T6e(),f=CZ(a),h=AZ(i),g=k6e();if(!m||!g)return null;Bi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=eM({x:f.scale,y:h.scale}),w=Gr(t),y=Gr(r),j=s&&s.length===2,N=W6e(b,w,y,j,g,e.position,f.orientation,h.orientation,e);if(!N)return null;var C=B6e(N,2),E=C[0],T=E.x,A=E.y,k=C[1],P=k.x,O=k.y,M=To(e,"hidden")?"url(#".concat(m,")"):void 0,F=SB(SB({clipPath:M},nt(e,!0)),{},{x1:T,y1:A,x2:P,y2:O});return J.createElement(Ht,{className:Et("recharts-reference-line",c)},G6e(o,F),es.renderCallByParent(e,x6e({x1:T,y1:A,x2:P,y2:O})))}var iM=(function(e){function t(){return R6e(this,t),L6e(this,t,arguments)}return q6e(t,e),I6e(t,[{key:"render",value:function(){return J.createElement(Y6e,this.props)}}])})(J.Component);aM(iM,"displayName","ReferenceLine");aM(iM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function MP(){return MP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},MP.apply(this,arguments)}function Zf(e){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zf(e)}function AB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function EB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(r),!0).forEach(function(s){Iw(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Q6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X6e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,PZ(s.key),s)}}function Z6e(e,t,r){return t&&X6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J6e(e,t,r){return t=Jb(t),eIe(e,TZ()?Reflect.construct(t,r||[],Jb(e).constructor):t.apply(e,r))}function eIe(e,t){if(t&&(Zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tIe(e)}function tIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TZ=function(){return!!e})()}function Jb(e){return Jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jb(e)}function nIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RP(e,t)}function RP(e,t){return RP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},RP(e,t)}function Iw(e,t,r){return t=PZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=rIe(e,"string");return Zf(t)=="symbol"?t:t+""}function rIe(e,t){if(Zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Zf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sIe=function(t){var r=t.x,s=t.y,a=t.xAxis,i=t.yAxis,o=eM({x:a.scale,y:i.scale}),c=o.apply({x:r,y:s},{bandAware:!0});return To(t,"discard")&&!o.isInRange(c)?null:c},Lw=(function(e){function t(){return Q6e(this,t),J6e(this,t,arguments)}return nIe(t,e),Z6e(t,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,c=s.alwaysShow,d=s.clipPathId,m=Gr(a),f=Gr(i);if(Bi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!f)return null;var h=sIe(this.props);if(!h)return null;var g=h.x,b=h.y,w=this.props,y=w.shape,j=w.className,N=To(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=EB(EB({clipPath:N},nt(this.props,!0)),{},{cx:g,cy:b});return J.createElement(Ht,{className:Et("recharts-reference-dot",j)},t.renderDot(y,C),es.renderCallByParent(this.props,{x:g-o,y:b-o,width:2*o,height:2*o}))}}])})(J.Component);Iw(Lw,"displayName","ReferenceDot");Iw(Lw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Iw(Lw,"renderDot",function(e,t){var r;return J.isValidElement(e)?r=J.cloneElement(e,t):vt(e)?r=e(t):r=J.createElement(uy,MP({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function DP(){return DP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},DP.apply(this,arguments)}function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function _B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function TB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_B(Object(r),!0).forEach(function(s){$w(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function aIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iIe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,kZ(s.key),s)}}function oIe(e,t,r){return t&&iIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lIe(e,t,r){return t=ej(t),cIe(e,OZ()?Reflect.construct(t,r||[],ej(e).constructor):t.apply(e,r))}function cIe(e,t){if(t&&(Jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uIe(e)}function uIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OZ=function(){return!!e})()}function ej(e){return ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ej(e)}function dIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IP(e,t)}function IP(e,t){return IP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},IP(e,t)}function $w(e,t,r){return t=kZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kZ(e){var t=mIe(e,"string");return Jf(t)=="symbol"?t:t+""}function mIe(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Jf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fIe=function(t,r,s,a,i){var o=i.x1,c=i.x2,d=i.y1,m=i.y2,f=i.xAxis,h=i.yAxis;if(!f||!h)return null;var g=eM({x:f.scale,y:h.scale}),b={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:s?g.y.apply(d,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(m,{position:"end"}):g.y.rangeMax};return To(i,"discard")&&(!g.isInRange(b)||!g.isInRange(w))?null:yZ(b,w)},zw=(function(e){function t(){return aIe(this,t),lIe(this,t,arguments)}return dIe(t,e),oIe(t,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,c=s.y2,d=s.className,m=s.alwaysShow,f=s.clipPathId;Bi(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Gr(a),g=Gr(i),b=Gr(o),w=Gr(c),y=this.props.shape;if(!h&&!g&&!b&&!w&&!y)return null;var j=fIe(h,g,b,w,this.props);if(!j&&!y)return null;var N=To(this.props,"hidden")?"url(#".concat(f,")"):void 0;return J.createElement(Ht,{className:Et("recharts-reference-area",d)},t.renderRect(y,TB(TB({clipPath:N},nt(this.props,!0)),j)),es.renderCallByParent(this.props,j))}}])})(J.Component);$w(zw,"displayName","ReferenceArea");$w(zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$w(zw,"renderRect",function(e,t){var r;return J.isValidElement(e)?r=J.cloneElement(e,t):vt(e)?r=e(t):r=J.createElement(Zk,DP({},t,{className:"recharts-reference-area-rect"})),r});function MZ(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var s=[],a=0;a<e.length;a+=t)s.push(e[a]);return s}function hIe(e,t,r){var s={width:e.width+t.width,height:e.height+t.height};return v6e(s,r)}function pIe(e,t,r){var s=r==="width",a=e.x,i=e.y,o=e.width,c=e.height;return t===1?{start:s?a:i,end:s?a+o:i+c}:{start:s?a+o:i+c,end:s?a:i}}function tj(e,t,r,s,a){if(e*t<e*s||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-s)>=0&&e*(t+e*i/2-a)<=0}function gIe(e,t){return MZ(e,t+1)}function xIe(e,t,r,s,a){for(var i=(s||[]).slice(),o=t.start,c=t.end,d=0,m=1,f=o,h=function(){var w=s?.[d];if(w===void 0)return{v:MZ(s,m)};var y=d,j,N=function(){return j===void 0&&(j=r(w,y)),j},C=w.coordinate,E=d===0||tj(e,C,N,f,c);E||(d=0,f=o,m+=1),E&&(f=C+e*(N()/2+a),d+=m)},g;m<=i.length;)if(g=h(),g)return g.v;return[]}function Lx(e){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lx(e)}function PB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PB(Object(r),!0).forEach(function(s){yIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yIe(e,t,r){return t=vIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vIe(e){var t=bIe(e,"string");return Lx(t)=="symbol"?t:t+""}function bIe(e,t){if(Lx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Lx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jIe(e,t,r,s,a){for(var i=(s||[]).slice(),o=i.length,c=t.start,d=t.end,m=function(g){var b=i[g],w,y=function(){return w===void 0&&(w=r(b,g)),w};if(g===o-1){var j=e*(b.coordinate+e*y()/2-d);i[g]=b=As(As({},b),{},{tickCoord:j>0?b.coordinate-j*e:b.coordinate})}else i[g]=b=As(As({},b),{},{tickCoord:b.coordinate});var N=tj(e,b.tickCoord,y,c,d);N&&(d=b.tickCoord-e*(y()/2+a),i[g]=As(As({},b),{},{isShow:!0}))},f=o-1;f>=0;f--)m(f);return i}function wIe(e,t,r,s,a,i){var o=(s||[]).slice(),c=o.length,d=t.start,m=t.end;if(i){var f=s[c-1],h=r(f,c-1),g=e*(f.coordinate+e*h/2-m);o[c-1]=f=As(As({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var b=tj(e,f.tickCoord,function(){return h},d,m);b&&(m=f.tickCoord-e*(h/2+a),o[c-1]=As(As({},f),{},{isShow:!0}))}for(var w=i?c-1:c,y=function(C){var E=o[C],T,A=function(){return T===void 0&&(T=r(E,C)),T};if(C===0){var k=e*(E.coordinate-e*A()/2-d);o[C]=E=As(As({},E),{},{tickCoord:k<0?E.coordinate-k*e:E.coordinate})}else o[C]=E=As(As({},E),{},{tickCoord:E.coordinate});var P=tj(e,E.tickCoord,A,d,m);P&&(d=E.tickCoord+e*(A()/2+a),o[C]=As(As({},E),{},{isShow:!0}))},j=0;j<w;j++)y(j);return o}function oM(e,t,r){var s=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,c=e.orientation,d=e.interval,m=e.tickFormatter,f=e.unit,h=e.angle;if(!a||!a.length||!s)return[];if(Ie(d)||ou.isSsr)return gIe(a,typeof d=="number"&&Ie(d)?d:0);var g=[],b=c==="top"||c==="bottom"?"width":"height",w=f&&b==="width"?vg(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(E,T){var A=vt(m)?m(E.value,T):E.value;return b==="width"?hIe(vg(A,{fontSize:t,letterSpacing:r}),w,h):vg(A,{fontSize:t,letterSpacing:r})[b]},j=a.length>=2?Ks(a[1].coordinate-a[0].coordinate):1,N=pIe(i,j,b);return d==="equidistantPreserveStart"?xIe(j,N,y,a,o):(d==="preserveStart"||d==="preserveStartEnd"?g=wIe(j,N,y,a,o,d==="preserveStartEnd"):g=jIe(j,N,y,a,o),g.filter(function(C){return C.isShow}))}var NIe=["viewBox"],SIe=["viewBox"],CIe=["ticks"];function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},uf.apply(this,arguments)}function OB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(r),!0).forEach(function(s){lM(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function s_(e,t){if(e==null)return{};var r=AIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function AIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function EIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kB(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,DZ(s.key),s)}}function _Ie(e,t,r){return t&&kB(e.prototype,t),r&&kB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TIe(e,t,r){return t=nj(t),PIe(e,RZ()?Reflect.construct(t,r||[],nj(e).constructor):t.apply(e,r))}function PIe(e,t){if(t&&(eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OIe(e)}function OIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RZ=function(){return!!e})()}function nj(e){return nj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nj(e)}function kIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LP(e,t)}function LP(e,t){return LP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},LP(e,t)}function lM(e,t,r){return t=DZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=MIe(e,"string");return eh(t)=="symbol"?t:t+""}function MIe(e,t){if(eh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(eh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Th=(function(e){function t(r){var s;return EIe(this,t),s=TIe(this,t,[r]),s.state={fontSize:"",letterSpacing:""},s}return kIe(t,e),_Ie(t,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=s_(s,NIe),c=this.props,d=c.viewBox,m=s_(c,SIe);return!wf(i,d)||!wf(o,m)||!wf(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,c=a.width,d=a.height,m=a.orientation,f=a.tickSize,h=a.mirror,g=a.tickMargin,b,w,y,j,N,C,E=h?-1:1,T=s.tickSize||f,A=Ie(s.tickCoord)?s.tickCoord:s.coordinate;switch(m){case"top":b=w=s.coordinate,j=o+ +!h*d,y=j-E*T,C=y-E*g,N=A;break;case"left":y=j=s.coordinate,w=i+ +!h*c,b=w-E*T,N=b-E*g,C=A;break;case"right":y=j=s.coordinate,w=i+ +h*c,b=w+E*T,N=b+E*g,C=A;break;default:b=w=s.coordinate,j=o+ +h*d,y=j+E*T,C=y+E*g,N=A;break}return{line:{x1:b,y1:y,x2:w,y2:j},tick:{x:N,y:C}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,c=s.height,d=s.orientation,m=s.mirror,f=s.axisLine,h=zr(zr(zr({},nt(this.props,!1)),nt(f,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!m||d==="bottom"&&m);h=zr(zr({},h),{},{x1:a,y1:i+g*c,x2:a+o,y2:i+g*c})}else{var b=+(d==="left"&&!m||d==="right"&&m);h=zr(zr({},h),{},{x1:a+b*o,y1:i,x2:a+b*o,y2:i+c})}return J.createElement("line",uf({},h,{className:Et("recharts-cartesian-axis-line",La(f,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,c=this.props,d=c.tickLine,m=c.stroke,f=c.tick,h=c.tickFormatter,g=c.unit,b=oM(zr(zr({},this.props),{},{ticks:s}),a,i),w=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),j=nt(this.props,!1),N=nt(f,!1),C=zr(zr({},j),{},{fill:"none"},nt(d,!1)),E=b.map(function(T,A){var k=o.getTickLineCoord(T),P=k.line,O=k.tick,M=zr(zr(zr(zr({textAnchor:w,verticalAnchor:y},j),{},{stroke:"none",fill:m},N),O),{},{index:A,payload:T,visibleTicksCount:b.length,tickFormatter:h});return J.createElement(Ht,uf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Od(o.props,T,A)),d&&J.createElement("line",uf({},C,P,{className:Et("recharts-cartesian-axis-tick-line",La(d,"className"))})),f&&t.renderTickItem(f,M,"".concat(vt(h)?h(T.value,A):T.value).concat(g||"")))});return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,c=a.height,d=a.ticksGenerator,m=a.className,f=a.hide;if(f)return null;var h=this.props,g=h.ticks,b=s_(h,CIe),w=g;return vt(d)&&(w=g&&g.length>0?d(this.props):d(b)),o<=0||c<=0||!w||!w.length?null:J.createElement(Ht,{className:Et("recharts-cartesian-axis",m),ref:function(j){s.layerReference=j}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),es.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,c=Et(a.className,"recharts-cartesian-axis-tick-value");return J.isValidElement(s)?o=J.cloneElement(s,zr(zr({},a),{},{className:c})):vt(s)?o=s(zr(zr({},a),{},{className:c})):o=J.createElement(kd,uf({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(v.Component);lM(Th,"displayName","CartesianAxis");lM(Th,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RIe=["x1","y1","x2","y2","key"],DIe=["offset"];function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function MB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MB(Object(r),!0).forEach(function(s){IIe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function IIe(e,t,r){return t=LIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LIe(e){var t=$Ie(e,"string");return Id(t)=="symbol"?t:t+""}function $Ie(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(Id(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},id.apply(this,arguments)}function RB(e,t){if(e==null)return{};var r=zIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function zIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}var qIe=function(t){var r=t.fill;if(!r||r==="none")return null;var s=t.fillOpacity,a=t.x,i=t.y,o=t.width,c=t.height,d=t.ry;return J.createElement("rect",{x:a,y:i,ry:d,width:o,height:c,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function IZ(e,t){var r;if(J.isValidElement(e))r=J.cloneElement(e,t);else if(vt(e))r=e(t);else{var s=t.x1,a=t.y1,i=t.x2,o=t.y2,c=t.key,d=RB(t,RIe),m=nt(d,!1);m.offset;var f=RB(m,DIe);r=J.createElement("line",id({},f,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:c}))}return r}function FIe(e){var t=e.x,r=e.width,s=e.horizontal,a=s===void 0?!0:s,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(c,d){var m=Es(Es({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return IZ(a,m)});return J.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function BIe(e){var t=e.y,r=e.height,s=e.vertical,a=s===void 0?!0:s,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(c,d){var m=Es(Es({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return IZ(a,m)});return J.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function UIe(e){var t=e.horizontalFill,r=e.fillOpacity,s=e.x,a=e.y,i=e.width,o=e.height,c=e.horizontalPoints,d=e.horizontal,m=d===void 0?!0:d;if(!m||!t||!t.length)return null;var f=c.map(function(g){return Math.round(g+a-a)}).sort(function(g,b){return g-b});a!==f[0]&&f.unshift(0);var h=f.map(function(g,b){var w=!f[b+1],y=w?a+o-g:f[b+1]-g;if(y<=0)return null;var j=b%t.length;return J.createElement("rect",{key:"react-".concat(b),y:g,x:s,height:y,width:i,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function VIe(e){var t=e.vertical,r=t===void 0?!0:t,s=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,c=e.width,d=e.height,m=e.verticalPoints;if(!r||!s||!s.length)return null;var f=m.map(function(g){return Math.round(g+i-i)}).sort(function(g,b){return g-b});i!==f[0]&&f.unshift(0);var h=f.map(function(g,b){var w=!f[b+1],y=w?i+c-g:f[b+1]-g;if(y<=0)return null;var j=b%s.length;return J.createElement("rect",{key:"react-".concat(b),x:g,y:o,width:y,height:d,stroke:"none",fill:s[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return J.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var KIe=function(t,r){var s=t.xAxis,a=t.width,i=t.height,o=t.offset;return LX(oM(Es(Es(Es({},Th.defaultProps),s),{},{ticks:yl(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},HIe=function(t,r){var s=t.yAxis,a=t.width,i=t.height,o=t.offset;return LX(oM(Es(Es(Es({},Th.defaultProps),s),{},{ticks:yl(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Wm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function fo(e){var t,r,s,a,i,o,c=rM(),d=sM(),m=M6e(),f=Es(Es({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Wm.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Wm.fill,horizontal:(s=e.horizontal)!==null&&s!==void 0?s:Wm.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Wm.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Wm.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Wm.verticalFill,x:Ie(e.x)?e.x:m.left,y:Ie(e.y)?e.y:m.top,width:Ie(e.width)?e.width:m.width,height:Ie(e.height)?e.height:m.height}),h=f.x,g=f.y,b=f.width,w=f.height,y=f.syncWithTicks,j=f.horizontalValues,N=f.verticalValues,C=P6e(),E=O6e();if(!Ie(b)||b<=0||!Ie(w)||w<=0||!Ie(h)||h!==+h||!Ie(g)||g!==+g)return null;var T=f.verticalCoordinatesGenerator||KIe,A=f.horizontalCoordinatesGenerator||HIe,k=f.horizontalPoints,P=f.verticalPoints;if((!k||!k.length)&&vt(A)){var O=j&&j.length,M=A({yAxis:E?Es(Es({},E),{},{ticks:O?j:E.ticks}):void 0,width:c,height:d,offset:m},O?!0:y);Bi(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Id(M),"]")),Array.isArray(M)&&(k=M)}if((!P||!P.length)&&vt(T)){var F=N&&N.length,D=T({xAxis:C?Es(Es({},C),{},{ticks:F?N:C.ticks}):void 0,width:c,height:d,offset:m},F?!0:y);Bi(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Id(D),"]")),Array.isArray(D)&&(P=D)}return J.createElement("g",{className:"recharts-cartesian-grid"},J.createElement(qIe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),J.createElement(FIe,id({},f,{offset:m,horizontalPoints:k,xAxis:C,yAxis:E})),J.createElement(BIe,id({},f,{offset:m,verticalPoints:P,xAxis:C,yAxis:E})),J.createElement(UIe,id({},f,{horizontalPoints:k})),J.createElement(VIe,id({},f,{verticalPoints:P})))}fo.displayName="CartesianGrid";var GIe=["type","layout","connectNulls","ref"],WIe=["key"];function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function DB(e,t){if(e==null)return{};var r=YIe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function YIe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Cg.apply(this,arguments)}function IB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IB(Object(r),!0).forEach(function(s){Mi(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ym(e){return JIe(e)||ZIe(e)||XIe(e)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XIe(e,t){if(e){if(typeof e=="string")return $P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(e,t)}}function ZIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JIe(e){if(Array.isArray(e))return $P(e)}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function eLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LB(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,$Z(s.key),s)}}function tLe(e,t,r){return t&&LB(e.prototype,t),r&&LB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nLe(e,t,r){return t=rj(t),rLe(e,LZ()?Reflect.construct(t,r||[],rj(e).constructor):t.apply(e,r))}function rLe(e,t){if(t&&(th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sLe(e)}function sLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LZ=function(){return!!e})()}function rj(e){return rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rj(e)}function aLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zP(e,t)}function zP(e,t){return zP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zP(e,t)}function Mi(e,t,r){return t=$Z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=iLe(e,"string");return th(t)=="symbol"?t:t+""}function iLe(e,t){if(th(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(th(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xd=(function(e){function t(){var r;eLe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=nLe(this,t,[].concat(a)),Mi(r,"state",{isAnimationFinished:!0,totalLength:0}),Mi(r,"generateSimpleStrokeDasharray",function(o,c){return"".concat(c,"px ").concat(o-c,"px")}),Mi(r,"getStrokeDasharray",function(o,c,d){var m=d.reduce(function(N,C){return N+C});if(!m)return r.generateSimpleStrokeDasharray(c,o);for(var f=Math.floor(o/m),h=o%m,g=c-o,b=[],w=0,y=0;w<d.length;y+=d[w],++w)if(y+d[w]>h){b=[].concat(Ym(d.slice(0,w)),[h-y]);break}var j=b.length%2===0?[0,g]:[g];return[].concat(Ym(t.repeat(d,f)),Ym(b),j).map(function(N){return"".concat(N,"px")}).join(", ")}),Mi(r,"id",Wd("recharts-line-")),Mi(r,"pathRef",function(o){r.mainCurve=o}),Mi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Mi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return aLe(t,e),tLe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,c=i.xAxis,d=i.yAxis,m=i.layout,f=i.children,h=$a(f,cy);if(!h)return null;var g=function(y,j){return{x:y.x,y:y.y,value:y.value,errorVal:yr(y.payload,j)}},b={clipPath:s?"url(#clipPath-".concat(a,")"):null};return J.createElement(Ht,b,h.map(function(w){return J.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:c,yAxis:d,layout:m,dataPointFormatter:g})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,m=c.points,f=c.dataKey,h=nt(this.props,!1),g=nt(d,!0),b=m.map(function(y,j){var N=Sa(Sa(Sa({key:"dot-".concat(j),r:3},h),g),{},{index:j,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:m});return t.renderDotItem(d,N)}),w={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return J.createElement(Ht,Cg({className:"recharts-line-dots",key:"dots"},w),b)}},{key:"renderCurveStatically",value:function(s,a,i,o){var c=this.props,d=c.type,m=c.layout,f=c.connectNulls;c.ref;var h=DB(c,GIe),g=Sa(Sa(Sa({},nt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:d,layout:m,connectNulls:f});return J.createElement(gd,Cg({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,c=o.points,d=o.strokeDasharray,m=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,g=o.animationEasing,b=o.animationId,w=o.animateNewValues,y=o.width,j=o.height,N=this.state,C=N.prevPoints,E=N.totalLength;return J.createElement(Wi,{begin:f,duration:h,isActive:m,easing:g,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var A=T.t;if(C){var k=C.length/c.length,P=c.map(function($,V){var z=Math.floor(V*k);if(C[z]){var q=C[z],I=Kr(q.x,$.x),K=Kr(q.y,$.y);return Sa(Sa({},$),{},{x:I(A),y:K(A)})}if(w){var U=Kr(y*2,$.x),B=Kr(j/2,$.y);return Sa(Sa({},$),{},{x:U(A),y:B(A)})}return Sa(Sa({},$),{},{x:$.x,y:$.y})});return i.renderCurveStatically(P,s,a)}var O=Kr(0,E),M=O(A),F;if(d){var D="".concat(d).split(/[,\s]+/gim).map(function($){return parseFloat($)});F=i.getStrokeDasharray(M,E,D)}else F=i.generateSimpleStrokeDasharray(E,M);return i.renderCurveStatically(c,s,a,{strokeDasharray:F})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,c=i.isAnimationActive,d=this.state,m=d.prevPoints,f=d.totalLength;return c&&o&&o.length&&(!m&&f>0||!Md(m,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,c=a.points,d=a.className,m=a.xAxis,f=a.yAxis,h=a.top,g=a.left,b=a.width,w=a.height,y=a.isAnimationActive,j=a.id;if(i||!c||!c.length)return null;var N=this.state.isAnimationFinished,C=c.length===1,E=Et("recharts-line",d),T=m&&m.allowDataOverflow,A=f&&f.allowDataOverflow,k=T||A,P=At(j)?this.id:j,O=(s=nt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=O.r,F=M===void 0?3:M,D=O.strokeWidth,$=D===void 0?2:D,V=zY(o)?o:{},z=V.clipDot,q=z===void 0?!0:z,I=F*2+$;return J.createElement(Ht,{className:E},T||A?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(P)},J.createElement("rect",{x:T?g:g-b/2,y:A?h:h-w/2,width:T?b:b*2,height:A?w:w*2})),!q&&J.createElement("clipPath",{id:"clipPath-dots-".concat(P)},J.createElement("rect",{x:g-I/2,y:h-I/2,width:b+I,height:w+I}))):null,!C&&this.renderCurve(k,P),this.renderErrorBar(k,P),(C||o)&&this.renderDots(k,q,P),(!y||N)&&_o.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(Ym(s),[0]):s,o=[],c=0;c<a;++c)o=[].concat(Ym(o),Ym(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(J.isValidElement(s))i=J.cloneElement(s,a);else if(vt(s))i=s(a);else{var o=a.key,c=DB(a,WIe),d=Et("recharts-line-dot",typeof s!="boolean"?s.className:"");i=J.createElement(uy,Cg({key:o},c,{className:d}))}return i}}])})(v.PureComponent);Mi(xd,"displayName","Line");Mi(xd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ou.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mi(xd,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,c=e.bandSize,d=e.displayedData,m=e.offset,f=t.layout,h=d.map(function(g,b){var w=yr(g,o);return f==="horizontal"?{x:Rb({axis:r,ticks:a,bandSize:c,entry:g,index:b}),y:At(w)?null:s.scale(w),value:w,payload:g}:{x:At(w)?null:r.scale(w),y:Rb({axis:s,ticks:i,bandSize:c,entry:g,index:b}),value:w,payload:g}});return Sa({points:h,layout:f},m)});var oLe=["layout","type","stroke","connectNulls","isRange","ref"],lLe=["key"],zZ;function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function qZ(e,t){if(e==null)return{};var r=cLe(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function cLe(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},od.apply(this,arguments)}function $B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$B(Object(r),!0).forEach(function(s){bo(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$B(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function uLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zB(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,BZ(s.key),s)}}function dLe(e,t,r){return t&&zB(e.prototype,t),r&&zB(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mLe(e,t,r){return t=sj(t),fLe(e,FZ()?Reflect.construct(t,r||[],sj(e).constructor):t.apply(e,r))}function fLe(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hLe(e)}function hLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FZ=function(){return!!e})()}function sj(e){return sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sj(e)}function pLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qP(e,t)}function qP(e,t){return qP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},qP(e,t)}function bo(e,t,r){return t=BZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BZ(e){var t=gLe(e,"string");return nh(t)=="symbol"?t:t+""}function gLe(e,t){if(nh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(nh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pa=(function(e){function t(){var r;uLe(this,t);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=mLe(this,t,[].concat(a)),bo(r,"state",{isAnimationFinished:!0}),bo(r,"id",Wd("recharts-area-")),bo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),vt(o)&&o()}),bo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),vt(o)&&o()}),r}return pLe(t,e),dLe(t,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var d=this.props,m=d.dot,f=d.points,h=d.dataKey,g=nt(this.props,!1),b=nt(m,!0),w=f.map(function(j,N){var C=Rc(Rc(Rc({key:"dot-".concat(N),r:3},g),b),{},{index:N,cx:j.x,cy:j.y,dataKey:h,value:j.value,payload:j.payload,points:f});return t.renderDotItem(m,C)}),y={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return J.createElement(Ht,od({className:"recharts-area-dots"},y),w)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,c=a.strokeWidth,d=o[0].x,m=o[o.length-1].x,f=s*Math.abs(d-m),h=Lc(o.map(function(g){return g.y||0}));return Ie(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Lc(i.map(function(g){return g.y||0})),h)),Ie(h)?J.createElement("rect",{x:d<m?d:d-f,y:0,width:f,height:Math.floor(h+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,c=a.strokeWidth,d=o[0].y,m=o[o.length-1].y,f=s*Math.abs(d-m),h=Lc(o.map(function(g){return g.x||0}));return Ie(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Lc(i.map(function(g){return g.x||0})),h)),Ie(h)?J.createElement("rect",{x:0,y:d<m?d:d-f,width:h+(c?parseInt("".concat(c),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var c=this.props,d=c.layout,m=c.type,f=c.stroke,h=c.connectNulls,g=c.isRange;c.ref;var b=qZ(c,oLe);return J.createElement(Ht,{clipPath:i?"url(#clipPath-".concat(o,")"):null},J.createElement(gd,od({},nt(b,!0),{points:s,connectNulls:h,type:m,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),f!=="none"&&J.createElement(gd,od({},nt(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:h,fill:"none",points:s})),f!=="none"&&g&&J.createElement(gd,od({},nt(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,c=o.points,d=o.baseLine,m=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,g=o.animationEasing,b=o.animationId,w=this.state,y=w.prevPoints,j=w.prevBaseLine;return J.createElement(Wi,{begin:f,duration:h,isActive:m,easing:g,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var C=N.t;if(y){var E=y.length/c.length,T=c.map(function(O,M){var F=Math.floor(M*E);if(y[F]){var D=y[F],$=Kr(D.x,O.x),V=Kr(D.y,O.y);return Rc(Rc({},O),{},{x:$(C),y:V(C)})}return O}),A;if(Ie(d)&&typeof d=="number"){var k=Kr(j,d);A=k(C)}else if(At(d)||Sh(d)){var P=Kr(j,0);A=P(C)}else A=d.map(function(O,M){var F=Math.floor(M*E);if(j[F]){var D=j[F],$=Kr(D.x,O.x),V=Kr(D.y,O.y);return Rc(Rc({},O),{},{x:$(C),y:V(C)})}return O});return i.renderAreaStatically(T,A,s,a)}return J.createElement(Ht,null,J.createElement("defs",null,J.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(C))),J.createElement(Ht,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(c,d,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,c=i.baseLine,d=i.isAnimationActive,m=this.state,f=m.prevPoints,h=m.prevBaseLine,g=m.totalLength;return d&&o&&o.length&&(!f&&g>0||!Md(f,o)||!Md(h,c))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,c,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,c=a.points,d=a.className,m=a.top,f=a.left,h=a.xAxis,g=a.yAxis,b=a.width,w=a.height,y=a.isAnimationActive,j=a.id;if(i||!c||!c.length)return null;var N=this.state.isAnimationFinished,C=c.length===1,E=Et("recharts-area",d),T=h&&h.allowDataOverflow,A=g&&g.allowDataOverflow,k=T||A,P=At(j)?this.id:j,O=(s=nt(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},M=O.r,F=M===void 0?3:M,D=O.strokeWidth,$=D===void 0?2:D,V=zY(o)?o:{},z=V.clipDot,q=z===void 0?!0:z,I=F*2+$;return J.createElement(Ht,{className:E},T||A?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(P)},J.createElement("rect",{x:T?f:f-b/2,y:A?m:m-w/2,width:T?b:b*2,height:A?w:w*2})),!q&&J.createElement("clipPath",{id:"clipPath-dots-".concat(P)},J.createElement("rect",{x:f-I/2,y:m-I/2,width:b+I,height:w+I}))):null,C?null:this.renderArea(k,P),(o||C)&&this.renderDots(k,q,P),(!y||N)&&_o.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])})(v.PureComponent);zZ=Pa;bo(Pa,"displayName","Area");bo(Pa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ou.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bo(Pa,"getBaseValue",function(e,t,r,s){var a=e.layout,i=e.baseValue,o=t.props.baseValue,c=o??i;if(Ie(c)&&typeof c=="number")return c;var d=a==="horizontal"?s:r,m=d.scale.domain();if(d.type==="number"){var f=Math.max(m[0],m[1]),h=Math.min(m[0],m[1]);return c==="dataMin"?h:c==="dataMax"||f<0?f:Math.max(Math.min(m[0],m[1]),0)}return c==="dataMin"?m[0]:c==="dataMax"?m[1]:m[0]});bo(Pa,"getComposedData",function(e){var t=e.props,r=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,c=e.bandSize,d=e.dataKey,m=e.stackedData,f=e.dataStartIndex,h=e.displayedData,g=e.offset,b=t.layout,w=m&&m.length,y=zZ.getBaseValue(t,r,s,a),j=b==="horizontal",N=!1,C=h.map(function(T,A){var k;w?k=m[f+A]:(k=yr(T,d),Array.isArray(k)?N=!0:k=[y,k]);var P=k[1]==null||w&&yr(T,d)==null;return j?{x:Rb({axis:s,ticks:i,bandSize:c,entry:T,index:A}),y:P?null:a.scale(k[1]),value:k,payload:T}:{x:P?null:s.scale(k[1]),y:Rb({axis:a,ticks:o,bandSize:c,entry:T,index:A}),value:k,payload:T}}),E;return w||N?E=C.map(function(T){var A=Array.isArray(T.value)?T.value[0]:null;return j?{x:T.x,y:A!=null&&T.y!=null?a.scale(A):null}:{x:A!=null?s.scale(A):null,y:T.y}}):E=j?a.scale(y):s.scale(y),Rc({points:C,baseLine:E,layout:b,isRange:N},g)});bo(Pa,"renderDotItem",function(e,t){var r;if(J.isValidElement(e))r=J.cloneElement(e,t);else if(vt(e))r=e(t);else{var s=Et("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=qZ(t,lLe);r=J.createElement(uy,od({},i,{key:a,className:s}))}return r});function rh(e){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rh(e)}function xLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yLe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,KZ(s.key),s)}}function vLe(e,t,r){return t&&yLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bLe(e,t,r){return t=aj(t),jLe(e,UZ()?Reflect.construct(t,r||[],aj(e).constructor):t.apply(e,r))}function jLe(e,t){if(t&&(rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wLe(e)}function wLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UZ=function(){return!!e})()}function aj(e){return aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aj(e)}function NLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FP(e,t)}function FP(e,t){return FP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},FP(e,t)}function VZ(e,t,r){return t=KZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=SLe(e,"string");return rh(t)=="symbol"?t:t+""}function SLe(e,t){if(rh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(rh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function BP(){return BP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},BP.apply(this,arguments)}function CLe(e){var t=e.xAxisId,r=rM(),s=sM(),a=CZ(t);return a==null?null:v.createElement(Th,BP({},a,{className:Et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return yl(o,!0)}}))}var sa=(function(e){function t(){return xLe(this,t),bLe(this,t,arguments)}return NLe(t,e),vLe(t,[{key:"render",value:function(){return v.createElement(CLe,this.props)}}])})(v.Component);VZ(sa,"displayName","XAxis");VZ(sa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function ALe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ELe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,WZ(s.key),s)}}function _Le(e,t,r){return t&&ELe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function TLe(e,t,r){return t=ij(t),PLe(e,HZ()?Reflect.construct(t,r||[],ij(e).constructor):t.apply(e,r))}function PLe(e,t){if(t&&(sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OLe(e)}function OLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HZ=function(){return!!e})()}function ij(e){return ij=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ij(e)}function kLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UP(e,t)}function UP(e,t){return UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},UP(e,t)}function GZ(e,t,r){return t=WZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WZ(e){var t=MLe(e,"string");return sh(t)=="symbol"?t:t+""}function MLe(e,t){if(sh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(sh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VP(){return VP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},VP.apply(this,arguments)}var RLe=function(t){var r=t.yAxisId,s=rM(),a=sM(),i=AZ(r);return i==null?null:v.createElement(Th,VP({},i,{className:Et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(c){return yl(c,!0)}}))},aa=(function(e){function t(){return ALe(this,t),TLe(this,t,arguments)}return kLe(t,e),_Le(t,[{key:"render",value:function(){return v.createElement(RLe,this.props)}}])})(v.Component);GZ(aa,"displayName","YAxis");GZ(aa,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function qB(e){return $Le(e)||LLe(e)||ILe(e)||DLe()}function DLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ILe(e,t){if(e){if(typeof e=="string")return KP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KP(e,t)}}function LLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Le(e){if(Array.isArray(e))return KP(e)}function KP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}var HP=function(t,r,s,a,i){var o=$a(t,iM),c=$a(t,Lw),d=[].concat(qB(o),qB(c)),m=$a(t,zw),f="".concat(a,"Id"),h=a[0],g=r;if(d.length&&(g=d.reduce(function(y,j){if(j.props[f]===s&&To(j.props,"extendDomain")&&Ie(j.props[h])){var N=j.props[h];return[Math.min(y[0],N),Math.max(y[1],N)]}return y},g)),m.length){var b="".concat(h,"1"),w="".concat(h,"2");g=m.reduce(function(y,j){if(j.props[f]===s&&To(j.props,"extendDomain")&&Ie(j.props[b])&&Ie(j.props[w])){var N=j.props[b],C=j.props[w];return[Math.min(y[0],N,C),Math.max(y[1],N,C)]}return y},g)}return i&&i.length&&(g=i.reduce(function(y,j){return Ie(j)?[Math.min(y[0],j),Math.max(y[1],j)]:y},g)),g},a_={exports:{}},FB;function zLe(){return FB||(FB=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(d,m,f){this.fn=d,this.context=m,this.once=f||!1}function i(d,m,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new a(f,h||d,g),w=r?r+m:m;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],b]:d._events[w].push(b):(d._events[w]=b,d._eventsCount++),d}function o(d,m){--d._eventsCount===0?d._events=new s:delete d._events[m]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var m=[],f,h;if(this._eventsCount===0)return m;for(h in f=this._events)t.call(f,h)&&m.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(f)):m},c.prototype.listeners=function(m){var f=r?r+m:m,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,b=h.length,w=new Array(b);g<b;g++)w[g]=h[g].fn;return w},c.prototype.listenerCount=function(m){var f=r?r+m:m,h=this._events[f];return h?h.fn?1:h.length:0},c.prototype.emit=function(m,f,h,g,b,w){var y=r?r+m:m;if(!this._events[y])return!1;var j=this._events[y],N=arguments.length,C,E;if(j.fn){switch(j.once&&this.removeListener(m,j.fn,void 0,!0),N){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,f),!0;case 3:return j.fn.call(j.context,f,h),!0;case 4:return j.fn.call(j.context,f,h,g),!0;case 5:return j.fn.call(j.context,f,h,g,b),!0;case 6:return j.fn.call(j.context,f,h,g,b,w),!0}for(E=1,C=new Array(N-1);E<N;E++)C[E-1]=arguments[E];j.fn.apply(j.context,C)}else{var T=j.length,A;for(E=0;E<T;E++)switch(j[E].once&&this.removeListener(m,j[E].fn,void 0,!0),N){case 1:j[E].fn.call(j[E].context);break;case 2:j[E].fn.call(j[E].context,f);break;case 3:j[E].fn.call(j[E].context,f,h);break;case 4:j[E].fn.call(j[E].context,f,h,g);break;default:if(!C)for(A=1,C=new Array(N-1);A<N;A++)C[A-1]=arguments[A];j[E].fn.apply(j[E].context,C)}}return!0},c.prototype.on=function(m,f,h){return i(this,m,f,h,!1)},c.prototype.once=function(m,f,h){return i(this,m,f,h,!0)},c.prototype.removeListener=function(m,f,h,g){var b=r?r+m:m;if(!this._events[b])return this;if(!f)return o(this,b),this;var w=this._events[b];if(w.fn)w.fn===f&&(!g||w.once)&&(!h||w.context===h)&&o(this,b);else{for(var y=0,j=[],N=w.length;y<N;y++)(w[y].fn!==f||g&&!w[y].once||h&&w[y].context!==h)&&j.push(w[y]);j.length?this._events[b]=j.length===1?j[0]:j:o(this,b)}return this},c.prototype.removeAllListeners=function(m){var f;return m?(f=r?r+m:m,this._events[f]&&o(this,f)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(a_)),a_.exports}var qLe=zLe();const FLe=yn(qLe);var i_=new FLe,o_="recharts.syncMouseEvents";function $x(e){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$x(e)}function BLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ULe(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,YZ(s.key),s)}}function VLe(e,t,r){return t&&ULe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l_(e,t,r){return t=YZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=KLe(e,"string");return $x(t)=="symbol"?t:t+""}function KLe(e,t){if($x(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if($x(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HLe=(function(){function e(){BLe(this,e),l_(this,"activeIndex",0),l_(this,"coordinateList",[]),l_(this,"layout","horizontal")}return VLe(e,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,c=o===void 0?null:o,d=r.layout,m=d===void 0?null:d,f=r.offset,h=f===void 0?null:f,g=r.mouseHandlerCallback,b=g===void 0?null:g;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=c??this.container,this.layout=m??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,m=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+d+m,g=o+this.offset.top+c/2+f;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])})();function GLe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var s=e?.[0],a=e?.[1];if(s&&a&&Ie(s)&&Ie(a))return!0}return!1}function WLe(e,t,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?s:r.width-1,height:e==="horizontal"?r.height-1:s}}function QZ(e){var t=e.cx,r=e.cy,s=e.radius,a=e.startAngle,i=e.endAngle,o=Fn(t,r,s,a),c=Fn(t,r,s,i);return{points:[o,c],cx:t,cy:r,radius:s,startAngle:a,endAngle:i}}function YLe(e,t,r){var s,a,i,o;if(e==="horizontal")s=t.x,i=s,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,s=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,d=t.cy,m=t.innerRadius,f=t.outerRadius,h=t.angle,g=Fn(c,d,m,h),b=Fn(c,d,f,h);s=g.x,a=g.y,i=b.x,o=b.y}else return QZ(t);return[{x:s,y:a},{x:i,y:o}]}function zx(e){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zx(e)}function BB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BB(Object(r),!0).forEach(function(s){QLe(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function QLe(e,t,r){return t=XLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XLe(e){var t=ZLe(e,"string");return zx(t)=="symbol"?t:t+""}function ZLe(e,t){if(zx(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(zx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JLe(e){var t,r,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,c=e.activePayload,d=e.offset,m=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,g=e.chartName,b=(t=s.props.cursor)!==null&&t!==void 0?t:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!b||!i||!o||g!=="ScatterChart"&&a!=="axis")return null;var w,y=gd;if(g==="ScatterChart")w=o,y=dRe;else if(g==="BarChart")w=WLe(h,o,d,f),y=Zk;else if(h==="radial"){var j=QZ(o),N=j.cx,C=j.cy,E=j.radius,T=j.startAngle,A=j.endAngle;w={cx:N,cy:C,startAngle:T,endAngle:A,innerRadius:E,outerRadius:E},y=WX}else w={points:YLe(h,o,d)},y=gd;var k=l0(l0(l0(l0({stroke:"#ccc",pointerEvents:"none"},d),w),nt(b,!1)),{},{payload:c,payloadIndex:m,className:Et("recharts-tooltip-cursor",b.className)});return v.isValidElement(b)?v.cloneElement(b,k):v.createElement(y,k)}var e3e=["item"],t3e=["children","className","width","height","style","compact","title","desc"];function ah(e){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},df.apply(this,arguments)}function UB(e,t){return s3e(e)||r3e(e,t)||ZZ(e,t)||n3e()}function n3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,i,o,c=[],d=!0,m=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(s=i.call(r)).done)&&(c.push(s.value),c.length!==t);d=!0);}catch(f){m=!0,a=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(m)throw a}}return c}}function s3e(e){if(Array.isArray(e))return e}function VB(e,t){if(e==null)return{};var r=a3e(e,t),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)s=i[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function a3e(e,t){if(e==null)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}function i3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o3e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,JZ(s.key),s)}}function l3e(e,t,r){return t&&o3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c3e(e,t,r){return t=oj(t),u3e(e,XZ()?Reflect.construct(t,r||[],oj(e).constructor):t.apply(e,r))}function u3e(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3e(e)}function d3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XZ=function(){return!!e})()}function oj(e){return oj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oj(e)}function m3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GP(e,t)}function GP(e,t){return GP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},GP(e,t)}function ih(e){return p3e(e)||h3e(e)||ZZ(e)||f3e()}function f3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZZ(e,t){if(e){if(typeof e=="string")return WP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WP(e,t)}}function h3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p3e(e){if(Array.isArray(e))return WP(e)}function WP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function KB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KB(Object(r),!0).forEach(function(s){yt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function yt(e,t,r){return t=JZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JZ(e){var t=g3e(e,"string");return ah(t)=="symbol"?t:t+""}function g3e(e,t){if(ah(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(ah(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x3e={xAxis:["bottom","top"],yAxis:["left","right"]},y3e={width:"100%",height:"100%"},eJ={x:0,y:0};function c0(e){return e}var v3e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},b3e=function(t,r,s,a){var i=r.find(function(f){return f&&f.index===s});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,c=a.radius;return Ne(Ne(Ne({},a),Fn(a.cx,a.cy,c,o)),{},{angle:o,radius:c})}var d=i.coordinate,m=a.angle;return Ne(Ne(Ne({},a),Fn(a.cx,a.cy,d,m)),{},{angle:m,radius:d})}return eJ},qw=function(t,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(c,d){var m=d.props.data;return m&&m.length?[].concat(ih(c),ih(m)):c},[]);return o.length>0?o:t&&t.length&&Ie(a)&&Ie(i)?t.slice(a,i+1):[]};function tJ(e){return e==="number"?[0,"auto"]:void 0}var YP=function(t,r,s,a){var i=t.graphicalItems,o=t.tooltipAxis,c=qw(r,t);return s<0||!i||!i.length||s>=c.length?null:i.reduce(function(d,m){var f,h=(f=m.props.data)!==null&&f!==void 0?f:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=s&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var b=h===void 0?c:h;g=cb(b,o.dataKey,a)}else g=h&&h[s]||c[s];return g?[].concat(ih(d),[BX(m,g)]):d},[])},HB=function(t,r,s,a){var i=a||{x:t.chartX,y:t.chartY},o=v3e(i,s),c=t.orderedTooltipTicks,d=t.tooltipAxis,m=t.tooltipTicks,f=$Oe(o,c,m,d);if(f>=0&&m){var h=m[f]&&m[f].value,g=YP(t,r,f,h),b=b3e(s,c,f,i);return{activeTooltipIndex:f,activeLabel:h,activePayload:g,activeCoordinate:b}}return null},j3e=function(t,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,f=t.layout,h=t.children,g=t.stackOffset,b=IX(f,i);return s.reduce(function(w,y){var j,N=y.type.defaultProps!==void 0?Ne(Ne({},y.type.defaultProps),y.props):y.props,C=N.type,E=N.dataKey,T=N.allowDataOverflow,A=N.allowDuplicatedCategory,k=N.scale,P=N.ticks,O=N.includeHidden,M=N[o];if(w[M])return w;var F=qw(t.data,{graphicalItems:a.filter(function(Y){var se,he=o in Y.props?Y.props[o]:(se=Y.type.defaultProps)===null||se===void 0?void 0:se[o];return he===M}),dataStartIndex:d,dataEndIndex:m}),D=F.length,$,V,z;GLe(N.domain,T,C)&&($=lP(N.domain,null,T),b&&(C==="number"||k!=="auto")&&(z=jg(F,E,"category")));var q=tJ(C);if(!$||$.length===0){var I,K=(I=N.domain)!==null&&I!==void 0?I:q;if(E){if($=jg(F,E,C),C==="category"&&b){var U=kSe($);A&&U?(V=$,$=Gb(0,D)):A||($=H8(K,$,y).reduce(function(Y,se){return Y.indexOf(se)>=0?Y:[].concat(ih(Y),[se])},[]))}else if(C==="category")A?$=$.filter(function(Y){return Y!==""&&!At(Y)}):$=H8(K,$,y).reduce(function(Y,se){return Y.indexOf(se)>=0||se===""||At(se)?Y:[].concat(ih(Y),[se])},[]);else if(C==="number"){var B=UOe(F,a.filter(function(Y){var se,he,Q=o in Y.props?Y.props[o]:(se=Y.type.defaultProps)===null||se===void 0?void 0:se[o],xe="hide"in Y.props?Y.props.hide:(he=Y.type.defaultProps)===null||he===void 0?void 0:he.hide;return Q===M&&(O||!xe)}),E,i,f);B&&($=B)}b&&(C==="number"||k!=="auto")&&(z=jg(F,E,"category"))}else b?$=Gb(0,D):c&&c[M]&&c[M].hasStack&&C==="number"?$=g==="expand"?[0,1]:FX(c[M].stackGroups,d,m):$=DX(F,a.filter(function(Y){var se=o in Y.props?Y.props[o]:Y.type.defaultProps[o],he="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return se===M&&(O||!he)}),C,f,!0);if(C==="number")$=HP(h,$,M,i,P),K&&($=lP(K,$,T));else if(C==="category"&&K){var ie=K,G=$.every(function(Y){return ie.indexOf(Y)>=0});G&&($=ie)}}return Ne(Ne({},w),{},yt({},M,Ne(Ne({},N),{},{axisType:i,domain:$,categoricalDomain:z,duplicateDomain:V,originalDomain:(j=N.domain)!==null&&j!==void 0?j:q,isCategorical:b,layout:f})))},{})},w3e=function(t,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,f=t.layout,h=t.children,g=qw(t.data,{graphicalItems:s,dataStartIndex:d,dataEndIndex:m}),b=g.length,w=IX(f,i),y=-1;return s.reduce(function(j,N){var C=N.type.defaultProps!==void 0?Ne(Ne({},N.type.defaultProps),N.props):N.props,E=C[o],T=tJ("number");if(!j[E]){y++;var A;return w?A=Gb(0,b):c&&c[E]&&c[E].hasStack?(A=FX(c[E].stackGroups,d,m),A=HP(h,A,E,i)):(A=lP(T,DX(g,s.filter(function(k){var P,O,M=o in k.props?k.props[o]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[o],F="hide"in k.props?k.props.hide:(O=k.type.defaultProps)===null||O===void 0?void 0:O.hide;return M===E&&!F}),"number",f),a.defaultProps.allowDataOverflow),A=HP(h,A,E,i)),Ne(Ne({},j),{},yt({},E,Ne(Ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:La(x3e,"".concat(i,".").concat(y%2),null),domain:A,originalDomain:T,isCategorical:w,layout:f})))}return j},{})},N3e=function(t,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,f=t.children,h="".concat(a,"Id"),g=$a(f,i),b={};return g&&g.length?b=j3e(t,{axes:g,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:m}):o&&o.length&&(b=w3e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:c,dataStartIndex:d,dataEndIndex:m})),b},S3e=function(t){var r=Ic(t),s=yl(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:Ck(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Db(r,s)}},GB=function(t){var r=t.children,s=t.defaultShowTooltip,a=Ea(r,Yf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},C3e=function(t){return!t||!t.length?!1:t.some(function(r){var s=vl(r&&r.type);return s&&s.indexOf("Bar")>=0})},WB=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},A3e=function(t,r){var s=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,c=t.yAxisMap,d=c===void 0?{}:c,m=s.width,f=s.height,h=s.children,g=s.margin||{},b=Ea(h,Yf),w=Ea(h,Fc),y=Object.keys(d).reduce(function(A,k){var P=d[k],O=P.orientation;return!P.mirror&&!P.hide?Ne(Ne({},A),{},yt({},O,A[O]+P.width)):A},{left:g.left||0,right:g.right||0}),j=Object.keys(o).reduce(function(A,k){var P=o[k],O=P.orientation;return!P.mirror&&!P.hide?Ne(Ne({},A),{},yt({},O,La(A,"".concat(O))+P.height)):A},{top:g.top||0,bottom:g.bottom||0}),N=Ne(Ne({},j),y),C=N.bottom;b&&(N.bottom+=b.props.height||Yf.defaultProps.height),w&&r&&(N=FOe(N,a,s,r));var E=m-N.left-N.right,T=f-N.top-N.bottom;return Ne(Ne({brushBottom:C},N),{},{width:Math.max(E,0),height:Math.max(T,0)})},E3e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Fw=function(t){var r=t.chartName,s=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,c=o===void 0?["axis"]:o,d=t.axisComponents,m=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,g=function(N,C){var E=C.graphicalItems,T=C.stackGroups,A=C.offset,k=C.updateId,P=C.dataStartIndex,O=C.dataEndIndex,M=N.barSize,F=N.layout,D=N.barGap,$=N.barCategoryGap,V=N.maxBarSize,z=WB(F),q=z.numericAxisName,I=z.cateAxisName,K=C3e(E),U=[];return E.forEach(function(B,ie){var G=qw(N.data,{graphicalItems:[B],dataStartIndex:P,dataEndIndex:O}),Y=B.type.defaultProps!==void 0?Ne(Ne({},B.type.defaultProps),B.props):B.props,se=Y.dataKey,he=Y.maxBarSize,Q=Y["".concat(q,"Id")],xe=Y["".concat(I,"Id")],me={},Ue=d.reduce(function(Jn,vn){var as=C["".concat(vn.axisType,"Map")],er=Y["".concat(vn.axisType,"Id")];as&&as[er]||vn.axisType==="zAxis"||Dd();var bi=as[er];return Ne(Ne({},Jn),{},yt(yt({},vn.axisType,bi),"".concat(vn.axisType,"Ticks"),yl(bi)))},me),ge=Ue[I],Ee=Ue["".concat(I,"Ticks")],Z=T&&T[Q]&&T[Q].hasStack&&ZOe(B,T[Q].stackGroups),re=vl(B.type).indexOf("Bar")>=0,le=Db(ge,Ee),Re=[],Pt=K&&zOe({barSize:M,stackGroups:T,totalSize:E3e(Ue,I)});if(re){var Ot,_n,ss=At(he)?V:he,Yr=(Ot=(_n=Db(ge,Ee,!0))!==null&&_n!==void 0?_n:ss)!==null&&Ot!==void 0?Ot:0;Re=qOe({barGap:D,barCategoryGap:$,bandSize:Yr!==le?Yr:le,sizeList:Pt[xe],maxBarSize:ss}),Yr!==le&&(Re=Re.map(function(Jn){return Ne(Ne({},Jn),{},{position:Ne(Ne({},Jn.position),{},{offset:Jn.position.offset-Yr/2})})}))}var Ns=B&&B.type&&B.type.getComposedData;Ns&&U.push({props:Ne(Ne({},Ns(Ne(Ne({},Ue),{},{displayedData:G,props:N,dataKey:se,item:B,bandSize:le,barPosition:Re,offset:A,stackedData:Z,layout:F,dataStartIndex:P,dataEndIndex:O}))),{},yt(yt(yt({key:B.key||"item-".concat(ie)},q,Ue[q]),I,Ue[I]),"animationId",k)),childIndex:VSe(B,N.children),item:B})}),U},b=function(N,C){var E=N.props,T=N.dataStartIndex,A=N.dataEndIndex,k=N.updateId;if(!o$({props:E}))return null;var P=E.children,O=E.layout,M=E.stackOffset,F=E.data,D=E.reverseStackOrder,$=WB(O),V=$.numericAxisName,z=$.cateAxisName,q=$a(P,s),I=QOe(F,q,"".concat(V,"Id"),"".concat(z,"Id"),M,D),K=d.reduce(function(Y,se){var he="".concat(se.axisType,"Map");return Ne(Ne({},Y),{},yt({},he,N3e(E,Ne(Ne({},se),{},{graphicalItems:q,stackGroups:se.axisType===V&&I,dataStartIndex:T,dataEndIndex:A}))))},{}),U=A3e(Ne(Ne({},K),{},{props:E,graphicalItems:q}),C?.legendBBox);Object.keys(K).forEach(function(Y){K[Y]=f(E,K[Y],U,Y.replace("Map",""),r)});var B=K["".concat(z,"Map")],ie=S3e(B),G=g(E,Ne(Ne({},K),{},{dataStartIndex:T,dataEndIndex:A,updateId:k,graphicalItems:q,stackGroups:I,offset:U}));return Ne(Ne({formattedGraphicalItems:G,graphicalItems:q,offset:U,stackGroups:I},ie),K)},w=(function(j){function N(C){var E,T,A;return i3e(this,N),A=c3e(this,N,[C]),yt(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),yt(A,"accessibilityManager",new HLe),yt(A,"handleLegendBBoxUpdate",function(k){if(k){var P=A.state,O=P.dataStartIndex,M=P.dataEndIndex,F=P.updateId;A.setState(Ne({legendBBox:k},b({props:A.props,dataStartIndex:O,dataEndIndex:M,updateId:F},Ne(Ne({},A.state),{},{legendBBox:k}))))}}),yt(A,"handleReceiveSyncEvent",function(k,P,O){if(A.props.syncId===k){if(O===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(P)}}),yt(A,"handleBrushChange",function(k){var P=k.startIndex,O=k.endIndex;if(P!==A.state.dataStartIndex||O!==A.state.dataEndIndex){var M=A.state.updateId;A.setState(function(){return Ne({dataStartIndex:P,dataEndIndex:O},b({props:A.props,dataStartIndex:P,dataEndIndex:O,updateId:M},A.state))}),A.triggerSyncEvent({dataStartIndex:P,dataEndIndex:O})}}),yt(A,"handleMouseEnter",function(k){var P=A.getMouseInfo(k);if(P){var O=Ne(Ne({},P),{},{isTooltipActive:!0});A.setState(O),A.triggerSyncEvent(O);var M=A.props.onMouseEnter;vt(M)&&M(O,k)}}),yt(A,"triggeredAfterMouseMove",function(k){var P=A.getMouseInfo(k),O=P?Ne(Ne({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(O),A.triggerSyncEvent(O);var M=A.props.onMouseMove;vt(M)&&M(O,k)}),yt(A,"handleItemMouseEnter",function(k){A.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),yt(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),yt(A,"handleMouseMove",function(k){k.persist(),A.throttleTriggeredAfterMouseMove(k)}),yt(A,"handleMouseLeave",function(k){A.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};A.setState(P),A.triggerSyncEvent(P);var O=A.props.onMouseLeave;vt(O)&&O(P,k)}),yt(A,"handleOuterEvent",function(k){var P=USe(k),O=La(A.props,"".concat(P));if(P&&vt(O)){var M,F;/.*touch.*/i.test(P)?F=A.getMouseInfo(k.changedTouches[0]):F=A.getMouseInfo(k),O((M=F)!==null&&M!==void 0?M:{},k)}}),yt(A,"handleClick",function(k){var P=A.getMouseInfo(k);if(P){var O=Ne(Ne({},P),{},{isTooltipActive:!0});A.setState(O),A.triggerSyncEvent(O);var M=A.props.onClick;vt(M)&&M(O,k)}}),yt(A,"handleMouseDown",function(k){var P=A.props.onMouseDown;if(vt(P)){var O=A.getMouseInfo(k);P(O,k)}}),yt(A,"handleMouseUp",function(k){var P=A.props.onMouseUp;if(vt(P)){var O=A.getMouseInfo(k);P(O,k)}}),yt(A,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),yt(A,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.handleMouseDown(k.changedTouches[0])}),yt(A,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&A.handleMouseUp(k.changedTouches[0])}),yt(A,"handleDoubleClick",function(k){var P=A.props.onDoubleClick;if(vt(P)){var O=A.getMouseInfo(k);P(O,k)}}),yt(A,"handleContextMenu",function(k){var P=A.props.onContextMenu;if(vt(P)){var O=A.getMouseInfo(k);P(O,k)}}),yt(A,"triggerSyncEvent",function(k){A.props.syncId!==void 0&&i_.emit(o_,A.props.syncId,k,A.eventEmitterSymbol)}),yt(A,"applySyncEvent",function(k){var P=A.props,O=P.layout,M=P.syncMethod,F=A.state.updateId,D=k.dataStartIndex,$=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)A.setState(Ne({dataStartIndex:D,dataEndIndex:$},b({props:A.props,dataStartIndex:D,dataEndIndex:$,updateId:F},A.state)));else if(k.activeTooltipIndex!==void 0){var V=k.chartX,z=k.chartY,q=k.activeTooltipIndex,I=A.state,K=I.offset,U=I.tooltipTicks;if(!K)return;if(typeof M=="function")q=M(U,k);else if(M==="value"){q=-1;for(var B=0;B<U.length;B++)if(U[B].value===k.activeLabel){q=B;break}}var ie=Ne(Ne({},K),{},{x:K.left,y:K.top}),G=Math.min(V,ie.x+ie.width),Y=Math.min(z,ie.y+ie.height),se=U[q]&&U[q].value,he=YP(A.state,A.props.data,q),Q=U[q]?{x:O==="horizontal"?U[q].coordinate:G,y:O==="horizontal"?Y:U[q].coordinate}:eJ;A.setState(Ne(Ne({},k),{},{activeLabel:se,activeCoordinate:Q,activePayload:he,activeTooltipIndex:q}))}else A.setState(k)}),yt(A,"renderCursor",function(k){var P,O=A.state,M=O.isTooltipActive,F=O.activeCoordinate,D=O.activePayload,$=O.offset,V=O.activeTooltipIndex,z=O.tooltipAxisBandSize,q=A.getTooltipEventType(),I=(P=k.props.active)!==null&&P!==void 0?P:M,K=A.props.layout,U=k.key||"_recharts-cursor";return J.createElement(JLe,{key:U,activeCoordinate:F,activePayload:D,activeTooltipIndex:V,chartName:r,element:k,isActive:I,layout:K,offset:$,tooltipAxisBandSize:z,tooltipEventType:q})}),yt(A,"renderPolarAxis",function(k,P,O){var M=La(k,"type.axisType"),F=La(A.state,"".concat(M,"Map")),D=k.type.defaultProps,$=D!==void 0?Ne(Ne({},D),k.props):k.props,V=F&&F[$["".concat(M,"Id")]];return v.cloneElement(k,Ne(Ne({},V),{},{className:Et(M,V.className),key:k.key||"".concat(P,"-").concat(O),ticks:yl(V,!0)}))}),yt(A,"renderPolarGrid",function(k){var P=k.props,O=P.radialLines,M=P.polarAngles,F=P.polarRadius,D=A.state,$=D.radiusAxisMap,V=D.angleAxisMap,z=Ic($),q=Ic(V),I=q.cx,K=q.cy,U=q.innerRadius,B=q.outerRadius;return v.cloneElement(k,{polarAngles:Array.isArray(M)?M:yl(q,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(F)?F:yl(z,!0).map(function(ie){return ie.coordinate}),cx:I,cy:K,innerRadius:U,outerRadius:B,key:k.key||"polar-grid",radialLines:O})}),yt(A,"renderLegend",function(){var k=A.state.formattedGraphicalItems,P=A.props,O=P.children,M=P.width,F=P.height,D=A.props.margin||{},$=M-(D.left||0)-(D.right||0),V=MX({children:O,formattedGraphicalItems:k,legendWidth:$,legendContent:m});if(!V)return null;var z=V.item,q=VB(V,e3e);return v.cloneElement(z,Ne(Ne({},q),{},{chartWidth:M,chartHeight:F,margin:D,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),yt(A,"renderTooltip",function(){var k,P=A.props,O=P.children,M=P.accessibilityLayer,F=Ea(O,Ur);if(!F)return null;var D=A.state,$=D.isTooltipActive,V=D.activeCoordinate,z=D.activePayload,q=D.activeLabel,I=D.offset,K=(k=F.props.active)!==null&&k!==void 0?k:$;return v.cloneElement(F,{viewBox:Ne(Ne({},I),{},{x:I.left,y:I.top}),active:K,label:q,payload:K?z:[],coordinate:V,accessibilityLayer:M})}),yt(A,"renderBrush",function(k){var P=A.props,O=P.margin,M=P.data,F=A.state,D=F.offset,$=F.dataStartIndex,V=F.dataEndIndex,z=F.updateId;return v.cloneElement(k,{key:k.key||"_recharts-brush",onChange:s0(A.handleBrushChange,k.props.onChange),data:M,x:Ie(k.props.x)?k.props.x:D.left,y:Ie(k.props.y)?k.props.y:D.top+D.height+D.brushBottom-(O.bottom||0),width:Ie(k.props.width)?k.props.width:D.width,startIndex:$,endIndex:V,updateId:"brush-".concat(z)})}),yt(A,"renderReferenceElement",function(k,P,O){if(!k)return null;var M=A,F=M.clipPathId,D=A.state,$=D.xAxisMap,V=D.yAxisMap,z=D.offset,q=k.type.defaultProps||{},I=k.props,K=I.xAxisId,U=K===void 0?q.xAxisId:K,B=I.yAxisId,ie=B===void 0?q.yAxisId:B;return v.cloneElement(k,{key:k.key||"".concat(P,"-").concat(O),xAxis:$[U],yAxis:V[ie],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:F})}),yt(A,"renderActivePoints",function(k){var P=k.item,O=k.activePoint,M=k.basePoint,F=k.childIndex,D=k.isRange,$=[],V=P.props.key,z=P.item.type.defaultProps!==void 0?Ne(Ne({},P.item.type.defaultProps),P.item.props):P.item.props,q=z.activeDot,I=z.dataKey,K=Ne(Ne({index:F,dataKey:I,cx:O.x,cy:O.y,r:4,fill:Xk(P.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},nt(q,!1)),ub(q));return $.push(N.renderActiveDot(q,K,"".concat(V,"-activePoint-").concat(F))),M?$.push(N.renderActiveDot(q,Ne(Ne({},K),{},{cx:M.x,cy:M.y}),"".concat(V,"-basePoint-").concat(F))):D&&$.push(null),$}),yt(A,"renderGraphicChild",function(k,P,O){var M=A.filterFormatItem(k,P,O);if(!M)return null;var F=A.getTooltipEventType(),D=A.state,$=D.isTooltipActive,V=D.tooltipAxis,z=D.activeTooltipIndex,q=D.activeLabel,I=A.props.children,K=Ea(I,Ur),U=M.props,B=U.points,ie=U.isRange,G=U.baseLine,Y=M.item.type.defaultProps!==void 0?Ne(Ne({},M.item.type.defaultProps),M.item.props):M.item.props,se=Y.activeDot,he=Y.hide,Q=Y.activeBar,xe=Y.activeShape,me=!!(!he&&$&&K&&(se||Q||xe)),Ue={};F!=="axis"&&K&&K.props.trigger==="click"?Ue={onClick:s0(A.handleItemMouseEnter,k.props.onClick)}:F!=="axis"&&(Ue={onMouseLeave:s0(A.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:s0(A.handleItemMouseEnter,k.props.onMouseEnter)});var ge=v.cloneElement(k,Ne(Ne({},M.props),Ue));function Ee(vn){return typeof V.dataKey=="function"?V.dataKey(vn.payload):null}if(me)if(z>=0){var Z,re;if(V.dataKey&&!V.allowDuplicatedCategory){var le=typeof V.dataKey=="function"?Ee:"payload.".concat(V.dataKey.toString());Z=cb(B,le,q),re=ie&&G&&cb(G,le,q)}else Z=B?.[z],re=ie&&G&&G[z];if(xe||Q){var Re=k.props.activeIndex!==void 0?k.props.activeIndex:z;return[v.cloneElement(k,Ne(Ne(Ne({},M.props),Ue),{},{activeIndex:Re})),null,null]}if(!At(Z))return[ge].concat(ih(A.renderActivePoints({item:M,activePoint:Z,basePoint:re,childIndex:z,isRange:ie})))}else{var Pt,Ot=(Pt=A.getItemByXY(A.state.activeCoordinate))!==null&&Pt!==void 0?Pt:{graphicalItem:ge},_n=Ot.graphicalItem,ss=_n.item,Yr=ss===void 0?k:ss,Ns=_n.childIndex,Jn=Ne(Ne(Ne({},M.props),Ue),{},{activeIndex:Ns});return[v.cloneElement(Yr,Jn),null,null]}return ie?[ge,null,null]:[ge,null]}),yt(A,"renderCustomized",function(k,P,O){return v.cloneElement(k,Ne(Ne({key:"recharts-customized-".concat(O)},A.props),A.state))}),yt(A,"renderMap",{CartesianGrid:{handler:c0,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:c0},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:c0},YAxis:{handler:c0},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((E=C.id)!==null&&E!==void 0?E:Wd("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=kQ(A.triggeredAfterMouseMove,(T=C.throttleDelay)!==null&&T!==void 0?T:1e3/60),A.state={},A}return m3e(N,j),l3e(N,[{key:"componentDidMount",value:function(){var E,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,T=E.children,A=E.data,k=E.height,P=E.layout,O=Ea(T,Ur);if(O){var M=O.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,D=YP(this.state,A,M,F),$=this.state.tooltipTicks[M].coordinate,V=(this.state.offset.top+k)/2,z=P==="horizontal",q=z?{x:$,y:V}:{y:$,x:V},I=this.state.formattedGraphicalItems.find(function(U){var B=U.item;return B.type.name==="Scatter"});I&&(q=Ne(Ne({},q),I.props.points[M].tooltipPosition),D=I.props.points[M].tooltipPayload);var K={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:F,activePayload:D,activeCoordinate:q};this.setState(K),this.renderCursor(O),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var A,k;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(E){PT([Ea(E.children,Ur)],[Ea(this.props.children,Ur)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Ea(this.props.children,Ur);if(E&&typeof E.props.shared=="boolean"){var T=E.props.shared?"axis":"item";return c.indexOf(T)>=0?T:i}return i}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var T=this.container,A=T.getBoundingClientRect(),k=P_e(A),P={chartX:Math.round(E.pageX-k.left),chartY:Math.round(E.pageY-k.top)},O=A.width/T.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,O);if(!M)return null;var F=this.state,D=F.xAxisMap,$=F.yAxisMap,V=this.getTooltipEventType(),z=HB(this.state,this.props.data,this.props.layout,M);if(V!=="axis"&&D&&$){var q=Ic(D).scale,I=Ic($).scale,K=q&&q.invert?q.invert(P.chartX):null,U=I&&I.invert?I.invert(P.chartY):null;return Ne(Ne({},P),{},{xValue:K,yValue:U},z)}return z?Ne(Ne({},P),z):null}},{key:"inRange",value:function(E,T){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=E/A,O=T/A;if(k==="horizontal"||k==="vertical"){var M=this.state.offset,F=P>=M.left&&P<=M.left+M.width&&O>=M.top&&O<=M.top+M.height;return F?{x:P,y:O}:null}var D=this.state,$=D.angleAxisMap,V=D.radiusAxisMap;if($&&V){var z=Ic($);return Y8({x:P,y:O},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,T=this.getTooltipEventType(),A=Ea(E,Ur),k={};A&&T==="axis"&&(A.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=ub(this.props,this.handleOuterEvent);return Ne(Ne({},P),k)}},{key:"addListener",value:function(){i_.on(o_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){i_.removeListener(o_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,T,A){for(var k=this.state.formattedGraphicalItems,P=0,O=k.length;P<O;P++){var M=k[P];if(M.item===E||M.props.key===E.key||T===vl(M.item.type)&&A===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,T=this.state.offset,A=T.left,k=T.top,P=T.height,O=T.width;return J.createElement("defs",null,J.createElement("clipPath",{id:E},J.createElement("rect",{x:A,y:k,height:P,width:O})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(T,A){var k=UB(A,2),P=k[0],O=k[1];return Ne(Ne({},T),{},yt({},P,O.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(T,A){var k=UB(A,2),P=k[0],O=k[1];return Ne(Ne({},T),{},yt({},P,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[E])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(E){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[E])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(E){var T=this.state,A=T.formattedGraphicalItems,k=T.activeItem;if(A&&A.length)for(var P=0,O=A.length;P<O;P++){var M=A[P],F=M.props,D=M.item,$=D.type.defaultProps!==void 0?Ne(Ne({},D.type.defaultProps),D.props):D.props,V=vl(D.type);if(V==="Bar"){var z=(F.data||[]).find(function(U){return K5e(E,U)});if(z)return{graphicalItem:M,payload:z}}else if(V==="RadialBar"){var q=(F.data||[]).find(function(U){return Y8(E,U)});if(q)return{graphicalItem:M,payload:q}}else if(Mw(M,k)||Rw(M,k)||Mx(M,k)){var I=hDe({graphicalItem:M,activeTooltipItem:k,itemData:$.data}),K=$.activeIndex===void 0?I:$.activeIndex;return{graphicalItem:Ne(Ne({},M),{},{childIndex:K}),payload:Mx(M,k)?$.data[I]:M.props.data[I]}}}return null}},{key:"render",value:function(){var E=this;if(!o$(this))return null;var T=this.props,A=T.children,k=T.className,P=T.width,O=T.height,M=T.style,F=T.compact,D=T.title,$=T.desc,V=VB(T,t3e),z=nt(V,!1);if(F)return J.createElement(wB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(kT,df({},z,{width:P,height:O,title:D,desc:$}),this.renderClipPath(),c$(A,this.renderMap)));if(this.props.accessibilityLayer){var q,I;z.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,z.role=(I=this.props.role)!==null&&I!==void 0?I:"application",z.onKeyDown=function(U){E.accessibilityManager.keyboardEvent(U)},z.onFocus=function(){E.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return J.createElement(wB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",df({className:Et("recharts-wrapper",k),style:Ne({position:"relative",cursor:"default",width:P,height:O},M)},K,{ref:function(B){E.container=B}}),J.createElement(kT,df({},z,{width:P,height:O,title:D,desc:$,style:y3e}),this.renderClipPath(),c$(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(v.Component);yt(w,"displayName",r),yt(w,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),yt(w,"getDerivedStateFromProps",function(j,N){var C=j.dataKey,E=j.data,T=j.children,A=j.width,k=j.height,P=j.layout,O=j.stackOffset,M=j.margin,F=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var $=GB(j);return Ne(Ne(Ne({},$),{},{updateId:0},b(Ne(Ne({props:j},$),{},{updateId:0}),N)),{},{prevDataKey:C,prevData:E,prevWidth:A,prevHeight:k,prevLayout:P,prevStackOffset:O,prevMargin:M,prevChildren:T})}if(C!==N.prevDataKey||E!==N.prevData||A!==N.prevWidth||k!==N.prevHeight||P!==N.prevLayout||O!==N.prevStackOffset||!wf(M,N.prevMargin)){var V=GB(j),z={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},q=Ne(Ne({},HB(N,E,P)),{},{updateId:N.updateId+1}),I=Ne(Ne(Ne({},V),z),q);return Ne(Ne(Ne({},I),b(Ne({props:j},I),N)),{},{prevDataKey:C,prevData:E,prevWidth:A,prevHeight:k,prevLayout:P,prevStackOffset:O,prevMargin:M,prevChildren:T})}if(!PT(T,N.prevChildren)){var K,U,B,ie,G=Ea(T,Yf),Y=G&&(K=(U=G.props)===null||U===void 0?void 0:U.startIndex)!==null&&K!==void 0?K:F,se=G&&(B=(ie=G.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&B!==void 0?B:D,he=Y!==F||se!==D,Q=!At(E),xe=Q&&!he?N.updateId:N.updateId+1;return Ne(Ne({updateId:xe},b(Ne(Ne({props:j},N),{},{updateId:xe,dataStartIndex:Y,dataEndIndex:se}),N)),{},{prevChildren:T,dataStartIndex:Y,dataEndIndex:se})}return null}),yt(w,"renderActiveDot",function(j,N,C){var E;return v.isValidElement(j)?E=v.cloneElement(j,N):vt(j)?E=j(N):E=J.createElement(uy,N),J.createElement(Ht,{className:"recharts-active-dot",key:C},E)});var y=v.forwardRef(function(N,C){return J.createElement(w,df({},N,{ref:C}))});return y.displayName=w.displayName,y},YB=Fw({chartName:"LineChart",GraphicalChild:xd,axisComponents:[{axisType:"xAxis",AxisComp:sa},{axisType:"yAxis",AxisComp:aa}],formatAxisMap:Jk}),QP=Fw({chartName:"BarChart",GraphicalChild:Dl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:sa},{axisType:"yAxis",AxisComp:aa}],formatAxisMap:Jk}),_3e=Fw({chartName:"PieChart",GraphicalChild:Vl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:kw},{axisType:"radiusAxis",AxisComp:Pw}],formatAxisMap:lke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),u0=Fw({chartName:"AreaChart",GraphicalChild:Pa,axisComponents:[{axisType:"xAxis",AxisComp:sa},{axisType:"yAxis",AxisComp:aa}],formatAxisMap:Jk});function Kl(){const{currentCommunity:e,user:t}=dt(),r=t?.memberships||[],s=e?.id||"",a=r.length===1,i=r.length===0,o=r.length>1;return{communityId:s,community:e,isReady:!!s&&a,isMonoClub:a,hasNoClub:i,hasMultiClub:o}}function T3e(){const{communityId:e}=Kl(),t=Wt(),[r,s]=v.useState(!1),[a,i]=v.useState({displayName:"",email:"",section:""}),{data:o,isLoading:c}=Pe({queryKey:[`/api/communities/${e}/dashboard`],enabled:!!e}),{data:d=[]}=Pe({queryKey:[`/api/communities/${e}/sections`],enabled:!!e}),m=qe({mutationFn:async w=>{const y=await kr("/api/memberships",{...w,role:"member",status:"active",contributionStatus:"pending"});if(!y.ok)throw new Error("Failed to create member");return y.data},onSuccess:w=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/dashboard`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/members`]}),X.success("Adhrent cr avec succs",{description:`Code de rclamation: ${w.claimCode}`}),s(!1),i({displayName:"",email:"",section:""})},onError:()=>{X.error("Erreur lors de la cration de l'adhrent")}}),f=()=>{if(!a.displayName){X.error("Veuillez renseigner le nom de l'adhrent");return}m.mutate({displayName:a.displayName,communityId:e,section:a.section||void 0})},h=()=>{if(!o)return;const w={date:new Date().toLocaleDateString("fr-FR"),stats:o.stats,monthlyData:o.monthlyData},y=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),j=URL.createObjectURL(y),N=document.createElement("a");N.href=j,N.download=`rapport-mensuel-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(j),X.success("Rapport tlcharg")},g=o?.stats,b=o?.monthlyData||[];return c?n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsx(dn,{children:n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900","data-testid":"text-dashboard-title",children:"Tableau de bord"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ht,{open:r,onOpenChange:s,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"bg-primary text-white px-4 py-2 rounded-lg text-sm font-medium shadow-lg shadow-primary/30 hover:bg-primary/90 gap-2","data-testid":"button-new-member",children:[n.jsx(Sn,{size:16})," Nouvel Adhrent"]})}),n.jsxs(mt,{className:"sm:max-w-[600px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Ajout Rapide Adhrent"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(ee,{htmlFor:"dash-name",children:"Nom complet"}),n.jsx(ne,{id:"dash-name",placeholder:"Thomas Dubois",value:a.displayName,onChange:w=>i({...a,displayName:w.target.value}),"data-testid":"input-member-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"dash-email",children:"Email (optionnel)"}),n.jsx(ne,{id:"dash-email",type:"email",placeholder:"exemple@email.com",value:a.email,onChange:w=>i({...a,email:w.target.value}),"data-testid":"input-member-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"dash-section",children:"Section Locale"}),n.jsxs(it,{value:a.section,onValueChange:w=>i({...a,section:w}),children:[n.jsx(rt,{"data-testid":"select-member-section",children:n.jsx(ot,{placeholder:"Slectionner..."})}),n.jsx(st,{children:d.map(w=>n.jsx(Ae,{value:w.name,children:w.name},w.id))})]})]})]}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:n.jsx("p",{className:"text-sm text-blue-700",children:"Un code de rclamation sera gnr. L'adhrent pourra l'utiliser pour associer son compte Koomy."})}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:f,disabled:m.isPending,"data-testid":"button-submit-member",children:m.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Cration..."]}):"Crer l'adhrent"})]})]})]}),n.jsx(H,{variant:"outline",onClick:h,className:"bg-white border border-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium shadow-sm hover:bg-gray-50","data-testid":"button-monthly-report",children:"Rapport Mensuel"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(ve,{className:"shadow-sm",children:[n.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium text-gray-500",children:"Total Adhrents"}),n.jsx(It,{className:"h-4 w-4 text-primary"})]}),n.jsxs(je,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-members",children:g?.totalMembers?.toLocaleString()||0}),n.jsxs("p",{className:`text-xs flex items-center mt-1 ${(g?.memberGrowth||0)>=0?"text-green-600":"text-red-600"}`,children:[(g?.memberGrowth||0)>=0?n.jsx(k9,{className:"h-3 w-3 mr-1"}):n.jsx(O9,{className:"h-3 w-3 mr-1"}),g?.memberGrowth?`${g.memberGrowth>0?"+":""}${g.memberGrowth}%`:"0%"," ce mois"]})]})]}),n.jsxs(ve,{className:"shadow-sm",children:[n.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium text-gray-500",children:"Actualits"}),n.jsx(eu,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(je,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-news",children:g?.totalNews||0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["+",g?.newsThisWeek||0," cette semaine"]})]})]}),n.jsxs(ve,{className:"shadow-sm",children:[n.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium text-gray-500",children:"vnements"}),n.jsx(Gn,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(je,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-events",children:g?.totalEvents||0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g?.upcomingEvents||0,"  venir"]})]})]}),n.jsxs(ve,{className:"shadow-sm",children:[n.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium text-gray-500",children:"Tickets ouverts"}),n.jsx(po,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(je,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-open-tickets",children:g?.openTickets||0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Demandes en attente"})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[n.jsxs(ve,{className:"col-span-4 shadow-sm",children:[n.jsx(Ge,{children:n.jsx(Ve,{children:"volution des Adhsions"})}),n.jsx(je,{className:"pl-2",children:n.jsx("div",{className:"h-[300px]",children:n.jsx(mo,{width:"100%",height:"100%",children:n.jsxs(QP,{data:b,children:[n.jsx(fo,{strokeDasharray:"3 3",vertical:!1,stroke:"#f0f0f0"}),n.jsx(sa,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),n.jsx(aa,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:w=>`${w}`}),n.jsx(Ur,{cursor:{fill:"#f9fafb"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"}}),n.jsx(Dl,{dataKey:"adherents",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})})]}),n.jsxs(ve,{className:"col-span-3 shadow-sm",children:[n.jsx(Ge,{children:n.jsx(Ve,{children:"Activit Rcente"})}),n.jsx(je,{children:n.jsx("div",{className:"space-y-4",children:o?.recentNews?.length?o.recentNews.map((w,y)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-primary mt-2"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:w.title}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(w.publishedAt).toLocaleDateString("fr-FR")})]})]},w.id||y)):n.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Aucune actualit rcente"})})})]})]})]})})}const qs=v.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Le("w-full caption-bottom text-sm",e),...t})}));qs.displayName="Table";const Fs=v.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Le("[&_tr]:border-b",e),...t}));Fs.displayName="TableHeader";const Bs=v.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Le("[&_tr:last-child]:border-0",e),...t}));Bs.displayName="TableBody";const P3e=v.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));P3e.displayName="TableFooter";const rn=v.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rn.displayName="TableRow";const Ke=v.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Le("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Ke.displayName="TableHead";const Be=v.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Le("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Be.displayName="TableCell";const O3e=v.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Le("mt-4 text-sm text-muted-foreground",e),...t}));O3e.displayName="TableCaption";const c_="none";function k3e(){const{communityId:e}=Kl(),t=Wt(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,c]=v.useState("all"),[d,m]=v.useState("all"),[f,h]=v.useState(!1),[g,b]=v.useState(!1),[w,y]=v.useState(!1),[j,N]=v.useState(null),[C,E]=v.useState([]),[T,A]=v.useState({salutation:"",firstName:"",lastName:"",email:"",phone:"",section:"",status:"active",membershipPlanId:"",membershipPriceCustom:"",paymentOption:"paid_offline"}),{data:k=[],isLoading:P}=Pe({queryKey:[`/api/communities/${e}/members`],enabled:!!e}),{data:O=[]}=Pe({queryKey:[`/api/communities/${e}/sections`],enabled:!!e}),{data:M=[]}=Pe({queryKey:[`/api/communities/${e}/tags`],enabled:!!e}),{data:F=[]}=Pe({queryKey:[`/api/communities/${e}/membership-plans`],enabled:!!e}),{data:D=[]}=Pe({queryKey:[`/api/communities/${e}/memberships/${j?.id}/tags`],enabled:!!j}),$=qe({mutationFn:async({membershipId:Q,tagIds:xe})=>{const me=await Vx(`/api/communities/${e}/memberships/${Q}/tags`,{tagIds:xe});if(!me.ok)throw new Error("Failed to update tags");return me.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/members`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/memberships/${j?.id}/tags`]}),X.success("Tags mis  jour"),y(!1)},onError:()=>{X.error("Erreur lors de la mise  jour des tags")}}),V=qe({mutationFn:async Q=>{const xe=await kr("/api/memberships",{...Q,role:"member",contributionStatus:"pending"});if(!xe.ok)throw new Error("Failed to create member");return xe.data},onSuccess:Q=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/members`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/dashboard`]}),X.success("Adhrent cr avec succs",{description:`Code de rclamation: ${Q.claimCode}`,action:{label:"Copier",onClick:()=>{navigator.clipboard.writeText(Q.claimCode),X.success("Code copi")}}}),h(!1),A({salutation:"",firstName:"",lastName:"",email:"",phone:"",section:"",status:"active",membershipPlanId:"",membershipPriceCustom:"",paymentOption:"paid_offline"})},onError:()=>{X.error("Erreur lors de la cration de l'adhrent")}}),z=v.useMemo(()=>k.filter(Q=>{const xe=Q.displayName||`${Q.user?.firstName||""} ${Q.user?.lastName||""}`,me=Q.user?.email||"",Ue=xe.toLowerCase().includes(r.toLowerCase())||me.toLowerCase().includes(r.toLowerCase())||(Q.claimCode||"").toLowerCase().includes(r.toLowerCase()),ge=a==="all"||Q.section===a,Ee=o==="all"||(Q.tags||[]).some(re=>re.id===o),Z=d==="all"||d==="free"&&Q.membershipPaymentStatus==="free"||d==="due"&&Q.membershipPaymentStatus==="due"||d==="paid"&&Q.membershipPaymentStatus==="paid";return Ue&&ge&&Ee&&Z}),[k,r,a,o,d]),q=Q=>{N(Q),E((Q.tags||[]).map(xe=>xe.id)),y(!0)},I=()=>{j&&$.mutate({membershipId:j.id,tagIds:C})},K=Q=>{E(xe=>xe.includes(Q)?xe.filter(me=>me!==Q):[...xe,Q])},U=v.useMemo(()=>M.filter(Q=>Q.type==="user"||Q.type==="hybrid"),[M]),B=()=>{if(!T.firstName||!T.lastName){X.error("Veuillez renseigner le prnom et le nom de l'adhrent");return}const Q=T.membershipPlanId===c_||T.membershipPlanId===""?void 0:T.membershipPlanId,xe=G&&G.amount>0,me=T.membershipPriceCustom&&parseInt(T.membershipPriceCustom)>0,Ue=xe||me;V.mutate({communityId:e,salutation:T.salutation||void 0,firstName:T.firstName,lastName:T.lastName,email:T.email||void 0,phone:T.phone||void 0,section:T.section||void 0,status:T.status,membershipPlanId:Q,membershipPriceCustom:T.membershipPriceCustom?parseInt(T.membershipPriceCustom)*100:void 0,paymentOption:Ue?T.paymentOption:void 0})},ie=v.useMemo(()=>F.filter(Q=>Q.isActive?Q.id?!0:(console.warn("[Members] Plan with empty id detected and ignored:",Q),!1):!1),[F]),G=T.membershipPlanId!==c_&&T.membershipPlanId!==""?ie.find(Q=>Q.id===T.membershipPlanId):void 0,Y=()=>{b(!1),X.info("Fonctionnalit d'import en cours de dveloppement")},se=()=>{const Q=[["Nom","Email","Section","Code","Statut","Cotisation"].join(","),...z.map(ge=>[ge.displayName||`${ge.user?.firstName||""} ${ge.user?.lastName||""}`,ge.user?.email||"",ge.section||"",ge.claimCode||"",ge.status||"",ge.contributionStatus||""].join(","))].join(`
`),xe=new Blob([Q],{type:"text/csv"}),me=URL.createObjectURL(xe),Ue=document.createElement("a");Ue.href=me,Ue.download=`adherents-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue),URL.revokeObjectURL(me),X.success("Export tlcharg")},he=Q=>{navigator.clipboard.writeText(Q),X.success("Code copi dans le presse-papier")};return n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Adhrents"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Grez les inscriptions, cotisations et statuts des membres."})]}),n.jsxs("div",{className:"flex gap-2 w-full sm:w-auto flex-wrap",children:[n.jsxs(ht,{open:g,onOpenChange:b,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{variant:"outline",className:"gap-2","data-testid":"button-import-members",children:[n.jsx(Uc,{size:16})," Importer (CSV)"]})}),n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Importer des adhrents"})}),n.jsxs("div",{className:"py-8 flex flex-col items-center justify-center border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",children:[n.jsx(Uc,{className:"h-10 w-10 text-gray-400 mb-4"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Cliquez pour slectionner un fichier"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"CSV, XLS, XLSX (Max 5MB)"})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:Y,children:"Lancer l'import"})]})]})]}),n.jsxs(H,{variant:"outline",className:"gap-2",onClick:se,"data-testid":"button-export-members",children:[n.jsx(p4,{size:16})," Exporter"]}),n.jsxs(ht,{open:f,onOpenChange:h,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2 bg-primary hover:bg-primary/90","data-testid":"button-add-member",children:[n.jsx(Sn,{size:16})," Ajouter un adhrent"]})}),n.jsxs(mt,{className:"sm:max-w-[600px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Nouvel Adhrent"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 py-4",children:[n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(ee,{htmlFor:"salutation",children:"Civilit"}),n.jsxs(it,{value:T.salutation||"none",onValueChange:Q=>A({...T,salutation:Q==="none"?"":Q}),children:[n.jsx(rt,{"data-testid":"select-member-salutation",children:n.jsx(ot,{placeholder:"Slectionner..."})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"none",children:"Non renseign"}),VO.map(Q=>n.jsx(Ae,{value:Q,children:Q==="M"?"Monsieur":Q==="Mme"?"Madame":"Autre"},Q))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"firstName",children:"Prnom"}),n.jsx(ne,{id:"firstName",placeholder:"Thomas",value:T.firstName,onChange:Q=>A({...T,firstName:Q.target.value}),"data-testid":"input-member-firstname"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"lastName",children:"Nom"}),n.jsx(ne,{id:"lastName",placeholder:"Dubois",value:T.lastName,onChange:Q=>A({...T,lastName:Q.target.value}),"data-testid":"input-member-lastname"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"email",children:"Email (optionnel)"}),n.jsx(ne,{id:"email",type:"email",placeholder:"exemple@email.com",value:T.email,onChange:Q=>A({...T,email:Q.target.value}),"data-testid":"input-member-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"phone",children:"Tlphone (optionnel)"}),n.jsx(ne,{id:"phone",placeholder:"06 12 34 56 78",value:T.phone,onChange:Q=>A({...T,phone:Q.target.value}),"data-testid":"input-member-phone"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"section",children:"Section Locale"}),n.jsxs(it,{value:T.section,onValueChange:Q=>A({...T,section:Q}),children:[n.jsx(rt,{"data-testid":"select-member-section",children:n.jsx(ot,{placeholder:"Slectionner..."})}),n.jsx(st,{children:O.map(Q=>n.jsx(Ae,{value:Q.name,children:Q.name},Q.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"status",children:"Statut Initial"}),n.jsxs(it,{value:T.status,onValueChange:Q=>A({...T,status:Q}),children:[n.jsx(rt,{"data-testid":"select-member-status",children:n.jsx(ot,{placeholder:"Slectionner..."})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"active",children:"Actif"}),n.jsx(Ae,{value:"suspended",children:"Suspendu"})]})]})]}),ie.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(ee,{htmlFor:"plan",children:"Tarif d'adhsion"}),n.jsxs(it,{value:T.membershipPlanId,onValueChange:Q=>A({...T,membershipPlanId:Q,membershipPriceCustom:""}),children:[n.jsx(rt,{"data-testid":"select-member-plan",children:n.jsx(ot,{placeholder:"Slectionner un tarif..."})}),n.jsxs(st,{children:[n.jsx(Ae,{value:c_,children:"Aucun tarif"}),ie.map(Q=>n.jsxs(Ae,{value:Q.id,children:[Q.name," - ",Q.amount===0?"Gratuit":`${(Q.amount/100).toFixed(2)} `,Q.billingType!=="one_time"&&" / an"]},Q.id))]})]})]}),G&&n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(ee,{htmlFor:"customPrice",children:"Prix personnalis () - optionnel"}),n.jsx(ne,{id:"customPrice",type:"number",min:"0",step:"0.01",placeholder:`Dfaut: ${(G.amount/100).toFixed(2)} `,value:T.membershipPriceCustom,onChange:Q=>A({...T,membershipPriceCustom:Q.target.value}),"data-testid":"input-member-custom-price"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Laissez vide pour utiliser le tarif par dfaut du plan"})]}),G&&(G.amount>0||T.membershipPriceCustom&&parseInt(T.membershipPriceCustom)>0)&&n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsx(ee,{children:"Traitement du paiement"}),n.jsxs(it,{value:T.paymentOption,onValueChange:Q=>A({...T,paymentOption:Q}),children:[n.jsx(rt,{"data-testid":"select-member-payment-option",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"paid_offline",children:"Pay hors ligne (espces/chque/virement)"}),n.jsx(Ae,{value:"due_online",children:" payer en ligne (invitation par email + app)"})]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:T.paymentOption==="paid_offline"?"L'adhsion sera marque comme paye. Koomy ne rclamera pas de paiement.":"L'adhrent recevra une invitation  payer par email et dans l'application."})]})]})]}),n.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:n.jsx("p",{className:"text-sm text-blue-700",children:"Un code de rclamation sera gnr. L'adhrent pourra l'utiliser pour associer son compte Koomy  sa carte membre."})}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:B,disabled:V.isPending,"data-testid":"button-submit-member",children:V.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Cration..."]}):"Crer l'adhrent"})]})]})]})]})]}),n.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm flex gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1 max-w-sm",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx(ne,{placeholder:"Rechercher par nom, email, code...",className:"pl-10 bg-gray-50 border-gray-200",value:r,onChange:Q=>s(Q.target.value),"data-testid":"input-search-members"})]}),n.jsxs(it,{value:a,onValueChange:i,children:[n.jsx(rt,{className:"w-[180px]","data-testid":"select-section-filter",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(I9,{size:16}),n.jsx(ot,{placeholder:"Toutes sections"})]})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"all",children:"Toutes les sections"}),O.map(Q=>n.jsx(Ae,{value:Q.name,children:Q.name},Q.id))]})]}),U.length>0&&n.jsxs(it,{value:o,onValueChange:c,children:[n.jsx(rt,{className:"w-[180px]","data-testid":"select-tag-filter",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{size:16}),n.jsx(ot,{placeholder:"Tous les tags"})]})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"all",children:"Tous les tags"}),U.filter(Q=>Q.isActive).map(Q=>n.jsx(Ae,{value:Q.id,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Q.color||"#6366f1"}}),Q.name]})},Q.id))]})]}),n.jsxs(it,{value:d,onValueChange:m,children:[n.jsx(rt,{className:"w-[180px]","data-testid":"select-payment-filter",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mn,{size:16}),n.jsx(ot,{placeholder:"Tous paiements"})]})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"all",children:"Tous paiements"}),n.jsx(Ae,{value:"free",children:"Gratuit"}),n.jsx(Ae,{value:"due",children:" payer"}),n.jsx(Ae,{value:"paid",children:"Pay"})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:P?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{className:"bg-gray-50/50",children:[n.jsx(Ke,{children:"Adhrent"}),n.jsx(Ke,{children:"Section"}),n.jsx(Ke,{children:"Code rclamation"}),U.length>0&&n.jsx(Ke,{children:"Tags"}),n.jsx(Ke,{children:"Tarif"}),n.jsx(Ke,{children:"Paiement"}),n.jsx(Ke,{children:"Statut"}),n.jsx(Ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Bs,{children:z.length===0?n.jsx(rn,{children:n.jsx(Be,{colSpan:U.length>0?8:7,className:"text-center py-8 text-gray-500",children:"Aucun adhrent trouv"})}):z.map(Q=>n.jsxs(rn,{className:"cursor-pointer hover:bg-gray-50/80 group transition-colors","data-testid":`row-member-${Q.id}`,children:[n.jsx(Be,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-9 w-9 rounded-full bg-gray-100 overflow-hidden",children:Q.user?.avatar?n.jsx("img",{src:Q.user.avatar,alt:"",className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-primary/10 text-primary font-bold text-xs",children:(Q.displayName||`${Q.user?.firstName||""} ${Q.user?.lastName||""}`).split(" ").map(xe=>xe[0]).join("").slice(0,2).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 group-hover:text-primary transition-colors",children:Q.displayName||`${Q.user?.firstName||""} ${Q.user?.lastName||""}`}),n.jsx("div",{className:"text-xs text-gray-500",children:Q.user?.email||"Non rclam"})]})]})}),n.jsx(Be,{className:"text-sm text-gray-600",children:Q.section||"-"}),n.jsx(Be,{children:Q.claimCode?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:Q.claimCode}),n.jsx(H,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:xe=>{xe.stopPropagation(),he(Q.claimCode)},children:n.jsx(uh,{size:12})})]}):n.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),U.length>0&&n.jsx(Be,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[(Q.tags||[]).slice(0,3).map(xe=>n.jsx(Se,{variant:"outline",className:"text-xs py-0",style:{borderColor:xe.color||"#6366f1",color:xe.color||"#6366f1"},children:xe.name},xe.id)),(Q.tags||[]).length>3&&n.jsxs(Se,{variant:"outline",className:"text-xs py-0 text-gray-500",children:["+",(Q.tags||[]).length-3]}),(Q.tags||[]).length===0&&n.jsx("span",{className:"text-gray-400 text-xs",children:"-"})]})}),n.jsx(Be,{children:Q.membershipAmountDue&&Q.membershipAmountDue>0?n.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[(Q.membershipAmountDue/100).toFixed(2)," "]}):Q.membershipPaymentStatus==="free"?n.jsx("span",{className:"text-sm text-gray-500",children:"Gratuit"}):n.jsx("span",{className:"text-gray-400 text-xs",children:"-"})}),n.jsxs(Be,{children:[Q.membershipPaymentStatus==="paid"&&n.jsxs(Se,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 gap-1 font-normal",children:[n.jsx(vs,{size:10})," Pay"]}),Q.membershipPaymentStatus==="due"&&n.jsxs(Se,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200 gap-1 font-normal",children:[n.jsx(Ln,{size:10}),"  payer"]}),Q.membershipPaymentStatus==="free"&&n.jsxs(Se,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 gap-1 font-normal",children:[n.jsx(vs,{size:10})," Gratuit"]}),!Q.membershipPaymentStatus&&n.jsx("span",{className:"text-gray-400 text-xs",children:"-"})]}),n.jsx(Be,{children:n.jsx(Se,{variant:"outline",className:Q.status==="active"?"bg-green-50 text-green-700 border-green-200":Q.status==="expired"?"bg-red-50 text-red-700 border-red-200":(Q.status==="suspended","bg-gray-50 text-gray-600 border-gray-200"),children:Q.status==="active"?"Actif":Q.status==="expired"?"Expir":Q.status==="suspended"?"Suspendu":Q.status||"N/A"})}),n.jsx(Be,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[U.length>0&&n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:xe=>{xe.stopPropagation(),q(Q)},"data-testid":`button-tags-member-${Q.id}`,children:n.jsx(zi,{size:16,className:"text-gray-400 hover:text-primary"})}),n.jsx($e,{href:`/admin/members/${Q.id}`,children:n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8","data-testid":`button-view-member-${Q.id}`,children:n.jsx(ws,{size:16,className:"text-gray-400 hover:text-primary"})})})]})})]},Q.id))})]})}),n.jsx(ht,{open:w,onOpenChange:y,children:n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Grer les tags"})}),j&&n.jsxs("div",{className:"py-4",children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Slectionnez les tags pour ",n.jsx("strong",{children:j.displayName||`${j.user?.firstName||""} ${j.user?.lastName||""}`})]}),n.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[U.filter(Q=>Q.isActive).map(Q=>n.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>K(Q.id),children:[n.jsx(Vs,{id:`tag-${Q.id}`,checked:C.includes(Q.id),onCheckedChange:()=>K(Q.id)}),n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Q.color||"#6366f1"}}),n.jsx(ee,{htmlFor:`tag-${Q.id}`,className:"cursor-pointer font-medium",children:Q.name})]}),Q.description&&n.jsx("span",{className:"text-xs text-muted-foreground",children:Q.description})]},Q.id)),U.filter(Q=>Q.isActive).length===0&&n.jsxs("p",{className:"text-center text-muted-foreground py-4",children:["Aucun tag disponible. ",n.jsx($e,{href:"/admin/tags",className:"text-primary underline",children:"Crer des tags"})]})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:I,disabled:$.isPending,children:$.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Enregistrement..."]}):"Enregistrer"})]})]})})]})})}function M3e({params:e}){const[,t]=zt(),{currentMembership:r}=dt(),s=Wt(),a=r?.communityId||"",i=e.id,[o,c]=v.useState(!1),[d,m]=v.useState(!1),[f,h]=v.useState(!1),[g,b]=v.useState({}),w=r?.adminRole==="super_admin"||r?.isOwner===!0,{data:y=[],isLoading:j,isError:N,error:C}=Pe({queryKey:[`/api/communities/${a}/members`],enabled:!!a}),{data:E=[]}=Pe({queryKey:[`/api/communities/${a}/membership-plans`],enabled:!!a}),{data:T=[]}=Pe({queryKey:[`/api/communities/${a}/sections`],enabled:!!a}),A=y.find(U=>U.id===i);v.useEffect(()=>{h(!1)},[A?.user?.avatar]);const k=qe({mutationFn:async()=>{const U=A?.status==="suspended"?"active":"suspended",B=await Ps(`/api/memberships/${i}`,{status:U});if(!B.ok)throw new Error("Failed to update status");return B.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/members`]}),X.success(A?.status==="suspended"?"Adhrent ractiv":"Adhrent suspendu")},onError:()=>{X.error("Erreur lors de la mise  jour du statut")}}),P=qe({mutationFn:async()=>{const U=await qd(`/api/memberships/${i}`);if(!U.ok)throw new Error("Failed to delete membership");return U.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/members`]}),X.success("Adhrent supprim dfinitivement"),t("/admin/members")},onError:U=>{X.error(U.message||"Erreur lors de la suppression")}}),O=qe({mutationFn:async U=>{const B=await Ps(`/api/memberships/${i}`,U);if(!B.ok)throw new Error("Failed to update membership");return B.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/members`]}),X.success("Informations mises  jour"),c(!1)},onError:()=>{X.error("Erreur lors de la mise  jour")}}),M=qe({mutationFn:async U=>{const B=await Ps(`/api/memberships/${i}`,{section:U});if(!B.ok){const ie=B.data;throw new Error(ie?.detail||ie?.error||"Erreur lors de la mise  jour")}return B.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/members`]}),X.success("Section mise  jour")},onError:U=>{X.error(U.message)}}),F=qe({mutationFn:async U=>{const B=await Ps(`/api/memberships/${i}`,{membershipPlanId:U});if(!B.ok){const ie=B.data;throw new Error(ie?.detail||ie?.error||"Erreur lors de la mise  jour")}return B.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/members`]}),X.success("Formule d'adhsion mise  jour")},onError:U=>{X.error(U.message)}}),D=qe({mutationFn:async()=>{const U=await kr(`/api/memberships/${i}/resend-claim-code`,{});if(!U.ok){const B=U.data;throw U.status===429?new Error(B?.error||"Trop de tentatives. Veuillez patienter."):new Error(B?.error||"chec de l'envoi de l'email")}return U.data},onSuccess:U=>{U.status==="skipped"?X.warning(U.message||"Email non configur, envoi ignor"):X.success(U.message||"Email envoy avec succs")},onError:U=>{X.error(U.message)}}),$=()=>{O.mutate(g)},V=()=>{P.mutate()},z=U=>U&&E.find(ie=>ie.id===U)?.name||null;if(!a)return n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs(ve,{className:"p-8 text-center",children:[n.jsx(br,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Accs refus"}),n.jsx("p",{className:"text-gray-500",children:"Vous devez tre connect  une communaut pour voir les dtails des adhrents."})]})})});if(j)return n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})});if(N){const U=C instanceof Error?C.message:"Erreur inconnue";return n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(H,{variant:"ghost",className:"gap-2 text-gray-500 hover:text-gray-900 pl-0",onClick:()=>t("/admin/members"),children:[n.jsx(Bn,{size:16})," Retour  la liste"]}),n.jsxs(ve,{className:"p-8 text-center border-red-200 bg-red-50/30",children:[n.jsx(br,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2 text-red-700",children:"Erreur de chargement"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Impossible de charger les informations de l'adhrent."}),n.jsx("p",{className:"text-sm text-gray-500",children:U})]})]})})}if(!A)return n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs(H,{variant:"ghost",className:"gap-2 text-gray-500 hover:text-gray-900 pl-0",onClick:()=>t("/admin/members"),children:[n.jsx(Bn,{size:16})," Retour  la liste"]}),n.jsxs(ve,{className:"p-8 text-center",children:[n.jsx(br,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Adhrent non trouv"}),n.jsx("p",{className:"text-gray-500",children:"Cet adhrent n'existe pas ou a t supprim."})]})]})});const q=A.displayName||`${A.user?.firstName||""} ${A.user?.lastName||""}`.trim()||"Sans nom",I=q.split(" ").map(U=>U[0]).join("").substring(0,2).toUpperCase(),K=z(A.membershipPlanId);return n.jsxs(dn,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs(H,{variant:"ghost",className:"gap-2 text-gray-500 hover:text-gray-900 pl-0",onClick:()=>t("/admin/members"),"data-testid":"button-back-to-list",children:[n.jsx(Bn,{size:16})," Retour  la liste"]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 flex flex-col md:flex-row gap-6 items-start md:items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-6",children:[n.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-100 overflow-hidden shadow-inner",children:A.user?.avatar&&!f?n.jsx("img",{src:ar(A.user.avatar),alt:q,className:"h-full w-full object-cover",onError:()=>h(!0),"data-testid":"img-member-avatar"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-primary/10 text-primary font-bold text-2xl",children:I})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-member-name",children:q}),n.jsx(Se,{variant:"outline",className:A.status==="active"?"bg-green-50 text-green-700 border-green-200":A.status==="expired"?"bg-red-50 text-red-700 border-red-200":A.status==="suspended"?"bg-gray-50 text-gray-600 border-gray-200":"bg-yellow-50 text-yellow-700 border-yellow-200","data-testid":"badge-member-status",children:A.status==="active"?"Actif":A.status==="expired"?"Expir":A.status==="suspended"?"Suspendu":A.status||"N/A"})]}),n.jsxs("div",{className:"flex flex-col gap-1 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{size:14}),n.jsx("span",{"data-testid":"text-member-id",children:A.memberId||"Non attribu"}),A.joinDate&&n.jsxs("span",{children:["  Adhrent depuis ",new Date(A.joinDate).getFullYear()]})]}),K&&n.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium",children:[n.jsx(mn,{size:14})," ",K]})]})]})]}),n.jsxs("div",{className:"flex gap-3 flex-wrap",children:[n.jsx(H,{variant:"outline",onClick:()=>{o?(c(!1),b({})):(c(!0),b({salutation:A.salutation||null,firstName:A.firstName||"",lastName:A.lastName||"",email:A.email||A.user?.email||"",phone:A.phone||A.user?.phone||""}))},"data-testid":"button-edit-member",children:o?"Annuler":"Modifier"}),o&&n.jsxs(H,{onClick:$,disabled:O.isPending,"data-testid":"button-save-member",children:[O.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin mr-2"}):null,"Enregistrer"]}),!o&&n.jsxs(n.Fragment,{children:[n.jsxs(H,{variant:A.status==="suspended"?"default":"outline",className:A.status!=="suspended"?"text-amber-600 border-amber-200 hover:bg-amber-50":"",onClick:()=>k.mutate(),disabled:k.isPending,"data-testid":"button-suspend-member",children:[k.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(Vse,{size:16,className:"mr-2"}),A.status==="suspended"?"Ractiver":"Suspendre"]}),w&&n.jsxs(H,{variant:"destructive",onClick:()=>m(!0),"data-testid":"button-delete-member",children:[n.jsx(js,{size:16,className:"mr-2"}),"Supprimer"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsx(Ve,{className:"text-lg",children:"Informations Personnelles"})}),n.jsx(je,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Civilit"}),o?n.jsxs(it,{value:g.salutation||"__none__",onValueChange:U=>b({...g,salutation:U==="__none__"?null:U}),children:[n.jsx(rt,{"data-testid":"select-salutation",children:n.jsx(ot,{placeholder:"Slectionner..."})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"__none__",children:"Non renseign"}),VO.map(U=>n.jsx(Ae,{value:U,children:U==="M"?"Monsieur":U==="Mme"?"Madame":"Autre"},U))]})]}):n.jsx("div",{className:"font-medium","data-testid":"text-salutation",children:A.salutation==="M"?"Monsieur":A.salutation==="Mme"?"Madame":A.salutation==="Autre"?"Autre":"Non renseign"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Prnom"}),o?n.jsx(ne,{value:g.firstName||"",onChange:U=>b({...g,firstName:U.target.value}),placeholder:"Prnom","data-testid":"input-firstname"}):n.jsx("div",{className:"font-medium","data-testid":"text-firstname",children:A.firstName||"Non renseign"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Nom"}),o?n.jsx(ne,{value:g.lastName||"",onChange:U=>b({...g,lastName:U.target.value}),placeholder:"Nom","data-testid":"input-lastname"}):n.jsx("div",{className:"font-medium","data-testid":"text-lastname",children:A.lastName||"Non renseign"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Nom d'affichage"}),n.jsxs("div",{className:"flex items-center gap-2 font-medium","data-testid":"text-display-name",children:[n.jsx(gi,{size:16,className:"text-gray-400"}),o&&`${g.firstName||""} ${g.lastName||""}`.trim()||q]}),o&&n.jsx("p",{className:"text-xs text-gray-500",children:"Calcul automatiquement depuis Prnom + Nom"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Email"}),o?n.jsx(ne,{type:"email",value:g.email||"",onChange:U=>b({...g,email:U.target.value}),placeholder:"email@exemple.com","data-testid":"input-email"}):n.jsxs("div",{className:"flex items-center gap-2 font-medium","data-testid":"text-email",children:[n.jsx(bs,{size:16,className:"text-gray-400"})," ",A.email||A.user?.email||"Non renseign"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Tlphone"}),o?n.jsx(ne,{value:g.phone||"",onChange:U=>b({...g,phone:U.target.value}),placeholder:"Non renseign","data-testid":"input-phone"}):n.jsxs("div",{className:"flex items-center gap-2 font-medium","data-testid":"text-phone",children:[n.jsx(Ll,{size:16,className:"text-gray-400"})," ",A.phone||A.user?.phone||"Non renseign"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Date d'inscription"}),n.jsxs("div",{className:"flex items-center gap-2 font-medium","data-testid":"text-created-at",children:[n.jsx(Gn,{size:16,className:"text-gray-400"}),A.joinDate?new Date(A.joinDate).toLocaleDateString("fr-FR"):"Non disponible"]})]})]})})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsx(Ve,{className:"text-lg",children:"Adhsion"})}),n.jsx(je,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Code membre"}),n.jsxs("div",{className:"flex items-center gap-2 font-medium font-mono","data-testid":"text-member-code",children:[n.jsx(Mr,{size:16,className:"text-gray-400"})," ",A.memberId||"Non attribu"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Section"}),n.jsxs(it,{value:A.section||"__none__",onValueChange:U=>{const B=U==="__none__"?null:U;M.mutate(B)},disabled:M.isPending,children:[n.jsx(rt,{className:"w-full","data-testid":"select-section",children:n.jsx(ot,{placeholder:"Slectionner une section"})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"__none__",children:"Aucune section"}),T.map(U=>n.jsx(Ae,{value:U.name,children:U.name},U.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Formule d'adhsion"}),n.jsxs(it,{value:A.membershipPlanId||"__none__",onValueChange:U=>{const B=U==="__none__"?null:U;F.mutate(B)},disabled:F.isPending,children:[n.jsx(rt,{className:"w-full","data-testid":"select-plan",children:n.jsx(ot,{placeholder:"Slectionner une formule"})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"__none__",children:"Aucune formule"}),E.filter(U=>U.isActive).map(U=>n.jsxs(Ae,{value:U.id,children:[U.name," ",U.amount>0?`(${(U.amount/100).toFixed(2)} )`:"(Gratuit)"]},U.id))]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Date d'adhsion"}),n.jsxs("div",{className:"flex items-center gap-2 font-medium","data-testid":"text-start-date",children:[n.jsx(Gn,{size:16,className:"text-gray-400"}),A.membershipStartDate?new Date(A.membershipStartDate).toLocaleDateString("fr-FR"):A.joinDate?new Date(A.joinDate).toLocaleDateString("fr-FR"):n.jsx("span",{className:"text-gray-400",children:"Non dfinie"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Date d'expiration"}),n.jsxs("div",{className:"flex flex-col gap-1","data-testid":"text-valid-until",children:[A.membershipSeasonLabel?n.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[n.jsx(Gn,{size:16,className:"text-primary"}),n.jsxs("span",{children:["Saison ",A.membershipSeasonLabel]})]}):null,n.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[n.jsx(Gn,{size:16,className:"text-gray-400"}),A.membershipValidUntil?n.jsxs(n.Fragment,{children:[new Date(A.membershipValidUntil).toLocaleDateString("fr-FR"),(()=>{const U=Math.ceil((new Date(A.membershipValidUntil).getTime()-Date.now())/864e5);return U<0?n.jsx(Se,{variant:"outline",className:"ml-2 bg-red-50 text-red-700 border-red-200",children:"Expire"}):U<=30?n.jsxs(Se,{variant:"outline",className:"ml-2 bg-amber-50 text-amber-700 border-amber-200",children:["Expire dans ",U," j"]}):null})()]}):n.jsx("span",{className:"text-gray-400",children:"Sans limite"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Montant d"}),n.jsx("div",{className:"flex items-center gap-2 font-medium","data-testid":"text-amount-due",children:A.membershipAmountDue&&A.membershipAmountDue>0?n.jsxs("span",{children:[(A.membershipAmountDue/100).toFixed(2)," "]}):A.membershipPaymentStatus==="free"?n.jsx("span",{className:"text-gray-500",children:"Gratuit"}):n.jsx("span",{className:"text-gray-400",children:"-"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-gray-500",children:"Statut de paiement"}),n.jsxs("div",{"data-testid":"badge-payment-status",children:[A.membershipPaymentStatus==="paid"&&n.jsxs(Se,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 gap-1",children:[n.jsx(vs,{size:12})," Pay"]}),A.membershipPaymentStatus==="due"&&n.jsxs(Se,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200 gap-1",children:[n.jsx(Ln,{size:12}),"  payer"]}),A.membershipPaymentStatus==="free"&&n.jsxs(Se,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200 gap-1",children:[n.jsx(vs,{size:12})," Gratuit"]}),!A.membershipPaymentStatus&&n.jsx("span",{className:"text-gray-400",children:"-"})]})]})]})})]}),A.tags&&A.tags.length>0&&n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsx(Ve,{className:"text-lg",children:"Tags"})}),n.jsx(je,{children:n.jsx("div",{className:"flex flex-wrap gap-2","data-testid":"container-tags",children:A.tags.map(U=>n.jsxs(Se,{variant:"outline",style:{borderColor:U.color||"#6366f1",backgroundColor:`${U.color||"#6366f1"}15`},children:[n.jsx("span",{className:"w-2 h-2 rounded-full mr-2",style:{backgroundColor:U.color||"#6366f1"}}),U.name]},U.id))})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{className:A.membershipPaymentStatus==="due"?"border-amber-200 bg-amber-50/30":A.membershipPaymentStatus==="paid"?"border-green-200 bg-green-50/30":"border-gray-200",children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"text-lg flex items-center gap-2",children:[n.jsx(mn,{className:A.membershipPaymentStatus==="due"?"text-amber-600":A.membershipPaymentStatus==="paid"?"text-green-600":"text-gray-600"}),"tat des Cotisations"]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center pb-4 border-b border-gray-200/50",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Statut Actuel"}),A.membershipPaymentStatus==="paid"?n.jsx(Se,{className:"bg-green-600 hover:bg-green-700",children:" Jour"}):A.membershipPaymentStatus==="free"?n.jsx(Se,{className:"bg-blue-600 hover:bg-blue-700",children:"Gratuit"}):A.membershipPaymentStatus==="due"?n.jsx(Se,{variant:"outline",className:"bg-amber-100 text-amber-700 border-amber-300",children:" Payer"}):n.jsx(Se,{variant:"outline",children:"Inconnu"})]}),A.membershipPaymentStatus==="due"&&A.membershipAmountDue&&n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Montant  rgler"}),n.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[(A.membershipAmountDue/100).toFixed(2)," "]}),n.jsxs("p",{className:"text-xs text-amber-600 font-medium flex items-center gap-1 mt-1",children:[n.jsx(br,{size:12})," Paiement en attente"]})]})]})]}),A.memberId&&n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsx(Ve,{className:"text-lg",children:"QR Code"}),n.jsx(Ct,{children:"Utilis pour le pointage aux vnements"})]}),n.jsxs(je,{className:"flex flex-col items-center",children:[n.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm mb-4",children:n.jsx(Lg,{value:A.memberId,size:128,"data-testid":"qr-code-member"})}),n.jsx("p",{className:"text-xs text-gray-500 font-mono mb-2",children:A.memberId})]})]}),A.claimCode&&!A.accountId&&A.email&&n.jsxs(ve,{className:"border-blue-200 bg-blue-50/30",children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"text-lg flex items-center gap-2",children:[n.jsx(y4,{className:"text-blue-600",size:18}),"Code de rclamation"]}),n.jsx(Ct,{children:"Ce membre n'a pas encore activ son compte"})]}),n.jsxs(je,{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center gap-2 justify-center",children:n.jsx("span",{className:"font-mono text-xl font-bold tracking-widest text-gray-900 bg-white px-4 py-2 rounded-lg border border-gray-200","data-testid":"text-claim-code",children:A.claimCode})}),n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"L'adhrent doit utiliser ce code pour activer son compte sur l'application mobile."}),n.jsxs(H,{variant:"outline",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-100",onClick:()=>D.mutate(),disabled:D.isPending,"data-testid":"button-resend-claim-code",children:[D.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(Rs,{size:16,className:"mr-2"}),"Renvoyer le code par email"]})]})]})]})]})]}),n.jsx(ht,{open:d,onOpenChange:m,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsxs(gt,{className:"text-red-600 flex items-center gap-2",children:[n.jsx(js,{size:20}),"Supprimer dfinitivement ?"]}),n.jsxs(Jr,{className:"pt-2",children:["Vous tes sur le point de supprimer dfinitivement ",n.jsx("strong",{children:q}),".",n.jsx("br",{}),n.jsx("br",{}),"Cette action est irrversible. Toutes les donnes de cet adhrent seront perdues, incluant :",n.jsxs("ul",{className:"list-disc list-inside mt-2 text-sm",children:[n.jsx("li",{children:"Son profil et ses informations personnelles"}),n.jsx("li",{children:"Son historique d'adhsion"}),n.jsx("li",{children:"Ses tags et associations"})]})]})]}),n.jsxs(jt,{className:"gap-2 sm:gap-0",children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline","data-testid":"button-cancel-delete",children:"Annuler"})}),n.jsxs(H,{variant:"destructive",onClick:V,disabled:P.isPending,"data-testid":"button-confirm-delete",children:[P.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(js,{size:16,className:"mr-2"}),"Supprimer dfinitivement"]})]})]})})]})}function QB({value:e,onChange:t,label:r="Image de couverture",folder:s="news",className:a=""}){const[i,o]=v.useState(!1),[c,d]=v.useState(!1),m=v.useRef(null),f=async y=>{o(!0);try{const{objectPath:j}=await Qx(y,{folder:s});t(j),X.success("Image uploade avec succs")}catch(j){console.error("[ImageUpload] Upload error:",j),X.error(j instanceof Error?j.message:"Erreur lors de l'upload de l'image")}finally{o(!1)}},h=y=>{const j=y.target.files?.[0];j&&f(j)},g=y=>{y.preventDefault(),y.stopPropagation(),y.type==="dragenter"||y.type==="dragover"?d(!0):y.type==="dragleave"&&d(!1)},b=y=>{y.preventDefault(),y.stopPropagation(),d(!1);const j=y.dataTransfer.files?.[0];j&&f(j)},w=()=>{t(""),m.current&&(m.current.value="")};return n.jsxs("div",{className:`space-y-2 ${a}`,children:[n.jsx(ee,{children:r}),e?n.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-gray-200 bg-gray-50",children:[n.jsx("img",{src:ar(e,"ImageUpload-preview")||e,alt:"Aperu",className:"w-full h-48 object-cover"}),n.jsxs("div",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[n.jsxs(H,{type:"button",variant:"secondary",size:"sm",onClick:()=>m.current?.click(),disabled:i,"data-testid":"button-change-image",children:[n.jsx(Uc,{size:16,className:"mr-2"}),"Changer"]}),n.jsxs(H,{type:"button",variant:"destructive",size:"sm",onClick:w,disabled:i,"data-testid":"button-remove-image",children:[n.jsx(fn,{size:16,className:"mr-2"}),"Supprimer"]})]})]}):n.jsx("div",{className:`
            relative border-2 border-dashed rounded-lg p-6 text-center cursor-pointer
            transition-colors
            ${c?"border-primary bg-primary/5":"border-gray-300 hover:border-gray-400 bg-gray-50"}
            ${i?"pointer-events-none opacity-70":""}
          `,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:b,onClick:()=>m.current?.click(),"data-testid":"dropzone-image",children:i?n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Oe,{className:"h-10 w-10 animate-spin text-primary"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Upload en cours..."})]}):n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center",children:n.jsx($9,{className:"h-6 w-6 text-gray-400"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Cliquez ou glissez une image ici"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG jusqu' 5 Mo"})]})]})}),n.jsx(ne,{ref:m,type:"file",accept:"image/*",className:"hidden",onChange:h,"data-testid":"input-file-image"})]})}function R3e(e,t){const[r,s]=v.useState(e);return v.useEffect(()=>{const a=setTimeout(()=>s(e),t);return()=>clearTimeout(a)},[e,t]),r}function D3e(){const{communityId:e}=Kl(),t=Wt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(!1),[d,m]=v.useState(!1),[f,h]=v.useState(null),[g,b]=v.useState({q:"",scope:"all",section:"",tagIds:[],page:1,pageSize:12}),[w,y]=v.useState(""),j=R3e(w,300);v.useEffect(()=>{j!==g.q&&b(Z=>({...Z,q:j,page:1}))},[j]);const N=g.q||g.scope!=="all"||g.section||g.tagIds.length>0,C=()=>{y(""),b({q:"",scope:"all",section:"",tagIds:[],page:1,pageSize:12})},[E,T]=v.useState({title:"",summary:"",content:"",categoryId:"",scope:"national",sectionIds:[],image:"",status:"published",targetTagIds:[]}),A=v.useCallback(()=>{const Z=new URLSearchParams;g.q&&Z.set("q",g.q),g.scope!=="all"&&Z.set("scope",g.scope),g.section&&Z.set("section",g.section),g.tagIds.length>0&&Z.set("tagIds",g.tagIds.join(",")),Z.set("page",g.page.toString()),Z.set("pageSize",g.pageSize.toString());const re=Z.toString();return`/api/communities/${e}/news${re?`?${re}`:""}`},[e,g]),{data:k,isLoading:P}=Pe({queryKey:[`/api/communities/${e}/news`,g],queryFn:async()=>{const Z=await wo(A());if(!Z.ok)throw new Error("Failed to fetch articles");return Z.data}}),O=Array.isArray(k)?k:k?.articles||[],M=Array.isArray(k)?k.length:k?.total||0,F=Math.ceil(M/g.pageSize),{data:D=[]}=Pe({queryKey:[`/api/communities/${e}/sections`]}),{data:$=[]}=Pe({queryKey:[`/api/communities/${e}/tags`]}),{data:V=[]}=Pe({queryKey:[`/api/communities/${e}/categories`],enabled:!!e}),{data:z=[]}=Pe({queryKey:[`/api/communities/${e}/articles/tags`],enabled:!!e}),q=Z=>z.find(le=>le.articleId===Z)?.tags||[],I=$.filter(Z=>Z.isActive&&(Z.type==="content"||Z.type==="hybrid")),K=Z=>Z&&V.find(le=>le.id===Z)?.name||null,U=Z=>{T(re=>({...re,sectionIds:re.sectionIds.includes(Z)?re.sectionIds.filter(le=>le!==Z):[...re.sectionIds,Z]}))},B=Z=>{T(re=>({...re,targetTagIds:re.targetTagIds.includes(Z)?re.targetTagIds.filter(le=>le!==Z):[...re.targetTagIds,Z]}))},ie=qe({mutationFn:async Z=>{console.log("[SAVE] News create mutation triggered",Z);const re=await kr("/api/news",{...Z,communityId:e,author:"Admin"});if(!re.ok)throw new Error(re.data?.error||"Failed to create news");return console.log("[SAVE] News create success",re.data),re.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/news`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/articles/tags`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/dashboard`]}),X.success("Actualit cre avec succs"),s(!1),se()},onError:Z=>{console.error("[SAVE] News create error",Z),X.error("Erreur lors de la cration de l'actualit")}}),G=qe({mutationFn:async({id:Z,data:re})=>{console.log("[SAVE] News update mutation triggered",{id:Z,data:re});const le=await Ps(`/api/news/${Z}`,re);if(!le.ok)throw new Error(le.data?.error||"Failed to update news");return console.log("[SAVE] News update success",le.data),le.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/news`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/articles/tags`]}),X.success("Actualit mise  jour"),i(!1),h(null)},onError:Z=>{console.error("[SAVE] News update error",Z),X.error("Erreur lors de la mise  jour")}}),Y=qe({mutationFn:async Z=>{console.log("[SAVE] News delete mutation triggered",{id:Z});const re=await qd(`/api/news/${Z}`);if(!re.ok)throw new Error(re.data?.error||"Failed to delete news");return console.log("[SAVE] News delete success"),re.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/news`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/articles/tags`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/dashboard`]}),X.success("Actualit supprime"),c(!1),h(null)},onError:Z=>{console.error("[SAVE] News delete error",Z),X.error("Erreur lors de la suppression")}}),se=()=>{T({title:"",summary:"",content:"",categoryId:"",scope:"national",sectionIds:[],image:"",status:"published",targetTagIds:[]})},he=()=>{if(!E.title||!E.summary||!E.content){X.error("Veuillez remplir tous les champs obligatoires");return}ie.mutate({title:E.title,summary:E.summary,content:E.content,categoryId:E.categoryId||null,scope:E.scope,sectionIds:E.scope==="local"?E.sectionIds:[],image:E.image||null,status:E.status,targetTagIds:E.targetTagIds})},Q=async Z=>{h(Z);let re=[],le=[];try{const[Re,Pt]=await Promise.all([wo(`/api/articles/${Z.id}/tags`),wo(`/api/articles/${Z.id}/sections`)]);Re.ok&&(re=Re.data.map(Ot=>Ot.id)),Pt.ok&&(le=Pt.data)}catch(Re){console.error("Failed to fetch article tags/sections:",Re)}T({title:Z.title,summary:Z.summary,content:Z.content,categoryId:Z.categoryId||"",scope:Z.scope||"national",sectionIds:le,image:Z.image||"",status:Z.status||"published",targetTagIds:re}),i(!0)},xe=()=>{f&&G.mutate({id:f.id,data:{title:E.title,summary:E.summary,content:E.content,categoryId:E.categoryId||null,scope:E.scope,sectionIds:E.scope==="local"?E.sectionIds:[],image:E.image||null,status:E.status,targetTagIds:E.targetTagIds}})},me=Z=>{h(Z),m(!0)},Ue=Z=>{h(Z),c(!0)},ge=()=>{f&&Y.mutate(f.id)};if(P)return n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})});const Ee=Z=>{b(re=>({...re,tagIds:re.tagIds.includes(Z)?re.tagIds.filter(le=>le!==Z):[...re.tagIds,Z],page:1}))};return n.jsxs(dn,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Actualits"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Grez la communication et les informations diffuses aux adhrents."})]}),n.jsxs(ht,{open:r,onOpenChange:s,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2 bg-primary hover:bg-primary/90","data-testid":"button-new-news",children:[n.jsx(Sn,{size:16})," Nouvelle actualit"]})}),n.jsxs(mt,{className:"sm:max-w-[800px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Crer une actualit"})}),n.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Porte de la publication"}),n.jsxs(it,{value:E.scope,onValueChange:Z=>T({...E,scope:Z,sectionIds:Z==="national"?[]:E.sectionIds}),children:[n.jsx(rt,{"data-testid":"select-news-scope",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"national",children:"Nationale (Tout le monde)"}),n.jsx(Ae,{value:"local",children:"Locale (Section spcifique)"})]})]})]}),E.scope==="local"&&D.length>0&&n.jsxs("div",{className:"space-y-2 col-span-2",children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Hr,{size:16}),"Sections cibles"]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Slectionnez une ou plusieurs sections. Sans slection, l'article sera visible par tous."}),n.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(Z=>n.jsxs("label",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border cursor-pointer transition-colors ${E.sectionIds.includes(Z.id)?"border-green-600 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Vs,{checked:E.sectionIds.includes(Z.id),onCheckedChange:()=>U(Z.id),className:"sr-only"}),n.jsx(Hr,{size:12,className:E.sectionIds.includes(Z.id)?"text-green-600":"text-gray-400"}),n.jsx("span",{className:"text-sm",children:Z.name})]},Z.id))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"title",children:"Titre *"}),n.jsx(ne,{id:"title",placeholder:"Titre de l'actualit...",value:E.title,onChange:Z=>T({...E,title:Z.target.value}),"data-testid":"input-news-title"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"summary",children:"Rsum (affich dans la liste) *"}),n.jsx(Nn,{id:"summary",placeholder:"Court rsum...",className:"h-20",value:E.summary,onChange:Z=>T({...E,summary:Z.target.value}),"data-testid":"input-news-summary"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"content",children:"Contenu complet *"}),n.jsx(aT,{value:E.content,onChange:Z=>T({...E,content:Z}),placeholder:"Contenu dtaill de l'actualit...",minHeight:"200px"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Rubrique"}),n.jsxs(it,{value:E.categoryId,onValueChange:Z=>T({...E,categoryId:Z}),children:[n.jsx(rt,{"data-testid":"select-news-category",children:n.jsx(ot,{placeholder:"Slectionner une rubrique..."})}),n.jsx(st,{children:V.filter(Z=>Z.isActive).map(Z=>n.jsx(Ae,{value:Z.id,children:Z.name},Z.id))})]})]}),n.jsx(QB,{value:E.image,onChange:Z=>T({...E,image:Z}),label:"Image de couverture (aperu dans la liste)",folder:"news"}),I.length>0&&n.jsxs("div",{className:"space-y-2 border-t pt-4 mt-4",children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(zi,{size:16}),"Ciblage par tags (optionnel)"]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Slectionnez les tags pour limiter la visibilit de cette actualit  des membres spcifiques."}),n.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(Z=>n.jsxs("label",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border cursor-pointer transition-colors ${E.targetTagIds.includes(Z.id)?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Vs,{checked:E.targetTagIds.includes(Z.id),onCheckedChange:()=>B(Z.id),className:"sr-only"}),n.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Z.color||"#6366f1"}}),n.jsx("span",{className:"text-sm",children:Z.name})]},Z.id))}),E.targetTagIds.length===0&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Sans ciblage, l'actualit sera visible par tous les membres."})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>{T({...E,status:"draft"}),he()},disabled:ie.isPending,children:"Enregistrer en brouillon"}),n.jsx(H,{onClick:he,disabled:ie.isPending,"data-testid":"button-submit-news",children:ie.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Publication..."]}):"Publier"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx(ne,{placeholder:"Rechercher un article...",value:w,onChange:Z=>y(Z.target.value),className:"pl-10 pr-10","data-testid":"input-search-articles"}),w&&n.jsx("button",{onClick:()=>y(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(fn,{size:16})})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[n.jsx("div",{className:"min-w-[160px]",children:n.jsxs(it,{value:g.scope,onValueChange:Z=>{b(re=>({...re,scope:Z,section:Z!=="local"?"":re.section,page:1}))},children:[n.jsx(rt,{"data-testid":"filter-scope",children:n.jsx(ot,{placeholder:"Porte"})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"all",children:"Toutes les portes"}),n.jsx(Ae,{value:"national",children:"National"}),n.jsx(Ae,{value:"local",children:"Section"})]})]})}),g.scope==="local"&&n.jsx("div",{className:"min-w-[180px]",children:n.jsxs(it,{value:g.section,onValueChange:Z=>b(re=>({...re,section:Z,page:1})),children:[n.jsx(rt,{"data-testid":"filter-section",children:n.jsx(ot,{placeholder:"Choisir la section"})}),n.jsx(st,{children:D.map(Z=>n.jsx(Ae,{value:Z.name,children:Z.name},Z.id))})]})}),I.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[I.slice(0,5).map(Z=>n.jsxs("button",{onClick:()=>Ee(Z.id),className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full border text-xs transition-colors ${g.tagIds.includes(Z.id)?"border-primary bg-primary/10 text-primary":"border-gray-200 hover:border-gray-300 text-gray-600"}`,"data-testid":`filter-tag-${Z.id}`,children:[n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Z.color||"#6366f1"}}),Z.name]},Z.id)),I.length>5&&n.jsxs("span",{className:"text-xs text-gray-400 self-center",children:["+",I.length-5]})]}),N&&n.jsxs(H,{variant:"ghost",size:"sm",onClick:C,className:"text-gray-500 hover:text-gray-700","data-testid":"button-reset-filters",children:[n.jsx(A6,{size:14,className:"mr-1"}),"Rinitialiser"]})]}),N&&n.jsxs("p",{className:"text-sm text-gray-500",children:[M," article",M!==1?"s":""," trouv",M!==1?"s":""]})]}),O.length===0?n.jsx("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:N?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Aucun article ne correspond  votre recherche"}),n.jsxs(H,{onClick:C,variant:"outline",children:[n.jsx(A6,{size:16,className:"mr-2"})," Rinitialiser les filtres"]})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Aucune actualit pour le moment"}),n.jsxs(H,{onClick:()=>s(!0),children:[n.jsx(Sn,{size:16,className:"mr-2"})," Crer une actualit"]})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(Z=>n.jsxs(ve,{className:"overflow-hidden flex flex-col shadow-sm hover:shadow-md transition-shadow","data-testid":`card-news-${Z.id}`,children:[n.jsxs("div",{className:"h-48 overflow-hidden relative bg-gray-100",children:[Z.image?n.jsx("img",{src:ar(Z.image,`news-list-${Z.id}`)||Z.image,alt:Z.title,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:n.jsx(Ui,{size:48})}),n.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[n.jsxs(Se,{className:`
                      ${Z.scope==="national"?"bg-primary":"bg-green-600"} 
                      text-white border-0 shadow-sm
                    `,children:[Z.scope==="national"?n.jsx(Ui,{size:10,className:"mr-1"}):n.jsx(Hr,{size:10,className:"mr-1"}),Z.scope==="national"?"National":"Section"]}),Z.status==="draft"&&n.jsx(Se,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-0",children:"Brouillon"})]})]}),n.jsxs(Ge,{className:"pb-2",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[(K(Z.categoryId)||Z.category)&&n.jsx(Se,{variant:"outline",className:"text-xs font-normal text-gray-500 border-gray-200",children:K(Z.categoryId)||Z.category}),n.jsxs("span",{className:"text-xs text-gray-400 flex items-center",children:[n.jsx(Gn,{size:12,className:"mr-1"}),new Date(Z.publishedAt).toLocaleDateString("fr-FR")]})]}),n.jsx(Ve,{className:"text-lg leading-tight",children:Z.title}),Z.scope==="local"&&Z.section&&n.jsxs(Ct,{className:"text-green-700 font-medium text-xs mt-1",children:[" ",Z.section]})]}),n.jsxs(je,{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500 line-clamp-3",children:Z.summary}),(()=>{const re=q(Z.id);if(re.length===0)return null;const le=re.slice(0,3),Re=re.length-3;return n.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[le.map(Pt=>{const Ot=Pt.color||"#6366f1";return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs border",style:{backgroundColor:`${Ot}15`,borderColor:`${Ot}40`,color:Ot},children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:Ot}}),Pt.name]},Pt.id)}),Re>0&&n.jsxs("span",{className:"text-xs text-gray-400 px-2 py-0.5",children:["+",Re]})]})})()]}),n.jsxs(fh,{className:"pt-2 border-t bg-gray-50 flex justify-between",children:[n.jsxs(H,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-primary",onClick:()=>me(Z),"data-testid":`button-preview-news-${Z.id}`,children:[n.jsx(ws,{size:16,className:"mr-2"})," Aperu"]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-blue-600",onClick:()=>Q(Z),"data-testid":`button-edit-news-${Z.id}`,children:n.jsx(zl,{size:16})}),n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-red-600",onClick:()=>Ue(Z),"data-testid":`button-delete-news-${Z.id}`,children:n.jsx(js,{size:16})})]})]})]},Z.id))}),F>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6",children:[n.jsx(H,{variant:"outline",size:"sm",onClick:()=>b(Z=>({...Z,page:Z.page-1})),disabled:g.page<=1,"data-testid":"button-prev-page",children:n.jsx(bae,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600 px-4",children:["Page ",g.page," sur ",F]}),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>b(Z=>({...Z,page:Z.page+1})),disabled:g.page>=F,"data-testid":"button-next-page",children:n.jsx(xs,{size:16})})]})]})]}),n.jsx(ht,{open:d,onOpenChange:m,children:n.jsxs(mt,{className:"sm:max-w-[600px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Aperu de l'actualit"})}),f&&n.jsxs("div",{className:"py-4",children:[f.image&&n.jsx("img",{src:ar(f.image,"news-preview")||f.image,alt:f.title,className:"w-full h-48 object-cover rounded-lg mb-4"}),n.jsx("h2",{className:"text-xl font-bold mb-2",children:f.title}),n.jsx("p",{className:"text-gray-500 text-sm mb-4",children:f.summary}),n.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:f.content}})]}),n.jsx(jt,{children:n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Fermer"})})})]})}),n.jsx(ht,{open:a,onOpenChange:i,children:n.jsxs(mt,{className:"sm:max-w-[800px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Modifier l'actualit"})}),n.jsxs("div",{className:"grid gap-4 py-4 max-h-[70vh] overflow-y-auto",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-title",children:"Titre"}),n.jsx(ne,{id:"edit-title",value:E.title,onChange:Z=>T({...E,title:Z.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-summary",children:"Rsum"}),n.jsx(Nn,{id:"edit-summary",className:"h-20",value:E.summary,onChange:Z=>T({...E,summary:Z.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-content",children:"Contenu"}),n.jsx(aT,{value:E.content,onChange:Z=>T({...E,content:Z}),placeholder:"Contenu de l'actualit...",minHeight:"200px"})]}),n.jsx(QB,{value:E.image,onChange:Z=>T({...E,image:Z}),label:"Image de couverture",folder:"news"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Porte de la publication"}),n.jsxs(it,{value:E.scope,onValueChange:Z=>T({...E,scope:Z,sectionIds:Z==="national"?[]:E.sectionIds}),children:[n.jsx(rt,{children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"national",children:"Nationale (Tout le monde)"}),n.jsx(Ae,{value:"local",children:"Locale (Section spcifique)"})]})]})]}),E.scope==="local"&&D.length>0&&n.jsxs("div",{className:"space-y-2 border-t pt-4 mt-4",children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(Hr,{size:16}),"Sections cibles (optionnel)"]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Slectionnez une ou plusieurs sections. Sans slection, l'article sera visible par tous."}),n.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(Z=>n.jsxs("label",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border cursor-pointer transition-colors ${E.sectionIds.includes(Z.id)?"border-green-600 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Vs,{checked:E.sectionIds.includes(Z.id),onCheckedChange:()=>U(Z.id),className:"sr-only"}),n.jsx(Hr,{size:12,className:E.sectionIds.includes(Z.id)?"text-green-600":"text-gray-400"}),n.jsx("span",{className:"text-sm",children:Z.name})]},Z.id))})]}),I.length>0&&n.jsxs("div",{className:"space-y-2 border-t pt-4 mt-4",children:[n.jsxs(ee,{className:"flex items-center gap-2",children:[n.jsx(zi,{size:16}),"Ciblage par tags (optionnel)"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(Z=>n.jsxs("label",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border cursor-pointer transition-colors ${E.targetTagIds.includes(Z.id)?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Vs,{checked:E.targetTagIds.includes(Z.id),onCheckedChange:()=>B(Z.id),className:"sr-only"}),n.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Z.color||"#6366f1"}}),n.jsx("span",{className:"text-sm",children:Z.name})]},Z.id))})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:xe,disabled:G.isPending,children:G.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Mise  jour..."]}):"Enregistrer"})]})]})}),n.jsx(ht,{open:o,onOpenChange:c,children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Confirmer la suppression"})}),n.jsxs("p",{className:"py-4 text-gray-600",children:[`tes-vous sr de vouloir supprimer l'actualit "`,f?.title,'" ? Cette action est irrversible.']}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{variant:"destructive",onClick:ge,disabled:Y.isPending,children:Y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Suppression..."]}):"Supprimer"})]})]})})]})}function I3e(){const{communityId:e}=Kl(),t=Wt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(!1),[d,m]=v.useState(!1),[f,h]=v.useState(null),[g,b]=v.useState({title:"",description:"",date:"",endDate:"",location:"",type:"Runion",scope:"national",section:"",isPaid:!1,priceCents:0}),{data:w=[],isLoading:y}=Pe({queryKey:[`/api/communities/${e}/events`],enabled:!!e}),{data:j=[]}=Pe({queryKey:[`/api/communities/${e}/sections`],enabled:!!e}),N=qe({mutationFn:async D=>{const $=await kr("/api/events",{...D,communityId:e});if(!$.ok)throw new Error("Failed to create event");return $.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/events`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/dashboard`]}),X.success("vnement cr avec succs"),s(!1),T()},onError:()=>{X.error("Erreur lors de la cration de l'vnement")}}),C=qe({mutationFn:async({id:D,data:$})=>{const V=await Ps(`/api/events/${D}`,$);if(!V.ok)throw new Error("Failed to update event");return V.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/events`]}),X.success("vnement mis  jour"),i(!1),h(null)},onError:()=>{X.error("Erreur lors de la mise  jour")}}),E=qe({mutationFn:async D=>{const $=await qd(`/api/events/${D}`);if(!$.ok)throw new Error("Failed to delete event");return $.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/events`]}),t.invalidateQueries({queryKey:[`/api/communities/${e}/dashboard`]}),X.success("vnement supprim"),c(!1),h(null)},onError:()=>{X.error("Erreur lors de la suppression")}}),T=()=>{b({title:"",description:"",date:"",endDate:"",location:"",type:"Runion",scope:"national",section:"",isPaid:!1,priceCents:0})},A=()=>{if(!g.title||!g.date||!g.location){X.error("Veuillez remplir tous les champs obligatoires");return}if(g.isPaid&&(!g.priceCents||g.priceCents<=0)){X.error("Veuillez dfinir un prix pour l'vnement payant");return}N.mutate({title:g.title,description:g.description,date:new Date(g.date).toISOString(),endDate:g.endDate?new Date(g.endDate).toISOString():null,location:g.location,type:g.type,scope:g.scope,section:g.scope==="local"?g.section:null,isPaid:g.isPaid,priceCents:g.isPaid?g.priceCents:null,currency:"EUR"})},k=D=>{h(D),b({title:D.title,description:D.description,date:new Date(D.date).toISOString().slice(0,16),endDate:D.endDate?new Date(D.endDate).toISOString().slice(0,16):"",location:D.location,type:D.type,scope:D.scope||"national",section:D.section||"",isPaid:D.isPaid||!1,priceCents:D.priceCents||0}),i(!0)},P=()=>{if(f){if(g.isPaid&&(!g.priceCents||g.priceCents<=0)){X.error("Veuillez dfinir un prix pour l'vnement payant");return}C.mutate({id:f.id,data:{title:g.title,description:g.description,date:new Date(g.date).toISOString(),endDate:g.endDate?new Date(g.endDate).toISOString():null,location:g.location,type:g.type,scope:g.scope,section:g.scope==="local"?g.section:null,isPaid:g.isPaid,priceCents:g.isPaid?g.priceCents:null,currency:"EUR"}})}},O=D=>{h(D),c(!0)},M=D=>{h(D),m(!0)},F=()=>{f&&E.mutate(f.id)};return y?n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsxs(dn,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"vnements"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Planifiez des AG, formations et runions. Suivi des prsences par QR Code."})]}),n.jsxs(ht,{open:r,onOpenChange:s,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2 bg-primary hover:bg-primary/90","data-testid":"button-new-event",children:[n.jsx(Sn,{size:16})," Crer un vnement"]})}),n.jsxs(mt,{className:"sm:max-w-[600px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Nouvel vnement"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"title",children:"Titre de l'vnement *"}),n.jsx(ne,{id:"title",placeholder:"Ex: Assemble Gnrale 2025",value:g.title,onChange:D=>b({...g,title:D.target.value}),"data-testid":"input-event-title"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Type / Porte"}),n.jsxs(it,{value:g.scope,onValueChange:D=>b({...g,scope:D}),children:[n.jsx(rt,{"data-testid":"select-event-scope",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"national",children:"National"}),n.jsx(Ae,{value:"local",children:"Local"})]})]})]}),g.scope==="local"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Section"}),n.jsxs(it,{value:g.section,onValueChange:D=>b({...g,section:D}),children:[n.jsx(rt,{"data-testid":"select-event-section",children:n.jsx(ot,{placeholder:"Choisir..."})}),n.jsx(st,{children:j.map(D=>n.jsx(Ae,{value:D.name,children:D.name},D.id))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"start",children:"Dbut *"}),n.jsx(ne,{id:"start",type:"datetime-local",value:g.date,onChange:D=>b({...g,date:D.target.value}),"data-testid":"input-event-start"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"end",children:"Fin"}),n.jsx(ne,{id:"end",type:"datetime-local",value:g.endDate,onChange:D=>b({...g,endDate:D.target.value}),"data-testid":"input-event-end"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"location",children:"Lieu *"}),n.jsx(ne,{id:"location",placeholder:"Adresse ou Salle...",value:g.location,onChange:D=>b({...g,location:D.target.value}),"data-testid":"input-event-location"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"desc",children:"Description"}),n.jsx(Nn,{id:"desc",placeholder:"Programme, intervenants...",value:g.description,onChange:D=>b({...g,description:D.target.value}),"data-testid":"input-event-description"})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ee,{htmlFor:"isPaid",className:"text-base",children:"vnement payant"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Facturer une participation aux membres"})]}),n.jsx(Qn,{id:"isPaid",checked:g.isPaid,onCheckedChange:D=>b({...g,isPaid:D}),"data-testid":"switch-event-paid"})]}),g.isPaid&&n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx(ee,{htmlFor:"price",children:"Prix () *"}),n.jsxs("div",{className:"relative",children:[n.jsx(oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"price",type:"number",min:"0.01",step:"0.01",placeholder:"10.00",className:"pl-10",value:g.priceCents>0?(g.priceCents/100).toFixed(2):"",onChange:D=>{const $=parseFloat(D.target.value);b({...g,priceCents:isNaN($)?0:Math.round($*100)})},"data-testid":"input-event-price"})]})]})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:A,disabled:N.isPending,"data-testid":"button-submit-event",children:N.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Cration..."]}):"Crer l'vnement"})]})]})]})]}),w.length===0?n.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Aucun vnement pour le moment"}),n.jsxs(H,{onClick:()=>s(!0),children:[n.jsx(Sn,{size:16,className:"mr-2"})," Crer un vnement"]})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:w.map(D=>n.jsxs(ve,{className:"shadow-sm hover:shadow-md transition-all border-l-4 border-l-primary","data-testid":`card-event-${D.id}`,children:[n.jsx(Ge,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex gap-2 items-center mb-2 flex-wrap",children:[n.jsx(Se,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:D.type}),D.isPaid&&n.jsxs(Se,{className:"bg-emerald-100 text-emerald-700 border-emerald-200","data-testid":`badge-paid-${D.id}`,children:[n.jsx(oa,{size:12,className:"mr-1"}),((D.priceCents||0)/100).toFixed(2)," "]}),D.section&&n.jsx("span",{className:"text-xs text-gray-500 font-medium",children:D.section})]}),n.jsx(Ve,{children:D.title})]}),n.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-2 min-w-[60px]",children:[n.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold",children:new Date(D.date).toLocaleString("fr-FR",{month:"short"})}),n.jsx("div",{className:"text-xl font-bold text-gray-900",children:new Date(D.date).getDate()})]})]})}),n.jsxs(je,{className:"pb-3",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:D.description}),n.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gn,{size:16,className:"text-gray-400"}),n.jsxs("span",{children:[new Date(D.date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})," - ",D.endDate?new Date(D.endDate).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"Fin indtermine"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hr,{size:16,className:"text-gray-400"}),n.jsx("span",{children:D.location})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(It,{size:16,className:"text-gray-400"}),n.jsxs("span",{children:[D.participants||0," participants inscrits"]})]})]})]}),n.jsxs(fh,{className:"pt-3 border-t bg-gray-50 flex gap-2 flex-wrap",children:[n.jsx($e,{href:`/admin/events/${D.id}`,children:n.jsxs(H,{variant:"outline",size:"sm",className:"gap-2","data-testid":`button-stats-event-${D.id}`,children:[n.jsx(hae,{size:16})," Stats"]})}),n.jsxs(H,{size:"sm",className:"gap-2 bg-gray-800 hover:bg-gray-900",onClick:()=>M(D),"data-testid":`button-qr-event-${D.id}`,children:[n.jsx($l,{size:16})," QR Code"]}),n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 ml-auto",onClick:()=>k(D),"data-testid":`button-edit-event-${D.id}`,children:n.jsx(zl,{size:16})}),n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-500 hover:text-red-700",onClick:()=>O(D),"data-testid":`button-delete-event-${D.id}`,children:n.jsx(js,{size:16})})]})]},D.id))})]}),n.jsx(ht,{open:d,onOpenChange:m,children:n.jsxs(mt,{className:"sm:max-w-[400px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"QR Code de l'vnement"})}),f&&n.jsxs("div",{className:"py-4 flex flex-col items-center",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:n.jsx(Lg,{value:`${window.location.origin}/app/${e}/events/${f.id}/checkin`,size:200})}),n.jsx("p",{className:"text-sm text-gray-500 mt-4 text-center",children:f.title}),n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Scannez ce code pour valider la prsence"})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Fermer"})}),n.jsx(H,{onClick:()=>{const D=document.querySelector("svg");if(D){const $=new XMLSerializer().serializeToString(D),V=new Blob([$],{type:"image/svg+xml"}),z=URL.createObjectURL(V),q=document.createElement("a");q.href=z,q.download=`qr-${f?.id}.svg`,q.click(),URL.revokeObjectURL(z)}},children:"Tlcharger"})]})]})}),n.jsx(ht,{open:a,onOpenChange:i,children:n.jsxs(mt,{className:"sm:max-w-[600px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Modifier l'vnement"})}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-title",children:"Titre"}),n.jsx(ne,{id:"edit-title",value:g.title,onChange:D=>b({...g,title:D.target.value})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-start",children:"Dbut"}),n.jsx(ne,{id:"edit-start",type:"datetime-local",value:g.date,onChange:D=>b({...g,date:D.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-end",children:"Fin"}),n.jsx(ne,{id:"edit-end",type:"datetime-local",value:g.endDate,onChange:D=>b({...g,endDate:D.target.value})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-location",children:"Lieu"}),n.jsx(ne,{id:"edit-location",value:g.location,onChange:D=>b({...g,location:D.target.value})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-desc",children:"Description"}),n.jsx(Nn,{id:"edit-desc",value:g.description,onChange:D=>b({...g,description:D.target.value})})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(ee,{htmlFor:"edit-isPaid",className:"text-base",children:"vnement payant"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Facturer une participation aux membres"})]}),n.jsx(Qn,{id:"edit-isPaid",checked:g.isPaid,onCheckedChange:D=>b({...g,isPaid:D}),"data-testid":"switch-edit-event-paid"})]}),g.isPaid&&n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx(ee,{htmlFor:"edit-price",children:"Prix () *"}),n.jsxs("div",{className:"relative",children:[n.jsx(oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"edit-price",type:"number",min:"0.01",step:"0.01",placeholder:"10.00",className:"pl-10",value:g.priceCents>0?(g.priceCents/100).toFixed(2):"",onChange:D=>{const $=parseFloat(D.target.value);b({...g,priceCents:isNaN($)?0:Math.round($*100)})},"data-testid":"input-edit-event-price"})]})]})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:P,disabled:C.isPending,children:C.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Mise  jour..."]}):"Enregistrer"})]})]})}),n.jsx(ht,{open:o,onOpenChange:c,children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Confirmer la suppression"})}),n.jsxs("p",{className:"py-4 text-gray-600",children:[`tes-vous sr de vouloir supprimer l'vnement "`,f?.title,'" ? Cette action est irrversible.']}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{variant:"destructive",onClick:F,disabled:E.isPending,children:E.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Suppression..."]}):"Supprimer"})]})]})})]})}const L3e=[{id:1,name:"Thomas Dubois",time:"08:45",status:"present",memberId:"DEMO-2024-8892"},{id:2,name:"Sarah Martin",time:"09:02",status:"late",memberId:"DEMO-2023-4421"},{id:3,name:"Jean Dupont",time:"08:55",status:"present",memberId:"DEMO-2022-1123"},{id:4,name:"Marie Curie",time:"-",status:"absent",memberId:"DEMO-2024-9999"}];function $3e({params:e}){const t=bL.find(s=>s.id===e.id)||bL[0],r=new Date(t.date)<new Date;return n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Se,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:t.type}),r?n.jsx(Se,{className:"bg-gray-500 hover:bg-gray-600 text-white border-0",children:"Termin"}):n.jsx(Se,{className:"bg-green-500 hover:bg-green-600 text-white border-0",children:" venir"})]}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t.title}),n.jsxs("p",{className:"text-gray-500 mt-1 flex items-center gap-2",children:[n.jsx(Hr,{size:16})," ",t.location]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-500 uppercase font-bold mb-1",children:"Date"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:new Date(t.date).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),n.jsxs("p",{className:"text-sm text-gray-500",children:[new Date(t.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - ",t.endDate?new Date(t.endDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""]})]})]}),n.jsxs(Gc,{defaultValue:"stats",className:"w-full",children:[n.jsxs(_l,{className:"grid w-full max-w-md grid-cols-3 mb-8",children:[n.jsx(tn,{value:"stats",children:"Statistiques"}),n.jsx(tn,{value:"attendance",children:"Prsence & Badges"}),n.jsx(tn,{value:"details",children:"Dtails"})]}),n.jsx(wn,{value:"stats",className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(ve,{children:[n.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium text-gray-500",children:"Taux de Prsence"}),n.jsx(R9,{className:"h-4 w-4 text-primary"})]}),n.jsxs(je,{children:[n.jsx("div",{className:"text-2xl font-bold",children:"85%"}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"+2% vs dernier vnement"})]})]}),n.jsxs(ve,{children:[n.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium text-gray-500",children:"Participants"}),n.jsx(It,{className:"h-4 w-4 text-blue-500"})]}),n.jsxs(je,{children:[n.jsx("div",{className:"text-2xl font-bold",children:t.participants}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sur 180 inscrits"})]})]}),n.jsxs(ve,{children:[n.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(Ve,{className:"text-sm font-medium text-gray-500",children:"Heure Moyenne d'arrive"}),n.jsx(Ln,{className:"h-4 w-4 text-orange-500"})]}),n.jsxs(je,{children:[n.jsx("div",{className:"text-2xl font-bold",children:"08:52"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dbut  09:00"})]})]})]})}),n.jsx(wn,{value:"attendance",className:"animate-in fade-in slide-in-from-bottom-4",children:n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx(Ve,{children:"Liste d'margement"}),n.jsx(Ct,{children:"Suivi des entres par scan QR Code"})]}),n.jsxs(H,{variant:"outline",size:"sm",className:"gap-2",children:[n.jsx($l,{size:16})," Ouvrir le Scanner"]})]})}),n.jsx(je,{children:n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Adhrent"}),n.jsx(Ke,{children:"N Adhrent"}),n.jsx(Ke,{children:"Heure de scan"}),n.jsx(Ke,{children:"Statut"})]})}),n.jsx(Bs,{children:L3e.map(s=>n.jsxs(rn,{children:[n.jsx(Be,{className:"font-medium",children:s.name}),n.jsx(Be,{className:"font-mono text-xs text-gray-500",children:s.memberId}),n.jsx(Be,{children:s.time!=="-"?n.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[n.jsx(Ln,{size:14,className:"text-gray-400"})," ",s.time]}):n.jsx("span",{className:"text-gray-300",children:"-"})}),n.jsxs(Be,{children:[s.status==="present"&&n.jsxs(Se,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 gap-1",children:[n.jsx(vs,{size:12})," Prsent"]}),s.status==="late"&&n.jsxs(Se,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200 gap-1",children:[n.jsx(Ln,{size:12})," En retard"]}),s.status==="absent"&&n.jsx(Se,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:"Absent"})]})]},s.id))})]})})]})})]})]})})}function yd(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function z3e(e,t){return v.useReducer((r,s)=>t[r][s]??r,e)}var cM="ScrollArea",[nJ]=ts(cM),[q3e,vi]=nJ(cM),rJ=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:i=600,...o}=e,[c,d]=v.useState(null),[m,f]=v.useState(null),[h,g]=v.useState(null),[b,w]=v.useState(null),[y,j]=v.useState(null),[N,C]=v.useState(0),[E,T]=v.useState(0),[A,k]=v.useState(!1),[P,O]=v.useState(!1),M=xt(t,D=>d(D)),F=Ud(a);return n.jsx(q3e,{scope:r,type:s,dir:F,scrollHideDelay:i,scrollArea:c,viewport:m,onViewportChange:f,content:h,onContentChange:g,scrollbarX:b,onScrollbarXChange:w,scrollbarXEnabled:A,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:j,scrollbarYEnabled:P,onScrollbarYEnabledChange:O,onCornerWidthChange:C,onCornerHeightChange:T,children:n.jsx(at.div,{dir:F,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});rJ.displayName=cM;var sJ="ScrollAreaViewport",aJ=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...i}=e,o=vi(sJ,r),c=v.useRef(null),d=xt(t,c,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(at.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});aJ.displayName=sJ;var zo="ScrollAreaScrollbar",uM=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=vi(zo,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,c=e.orientation==="horizontal";return v.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),a.type==="hover"?n.jsx(F3e,{...s,ref:t,forceMount:r}):a.type==="scroll"?n.jsx(B3e,{...s,ref:t,forceMount:r}):a.type==="auto"?n.jsx(iJ,{...s,ref:t,forceMount:r}):a.type==="always"?n.jsx(dM,{...s,ref:t}):null});uM.displayName=zo;var F3e=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=vi(zo,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const m=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",m),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",m),c.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),n.jsx(Ls,{present:r||i,children:n.jsx(iJ,{"data-state":i?"visible":"hidden",...s,ref:t})})}),B3e=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=vi(zo,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Uw(()=>d("SCROLL_END"),100),[c,d]=z3e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(c==="idle"){const m=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(m)}},[c,a.scrollHideDelay,d]),v.useEffect(()=>{const m=a.viewport,f=i?"scrollLeft":"scrollTop";if(m){let h=m[f];const g=()=>{const b=m[f];h!==b&&(d("SCROLL"),o()),h=b};return m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[a.viewport,i,d,o]),n.jsx(Ls,{present:r||c!=="hidden",children:n.jsx(dM,{"data-state":c==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:yd(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:yd(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),iJ=v.forwardRef((e,t)=>{const r=vi(zo,e.__scopeScrollArea),{forceMount:s,...a}=e,[i,o]=v.useState(!1),c=e.orientation==="horizontal",d=Uw(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?m:f)}},10);return oh(r.viewport,d),oh(r.content,d),n.jsx(Ls,{present:s||i,children:n.jsx(dM,{"data-state":i?"visible":"hidden",...a,ref:t})})}),dM=v.forwardRef((e,t)=>{const{orientation:r="vertical",...s}=e,a=vi(zo,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[c,d]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=dJ(c.viewport,c.content),f={...s,sizes:c,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function h(g,b){return W3e(g,o.current,c,b)}return r==="horizontal"?n.jsx(U3e,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollLeft,b=XB(g,c,a.dir);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollLeft=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollLeft=h(g,a.dir))}}):r==="vertical"?n.jsx(V3e,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollTop,b=XB(g,c);i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollTop=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollTop=h(g))}}):null}),U3e=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=vi(zo,e.__scopeScrollArea),[o,c]=v.useState(),d=v.useRef(null),m=xt(t,d,i.onScrollbarXChange);return v.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(lJ,{"data-orientation":"horizontal",...a,ref:m,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bw(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(i.viewport){const g=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),fJ(g,h)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&s({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:cj(o.paddingLeft),paddingEnd:cj(o.paddingRight)}})}})}),V3e=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,i=vi(zo,e.__scopeScrollArea),[o,c]=v.useState(),d=v.useRef(null),m=xt(t,d,i.onScrollbarYChange);return v.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(lJ,{"data-orientation":"vertical",...a,ref:m,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bw(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(i.viewport){const g=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),fJ(g,h)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&s({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:cj(o.paddingTop),paddingEnd:cj(o.paddingBottom)}})}})}),[K3e,oJ]=nJ(zo),lJ=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:f,onResize:h,...g}=e,b=vi(zo,r),[w,y]=v.useState(null),j=xt(t,M=>y(M)),N=v.useRef(null),C=v.useRef(""),E=b.viewport,T=s.content-s.viewport,A=qn(f),k=qn(d),P=Uw(h,10);function O(M){if(N.current){const F=M.clientX-N.current.left,D=M.clientY-N.current.top;m({x:F,y:D})}}return v.useEffect(()=>{const M=F=>{const D=F.target;w?.contains(D)&&A(F,T)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[E,w,T,A]),v.useEffect(k,[s,k]),oh(w,P),oh(b.content,P),n.jsx(K3e,{scope:r,scrollbar:w,hasThumb:a,onThumbChange:qn(i),onThumbPointerUp:qn(o),onThumbPositionChange:k,onThumbPointerDown:qn(c),children:n.jsx(at.div,{...g,ref:j,style:{position:"absolute",...g.style},onPointerDown:yd(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),N.current=w.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),O(M))}),onPointerMove:yd(e.onPointerMove,O),onPointerUp:yd(e.onPointerUp,M=>{const F=M.target;F.hasPointerCapture(M.pointerId)&&F.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=C.current,b.viewport&&(b.viewport.style.scrollBehavior=""),N.current=null})})})}),lj="ScrollAreaThumb",cJ=v.forwardRef((e,t)=>{const{forceMount:r,...s}=e,a=oJ(lj,e.__scopeScrollArea);return n.jsx(Ls,{present:r||a.hasThumb,children:n.jsx(H3e,{ref:t,...s})})}),H3e=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,i=vi(lj,r),o=oJ(lj,r),{onThumbPositionChange:c}=o,d=xt(t,h=>o.onThumbChange(h)),m=v.useRef(void 0),f=Uw(()=>{m.current&&(m.current(),m.current=void 0)},100);return v.useEffect(()=>{const h=i.viewport;if(h){const g=()=>{if(f(),!m.current){const b=Y3e(h,c);m.current=b,c()}};return c(),h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[i.viewport,f,c]),n.jsx(at.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:yd(e.onPointerDownCapture,h=>{const b=h.target.getBoundingClientRect(),w=h.clientX-b.left,y=h.clientY-b.top;o.onThumbPointerDown({x:w,y})}),onPointerUp:yd(e.onPointerUp,o.onThumbPointerUp)})});cJ.displayName=lj;var mM="ScrollAreaCorner",uJ=v.forwardRef((e,t)=>{const r=vi(mM,e.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?n.jsx(G3e,{...e,ref:t}):null});uJ.displayName=mM;var G3e=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=vi(mM,r),[i,o]=v.useState(0),[c,d]=v.useState(0),m=!!(i&&c);return oh(a.scrollbarX,()=>{const f=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(f),d(f)}),oh(a.scrollbarY,()=>{const f=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(f),o(f)}),m?n.jsx(at.div,{...s,ref:t,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function cj(e){return e?parseInt(e,10):0}function dJ(e,t){const r=e/t;return isNaN(r)?0:r}function Bw(e){const t=dJ(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function W3e(e,t,r,s="ltr"){const a=Bw(r),i=a/2,o=t||i,c=a-o,d=r.scrollbar.paddingStart+o,m=r.scrollbar.size-r.scrollbar.paddingEnd-c,f=r.content-r.viewport,h=s==="ltr"?[0,f]:[f*-1,0];return mJ([d,m],h)(e)}function XB(e,t,r="ltr"){const s=Bw(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,c=i-s,d=r==="ltr"?[0,o]:[o*-1,0],m=cT(e,d);return mJ([0,o],[0,c])(m)}function mJ(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function fJ(e,t){return e>0&&e<t}var Y3e=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,c=r.top!==i.top;(o||c)&&t(),r=i,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function Uw(e,t){const r=qn(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function oh(e,t){const r=qn(t);an(()=>{let s=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(s),a.unobserve(e)}}},[e,r])}var hJ=rJ,Q3e=aJ,X3e=uJ;const fM=v.forwardRef(({className:e,children:t,...r},s)=>n.jsxs(hJ,{ref:s,className:Le("relative overflow-hidden",e),...r,children:[n.jsx(Q3e,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(pJ,{}),n.jsx(X3e,{})]}));fM.displayName=hJ.displayName;const pJ=v.forwardRef(({className:e,orientation:t="vertical",...r},s)=>n.jsx(uM,{ref:s,orientation:t,className:Le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(cJ,{className:"relative flex-1 rounded-full bg-border"})}));pJ.displayName=uM.displayName;function Z3e(){const{communityId:e,membership:t}=Kl(),r=Wt(),s=v.useRef(null),[a,i]=v.useState(null),[o,c]=v.useState(""),[d,m]=v.useState(""),{data:f=[],isLoading:h}=Pe({queryKey:[`/api/communities/${e}/members`]}),{data:g=[],isLoading:b}=Pe({queryKey:[`/api/communities/${e}/messages/${a}`],enabled:!!a&&!!e}),y=f.filter(E=>E.role==="member"||!E.role).filter(E=>(E.displayName||"").toLowerCase().includes(d.toLowerCase())),j=f.find(E=>E.id===a),N=qe({mutationFn:async E=>{const T=await kr("/api/messages",{communityId:e,conversationId:a,senderMembershipId:t?.id,content:E,senderType:"admin"});if(!T.ok)throw new Error("Failed to send message");return T.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${e}/messages/${a}`]}),c("")},onError:()=>{X.error("Erreur lors de l'envoi du message")}}),C=E=>{E.preventDefault(),!(!o.trim()||!a)&&N.mutate(o)};return v.useEffect(()=>{s.current?.scrollIntoView({behavior:"smooth"})},[g]),h?n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsx(dn,{children:n.jsxs("div",{className:"h-[calc(100vh-8rem)] bg-white rounded-xl shadow-sm border border-gray-200 flex overflow-hidden","data-testid":"messages-container",children:[n.jsxs("div",{className:"w-1/3 border-r border-gray-200 flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsx("h2",{className:"font-bold text-lg mb-3",children:"Messagerie"}),n.jsxs("div",{className:"relative",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),n.jsx(ne,{placeholder:"Rechercher un adhrent...",className:"pl-9 bg-gray-50",value:d,onChange:E=>m(E.target.value),"data-testid":"input-search-conversations"})]})]}),n.jsx(fM,{className:"flex-1",children:y.length===0?n.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:[n.jsx(It,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucun adhrent trouv"})]}):y.map(E=>n.jsx("div",{onClick:()=>i(E.id),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${a===E.id?"bg-blue-50/50 border-l-4 border-l-primary":"border-l-4 border-l-transparent"}`,"data-testid":`conversation-${E.id}`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ks,{className:"h-10 w-10",children:n.jsx(Ms,{className:"bg-primary/10 text-primary font-bold text-xs",children:(E.displayName||"??").split(" ").map(T=>T[0]).join("").slice(0,2).toUpperCase()})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-gray-900 truncate",children:E.displayName}),n.jsx("div",{className:"text-xs text-primary",children:E.section||"Non affect"})]})]})},E.id))})]}),n.jsx("div",{className:"flex-1 flex flex-col bg-gray-50/30",children:j?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ks,{children:n.jsx(Ms,{className:"bg-primary/10 text-primary font-bold",children:(j.displayName||"??").split(" ").map(E=>E[0]).join("").slice(0,2).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-gray-900",children:j.displayName}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Adhrent  ",j.section||"Non affect"]})]})]}),n.jsx(H,{variant:"ghost",size:"icon",children:n.jsx(g4,{size:20,className:"text-gray-400"})})]}),n.jsxs("div",{className:"flex-1 p-4 overflow-y-auto space-y-4",children:[b?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(Oe,{className:"h-6 w-6 animate-spin text-primary"})}):g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[n.jsx(xo,{size:48,className:"mb-4"}),n.jsx("p",{className:"text-sm",children:"Aucun message"}),n.jsx("p",{className:"text-xs mt-1",children:"Commencez la conversation"})]}):g.map(E=>{const T=E.senderType==="admin";return n.jsx("div",{className:`flex ${T?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-2xl px-4 py-3 shadow-sm ${T?"bg-primary text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border border-gray-100"}`,children:[n.jsx("p",{className:"text-sm leading-relaxed",children:E.content}),n.jsxs("div",{className:`text-[10px] mt-1 flex items-center justify-end gap-1 ${T?"text-blue-100":"text-gray-400"}`,children:[new Date(E.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),T&&E.read&&n.jsx(Ws,{size:12})]})]})},E.id)}),n.jsx("div",{ref:s})]}),n.jsx("div",{className:"p-4 bg-white border-t border-gray-200",children:n.jsxs("form",{onSubmit:C,className:"flex gap-3 items-end",children:[n.jsx(H,{type:"button",variant:"ghost",size:"icon",className:"text-gray-400 hover:text-gray-600",children:n.jsx(Yie,{size:20})}),n.jsx("div",{className:"flex-1 relative",children:n.jsx(ne,{placeholder:"crire un message...",className:"pr-12 bg-gray-50 border-gray-200 focus:ring-primary",value:o,onChange:E=>c(E.target.value),"data-testid":"input-message"})}),n.jsx(H,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary/90",disabled:!o.trim()||N.isPending,"data-testid":"button-send-message",children:N.isPending?n.jsx(Oe,{size:18,className:"animate-spin"}):n.jsx(Rs,{size:18})})]})})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[n.jsx(xo,{size:64,className:"mb-4"}),n.jsx("p",{className:"text-lg font-medium",children:"Slectionnez une conversation"}),n.jsx("p",{className:"text-sm mt-1",children:"Choisissez un adhrent pour dmarrer"})]})})]})})}const J3e=[{key:"MEMBERS",label:"Adhrents",description:"Grer les membres et cotisations",icon:n.jsx(It,{size:16})},{key:"FINANCE",label:"Finances",description:"Accs aux donnes financires",icon:n.jsx(mn,{size:16})},{key:"CONTENT",label:"Contenu",description:"Articles, collections, messages",icon:n.jsx(jd,{size:16})},{key:"EVENTS",label:"vnements",description:"Crer et grer les vnements",icon:n.jsx(Gn,{size:16})},{key:"SETTINGS",label:"Paramtres",description:"Configuration de la communaut",icon:n.jsx(Cl,{size:16})}];function e$e(){const{communityId:e}=Kl(),t=Wt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(null),[d,m]=v.useState({firstName:"",lastName:"",email:""}),[f,h]=v.useState([]),[g,b]=v.useState(!0),[w,y]=v.useState([]),{data:j=[],isLoading:N}=Pe({queryKey:[`/api/communities/${e}/members`]}),{data:C=[]}=Pe({queryKey:[`/api/communities/${e}/sections`]}),E=j.filter($=>$.isOwner===!0||$.role==="admin"||$.role==="super_admin"||$.role==="owner"),T=qe({mutationFn:async $=>{const V=await kr(`/api/communities/${e}/admins`,$);if(!V.ok){const z=V.data;throw new Error(z?.error||"Failed to create admin")}return V.data},onSuccess:$=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/members`]}),X.success("Administrateur cr avec succs",{description:`Code de rclamation: ${$.claimCode}`}),s(!1),A()},onError:$=>{X.error($.message||"Erreur lors de la cration de l'administrateur")}}),A=()=>{m({firstName:"",lastName:"",email:""}),h([]),b(!0),y([])},k=qe({mutationFn:async({id:$,role:V})=>{const z=await Ps(`/api/memberships/${$}`,{role:V});if(!z.ok)throw new Error("Failed to update role");return z.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/members`]}),X.success("Rle supprim"),i(!1),c(null)},onError:()=>{X.error("Erreur lors de la suppression")}}),P=$=>{h(V=>V.includes($)?V.filter(z=>z!==$):[...V,$])},O=$=>{y(V=>V.includes($)?V.filter(z=>z!==$):[...V,$])},M=()=>{if(!d.firstName||!d.lastName||!d.email){X.error("Veuillez remplir tous les champs obligatoires");return}if(f.length===0){X.error("Veuillez slectionner au moins une permission");return}if(!g&&w.length===0&&C.length>0){X.error("Veuillez slectionner au moins une section");return}T.mutate({firstName:d.firstName,lastName:d.lastName,email:d.email,permissions:f,sectionScope:g?"ALL":"SELECTED",sectionIds:g?void 0:w})},F=$=>{c($),i(!0)},D=()=>{o&&k.mutate({id:o.id,role:"member"})};return N?n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsxs(dn,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Administrateurs"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Grez les accs au back-office de votre communaut."})]}),n.jsxs(ht,{open:r,onOpenChange:s,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2 bg-gray-900 hover:bg-black text-white","data-testid":"button-new-admin",children:[n.jsx(Sn,{size:16})," Crer un administrateur"]})}),n.jsxs(mt,{className:"sm:max-w-[500px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Nouvel Administrateur"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Nom *"}),n.jsx(ne,{placeholder:"Nom",value:d.lastName,onChange:$=>m({...d,lastName:$.target.value}),"data-testid":"input-admin-lastname"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Prnom *"}),n.jsx(ne,{placeholder:"Prnom",value:d.firstName,onChange:$=>m({...d,firstName:$.target.value}),"data-testid":"input-admin-firstname"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Email (Sera l'identifiant de connexion) *"}),n.jsx(ne,{type:"email",placeholder:"admin@organisation.org",value:d.email,onChange:$=>m({...d,email:$.target.value}),"data-testid":"input-admin-email"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ee,{children:"Permissions *"}),n.jsx("div",{className:"space-y-2 p-3 bg-gray-50 rounded-md border border-gray-200",children:J3e.map($=>n.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-white rounded cursor-pointer",onClick:()=>P($.key),"data-testid":`checkbox-permission-${$.key.toLowerCase()}`,children:[n.jsx(Vs,{checked:f.includes($.key),onCheckedChange:()=>P($.key)}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[$.icon,n.jsxs("div",{children:[n.jsx("span",{className:"font-medium text-gray-900",children:$.label}),n.jsx("p",{className:"text-xs text-gray-500",children:$.description})]})]})]},$.key))}),f.length===0&&n.jsx("p",{className:"text-xs text-red-500",children:"Au moins une permission requise"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ee,{children:"Primtre"}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mr,{size:16,className:"text-gray-600"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Toutes les sections"})]}),n.jsx(Qn,{checked:g,onCheckedChange:b,disabled:C.length===0,"data-testid":"switch-scope-all"})]}),!g&&C.length>0&&n.jsxs("div",{className:"space-y-2 p-3 border rounded-md",children:[n.jsx(ee,{className:"text-sm text-gray-600",children:"Sections autorises *"}),n.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:C.map($=>n.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>O($.id),"data-testid":`checkbox-section-${$.id}`,children:[n.jsx(Vs,{checked:w.includes($.id),onCheckedChange:()=>O($.id)}),n.jsx("span",{className:"text-sm",children:$.name})]},$.id))}),w.length===0&&n.jsx("p",{className:"text-xs text-red-500",children:"Au moins une section requise"})]}),C.length===0&&n.jsx("p",{className:"text-xs text-gray-500 italic",children:"Aucune section dfinie. L'admin aura accs  toute la communaut."})]}),n.jsxs("div",{className:"bg-yellow-50 p-3 rounded-md border border-yellow-100 flex gap-3 items-start",children:[n.jsx(Vi,{size:16,className:"text-yellow-600 mt-0.5"}),n.jsx("p",{className:"text-xs text-yellow-700",children:"Un code de rclamation sera gnr. L'administrateur devra l'utiliser pour associer son compte Koomy."})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:M,disabled:T.isPending,"data-testid":"button-submit-admin",children:T.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Cration..."]}):"Crer le compte"})]})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:E.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Aucun administrateur pour le moment"}),n.jsxs(H,{onClick:()=>s(!0),className:"bg-gray-900 hover:bg-black",children:[n.jsx(Sn,{size:16,className:"mr-2"})," Crer un administrateur"]})]}):n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{className:"bg-gray-50/50",children:[n.jsx(Ke,{children:"Administrateur"}),n.jsx(Ke,{children:"Rle"}),n.jsx(Ke,{children:"Primtre"}),n.jsx(Ke,{children:"Date cration"}),n.jsx(Ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Bs,{children:E.map($=>n.jsxs(rn,{"data-testid":`row-admin-${$.id}`,children:[n.jsx(Be,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-900 text-white flex items-center justify-center font-bold text-sm",children:($.displayName||`${$.user?.firstName||""} ${$.user?.lastName||""}`).split(" ").map(V=>V[0]).join("").slice(0,2).toUpperCase()}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-gray-900",children:$.displayName||`${$.user?.firstName||""} ${$.user?.lastName||""}`}),n.jsx("div",{className:"text-xs text-gray-500",children:$.user?.email||$.claimCode||"Non rclam"})]})]})}),n.jsx(Be,{children:$.isOwner===!0||$.role==="super_admin"||$.role==="owner"?n.jsxs(Se,{className:"bg-purple-100 text-purple-700 hover:bg-purple-100 border-0",children:[n.jsx(Vi,{size:12,className:"mr-1"})," Propritaire"]}):n.jsx(Se,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100 border-0",children:"Administrateur"})}),n.jsx(Be,{className:"text-sm text-gray-600",children:$.isOwner===!0||$.role==="super_admin"||$.role==="owner"?n.jsx("span",{className:"font-semibold text-gray-900",children:"Accs complet"}):$.section||"Toutes sections"}),n.jsx(Be,{className:"text-sm text-gray-500",children:new Date($.joinDate).toLocaleDateString("fr-FR")}),n.jsx(Be,{className:"text-right",children:$.isOwner===!0||$.role==="super_admin"||$.role==="owner"?n.jsx("span",{className:"text-xs text-gray-400 italic",children:"Non modifiable"}):n.jsx(H,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>F($),"data-testid":`button-delete-admin-${$.id}`,children:n.jsx(js,{size:16})})})]},$.id))})]})})]}),n.jsx(ht,{open:a,onOpenChange:i,children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Retirer les droits d'administration"})}),n.jsxs("p",{className:"py-4 text-gray-600",children:[`tes-vous sr de vouloir retirer les droits d'administration de "`,o?.displayName||`${o?.user?.firstName} ${o?.user?.lastName}`,`" ? Cette personne restera membre mais n'aura plus accs au back-office.`]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{variant:"destructive",onClick:D,disabled:k.isPending,children:k.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Retrait..."]}):"Retirer les droits"})]})]})})]})}function t$e(){const{communityId:e}=Kl(),t=Wt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(!1),[d,m]=v.useState(null),[f,h]=v.useState({name:"",note:""}),{data:g=[],isLoading:b}=Pe({queryKey:[`/api/communities/${e}/sections`]}),{data:w=[]}=Pe({queryKey:[`/api/communities/${e}/members`]}),y=qe({mutationFn:async O=>{const M=await kr("/api/sections",O);if(!M.ok)throw new Error("Failed to create section");return M.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/sections`]}),X.success("Section cre avec succs"),s(!1),h({name:"",note:""})},onError:()=>{X.error("Erreur lors de la cration de la section")}}),j=qe({mutationFn:async({sectionId:O,data:M})=>{const F=await Ps(`/api/communities/${e}/sections/${O}`,M);if(!F.ok){const D=F.data;throw F.status===403?new Error("Accs refus"):new Error(D?.error||"Erreur lors de la modification")}return F.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/sections`]}),X.success("Section modifie avec succs"),i(!1),m(null),h({name:"",note:""})},onError:O=>{X.error(O.message||"Erreur lors de la modification")}}),N=qe({mutationFn:async O=>{const M=await qd(`/api/communities/${e}/sections/${O}`);if(!M.ok){const F=M.data;throw F?.code==="SECTION_IN_USE"?new Error(F.error||"Section utilise par des membres"):M.status===403?new Error("Accs refus"):new Error(F?.error||"Erreur lors de la suppression")}return!0},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/sections`]}),X.success("Section supprime avec succs"),c(!1),m(null)},onError:O=>{X.error(O.message||"Erreur lors de la suppression")}}),C=()=>{if(!f.name.trim()){X.error("Veuillez renseigner le nom de la section");return}y.mutate({name:f.name.trim(),communityId:e,note:f.note.trim()||void 0})},E=O=>{m(O),h({name:O.name,note:O.note||""}),i(!0)},T=()=>{if(d){if(!f.name.trim()){X.error("Le nom de la section est obligatoire");return}j.mutate({sectionId:d.id,data:{name:f.name.trim(),note:f.note.trim()||void 0}})}},A=O=>{m(O),c(!0)},k=()=>{d&&N.mutate(d.id)},P=O=>w.filter(M=>M.section===O).length;return b?n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsxs(dn,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Sections"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Grez les sections et groupes de votre communaut."})]}),n.jsxs(ht,{open:r,onOpenChange:O=>{s(O),O||h({name:"",note:""})},children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2 bg-purple-600 hover:bg-purple-700 text-white shadow-lg shadow-purple-200","data-testid":"button-new-section",children:[n.jsx(Sn,{size:16})," Crer une Section"]})}),n.jsxs(mt,{className:"sm:max-w-[500px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Nouvelle Section"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"section-name",children:"Nom de la section *"}),n.jsx(ne,{id:"section-name",placeholder:"Ex: Section Normandie, quipe A, Magasin Paris...",value:f.name,onChange:O=>h({...f,name:O.target.value}),"data-testid":"input-section-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"section-note",children:"Note (optionnel)"}),n.jsx(ne,{id:"section-note",placeholder:"Ex: zone, magasin, quipe, infos utiles...",value:f.note,onChange:O=>h({...f,note:O.target.value}),"data-testid":"input-section-note"})]}),n.jsxs("div",{className:"bg-purple-50 p-3 rounded-md border border-purple-100 flex gap-3 items-start",children:[n.jsx(ys,{size:16,className:"text-purple-600 mt-0.5"}),n.jsx("p",{className:"text-xs text-purple-700",children:"Cette section sera immdiatement disponible pour l'affectation des adhrents et des administrateurs."})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{className:"bg-purple-600 hover:bg-purple-700",onClick:C,disabled:y.isPending,"data-testid":"button-submit-section",children:y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Cration..."]}):"Crer la section"})]})]})]})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:g.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("p",{className:"text-gray-500 mb-4",children:"Aucune section pour le moment"}),n.jsxs(H,{onClick:()=>s(!0),className:"bg-purple-600 hover:bg-purple-700",children:[n.jsx(Sn,{size:16,className:"mr-2"})," Crer une section"]})]}):n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{className:"bg-gray-50/50",children:[n.jsx(Ke,{children:"Section"}),n.jsx(Ke,{children:"Note"}),n.jsx(Ke,{children:"Adhrents"}),n.jsx(Ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Bs,{children:g.map(O=>n.jsxs(rn,{"data-testid":`row-section-${O.id}`,children:[n.jsx(Be,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center",children:n.jsx(Hr,{size:20})}),n.jsx("div",{className:"font-bold text-gray-900",children:O.name})]})}),n.jsx(Be,{className:"text-sm text-gray-600",children:O.note||""}),n.jsx(Be,{children:n.jsxs(Se,{variant:"secondary",className:"bg-gray-100 text-gray-700 border-0",children:[n.jsx(It,{size:12,className:"mr-1"})," ",P(O.name)]})}),n.jsx(Be,{className:"text-right",children:n.jsxs(tk,{children:[n.jsx(nk,{asChild:!0,children:n.jsx(H,{variant:"ghost",size:"sm",className:"h-8 w-8 text-gray-400","data-testid":`button-actions-section-${O.id}`,children:n.jsx(g4,{size:16})})}),n.jsxs(sw,{align:"end",children:[n.jsxs(fd,{onClick:()=>E(O),"data-testid":`button-edit-section-${O.id}`,children:[n.jsx(zl,{size:14,className:"mr-2"})," Modifier"]}),n.jsxs(fd,{className:"text-red-600",onClick:()=>A(O),"data-testid":`button-delete-section-${O.id}`,children:[n.jsx(js,{size:14,className:"mr-2"})," Supprimer"]})]})]})})]},O.id))})]})})]}),n.jsx(ht,{open:a,onOpenChange:O=>{i(O),O||(m(null),h({name:"",note:""}))},children:n.jsxs(mt,{className:"sm:max-w-[500px]",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Modifier la section"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-section-name",children:"Nom de la section *"}),n.jsx(ne,{id:"edit-section-name",value:f.name,onChange:O=>h({...f,name:O.target.value}),"data-testid":"input-edit-section-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-section-note",children:"Note (optionnel)"}),n.jsx(ne,{id:"edit-section-note",value:f.note,placeholder:"Ex: zone, magasin, quipe, infos utiles...",onChange:O=>h({...f,note:O.target.value}),"data-testid":"input-edit-section-note"})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{className:"bg-purple-600 hover:bg-purple-700",onClick:T,disabled:j.isPending,"data-testid":"button-save-section",children:j.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Enregistrement..."]}):"Enregistrer"})]})]})}),n.jsx(ht,{open:o,onOpenChange:O=>{c(O),O||m(null)},children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Confirmer la suppression"})}),n.jsxs("p",{className:"py-4 text-gray-600",children:['tes-vous sr de vouloir supprimer la section "',d?.name,'" ?',P(d?.name||"")>0&&n.jsxs("span",{className:"text-red-600 block mt-2",children:["Attention: ",P(d?.name||"")," adhrent(s) sont encore affects  cette section."]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{variant:"destructive",onClick:k,disabled:N.isPending,"data-testid":"button-confirm-delete-section",children:N.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Suppression..."]}):"Supprimer"})]})]})})]})}function n$e(){const{currentMembership:e}=dt(),t=Wt(),r=e?.communityId||"",[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,d]=v.useState(!1),[m,f]=v.useState(null),[h,g]=v.useState({name:"",isActive:!0}),{data:b=[],isLoading:w}=Pe({queryKey:[`/api/communities/${r}/categories?activeOnly=false`],enabled:!!r}),y=qe({mutationFn:async O=>{const M=await kr(`/api/communities/${r}/categories`,O);if(!M.ok){const F=M.data;throw F?.code==="DUPLICATE_NAME"?new Error("Une rubrique avec ce nom existe dj"):new Error(F?.error||"Erreur lors de la cration")}return M.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${r}/categories`]}),X.success("Rubrique cre avec succs"),a(!1),g({name:"",isActive:!0})},onError:O=>{X.error(O.message||"Erreur lors de la cration de la rubrique")}}),j=qe({mutationFn:async({categoryId:O,data:M})=>{const F=await Ps(`/api/communities/${r}/categories/${O}`,M);if(!F.ok){const D=F.data;throw D?.code==="DUPLICATE_NAME"?new Error("Une rubrique avec ce nom existe dj"):F.status===403?new Error("Accs refus"):new Error(D?.error||"Erreur lors de la modification")}return F.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${r}/categories`]}),X.success("Rubrique modifie avec succs"),o(!1),f(null),g({name:"",isActive:!0})},onError:O=>{X.error(O.message||"Erreur lors de la modification")}}),N=qe({mutationFn:async O=>{const M=await qd(`/api/communities/${r}/categories/${O}`);if(!M.ok){const F=M.data;throw M.status===403?new Error("Accs refus"):new Error(F?.error||"Erreur lors de la suppression")}return!0},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${r}/categories`]}),X.success("Rubrique supprime avec succs"),d(!1),f(null)},onError:O=>{X.error(O.message||"Erreur lors de la suppression")}}),C=()=>{if(!h.name.trim()){X.error("Veuillez renseigner le nom de la rubrique");return}y.mutate({name:h.name.trim(),isActive:h.isActive})},E=O=>{f(O),g({name:O.name,isActive:O.isActive}),o(!0)},T=()=>{if(m){if(!h.name.trim()){X.error("Le nom de la rubrique est obligatoire");return}j.mutate({categoryId:m.id,data:{name:h.name.trim(),isActive:h.isActive}})}},A=O=>{j.mutate({categoryId:O.id,data:{isActive:!O.isActive}})},k=O=>{f(O),d(!0)},P=()=>{m&&N.mutate(m.id)};return w?n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Rubriques"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Organisez vos actualits par rubriques personnalises."})]}),n.jsxs(ht,{open:s,onOpenChange:a,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{"data-testid":"button-create-category",children:[n.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Nouvelle rubrique"]})}),n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Crer une rubrique"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"name",children:"Nom de la rubrique"}),n.jsx(ne,{id:"name",placeholder:"Ex: Vie du club, Tournois, Actualits...",value:h.name,onChange:O=>g({...h,name:O.target.value}),"data-testid":"input-category-name"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qn,{id:"isActive",checked:h.isActive,onCheckedChange:O=>g({...h,isActive:O}),"data-testid":"switch-category-active"}),n.jsx(ee,{htmlFor:"isActive",children:"Rubrique active"})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{onClick:C,disabled:y.isPending,"data-testid":"button-confirm-create",children:[y.isPending&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Crer"]})]})]})]})]}),b.length===0?n.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[n.jsx(T_,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucune rubrique"}),n.jsx("p",{className:"mt-2 text-gray-500",children:"Crez des rubriques pour organiser vos actualits."}),n.jsxs(H,{className:"mt-4",onClick:()=>a(!0),children:[n.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Crer une rubrique"]})]}):n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{className:"w-12"}),n.jsx(Ke,{children:"Nom"}),n.jsx(Ke,{children:"Slug"}),n.jsx(Ke,{children:"Statut"}),n.jsx(Ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Bs,{children:b.map(O=>n.jsxs(rn,{"data-testid":`row-category-${O.id}`,children:[n.jsx(Be,{children:n.jsx(eie,{className:"h-4 w-4 text-gray-400 cursor-grab"})}),n.jsx(Be,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T_,{className:"h-4 w-4 text-primary"}),O.name]})}),n.jsx(Be,{className:"text-gray-500 text-sm",children:O.slug}),n.jsx(Be,{children:n.jsx(Se,{variant:O.isActive?"default":"secondary",children:O.isActive?"Active":"Inactive"})}),n.jsx(Be,{className:"text-right",children:n.jsxs(tk,{children:[n.jsx(nk,{asChild:!0,children:n.jsx(H,{variant:"ghost",size:"icon","data-testid":`button-actions-category-${O.id}`,children:n.jsx(g4,{className:"h-4 w-4"})})}),n.jsxs(sw,{align:"end",children:[n.jsxs(fd,{onClick:()=>E(O),children:[n.jsx(zl,{className:"mr-2 h-4 w-4"}),"Modifier"]}),n.jsxs(fd,{onClick:()=>A(O),children:[n.jsx(Qn,{className:"mr-2 h-4 w-4",checked:O.isActive}),O.isActive?"Dsactiver":"Activer"]}),n.jsxs(fd,{onClick:()=>k(O),className:"text-red-600",children:[n.jsx(js,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},O.id))})]})}),n.jsx(ht,{open:i,onOpenChange:o,children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Modifier la rubrique"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-name",children:"Nom de la rubrique"}),n.jsx(ne,{id:"edit-name",value:h.name,onChange:O=>g({...h,name:O.target.value}),"data-testid":"input-edit-category-name"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qn,{id:"edit-isActive",checked:h.isActive,onCheckedChange:O=>g({...h,isActive:O}),"data-testid":"switch-edit-category-active"}),n.jsx(ee,{htmlFor:"edit-isActive",children:"Rubrique active"})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{onClick:T,disabled:j.isPending,"data-testid":"button-confirm-edit",children:[j.isPending&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrer"]})]})]})}),n.jsx(ht,{open:c,onOpenChange:d,children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Supprimer la rubrique"})}),n.jsxs("p",{className:"py-4",children:['tes-vous sr de vouloir supprimer la rubrique "',m?.name,`" ? Les articles associs  cette rubrique ne seront pas supprims mais n'auront plus de rubrique.`]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{variant:"destructive",onClick:P,disabled:N.isPending,"data-testid":"button-confirm-delete",children:[N.isPending&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Supprimer"]})]})]})})]})})}const uj={id:"members",title:"Questions frquentes de vos membres",icon:"users",sections:[{id:"payments-access",title:"Paiements & accs",items:[{id:"activate-card",question:"Comment activer ma carte membre avec mon code ?",answerBlocks:[{type:"quick",content:["Votre code d'activation vous permet de lier votre carte membre  votre compte Koomy. Une fois activ, vous aurez accs  toutes les fonctionnalits de votre communaut directement depuis l'application."]},{type:"steps",content:["Ouvrez l'application Koomy sur votre tlphone","Si vous n'avez pas encore de compte, crez-en un avec votre email",`Sur l'cran d'accueil, appuyez sur "Ajouter une carte" ou "Activer une carte"`,"Saisissez votre code d'activation au format XXXX-XXXX (avec le tiret)","Votre carte membre apparat maintenant dans l'application"]},{type:"warning",content:["Le code doit tre saisi exactement comme reu, avec le tiret au milieu","Vrifiez que vous n'avez pas confondu certaines lettres (O/0, I/1, etc.)","Un code ne peut tre utilis qu'une seule fois"]},{type:"help",content:["Votre email","Le nom de la communaut","Le code que vous essayez d'activer","Une capture cran du message d'erreur si possible"]}]},{id:"find-code",question:"O trouver mon code d'activation ?",answerBlocks:[{type:"quick",content:[`Votre code d'activation vous a t envoy par email par l'administrateur de votre communaut. Il se trouve dans un email intitul "Bienvenue" ou "Votre carte membre".`]},{type:"steps",content:["Ouvrez votre bote email (celle que vous avez communique  votre communaut)","Recherchez un email provenant de votre communaut ou de Koomy",`L'objet contient gnralement "Bienvenue", "Invitation" ou "Votre carte membre"`,"Dans l'email, reprez le code au format XXXX-XXXX (8 caractres avec un tiret)"]},{type:"warning",content:["L'email peut se trouver dans vos spams ou courriers indsirables","Vrifiez que l'adresse email utilise est bien celle connue de votre communaut","Si vous ne trouvez pas l'email, demandez  votre administrateur de vous le renvoyer"]},{type:"help",content:["Votre email","Le nom de la communaut","Une confirmation que vous avez vrifi vos spams"]}]},{id:"code-not-working",question:"Mon code d'activation ne fonctionne pas, que faire ?",answerBlocks:[{type:"quick",content:["Un code qui ne fonctionne pas peut avoir plusieurs causes : faute de frappe, code dj utilis, ou code expir. Vrifiez d'abord la saisie, puis contactez votre administrateur si ncessaire."]},{type:"steps",content:["Vrifiez que vous saisissez le code exactement comme reu (majuscules, tiret)","Attention aux confusions courantes : O (lettre) / 0 (zro), I (i majuscule) / 1 (un)","Assurez-vous de ne pas avoir d'espace avant ou aprs le code","Si le code a dj t utilis, un message vous l'indiquera","Contactez l'administrateur de votre communaut pour qu'il vous gnre un nouveau code"]},{type:"warning",content:["Le code a dj t activ sur un autre compte","Le code contient une erreur de frappe","Votre compte email ne correspond pas  celui enregistr par l'administrateur"]},{type:"help",content:["Votre email","Le nom de la communaut","Le code exact que vous essayez d'utiliser","Une capture cran du message d'erreur"]}]},{id:"pay-membership",question:"Comment payer ma cotisation en ligne ?",answerBlocks:[{type:"quick",content:["Vous pouvez payer votre cotisation directement depuis l'application Koomy. Le paiement est scuris par Stripe, un service de paiement reconnu mondialement."]},{type:"steps",content:["Ouvrez l'application Koomy et accdez  votre carte membre",'Si une cotisation est due, un bouton "Payer ma cotisation" apparat',"Appuyez sur ce bouton pour accder  la page de paiement","Saisissez vos informations de carte bancaire","Confirmez le paiement","Vous recevrez un email de confirmation une fois le paiement effectu"]},{type:"warning",content:["Assurez-vous que votre carte bancaire autorise les paiements en ligne","Vrifiez que vous avez une connexion internet stable","Le montant et la devise sont affichs avant confirmation"]},{type:"help",content:["Votre email","Le nom de la communaut","Le montant de la cotisation","Une capture cran si le paiement choue"]}]},{id:"payment-declined",question:"Mon paiement a t refus, que faire ?",answerBlocks:[{type:"quick",content:["Un paiement refus est gnralement li  votre carte bancaire (plafond atteint, carte expire, ou blocage de scurit). Vrifiez auprs de votre banque ou essayez avec une autre carte."]},{type:"steps",content:["Vrifiez que votre carte bancaire n'est pas expire","Assurez-vous que le plafond de paiement en ligne n'est pas atteint","Contactez votre banque pour vrifier qu'aucun blocage de scurit n'est actif","Essayez avec une autre carte bancaire si possible","Ressayez le paiement depuis l'application"]},{type:"warning",content:["Certaines banques bloquent les paiements en ligne par dfaut ( activer dans votre espace client)","Le code de scurit (CVV) doit tre saisi correctement","Les cartes prpayes ou virtuelles peuvent parfois tre refuses"]},{type:"help",content:["Votre email","Le nom de la communaut","Le message d'erreur affich (si visible)","Le type de carte utilise (Visa, Mastercard, etc.)"]}]}]},{id:"connection-account",title:"Connexion & compte",items:[{id:"how-to-login",question:"Comment me connecter  l'application Koomy ?",answerBlocks:[{type:"quick",content:["Ouvrez l'application Koomy sur votre tlphone et connectez-vous avec l'adresse email et le mot de passe que vous avez utiliss lors de la cration de votre compte."]},{type:"steps",content:["Ouvrez l'application Koomy sur votre tlphone",`Sur l'cran d'accueil, appuyez sur "Se connecter"`,"Saisissez votre adresse email","Saisissez votre mot de passe",'Appuyez sur "Connexion"']},{type:"warning",content:["Vrifiez que vous utilisez la bonne adresse email (celle utilise lors de l'inscription)","Le mot de passe est sensible aux majuscules/minuscules","Si vous avez plusieurs comptes, assurez-vous d'utiliser le bon"]},{type:"help",content:["Votre email","Le nom de la communaut","Une capture cran du message d'erreur si possible"]}]},{id:"cant-login",question:"Je n'arrive pas  me connecter, que faire ?",answerBlocks:[{type:"quick",content:["Si vous ne pouvez pas vous connecter, vrifiez d'abord votre email et mot de passe. Si le problme persiste, essayez de rinitialiser votre mot de passe ou vrifiez votre connexion internet."]},{type:"steps",content:["Vrifiez que vous avez bien saisi votre adresse email (sans espace, sans faute)","Vrifiez votre mot de passe (attention aux majuscules)","Assurez-vous d'avoir une connexion internet stable (Wi-Fi ou donnes mobiles)","Fermez compltement l'application et rouvrez-la",`Si le problme persiste, utilisez l'option "Mot de passe oubli"`]},{type:"warning",content:["Connexion internet instable ou absente","Mot de passe incorrect (vrifiez les majuscules)","Compte cr avec une adresse email diffrente","Application ncessitant une mise  jour"]},{type:"help",content:["Votre email","Le nom de la communaut","Le message d'erreur exact affich","Une capture cran si possible"]}]},{id:"forgot-password",question:"J'ai oubli mon mot de passe, comment le rcuprer ?",tags:[" confirmer"],answerBlocks:[{type:"quick",content:["Vous pouvez demander un nouveau mot de passe depuis l'cran de connexion. Un email vous sera envoy pour crer un nouveau mot de passe."]},{type:"steps",content:["Ouvrez l'application Koomy",`Sur l'cran de connexion, appuyez sur "Mot de passe oubli"`,"Saisissez votre adresse email","Consultez votre bote email (y compris les spams)","Cliquez sur le lien reu pour crer un nouveau mot de passe","Connectez-vous avec votre nouveau mot de passe"]},{type:"warning",content:["L'email peut arriver dans vos spams ou courriers indsirables","Le lien de rinitialisation a une dure de validit limite","Vrifiez que vous utilisez la bonne adresse email"]},{type:"help",content:["Votre email","Le nom de la communaut","Confirmation que vous avez vrifi vos spams"]}]},{id:"no-emails",question:"Je ne reois pas les emails de Koomy, que faire ?",answerBlocks:[{type:"quick",content:["Si vous ne recevez pas nos emails, vrifiez d'abord votre dossier spam ou courriers indsirables. Ajoutez ensuite l'adresse Koomy  vos contacts pour viter ce problme  l'avenir."]},{type:"steps",content:["Ouvrez votre bote email",'Vrifiez le dossier "Spam" ou "Courriers indsirables"','Si vous trouvez un email Koomy, marquez-le comme "Non spam"',"Ajoutez l'adresse d'envoi Koomy  vos contacts","Vrifiez que votre bote email n'est pas pleine"]},{type:"warning",content:["Les emails arrivent souvent dans les spams la premire fois","Certaines messageries professionnelles bloquent les emails externes","L'adresse email enregistre peut contenir une faute de frappe"]},{type:"help",content:["Votre email","Le nom de la communaut","Le type d'email que vous attendez (activation, paiement, etc.)","Confirmation que vous avez vrifi vos spams"]}]},{id:"logout",question:"Comment me dconnecter de l'application ?",answerBlocks:[{type:"quick",content:["Vous pouvez vous dconnecter depuis les paramtres de votre profil dans l'application. Cela permet de scuriser votre compte si vous partagez votre tlphone."]},{type:"steps",content:["Ouvrez l'application Koomy","Accdez  votre profil (icne en bas  droite ou menu)",`Appuyez sur "Paramtres" ou l'icne engrenage`,"Faites dfiler jusqu'en bas",'Appuyez sur "Se dconnecter" ou "Dconnexion"',"Confirmez si demand"]},{type:"warning",content:["Aprs dconnexion, vous devrez ressaisir vos identifiants pour vous reconnecter","Vos donnes ne sont pas supprimes, elles restent accessibles  la prochaine connexion"]},{type:"help",content:["Votre email","Le nom de la communaut","Une description du problme rencontr"]}]}]},{id:"events",title:"vnements",items:[{id:"view-events",question:"Comment voir les vnements  venir de ma communaut ?",answerBlocks:[{type:"quick",content:[`Tous les vnements organiss par votre communaut sont visibles dans l'onglet "vnements" de l'application. Vous y trouverez les prochains rendez-vous avec leurs dates et lieux.`]},{type:"steps",content:["Ouvrez l'application Koomy",`Appuyez sur l'onglet "vnements" (en bas de l'cran)`,"La liste des vnements  venir s'affiche par ordre chronologique","Appuyez sur un vnement pour voir ses dtails (lieu, horaire, description)"]},{type:"warning",content:["Si aucun vnement n'apparat, c'est que votre communaut n'en a pas encore publi","Vrifiez que vous tes connect  la bonne communaut","Tirez l'cran vers le bas pour rafrachir la liste"]},{type:"help",content:["Votre email","Le nom de la communaut","Une capture cran si possible"]}]},{id:"register-free-event",question:"Comment m'inscrire  un vnement gratuit ?",answerBlocks:[{type:"quick",content:["Pour vous inscrire  un vnement, ouvrez sa fiche dtaille et appuyez sur le bouton d'inscription. Vous recevrez une confirmation et l'vnement sera ajout  votre liste."]},{type:"steps",content:["Ouvrez l'application Koomy",`Allez dans l'onglet "vnements"`,"Appuyez sur l'vnement qui vous intresse","Lisez les dtails (date, lieu, description)",`Appuyez sur "S'inscrire" ou "Participer"`,"Votre inscription est confirme"]},{type:"warning",content:["Certains vnements n'acceptent pas les inscriptions (simple information)","L'vnement peut avoir atteint sa capacit maximale","La date limite d'inscription peut tre dpasse"]},{type:"help",content:["Votre email","Le nom de la communaut","L'vnement concern","Une capture cran si possible"]}]},{id:"check-registration",question:"Comment savoir si je suis bien inscrit  un vnement ?",answerBlocks:[{type:"quick",content:[`Si vous tes inscrit  un vnement, un indicateur visuel apparat sur la fiche de l'vnement (bouton "Inscrit" ou coche verte). Vous pouvez aussi consulter vos inscriptions depuis votre profil.`]},{type:"steps",content:["Ouvrez l'application Koomy",`Allez dans l'onglet "vnements"`,`L'vnement auquel vous tes inscrit affiche "Inscrit" ou une coche`,"Vous pouvez aussi accder  votre profil pour voir vos inscriptions"]},{type:"warning",content:["Si le statut n'apparat pas, rafrachissez l'cran en tirant vers le bas","Vrifiez que vous tes connect au bon compte","Certains vnements n'ont pas de systme d'inscription"]},{type:"help",content:["Votre email","Le nom de la communaut","L'vnement concern","Une capture cran si possible"]}]},{id:"cant-register",question:"Pourquoi je ne peux pas m'inscrire  un vnement ?",answerBlocks:[{type:"quick",content:["Plusieurs raisons peuvent empcher une inscription : l'vnement est complet, la date limite est passe, l'vnement est rserv  certains membres, ou les inscriptions ne sont pas ouvertes."]},{type:"steps",content:[`Vrifiez si l'vnement affiche "Complet" ou "Places limites"`,"Vrifiez la date limite d'inscription (si indique)","Certains vnements sont rservs  une section ou un groupe spcifique","Contactez un administrateur si vous pensez avoir le droit de vous inscrire"]},{type:"warning",content:["L'vnement a atteint sa capacit maximale","La date limite d'inscription est dpasse","L'vnement est cibl vers un groupe dont vous ne faites pas partie","L'vnement ne propose pas d'inscription (simple information)"]},{type:"help",content:["Votre email","Le nom de la communaut","L'vnement concern","Le message affich (si visible)","Une capture cran si possible"]}]},{id:"cancel-registration",question:"Comment annuler mon inscription  un vnement ?",tags:[" confirmer"],answerBlocks:[{type:"quick",content:["Vous pouvez annuler votre inscription depuis la fiche de l'vnement. Appuyez sur le bouton correspondant pour vous dsinscrire."]},{type:"steps",content:["Ouvrez l'application Koomy",`Allez dans l'onglet "vnements"`,"Slectionnez l'vnement auquel vous tes inscrit",'Appuyez sur "Se dsinscrire" ou "Annuler mon inscription"',"Confirmez si demand"]},{type:"warning",content:["Certains vnements n'autorisent pas l'annulation aprs une date limite","Pour les vnements payants, contactez un administrateur pour le remboursement","Si le bouton n'apparat pas, la fonctionnalit peut ne pas tre disponible"]},{type:"help",content:["Votre email","Le nom de la communaut","L'vnement concern","Une capture cran si possible"]}]}]},{id:"technical",title:"Problmes techniques",items:[{id:"app-not-opening",question:"L'application ne s'ouvre pas ou reste bloque au chargement, que faire ?",answerBlocks:[{type:"quick",content:["Si l'application ne dmarre pas correctement, quelques manipulations simples permettent gnralement de rsoudre le problme. Ces blocages sont souvent temporaires."]},{type:"steps",content:["Fermez compltement l'application (pas seulement la mettre en arrire-plan)","Attendez quelques secondes puis rouvrez-la","Vrifiez que votre tlphone est connect  internet (Wi-Fi ou donnes mobiles)","Si le problme persiste, redmarrez votre tlphone","Vrifiez si une mise  jour de l'application est disponible dans votre store"]},{type:"warning",content:["Connexion internet instable ou absente","Application ncessitant une mise  jour","Mmoire du tlphone sature","Bug temporaire rsolu par un redmarrage"]},{type:"help",content:["Votre email","Le nom de la communaut","Le type de tlphone (Android / iPhone)","La version de l'application (visible dans les paramtres du tlphone)","Une capture cran si possible"]}]},{id:"images-not-loading",question:"Certaines images ne s'affichent pas dans l'application, pourquoi ?",answerBlocks:[{type:"quick",content:["Les images peuvent ne pas s'afficher si votre connexion internet est lente ou si l'application n'a pas pu les charger correctement. Un rafrachissement rsout souvent le problme."]},{type:"steps",content:["Vrifiez votre connexion internet (Wi-Fi ou donnes mobiles)","Tirez l'cran vers le bas pour rafrachir la page","Fermez puis rouvrez l'application","Si vous tes en 4G/5G, essayez en Wi-Fi (ou inversement)","Vrifiez que le mode conomie de donnes n'est pas activ"]},{type:"warning",content:["Connexion internet trop lente pour charger les images","Mode conomie de donnes activ sur votre tlphone","L'image n'a pas encore t tlcharge par l'application","Bug temporaire rsolu par un rafrachissement"]},{type:"help",content:["Votre email","Le nom de la communaut","Le type de tlphone (Android / iPhone)","L'cran o les images ne s'affichent pas","Une capture cran si possible"]}]},{id:"card-not-visible",question:"Je ne vois pas ma carte membre dans l'application, que faire ?",answerBlocks:[{type:"quick",content:["Si votre carte membre n'apparat pas, c'est peut-tre parce qu'elle n'a pas encore t active avec votre code, ou que vous tes connect  un autre compte."]},{type:"steps",content:["Vrifiez que vous tes bien connect  votre compte (bon email)","Vrifiez que vous avez bien activ votre carte avec le code reu par email","Tirez l'cran vers le bas pour rafrachir","Fermez puis rouvrez l'application","Si vous avez plusieurs communauts, vrifiez que vous tes sur la bonne"]},{type:"warning",content:["La carte n'a pas encore t active avec le code","Vous tes connect avec un autre compte email","L'administrateur n'a pas encore cr votre carte membre","Vous regardez dans la mauvaise communaut"]},{type:"help",content:["Votre email","Le nom de la communaut","Le type de tlphone (Android / iPhone)","Une capture cran si possible"]}]},{id:"qr-not-working",question:"Le QR code de ma carte membre ne fonctionne pas, que faire ?",answerBlocks:[{type:"quick",content:["Si le QR code de votre carte ne peut pas tre scann, vrifiez que l'cran est propre, lumineux, et que le scanner utilis fonctionne correctement."]},{type:"steps",content:["Augmentez la luminosit de votre cran au maximum","Nettoyez l'cran de votre tlphone","vitez les reflets directs (soleil, lampe)","Demandez  la personne qui scanne de s'loigner ou se rapprocher","Rafrachissez votre carte en tirant l'cran vers le bas"]},{type:"warning",content:["Luminosit de l'cran trop faible","Reflets sur l'cran empchant la lecture","Distance incorrecte entre le tlphone et le scanner","cran du tlphone sale ou ray","Problme avec l'appareil de scan (pas avec votre QR code)"]},{type:"help",content:["Votre email","Le nom de la communaut","Le type de tlphone (Android / iPhone)","Le contexte (quel scanner, quel lieu)","Une capture cran de votre carte si possible"]}]},{id:"error-message",question:"Je vois un message d'erreur ou une page blanche, que faire ?",answerBlocks:[{type:"quick",content:["Un message d'erreur ou une page blanche indique gnralement un problme temporaire. Quelques actions simples permettent de le rsoudre dans la plupart des cas."]},{type:"steps",content:["Notez le message d'erreur affich (si visible)","Fermez compltement l'application","Vrifiez votre connexion internet","Rouvrez l'application","Si le problme persiste, redmarrez votre tlphone"]},{type:"warning",content:["Perte momentane de connexion internet","Bug temporaire de l'application","L'application a besoin d'une mise  jour","Serveur temporairement indisponible (rare)"]},{type:"help",content:["Votre email","Le nom de la communaut","Le type de tlphone (Android / iPhone)","Le message d'erreur exact (si affich)","L'cran o le problme apparat","Une capture cran si possible"]}]}]}]},dj={id:"admins",title:"Aide pour les administrateurs",icon:"settings",sections:[{id:"payments-stripe",title:"Paiements & Stripe",items:[{id:"setup-stripe",question:"Comment configurer Stripe pour recevoir les paiements ?",answerBlocks:[{type:"quick",content:["Pour recevoir les paiements de vos membres, vous devez connecter votre communaut  Stripe. C'est un processus simple et scuris qui permet de recevoir les cotisations directement sur votre compte bancaire."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans "Paramtres" puis "Paiements"','Cliquez sur "Connecter Stripe" ou "Configurer les paiements"',"Vous serez redirig vers Stripe pour crer ou connecter votre compte","Renseignez les informations demandes (coordonnes bancaires, identit)","Une fois termin, vous revenez automatiquement sur Koomy","Votre compte est maintenant prt  recevoir des paiements"]},{type:"warning",content:["Vous aurez besoin d'un RIB ou IBAN pour recevoir les versements","Stripe peut demander des documents d'identit pour vrifier votre compte","La vrification Stripe peut prendre quelques heures  quelques jours"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Une capture cran du message d'erreur si visible"]}]},{id:"create-payment-request",question:"Comment crer une demande de cotisation pour mes membres ?",answerBlocks:[{type:"quick",content:["Vous pouvez envoyer des demandes de paiement  vos membres depuis l'espace administrateur. Le membre recevra une notification et pourra payer directement depuis l'application."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Paiements" ou "Cotisations"','Cliquez sur "Nouvelle demande" ou "Crer une demande"',"Slectionnez le ou les membres concerns","Choisissez le montant et le type de cotisation","Ajoutez un message explicatif si besoin","Validez l'envoi de la demande"]},{type:"warning",content:["Assurez-vous que Stripe est configur avant d'envoyer des demandes","Les membres doivent avoir activ leur carte pour recevoir la demande","Vous pouvez envoyer des demandes individuelles ou groupes"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom du membre concern","Une capture cran si possible"]}]},{id:"check-payment-status",question:"Comment savoir si un membre a pay sa cotisation ?",answerBlocks:[{type:"quick",content:["Le statut de paiement de chaque membre est visible dans la liste des membres. Un indicateur color montre si la cotisation est  jour, en attente ou impaye."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Membres"',`Consultez la colonne "Statut cotisation" ou l'icne de paiement`,"Vert =  jour, Orange = en attente, Rouge = impay","Cliquez sur un membre pour voir le dtail de ses paiements"]},{type:"warning",content:["Un paiement peut mettre quelques minutes  apparatre aprs validation","Les paiements manuels (espces, chque) doivent tre marqus manuellement","Vous pouvez filtrer la liste pour voir uniquement les impays"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom du membre concern","Une capture cran si possible"]}]},{id:"view-transactions",question:"O voir l'historique des paiements et transactions ?",answerBlocks:[{type:"quick",content:["L'historique complet des paiements est accessible depuis votre espace administrateur. Vous y trouverez toutes les transactions : cotisations, collectes, vnements payants."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Paiements" ou "Transactions"',"La liste affiche tous les paiements reus par date","Utilisez les filtres pour rechercher par priode, membre ou type","Cliquez sur une transaction pour voir ses dtails"]},{type:"warning",content:["Les transactions sont listes par ordre chronologique (plus rcentes en premier)","Vous pouvez voir le statut de chaque paiement (russi, en attente, chou)","Les frais Stripe sont indiqus sparment du montant brut"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","La priode concerne","Une capture cran si possible"]}]},{id:"money-not-received",question:"Pourquoi je ne vois pas l'argent sur mon compte bancaire ?",answerBlocks:[{type:"quick",content:["Les paiements reus via Stripe sont verss sur votre compte bancaire selon un calendrier dfini par Stripe. Il y a toujours un dlai entre la rception du paiement et le virement."]},{type:"steps",content:["Vrifiez que le paiement apparat bien dans Koomy (section Transactions)","Connectez-vous  votre tableau de bord Stripe (dashboard.stripe.com)",'Allez dans "Solde" pour voir les paiements en attente de virement','Consultez "Versements" pour voir les virements programms ou effectus',"Vrifiez que vos coordonnes bancaires sont correctes dans Stripe"]},{type:"warning",content:["Stripe applique un dlai de versement qui varie selon votre pays et votre anciennet","Les premiers versements peuvent prendre plus de temps (vrification du compte)","Les week-ends et jours fris peuvent retarder les virements bancaires","Le montant vir tient compte des frais Stripe dduits automatiquement"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","La date du paiement concern","Une capture cran de votre tableau de bord Stripe"]}]}]},{id:"members-management",title:"Gestion des membres",items:[{id:"add-member",question:"Comment ajouter un nouveau membre  ma communaut ?",answerBlocks:[{type:"quick",content:["Vous pouvez ajouter un membre depuis votre espace administrateur. Une fois cr, le membre recevra un code d'activation par email pour accder  l'application."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Membres"','Cliquez sur "Ajouter un membre" ou le bouton "+"',"Renseignez les informations du membre (nom, prnom, email)","Choisissez ventuellement une section et un plan d'adhsion","Validez la cration","Le membre recevra automatiquement son code d'activation par email"]},{type:"warning",content:["L'adresse email doit tre valide pour que le membre reoive son code","Vrifiez que vous n'avez pas atteint la limite de membres de votre plan",`Le membre n'apparatra comme "actif" qu'aprs avoir activ sa carte`]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom ou l'email du membre concern"]}]},{id:"edit-member",question:"Comment modifier les informations d'un membre ?",answerBlocks:[{type:"quick",content:["Vous pouvez modifier les informations d'un membre  tout moment depuis sa fiche dans l'espace administrateur. Les modifications sont visibles immdiatement."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Membres"',"Recherchez le membre  modifier (par nom ou email)","Cliquez sur sa fiche pour l'ouvrir","Modifiez les informations souhaites (nom, email, section, tags...)","Enregistrez les modifications"]},{type:"warning",content:["Si vous modifiez l'email, le membre devra utiliser ce nouvel email pour se connecter","Les modifications sont visibles immdiatement dans l'application du membre","Certaines informations peuvent tre modifies par le membre lui-mme depuis son profil"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom ou l'email du membre concern"]}]},{id:"delete-member",question:"Comment supprimer un membre de ma communaut ?",answerBlocks:[{type:"quick",content:["Vous pouvez supprimer un membre depuis sa fiche. Attention : cette action est dfinitive et supprime toutes les donnes associes  ce membre."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Membres"',"Recherchez le membre  supprimer","Ouvrez sa fiche",`Cliquez sur "Supprimer" ou l'icne de suppression`,"Confirmez la suppression"]},{type:"warning",content:["La suppression est dfinitive et ne peut pas tre annule","Toutes les donnes du membre seront supprimes (historique, paiements, inscriptions)","Le membre ne pourra plus accder  l'application avec ce compte","Si le membre souhaite revenir, il faudra le crer  nouveau"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom ou l'email du membre concern"]}]},{id:"resend-code",question:"Comment renvoyer ou rgnrer un code d'activation ?",answerBlocks:[{type:"quick",content:["Si un membre n'a pas reu son code ou l'a perdu, vous pouvez lui renvoyer le mme code ou en gnrer un nouveau depuis sa fiche membre."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Membres"',"Recherchez le membre concern","Ouvrez sa fiche",'Cliquez sur "Renvoyer le code" pour envoyer  nouveau le mme code',`Ou cliquez sur "Rgnrer le code" pour crer un nouveau code (l'ancien ne fonctionnera plus)`]},{type:"warning",content:[`"Renvoyer" envoie le mme code par email (utile si l'email tait dans les spams)`,`"Rgnrer" cre un nouveau code et annule l'ancien`,"Il y a une limite de 3 renvois toutes les 10 minutes pour viter le spam","Vrifiez que l'adresse email du membre est correcte avant de renvoyer"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom ou l'email du membre concern"]}]},{id:"assign-tags",question:"Comment attribuer des tags  un membre ?",answerBlocks:[{type:"quick",content:["Les tags permettent de classer et organiser vos membres par catgories (fonction, statut, groupe...). Vous pouvez attribuer un ou plusieurs tags  chaque membre."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Membres"',"Recherchez le membre  modifier","Ouvrez sa fiche",'Dans la section "Tags", cliquez pour ajouter ou modifier les tags',"Slectionnez les tags  attribuer (vous pouvez en choisir plusieurs)","Enregistrez les modifications"]},{type:"warning",content:[`Vous devez d'abord crer les tags dans la section "Tags" avant de pouvoir les attribuer`,"Un membre peut avoir plusieurs tags en mme temps","Les tags peuvent servir  cibler des actualits ou vnements vers des groupes spcifiques","Modifier les tags ne gnre pas de notification au membre"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom ou l'email du membre concern"]}]}]},{id:"events-attendance",title:"vnements & prsences",items:[{id:"create-event",question:"Comment crer un vnement pour ma communaut ?",answerBlocks:[{type:"quick",content:["Vous pouvez crer un vnement depuis votre espace administrateur. L'vnement sera visible par vos membres dans l'application ds sa publication."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "vnements"','Cliquez sur "Crer un vnement" ou le bouton "+"',"Renseignez les informations : titre, description, date, heure, lieu","Ajoutez une image si vous le souhaitez","Choisissez si les inscriptions sont ouvertes ou non","Publiez l'vnement (ou enregistrez-le en brouillon pour plus tard)"]},{type:"warning",content:["Un vnement en brouillon n'est pas visible par les membres","Vous pouvez modifier un vnement aprs sa publication","Pensez  bien renseigner le lieu pour que les membres puissent s'y rendre"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom de l'vnement concern"]}]},{id:"create-paid-event",question:"Comment crer un vnement payant ?",answerBlocks:[{type:"quick",content:["Les vnements payants permettent de demander une participation financire aux membres. Le paiement se fait directement dans l'application via Stripe."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "vnements"','Cliquez sur "Crer un vnement"',"Renseignez les informations habituelles (titre, date, lieu...)",`Activez l'option "vnement payant"`,"Indiquez le prix de participation","Publiez l'vnement"]},{type:"warning",content:["Stripe doit tre configur pour votre communaut avant de crer un vnement payant","Selon votre plan, le nombre d'vnements payants par mois peut tre limit","Les membres devront payer en ligne pour confirmer leur inscription","Les paiements sont visibles dans votre historique de transactions"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom de l'vnement concern"]}]},{id:"view-registrations",question:"Comment voir la liste des membres inscrits  un vnement ?",answerBlocks:[{type:"quick",content:["La liste des inscrits est accessible depuis la fiche de l'vnement. Vous pouvez voir qui s'est inscrit, le statut de leur inscription et leur paiement pour les vnements payants."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "vnements"',"Cliquez sur l'vnement concern",`Accdez  l'onglet "Inscrits" ou "Participants"`,"La liste affiche tous les membres inscrits avec leur statut"]},{type:"warning",content:["Le statut peut tre : inscrit, en attente, annul","Pour les vnements payants, vous verrez aussi le statut de paiement","Vous pouvez exporter cette liste si besoin (selon votre plan)"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom de l'vnement concern"]}]},{id:"scan-attendance",question:"Comment scanner les prsences le jour de l'vnement ?",answerBlocks:[{type:"quick",content:["Le jour de l'vnement, vous pouvez scanner le QR code des cartes membres pour enregistrer les prsences. Cela se fait depuis l'application mobile administrateur."]},{type:"steps",content:["Ouvrez l'application Koomy (version administrateur) sur votre tlphone",'Accdez  la section "Scanner" ou "Prsences"',"Slectionnez l'vnement du jour","Pointez la camra vers le QR code de la carte membre","La prsence est automatiquement enregistre","Rptez pour chaque participant"]},{type:"warning",content:["Le membre doit avoir activ sa carte pour que le QR code fonctionne","Assurez-vous d'avoir une connexion internet pour enregistrer les prsences","Vous pouvez aussi ajouter une prsence manuellement si le scan ne fonctionne pas","Les statistiques de prsence sont ensuite visibles dans la fiche de l'vnement"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom de l'vnement concern"]}]},{id:"event-not-visible",question:"Pourquoi certains membres ne voient pas mon vnement ?",answerBlocks:[{type:"quick",content:["Si certains membres ne voient pas un vnement, c'est probablement parce qu'il est cibl vers un groupe spcifique (section ou tags), ou qu'il est encore en brouillon."]},{type:"steps",content:["Vrifiez que l'vnement est bien publi (et non en brouillon)","Vrifiez les paramtres de visibilit de l'vnement","Si l'vnement est cibl vers une section, seuls les membres de cette section le verront","Si l'vnement est cibl vers des tags, seuls les membres ayant ces tags le verront",`Pour rendre l'vnement visible  tous, choisissez "Tous les membres"`]},{type:"warning",content:["Le ciblage permet de n'afficher l'vnement qu' certains groupes de membres","Un vnement en brouillon n'apparat pour personne","Les membres doivent rafrachir leur application pour voir les nouveaux vnements","Vrifiez que le membre a bien activ sa carte et est dans la bonne communaut"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom de l'vnement concern","Le nom du membre qui ne voit pas l'vnement"]}]}]},{id:"content-news",title:"Contenus & actualits",items:[{id:"create-news",question:"Comment crer une actualit ou un article pour ma communaut ?",answerBlocks:[{type:"quick",content:[`Vous pouvez publier des actualits depuis votre espace administrateur. Les articles apparatront dans l'onglet "Actualits" de l'application pour vos membres.`]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Actualits" ou "Articles"','Cliquez sur "Crer une actualit" ou le bouton "+"',"Rdigez le titre et le contenu de votre article","Ajoutez une image de couverture si vous le souhaitez","Choisissez une catgorie (rubrique) pour classer l'article","Publiez l'article (ou enregistrez-le en brouillon)"]},{type:"warning",content:["Un article en brouillon n'est pas visible par les membres","Vous pouvez programmer une date de publication","Les images rendent les articles plus attractifs pour vos membres"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le titre de l'article concern"]}]},{id:"edit-delete-news",question:"Comment modifier ou supprimer une actualit ?",answerBlocks:[{type:"quick",content:["Vous pouvez modifier ou supprimer une actualit  tout moment depuis la liste des articles. Les modifications sont visibles immdiatement par les membres."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Actualits"',"Trouvez l'article  modifier dans la liste","Cliquez sur l'article pour l'ouvrir","Pour modifier : effectuez vos changements puis enregistrez",'Pour supprimer : cliquez sur "Supprimer" et confirmez']},{type:"warning",content:["La suppression est dfinitive et ne peut pas tre annule","Les membres qui avaient dj lu l'article ne le verront plus","Si vous souhaitez simplement masquer un article, passez-le en brouillon plutt que de le supprimer"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le titre de l'article concern"]}]},{id:"manage-categories",question:"Comment crer et grer des catgories (rubriques) ?",answerBlocks:[{type:"quick",content:["Les catgories (ou rubriques) permettent d'organiser vos actualits par thme. Vos membres peuvent ensuite filtrer les articles par catgorie dans l'application."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans la section "Actualits" puis "Catgories" ou "Rubriques"','Cliquez sur "Crer une catgorie" ou le bouton "+"','Donnez un nom  la catgorie (ex: "Vie du club", "Rsultats", "Informations pratiques")',"Enregistrez la catgorie","Vous pouvez ensuite rorganiser l'ordre des catgories par glisser-dposer"]},{type:"warning",content:["Choisissez des noms clairs et comprhensibles pour vos membres","Vous pouvez dsactiver une catgorie sans la supprimer","Supprimer une catgorie ne supprime pas les articles qu'elle contient"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom de la catgorie concerne"]}]},{id:"target-with-tags",question:"Comment utiliser les tags pour cibler certains membres ?",answerBlocks:[{type:"quick",content:["Les tags permettent de n'afficher un article qu' certains groupes de membres. Seuls les membres ayant le tag correspondant verront l'article dans leur application."]},{type:"steps",content:["Assurez-vous d'avoir cr des tags et de les avoir attribus  vos membres",`Lors de la cration d'un article, cherchez l'option "Ciblage" ou "Visibilit"`,"Slectionnez les tags des membres qui doivent voir cet article","Publiez l'article","Seuls les membres ayant au moins un des tags slectionns verront l'article"]},{type:"warning",content:["Si vous ne slectionnez aucun tag, l'article sera visible par tous les membres","Le ciblage par tags est disponible selon votre plan","Vous pouvez combiner plusieurs tags (le membre doit avoir au moins l'un d'entre eux)","Pensez  vrifier que les membres concerns ont bien les bons tags attribus"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le titre de l'article concern"]}]},{id:"news-not-visible",question:"Pourquoi mes membres ne voient pas une actualit publie ?",answerBlocks:[{type:"quick",content:["Si un article publi n'apparat pas pour certains membres, vrifiez qu'il n'est pas cibl vers un groupe spcifique, et que les membres rafrachissent bien leur application."]},{type:"steps",content:["Vrifiez que l'article est bien publi (et non en brouillon)","Vrifiez les paramtres de ciblage (tags, section)","Si l'article est cibl, vrifiez que le membre fait partie du groupe concern","Demandez au membre de rafrachir son application (tirer l'cran vers le bas)","Vrifiez que le membre a bien activ sa carte dans la bonne communaut"]},{type:"warning",content:["Un article en brouillon n'apparat pour aucun membre","Le ciblage par tags ou par section limite la visibilit","Les nouveaux articles mettent quelques secondes  apparatre","Le membre doit tre connect  la bonne communaut"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le titre de l'article concern","Le nom du membre qui ne voit pas l'article"]}]}]},{id:"subscription-plans",title:"Abonnement, plans & limites",items:[{id:"current-plan",question:"Comment connatre mon plan Koomy actuel ?",answerBlocks:[{type:"quick",content:["Votre plan actuel est visible dans les paramtres de votre espace administrateur. Vous y trouverez le nom du plan, ses fonctionnalits incluses et vos limites."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans "Paramtres" puis "Abonnement" ou "Mon plan"',"Votre plan actuel est affich avec ses caractristiques","Vous pouvez voir les limites (nombre de membres, fonctionnalits disponibles)"]},{type:"warning",content:["Les plans disponibles sont : FREE, PLUS, PRO et GRAND COMPTE","Chaque plan offre des fonctionnalits et limites diffrentes","Votre plan dtermine le nombre maximum de membres et les fonctionnalits accessibles"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le plan concern"]}]},{id:"plan-limits",question:"Quelles sont les limites de mon abonnement ?",answerBlocks:[{type:"quick",content:["Chaque plan a ses propres limites : nombre de membres, d'administrateurs, fonctionnalits disponibles. Ces limites sont visibles dans vos paramtres d'abonnement."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans "Paramtres" puis "Abonnement"',"Consultez les limites de votre plan actuel"]},{type:"warning",content:["Les limites varient selon votre plan","Vous pouvez voir votre utilisation actuelle par rapport  vos limites","Pour dbloquer plus de fonctionnalits, passez  un plan suprieur"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le plan concern"]}]},{id:"exceed-limits",question:"Que se passe-t-il si je dpasse les limites de mon plan ?",answerBlocks:[{type:"quick",content:["Si vous atteignez une limite (par exemple le nombre maximum de membres), vous ne pourrez plus ajouter de nouveaux lments. Votre communaut continue de fonctionner normalement, mais certaines actions seront bloques."]},{type:"steps",content:["Un message vous informe quand vous approchez d'une limite","Une fois la limite atteinte, l'action concerne est bloque","Vos donnes existantes restent accessibles et fonctionnelles","Pour dbloquer la situation, passez  un plan suprieur"]},{type:"warning",content:["Vos membres existants ne sont jamais supprims ou bloqus","Seules les nouvelles crations sont limites","Vous pouvez toujours supprimer des lments pour librer de la place","Les quotas mensuels (ex: vnements payants) se rinitialisent chaque mois"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","La limite concerne"]}]},{id:"upgrade-plan",question:"Comment passer  un plan suprieur ?",answerBlocks:[{type:"quick",content:["Vous pouvez changer de plan directement depuis votre espace administrateur. Le changement prend effet immdiatement et vous donne accs aux nouvelles fonctionnalits."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans "Paramtres" puis "Abonnement"','Cliquez sur "Changer de plan" ou "Passer  un plan suprieur"',"Comparez les plans disponibles et leurs fonctionnalits","Slectionnez le plan souhait","Procdez au paiement via Stripe","Votre nouveau plan est actif immdiatement"]},{type:"warning",content:["Le changement de plan prend effet immdiatement","Vous serez factur au prorata pour le reste de la priode en cours","Les nouvelles fonctionnalits sont accessibles ds la confirmation du paiement","Vous pouvez comparer les plans avant de dcider"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le plan souhait"]}]},{id:"cancel-subscription",question:"Puis-je changer ou annuler mon abonnement ?",answerBlocks:[{type:"quick",content:["Oui, vous pouvez modifier ou annuler votre abonnement  tout moment depuis votre portail de facturation Stripe. L'annulation prend effet  la fin de la priode paye."]},{type:"steps",content:["Connectez-vous  votre espace administrateur Koomy",'Allez dans "Paramtres" puis "Abonnement"','Cliquez sur "Grer mon abonnement" ou "Portail de facturation"',"Vous tes redirig vers Stripe","Depuis Stripe, vous pouvez modifier votre plan ou annuler votre abonnement"]},{type:"warning",content:["L'annulation prend effet  la fin de votre priode de facturation actuelle","Vous conservez l'accs jusqu' la fin de la priode paye","Aprs annulation, votre communaut passe au plan gratuit avec ses limites","Vos donnes ne sont pas supprimes en cas d'annulation"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","La modification souhaite"]}]}]}]},mj={id:"support",title:"Contacter le support Koomy",icon:"headphones",sections:[{id:"support-tickets",title:"Support & tickets",items:[{id:"contact-support",question:"Comment contacter le support Koomy ?",answerBlocks:[{type:"quick",content:["Vous pouvez contacter le support Koomy directement depuis l'application ou l'espace administrateur. Notre quipe est l pour vous aider  rsoudre vos problmes."]},{type:"steps",content:["Ouvrez l'application Koomy ou votre espace administrateur",'Accdez  la section "Support" ou "Aide"','Cliquez sur "Contacter le support" ou "Nouvelle demande"',"Dcrivez votre problme le plus clairement possible","Ajoutez des captures cran si ncessaire","Envoyez votre demande"]},{type:"warning",content:["Dcrivez prcisment ce que vous essayez de faire et ce qui ne fonctionne pas","Indiquez le nom de votre communaut et votre adresse email","Joignez une capture cran si le problme est visuel","Vrifiez d'abord cette FAQ, votre rponse s'y trouve peut-tre"]},{type:"help",content:["Votre email","Le nom de la communaut","Une description claire du problme","Une capture cran si possible"]}]},{id:"create-ticket",question:"Comment crer un ticket de support depuis l'application ?",answerBlocks:[{type:"quick",content:["Vous pouvez crer un ticket de support directement depuis l'application mobile ou l'espace administrateur. Votre demande sera enregistre et traite par notre quipe."]},{type:"steps",content:["Ouvrez l'application Koomy","Accdez  votre profil ou au menu",'Appuyez sur "Support" ou "Aide"','Slectionnez "Nouveau ticket" ou "Crer une demande"',"Choisissez la catgorie qui correspond le mieux  votre problme","Rdigez votre message en dcrivant le problme","Envoyez le ticket"]},{type:"warning",content:["Choisissez la bonne catgorie pour acclrer le traitement","Soyez prcis : quand le problme arrive-t-il ? Sur quel cran ?","Un ticket bien rdig = une rponse plus rapide"]},{type:"help",content:["Votre email","Le nom de la communaut","Une description claire du problme","Une capture cran si possible"]}]},{id:"track-tickets",question:"O puis-je suivre l'tat de mes demandes de support ?",answerBlocks:[{type:"quick",content:[`Vos tickets de support sont visibles dans la section "Support" de l'application ou de l'espace administrateur. Vous pouvez y suivre l'tat de vos demandes et les rponses de l'quipe.`]},{type:"steps",content:["Ouvrez l'application Koomy ou votre espace administrateur",'Accdez  la section "Support" ou "Aide"',"Consultez la liste de vos tickets","Le statut de chaque ticket est affich (ouvert, en cours, rsolu)","Cliquez sur un ticket pour voir les changes et ajouter des informations"]},{type:"warning",content:["Vrifiez rgulirement si l'quipe a rpondu  votre ticket","Vous pouvez ajouter des informations complmentaires  tout moment",'Un ticket "rsolu" peut tre rouvert si le problme persiste']},{type:"help",content:["Votre email","Le nom de la communaut","Le numro ou sujet du ticket concern"]}]},{id:"what-to-report",question:"Quels types de problmes dois-je signaler au support ?",answerBlocks:[{type:"quick",content:["Contactez le support pour tout problme que vous ne pouvez pas rsoudre seul : bugs, erreurs, fonctionnalits qui ne marchent pas, questions sur votre abonnement ou demandes d'aide."]},{type:"steps",content:["Essayez d'abord de rsoudre le problme avec cette FAQ","Si le problme persiste, crez un ticket de support","Dcrivez ce qui ne fonctionne pas et ce que vous avez dj essay"]},{type:"warning",content:["Pour les problmes de paiement Stripe, consultez aussi votre tableau de bord Stripe","Pour les problmes de connexion, essayez d'abord les solutions de cette FAQ","Plus vous dcrivez prcisment le problme, plus vite il sera rsolu"]},{type:"help",content:["Votre email","Le nom de la communaut","Une description claire du problme","Une capture cran si possible"]}]},{id:"faster-response",question:"Comment obtenir une rponse plus rapide du support ?",answerBlocks:[{type:"quick",content:["Pour obtenir une rponse rapide, dcrivez clairement votre problme, joignez des captures cran, et fournissez toutes les informations utiles ds le premier message."]},{type:"steps",content:["Rdigez un titre clair et prcis pour votre ticket","Dcrivez le problme en dtail : quand, o, comment il se produit","Indiquez ce que vous avez dj essay","Joignez des captures cran ou vidos si possible","Prcisez votre communaut, votre email, et le type de tlphone si pertinent"]},{type:"warning",content:["Un ticket bien document peut tre rsolu en une seule rponse",'vitez les messages vagues comme "a ne marche pas"',"Prcisez le contexte : quel cran, quel bouton, quel membre","Rpondez rapidement si l'quipe vous demande des prcisions"]},{type:"help",content:["Votre email","Le nom de la communaut","Le type de tlphone (pour les problmes sur mobile)","Une capture cran du problme","Les tapes pour reproduire le problme"]}]}]}]},gJ={id:"whitelabel",title:"Fonctions avances & White-label",icon:"sparkles",sections:[{id:"whitelabel-features",title:"White-label & Grand Compte",items:[{id:"what-is-whitelabel",question:"Qu'est-ce que le mode white-label sur Koomy ?",answerBlocks:[{type:"quick",content:["Le mode white-label permet de personnaliser entirement l'application mobile avec votre propre identit visuelle : logo, couleurs, nom de l'application. Vos membres utilisent une application  votre image, sans mention de Koomy."]},{type:"steps",content:["L'application mobile porte le nom de votre organisation","Votre logo et vos couleurs remplacent ceux de Koomy","L'icne de l'application sur les tlphones est personnalise","Vos membres tlchargent une application ddie  votre communaut","L'exprience utilisateur reste identique, seul le visuel change"]},{type:"warning",content:["Le mode white-label est rserv aux clients GRAND COMPTE","La personnalisation inclut : nom, logo, couleurs, icne de l'application","Une application ddie est publie sur les stores (App Store et Google Play)","Le back-office administrateur reste accessible via Koomy"]},{type:"help",content:["Le nom de la communaut","L'email administrateur"]}]},{id:"activate-whitelabel",question:"Comment activer le white-label pour ma communaut ?",answerBlocks:[{type:"quick",content:["L'activation du white-label se fait en collaboration avec l'quipe Koomy. Vous fournissez vos lments graphiques et nous configurons votre application personnalise."]},{type:"steps",content:["Contactez l'quipe Koomy pour exprimer votre besoin","Souscrivez au plan GRAND COMPTE si ce n'est pas dj fait","Transmettez vos lments graphiques : logo, couleurs, icne","L'quipe Koomy configure votre application personnalise","Votre application est publie sur les stores sous votre nom","Vos membres peuvent tlcharger l'application ddie"]},{type:"warning",content:["Le dlai de mise en place dpend de la validation par les stores","Les lments graphiques doivent respecter les guidelines Apple et Google","Un accompagnement est fourni pour la cration des visuels si ncessaire"]},{type:"help",content:["Le nom de la communaut","L'email administrateur"]}]},{id:"custom-domain",question:"Puis-je utiliser mon propre nom de domaine ?",answerBlocks:[{type:"quick",content:["Oui, les clients GRAND COMPTE peuvent configurer un nom de domaine personnalis pour leur espace administrateur ou leur site web communautaire."]},{type:"steps",content:["Contactez l'quipe Koomy pour demander la configuration","Fournissez le nom de domaine que vous souhaitez utiliser","Configurez les enregistrements DNS selon les instructions fournies","L'quipe Koomy active le domaine personnalis","Votre espace est accessible via votre propre domaine"]},{type:"warning",content:["Cette fonctionnalit est rserve aux clients GRAND COMPTE","Vous devez tre propritaire du nom de domaine","La configuration DNS est  votre charge (avec notre accompagnement)","Le certificat SSL est gr automatiquement par Koomy"]},{type:"help",content:["Le nom de la communaut","L'email administrateur","Le nom de domaine concern"]}]},{id:"whitelabel-limits",question:"Quelles sont les limites du white-label ?",answerBlocks:[{type:"quick",content:["Le white-label couvre la personnalisation visuelle de l'application mobile. Certains lments techniques restent communs  la plateforme Koomy."]},{type:"steps",content:["Personnalisable : nom de l'app, logo, couleurs, icne, cran de dmarrage","Non personnalisable : fonctionnalits de base de l'application (qui restent identiques)","Le back-office administrateur conserve l'interface Koomy","Les emails transactionnels peuvent tre personnaliss (selon configuration)","Les fonctionnalits disponibles dpendent de votre plan, pas du white-label"]},{type:"warning",content:["Le white-label est une personnalisation visuelle, pas fonctionnelle","Toutes les fonctionnalits Koomy restent disponibles","Les mises  jour de la plateforme s'appliquent automatiquement","Des personnalisations supplmentaires peuvent tre discutes au cas par cas"]},{type:"help",content:["Le nom de la communaut","L'email administrateur"]}]},{id:"dedicated-support",question:"Ai-je un accompagnement ddi en tant que client grand compte ?",answerBlocks:[{type:"quick",content:["Oui, les clients GRAND COMPTE bnficient d'un accompagnement personnalis avec un interlocuteur ddi et un support prioritaire."]},{type:"steps",content:["Un interlocuteur ddi vous est attribu","Vous bnficiez d'un support prioritaire pour vos demandes","Des sessions d'accompagnement peuvent tre organises (onboarding, formation)","Vos retours sont pris en compte pour les volutions de la plateforme","Une facturation sur mesure est possible (contrat annuel, devis personnalis)"]},{type:"warning",content:["L'accompagnement ddi est inclus dans l'offre GRAND COMPTE","Votre interlocuteur est joignable par email et tlphone","Les dlais de rponse sont rduits par rapport au support standard","Des runions de suivi rgulires peuvent tre planifies"]},{type:"help",content:["Le nom de la communaut","L'email administrateur"]}]}]}]};function r$e(e,t=!1){const r=e.toLowerCase().trim();if(!r)return[];const s=t?[uj,dj,mj,gJ]:[uj,dj,mj],a=[];for(const i of s)for(const o of i.sections)for(const c of o.items){const d=c.question.toLowerCase().includes(r),m=c.answerBlocks.some(f=>f.content.some(h=>h.toLowerCase().includes(r)));(d||m)&&a.push(c)}return a}function s$e({block:e}){const r={quick:{icon:null,bgClass:"",titleClass:"font-medium text-gray-900"},steps:{icon:"",bgClass:"bg-blue-50 border-blue-100",title:"tapes"},warning:{icon:"",bgClass:"bg-amber-50 border-amber-100",title:"Points d'attention"},help:{icon:"",bgClass:"bg-red-50 border-red-100",title:"Informations  fournir au support"}}[e.type];return e.type==="quick"?n.jsx("div",{className:"mb-4",children:e.content.map((s,a)=>n.jsx("p",{className:"text-gray-700 leading-relaxed",children:s},a))}):n.jsxs("div",{className:`p-3 rounded-lg border mb-3 ${r.bgClass}`,children:[n.jsxs("p",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[n.jsx("span",{children:r.icon}),n.jsx("span",{children:r.title})]}),n.jsx("ul",{className:"space-y-1.5",children:e.content.map((s,a)=>n.jsxs("li",{className:"text-sm text-gray-700 flex gap-2",children:[n.jsx("span",{className:"text-gray-400 shrink-0",children:e.type==="steps"?`${a+1}.`:""}),n.jsx("span",{children:s})]},a))})]})}function xJ({item:e,onCopy:t}){const[r,s]=v.useState(!1),a=()=>e.answerBlocks.map(o=>o.type==="quick"?o.content.join(`
`):`${o.type==="steps"?"tapes:":o.type==="warning"?"Points d'attention:":"Informations  fournir:"}
${o.content.map((d,m)=>o.type==="steps"?`${m+1}. ${d}`:` ${d}`).join(`
`)}`).join(`

`),i=async()=>{const o=`Question: ${e.question}

${a()}`;await navigator.clipboard.writeText(o),s(!0),t(o),setTimeout(()=>s(!1),2e3)};return n.jsxs(Di,{value:e.id,className:"border rounded-lg mb-2 overflow-hidden","data-testid":`faq-item-${e.id}`,children:[n.jsx(Ii,{className:"px-4 py-3 hover:bg-gray-50 text-left [&[data-state=open]]:bg-gray-50",children:n.jsxs("div",{className:"flex items-start gap-3 text-left pr-4",children:[n.jsx(Il,{className:"h-5 w-5 text-primary shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-800 font-medium",children:e.question})]})}),n.jsx(Li,{className:"px-4 pt-2 pb-4 bg-white",children:n.jsxs("div",{className:"pl-8",children:[e.answerBlocks.map((o,c)=>n.jsx(s$e,{block:o},c)),n.jsx("div",{className:"flex justify-end mt-4 pt-3 border-t",children:n.jsx(H,{variant:"outline",size:"sm",onClick:i,className:"gap-2","data-testid":`copy-answer-${e.id}`,children:r?n.jsxs(n.Fragment,{children:[n.jsx(Ws,{className:"h-4 w-4 text-green-600"})," Copi"]}):n.jsxs(n.Fragment,{children:[n.jsx(uh,{className:"h-4 w-4"})," Copier la rponse"]})})})]})})]})}function a$e({section:e,onCopy:t}){return n.jsxs("div",{className:"mb-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[n.jsx(xs,{className:"h-4 w-4 text-primary"}),e.title]}),n.jsx(xh,{type:"single",collapsible:!0,className:"w-full",children:e.items.map(r=>n.jsx(xJ,{item:r,onCopy:t},r.id))})]})}function i$e({category:e,isExpanded:t,onToggle:r,onCopy:s}){const a={users:n.jsx(It,{className:"h-5 w-5"}),settings:n.jsx(Cl,{className:"h-5 w-5"}),headphones:n.jsx(Ra,{className:"h-5 w-5"}),sparkles:n.jsx(Ef,{className:"h-5 w-5"})};return n.jsxs(ve,{className:`transition-all ${t?"ring-2 ring-primary/20":""}`,children:[n.jsx(Ge,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:r,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary",children:a[e.icon||"help"]||n.jsx(Il,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-lg",children:e.title}),n.jsxs(Ct,{children:[e.sections.reduce((i,o)=>i+o.items.length,0)," questions"]})]})]}),n.jsx(xs,{className:`h-5 w-5 text-gray-400 transition-transform ${t?"rotate-90":""}`})]})}),t&&n.jsx(je,{className:"pt-0",children:e.sections.map(i=>n.jsx(a$e,{section:i,onCopy:s},i.id))})]})}function o$e({results:e,onCopy:t}){return e.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(za,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{className:"font-medium",children:"Aucun rsultat trouv"}),n.jsx("p",{className:"text-sm mt-1",children:"Essayez avec d'autres mots-cls"})]}):n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[e.length," rsultat",e.length>1?"s":""," trouv",e.length>1?"s":""]}),n.jsx(xh,{type:"single",collapsible:!0,className:"w-full",children:e.map(r=>n.jsx(xJ,{item:r,onCopy:t},r.id))})]})}function l$e(){const{communityId:e}=Kl(),{isWhiteLabel:t}=Xi(),r=Wt(),[s,a]=v.useState(!1),[i,o]=v.useState(""),[c,d]=v.useState(""),[m,f]=v.useState(""),[h,g]=v.useState("members"),{data:b=[],isLoading:w}=Pe({queryKey:[`/api/communities/${e}/tickets`]}),y=qe({mutationFn:async A=>{const k=await kr("/api/tickets",{communityId:e,subject:A.subject,message:A.message,priority:"medium",status:"open"});if(!k.ok)throw new Error("Failed to create ticket");return k.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${e}/tickets`]}),X.success("Demande envoye",{description:"Le support Koomy a t notifi."}),a(!1),d(""),f("")},onError:()=>{X.error("Erreur lors de l'envoi de la demande")}}),j=()=>{if(!c||!m){X.error("Veuillez remplir tous les champs");return}y.mutate({subject:c,message:m})},N=()=>{X.success("Rponse copie dans le presse-papiers")},C=i.trim()?r$e(i,t):[],E=i.trim().length>0,T=t?[uj,dj,mj,gJ]:[uj,dj,mj];return n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Centre d'aide"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Trouvez des rponses pour vous et vos membres, ou contactez notre support."})]}),n.jsxs(ht,{open:s,onOpenChange:a,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2 shrink-0","data-testid":"button-new-ticket",children:[n.jsx(P_,{size:16})," Contacter le support"]})}),n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Contacter le support Koomy"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-100 flex gap-2 items-start",children:[n.jsx(_s,{size:16,className:"text-yellow-600 mt-0.5"}),n.jsx("p",{className:"text-xs text-yellow-700",children:"Avant de nous contacter, vrifiez si la rponse se trouve dans cette FAQ. Cela vous fera gagner du temps !"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Sujet"}),n.jsx(ne,{placeholder:"Ex: Problme de paiement membre",value:c,onChange:A=>d(A.target.value),"data-testid":"input-ticket-subject"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Description"}),n.jsx(Nn,{placeholder:"Dcrivez votre problme le plus prcisment possible...",className:"h-32",value:m,onChange:A=>f(A.target.value),"data-testid":"input-ticket-message"})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsx(H,{onClick:j,disabled:y.isPending,"data-testid":"button-submit-ticket",children:y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"})," Envoi..."]}):"Envoyer la demande"})]})]})]})]}),n.jsx(ve,{children:n.jsx(je,{className:"pt-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),n.jsx(ne,{placeholder:"Rechercher une question ou un sujet...",className:"pl-10 h-12 text-base",value:i,onChange:A=>o(A.target.value),"data-testid":"input-search-faq"})]})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2 space-y-4",children:E?n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(za,{className:"h-5 w-5 text-primary"}),"Rsultats de recherche"]})}),n.jsx(je,{children:n.jsx(o$e,{results:C,onCopy:N})})]}):T.map(A=>n.jsx(i$e,{category:A,isExpanded:h===A.id,onToggle:()=>g(h===A.id?null:A.id),onCopy:N},A.id))}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsx(Ve,{className:"text-lg",children:"Mes demandes"}),n.jsx(Ct,{children:"Suivi de vos tickets"})]}),n.jsx(je,{children:w?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(Oe,{className:"h-6 w-6 animate-spin text-primary"})}):b.length===0?n.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Aucune demande en cours"}):n.jsxs("div",{className:"space-y-3",children:[b.slice(0,5).map(A=>n.jsxs("div",{className:"p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors","data-testid":`ticket-${A.id}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx(Se,{variant:"outline",className:A.status==="open"?"bg-green-50 text-green-700 border-green-200":A.status==="in_progress"?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-600",children:A.status==="open"?"Ouvert":A.status==="in_progress"?"En cours":"Ferm"}),n.jsx("span",{className:"text-xs text-gray-400",children:new Date(A.createdAt).toLocaleDateString("fr-FR")})]}),n.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:A.subject}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:A.message})]},A.id)),b.length>5&&n.jsxs("p",{className:"text-xs text-center text-gray-400 pt-2",children:["+ ",b.length-5," autre",b.length-5>1?"s":""," demande",b.length-5>1?"s":""]})]})})]}),n.jsx(ve,{className:"bg-primary/5 border-primary/20",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:n.jsx(Ra,{className:"h-5 w-5 text-primary"})}),n.jsx("h3",{className:"font-bold text-gray-900",children:"Besoin d'aide ?"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Notre quipe est disponible du lundi au vendredi de 9h  18h pour vous accompagner."}),n.jsxs(H,{className:"w-full gap-2",onClick:()=>a(!0),children:[n.jsx(P_,{size:16}),"Ouvrir un ticket"]})]})}),n.jsx(ve,{children:n.jsxs(je,{className:"pt-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Conseils pour le support N1"}),n.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("li",{className:"flex gap-2",children:[n.jsx("span",{className:"text-primary",children:"1."}),"Recherchez d'abord dans la FAQ"]}),n.jsxs("li",{className:"flex gap-2",children:[n.jsx("span",{className:"text-primary",children:"2."}),"Copiez la rponse pour la partager"]}),n.jsxs("li",{className:"flex gap-2",children:[n.jsx("span",{className:"text-primary",children:"3."}),"Si le problme persiste, ouvrez un ticket"]})]})]})})]})]})]})})}function c$e(){const{communityId:e}=Kl(),t=Wt(),[r,s]=v.useState(""),[a,i]=v.useState("all"),[o,c]=v.useState(!1),[d,m]=v.useState(!1),[f,h]=v.useState(""),[g,b]=v.useState(""),[w,y]=v.useState(""),[j,N]=v.useState(new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]),{data:C=[],isError:E}=Pe({queryKey:[`/api/communities/${e}/payment-requests`]}),{data:T=[],isError:A}=Pe({queryKey:[`/api/communities/${e}/payments`]}),{data:k=[],isError:P}=Pe({queryKey:[`/api/communities/${e}/fees`]}),{data:O=[],isError:M}=Pe({queryKey:[`/api/communities/${e}/members`]});(E||A||P||M)&&X.error("Erreur lors du chargement des donnes");const F=qe({mutationFn:async B=>{const ie=await kr("/api/payment-requests",B);if(!ie.ok)throw new Error("Failed to create request");return ie.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/payment-requests`]}),X.success("Demande de paiement cre avec succs"),c(!1),h(""),b(""),y("")},onError:()=>{X.error("Erreur lors de la cration de la demande")}}),D=(B,ie="EUR")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:ie}).format(B/100),$=B=>new Date(B).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}),V=B=>{switch(B){case"pending":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[n.jsx(Ln,{size:12})," En attente"]});case"paid":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[n.jsx(vr,{size:12})," Pay"]});case"expired":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[n.jsx(_s,{size:12})," Expir"]});case"cancelled":return n.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"Annul"});default:return null}},z=C.filter(B=>a==="all"||B.status===a),q={total:C.length,pending:C.filter(B=>B.status==="pending").length,paid:C.filter(B=>B.status==="paid").length,expired:C.filter(B=>B.status==="expired").length,totalAmount:T.filter(B=>B.status==="completed").reduce((B,ie)=>B+ie.amount,0),pendingAmount:C.filter(B=>B.status==="pending").reduce((B,ie)=>B+ie.amount,0)},I=()=>{if(!f||!g){X.error("Veuillez slectionner un membre et un type de cotisation");return}const B=k.find(ie=>ie.id===f);if(!B){X.error("Type de cotisation non trouv");return}F.mutate({membershipId:g,communityId:e,feeId:f,amount:B.amount,currency:B.currency||"EUR",dueDate:new Date(j).toISOString(),message:w||void 0})},K=()=>{if(!f){X.error("Veuillez slectionner un type de cotisation");return}X.success("Demandes de paiement envoyes  tous les membres"),m(!1),h(""),y("")},U=B=>{X.success("Rappel envoy avec succs")};return n.jsx(dn,{children:n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Paiements"}),n.jsx("p",{className:"text-gray-500",children:"Grer les cotisations et demandes de paiement"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(H,{variant:"outline",onClick:()=>m(!0),"data-testid":"button-bulk-request",children:[n.jsx(It,{size:18,className:"mr-2"}),"Appel de cotisation"]}),n.jsxs(H,{className:"bg-primary hover:bg-primary/90",onClick:()=>c(!0),"data-testid":"button-new-request",children:[n.jsx(Sn,{size:18,className:"mr-2"}),"Nouvelle demande"]})]})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:n.jsx(po,{size:20,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total collect"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:D(q.totalAmount)})]})]})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-yellow-50 rounded-lg",children:n.jsx(Ln,{size:20,className:"text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"En attente"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:D(q.pendingAmount)})]})]})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:n.jsx(vr,{size:20,className:"text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Paiements russis"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:q.paid})]})]})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:n.jsx(_s,{size:20,className:"text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Demandes expires"}),n.jsx("p",{className:"text-xl font-bold text-gray-900",children:q.expired})]})]})})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 mb-6",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),n.jsx(ne,{placeholder:"Rechercher par nom ou email...",className:"pl-10",value:r,onChange:B=>s(B.target.value),"data-testid":"input-search-payments"})]}),n.jsxs(it,{value:a,onValueChange:i,children:[n.jsxs(rt,{className:"w-48","data-testid":"select-status-filter",children:[n.jsx(I9,{size:16,className:"mr-2"}),n.jsx(ot,{placeholder:"Tous les statuts"})]}),n.jsxs(st,{children:[n.jsx(Ae,{value:"all",children:"Tous les statuts"}),n.jsx(Ae,{value:"pending",children:"En attente"}),n.jsx(Ae,{value:"paid",children:"Pay"}),n.jsx(Ae,{value:"expired",children:"Expir"})]})]}),n.jsxs(H,{variant:"outline",children:[n.jsx(p4,{size:16,className:"mr-2"}),"Exporter"]})]})}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"ID Membre"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Montant"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"chance"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-600",children:"Statut"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),n.jsx("tbody",{children:z.map(B=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50","data-testid":`row-payment-${B.id}`,children:[n.jsx("td",{className:"py-4 px-4",children:n.jsx("p",{className:"font-medium text-gray-900",children:B.membershipId})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"font-semibold text-gray-900",children:D(B.amount,B.currency||"EUR")})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(Gn,{size:14}),$(B.dueDate)]})}),n.jsx("td",{className:"py-4 px-4",children:V(B.status||"pending")}),n.jsxs("td",{className:"py-4 px-4 text-right",children:[B.status==="pending"&&n.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>U(B.id),"data-testid":`button-reminder-${B.id}`,children:[n.jsx(Rs,{size:16,className:"mr-1"}),"Rappel"]}),B.status==="expired"&&n.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>U(B.id),children:[n.jsx(Rs,{size:16,className:"mr-1"}),"Relancer"]})]})]},B.id))})]}),z.length===0&&n.jsx("div",{className:"text-center py-12 text-gray-500",children:"Aucune demande de paiement trouve"})]}),n.jsx(ht,{open:o,onOpenChange:c,children:n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Nouvelle demande de paiement"})}),n.jsxs("div",{className:"py-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Membre"}),n.jsxs(it,{value:g,onValueChange:b,children:[n.jsx(rt,{children:n.jsx(ot,{placeholder:"Slectionner un membre"})}),n.jsx(st,{children:O.map(B=>n.jsxs(Ae,{value:B.id,children:[B.user.firstName," ",B.user.lastName]},B.id))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Type de cotisation"}),n.jsxs(it,{value:f,onValueChange:h,children:[n.jsx(rt,{children:n.jsx(ot,{placeholder:"Slectionner un type"})}),n.jsxs(st,{children:[k.map(B=>n.jsxs(Ae,{value:B.id,children:[B.name," - ",D(B.amount,B.currency||"EUR")]},B.id)),k.length===0&&n.jsx(Ae,{value:"default",disabled:!0,children:"Aucune cotisation dfinie"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"chance"}),n.jsx(ne,{type:"date",value:j,onChange:B=>N(B.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Message personnalis (optionnel)"}),n.jsx(Nn,{placeholder:"Ajoutez un message...",value:w,onChange:B=>y(B.target.value)})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),n.jsx(H,{onClick:I,disabled:F.isPending,children:F.isPending?"Envoi...":"Envoyer la demande"})]})]})}),n.jsx(ht,{open:d,onOpenChange:m,children:n.jsxs(mt,{className:"sm:max-w-lg",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Appel de cotisation"})}),n.jsxs("div",{className:"py-4 space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-sm text-blue-700",children:[n.jsx("p",{className:"font-medium",children:"Envoi group"}),n.jsx("p",{children:"Cette action enverra une demande de paiement  tous les membres slectionns ou  l'ensemble de la communaut."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Type de cotisation"}),n.jsxs(it,{value:f,onValueChange:h,children:[n.jsx(rt,{children:n.jsx(ot,{placeholder:"Slectionner un type"})}),n.jsx(st,{children:k.map(B=>n.jsxs(Ae,{value:B.id,children:[B.name," - ",D(B.amount,B.currency||"EUR")]},B.id))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Destinataires"}),n.jsxs(it,{defaultValue:"all",children:[n.jsx(rt,{children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsxs(Ae,{value:"all",children:["Tous les membres (",O.length,")"]}),n.jsx(Ae,{value:"pending",children:"Membres avec cotisation en retard"}),n.jsx(Ae,{value:"expired",children:"Membres avec cotisation expire"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"chance"}),n.jsx(ne,{type:"date",value:j,onChange:B=>N(B.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Message personnalis (optionnel)"}),n.jsx(Nn,{placeholder:"Ajoutez un message pour accompagner la demande...",value:w,onChange:B=>y(B.target.value)})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>m(!1),children:"Annuler"}),n.jsxs(H,{onClick:K,className:"bg-primary hover:bg-primary/90",children:[n.jsx(Rs,{size:16,className:"mr-2"}),"Envoyer l'appel"]})]})]})})]})})}function u$e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var d$e=Symbol("radix.slottable");function m$e(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=d$e,t}var yJ="AlertDialog",[f$e]=ts(yJ,[uK]),Hl=uK(),vJ=e=>{const{__scopeAlertDialog:t,...r}=e,s=Hl(t);return n.jsx(AK,{...s,...r,modal:!0})};vJ.displayName=yJ;var h$e="AlertDialogTrigger",bJ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hl(r);return n.jsx(EK,{...a,...s,ref:t})});bJ.displayName=h$e;var p$e="AlertDialogPortal",jJ=e=>{const{__scopeAlertDialog:t,...r}=e,s=Hl(t);return n.jsx(_K,{...s,...r})};jJ.displayName=p$e;var g$e="AlertDialogOverlay",wJ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hl(r);return n.jsx(uO,{...a,...s,ref:t})});wJ.displayName=g$e;var Cf="AlertDialogContent",[x$e,y$e]=f$e(Cf),v$e=m$e("AlertDialogContent"),NJ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,i=Hl(r),o=v.useRef(null),c=xt(t,o),d=v.useRef(null);return n.jsx(ege,{contentName:Cf,titleName:SJ,docsSlug:"alert-dialog",children:n.jsx(x$e,{scope:r,cancelRef:d,children:n.jsxs(dO,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:u$e(a.onOpenAutoFocus,m=>{m.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[n.jsx(v$e,{children:s}),n.jsx(j$e,{contentRef:o})]})})})});NJ.displayName=Cf;var SJ="AlertDialogTitle",CJ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hl(r);return n.jsx(mO,{...a,...s,ref:t})});CJ.displayName=SJ;var AJ="AlertDialogDescription",EJ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hl(r);return n.jsx(fO,{...a,...s,ref:t})});EJ.displayName=AJ;var b$e="AlertDialogAction",_J=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=Hl(r);return n.jsx(Rj,{...a,...s,ref:t})});_J.displayName=b$e;var TJ="AlertDialogCancel",PJ=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=y$e(TJ,r),i=Hl(r),o=xt(t,a);return n.jsx(Rj,{...i,...s,ref:o})});PJ.displayName=TJ;var j$e=({contentRef:e})=>{const t=`\`${Cf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Cf}\` by passing a \`${AJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Cf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},w$e=vJ,N$e=bJ,S$e=jJ,OJ=wJ,kJ=NJ,MJ=_J,RJ=PJ,DJ=CJ,IJ=EJ;const C$e=w$e,A$e=N$e,E$e=S$e,LJ=v.forwardRef(({className:e,...t},r)=>n.jsx(OJ,{className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));LJ.displayName=OJ.displayName;const $J=v.forwardRef(({className:e,...t},r)=>n.jsxs(E$e,{children:[n.jsx(LJ,{}),n.jsx(kJ,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));$J.displayName=kJ.displayName;const zJ=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col space-y-2 text-center sm:text-left",e),...t});zJ.displayName="AlertDialogHeader";const qJ=({className:e,...t})=>n.jsx("div",{className:Le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qJ.displayName="AlertDialogFooter";const FJ=v.forwardRef(({className:e,...t},r)=>n.jsx(DJ,{ref:r,className:Le("text-lg font-semibold",e),...t}));FJ.displayName=DJ.displayName;const BJ=v.forwardRef(({className:e,...t},r)=>n.jsx(IJ,{ref:r,className:Le("text-sm text-muted-foreground",e),...t}));BJ.displayName=IJ.displayName;const UJ=v.forwardRef(({className:e,...t},r)=>n.jsx(MJ,{ref:r,className:Le(N4(),e),...t}));UJ.displayName=MJ.displayName;const VJ=v.forwardRef(({className:e,...t},r)=>n.jsx(RJ,{ref:r,className:Le(N4({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));VJ.displayName=RJ.displayName;const _$e=[{value:"sport",label:"Sport"},{value:"culture",label:"Culture"},{value:"education",label:"ducation"},{value:"social",label:"Social"},{value:"professionnel",label:"Professionnel"},{value:"loisirs",label:"Loisirs"},{value:"environnement",label:"Environnement"},{value:"sante",label:"Sant"},{value:"autre",label:"Autre"}],T$e=[{value:"one_time",label:"Paiement unique"},{value:"monthly",label:"Mensuel"},{value:"yearly",label:"Annuel"}];function P$e(){const{currentMembership:e,currentCommunity:t}=dt(),r=Wt(),s=e?.communityId,{data:a,isLoading:i}=Pe({queryKey:[`/api/communities/${s}`],enabled:!!s}),o=a||t||void 0,[c,d]=v.useState({name:"",communityType:"",communityTypeOther:"",category:"",description:"",address:"",city:"",postalCode:"",country:"",contactEmail:"",contactPhone:"",siret:"",iban:"",bic:"",website:"",facebook:"",twitter:"",instagram:"",linkedin:"",welcomeMessage:"",primaryColor:"",logo:"",membershipFeeEnabled:!1,membershipFeeAmount:"",currency:"EUR",billingPeriod:"yearly"}),m=e?.adminRole==="super_admin";v.useEffect(()=>{o&&d({name:o.name||"",communityType:o.communityType||"",communityTypeOther:o.communityTypeOther||"",category:o.category||"",description:o.description||"",address:o.address||"",city:o.city||"",postalCode:o.postalCode||"",country:o.country||"France",contactEmail:o.contactEmail||"",contactPhone:o.contactPhone||"",siret:o.siret||"",iban:o.iban||"",bic:o.bic||"",website:o.website||"",facebook:o.facebook||"",twitter:o.twitter||"",instagram:o.instagram||"",linkedin:o.linkedin||"",welcomeMessage:o.welcomeMessage||"",primaryColor:o.primaryColor||"207 100% 63%",logo:o.logo||"",membershipFeeEnabled:o.membershipFeeEnabled||!1,membershipFeeAmount:o.membershipFeeAmount?String(o.membershipFeeAmount/100):"",currency:o.currency||"EUR",billingPeriod:o.billingPeriod||"yearly"})},[o]);const f=qe({mutationFn:async y=>{console.log("[SAVE] Settings mutation triggered",{communityId:s,data:y});const j=await Vx(`/api/communities/${s}`,y);if(!j.ok){const N=j.data?.error||"Erreur lors de la mise  jour";throw new Error(N)}return console.log("[SAVE] Settings mutation success",j.data),j.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${s}`]}),r.invalidateQueries({queryKey:["/api/communities"]}),X.success("Paramtres enregistrs avec succs")},onError:y=>{console.error("[SAVE] Settings mutation error",y),X.error(y.message)}}),h=(y,j)=>{d(N=>({...N,[y]:j}))},g=y=>{d(j=>({...j,logo:y})),f.mutate({logo:y})},b=y=>{let j={};switch(y){case"identity":j={name:c.name,communityType:c.communityType,communityTypeOther:c.communityTypeOther||null,category:c.category||null,description:c.description||null};break;case"contact":j={address:c.address||null,city:c.city||null,postalCode:c.postalCode||null,country:c.country||"France",contactEmail:c.contactEmail||null,contactPhone:c.contactPhone||null};break;case"legal":j={siret:c.siret||null,iban:c.iban||null,bic:c.bic||null};break;case"social":j={website:c.website||null,facebook:c.facebook||null,twitter:c.twitter||null,instagram:c.instagram||null,linkedin:c.linkedin||null};break;case"appearance":j={welcomeMessage:c.welcomeMessage||null,primaryColor:c.primaryColor||"207 100% 63%"};break;case"payment":j={membershipFeeEnabled:c.membershipFeeEnabled,membershipFeeAmount:c.membershipFeeAmount?parseInt(c.membershipFeeAmount)*100:null,currency:c.currency,billingPeriod:c.billingPeriod};break}f.mutate(j)},w=()=>c.communityType==="other"?c.communityTypeOther||"communaut":Rf.find(j=>j.value===c.communityType)?.label||"communaut";return i?n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-settings-title",children:"Paramtres de la communaut"}),n.jsxs("p",{className:"text-gray-500 mt-1",children:["Grez les informations et les paramtres de votre ",w().toLowerCase()]})]}),n.jsxs(Gc,{defaultValue:"identity",className:"space-y-6",children:[n.jsxs(_l,{className:"bg-white border shadow-sm flex-wrap h-auto p-1",children:[n.jsxs(tn,{value:"identity",className:"gap-2","data-testid":"tab-identity",children:[n.jsx(ys,{className:"h-4 w-4"}),"Identit"]}),n.jsxs(tn,{value:"contact",className:"gap-2","data-testid":"tab-contact",children:[n.jsx(Hr,{className:"h-4 w-4"}),"Coordonnes"]}),n.jsxs(tn,{value:"legal",className:"gap-2","data-testid":"tab-legal",children:[n.jsx(jd,{className:"h-4 w-4"}),"Lgal / Bancaire"]}),n.jsxs(tn,{value:"social",className:"gap-2","data-testid":"tab-social",children:[n.jsx(I0,{className:"h-4 w-4"}),"Rseaux sociaux"]}),n.jsxs(tn,{value:"appearance",className:"gap-2","data-testid":"tab-appearance",children:[n.jsx(D0,{className:"h-4 w-4"}),"Apparence"]}),n.jsxs(tn,{value:"payment",className:"gap-2","data-testid":"tab-payment",children:[n.jsx(mn,{className:"h-4 w-4"}),"Paiement"]}),n.jsxs(tn,{value:"enrollment",className:"gap-2","data-testid":"tab-enrollment",children:[n.jsx(Vc,{className:"h-4 w-4"}),"Inscription en ligne"]}),n.jsxs(tn,{value:"member-profile",className:"gap-2","data-testid":"tab-member-profile",children:[n.jsx(It,{className:"h-4 w-4"}),"Profil adhrents"]}),n.jsxs(tn,{value:"emails",className:"gap-2","data-testid":"tab-emails",children:[n.jsx(Rs,{className:"h-4 w-4"}),"Emails"]})]}),n.jsx(wn,{value:"identity",children:n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"h-5 w-5 text-primary"}),"Identit de votre communaut"]}),n.jsx(Ct,{children:"Informations de base sur votre organisation"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"name",children:"Nom de la communaut *"}),n.jsx(ne,{id:"name",value:c.name,onChange:y=>h("name",y.target.value),placeholder:"Ex: Club de Tennis de Lyon","data-testid":"input-settings-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"communityType",children:"Type de communaut *"}),n.jsxs(it,{value:c.communityType,onValueChange:y=>h("communityType",y),children:[n.jsx(rt,{"data-testid":"select-settings-type",children:n.jsx(ot,{placeholder:"Slectionnez un type"})}),n.jsx(st,{children:Rf.map(y=>n.jsx(Ae,{value:y.value,children:y.label},y.value))})]})]})]}),c.communityType==="other"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"communityTypeOther",children:"Prcisez le type"}),n.jsx(ne,{id:"communityTypeOther",value:c.communityTypeOther,onChange:y=>h("communityTypeOther",y.target.value),placeholder:"Ex: Collectif d'artistes","data-testid":"input-settings-type-other"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"category",children:"Catgorie"}),n.jsxs(it,{value:c.category,onValueChange:y=>h("category",y),children:[n.jsx(rt,{"data-testid":"select-settings-category",children:n.jsx(ot,{placeholder:"Slectionnez une catgorie"})}),n.jsx(st,{children:_$e.map(y=>n.jsx(Ae,{value:y.value,children:y.label},y.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"description",children:"Description"}),n.jsx(Nn,{id:"description",value:c.description,onChange:y=>h("description",y.target.value),placeholder:"Dcrivez votre communaut...",className:"min-h-[120px]","data-testid":"input-settings-description"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(H,{onClick:()=>b("identity"),disabled:f.isPending,className:"gap-2","data-testid":"button-save-identity",children:[f.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]})}),n.jsx(wn,{value:"contact",children:n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"h-5 w-5 text-primary"}),"Coordonnes"]}),n.jsx(Ct,{children:"Adresse et informations de contact"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"address",children:"Adresse"}),n.jsx(ne,{id:"address",value:c.address,onChange:y=>h("address",y.target.value),placeholder:"12 rue de la Rpublique","data-testid":"input-settings-address"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"city",children:"Ville"}),n.jsx(ne,{id:"city",value:c.city,onChange:y=>h("city",y.target.value),placeholder:"Lyon","data-testid":"input-settings-city"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"postalCode",children:"Code postal"}),n.jsx(ne,{id:"postalCode",value:c.postalCode,onChange:y=>h("postalCode",y.target.value),placeholder:"69001","data-testid":"input-settings-postal-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"country",children:"Pays"}),n.jsx(ne,{id:"country",value:c.country,onChange:y=>h("country",y.target.value),placeholder:"France","data-testid":"input-settings-country"})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"contactEmail",children:"Email de contact"}),n.jsxs("div",{className:"relative",children:[n.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"contactEmail",type:"email",value:c.contactEmail,onChange:y=>h("contactEmail",y.target.value),placeholder:"contact@votrecommunaute.fr",className:"pl-10","data-testid":"input-settings-contact-email"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"contactPhone",children:"Tlphone"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"contactPhone",type:"tel",value:c.contactPhone,onChange:y=>h("contactPhone",y.target.value),placeholder:"04 XX XX XX XX",className:"pl-10","data-testid":"input-settings-contact-phone"})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(H,{onClick:()=>b("contact"),disabled:f.isPending,className:"gap-2","data-testid":"button-save-contact",children:[f.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]})}),n.jsx(wn,{value:"legal",children:n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(jd,{className:"h-5 w-5 text-primary"}),"Informations lgales et bancaires"]}),n.jsx(Ct,{children:"Identifiants lgaux et coordonnes bancaires de votre organisation"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"siret",children:"Numro SIRET"}),n.jsx(ne,{id:"siret",value:c.siret,onChange:y=>h("siret",y.target.value),placeholder:"123 456 789 00012",maxLength:17,"data-testid":"input-settings-siret"}),n.jsx("p",{className:"text-xs text-gray-500",children:"14 chiffres (SIREN + NIC)"})]}),n.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-100",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(jie,{className:"h-5 w-5 text-amber-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Informations bancaires"}),n.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Ces informations sont ncessaires pour recevoir les paiements de vos adhrents via virement."})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"iban",children:"IBAN"}),n.jsx(ne,{id:"iban",value:c.iban,onChange:y=>h("iban",y.target.value.toUpperCase()),placeholder:"FR76 XXXX XXXX XXXX XXXX XXXX XXX","data-testid":"input-settings-iban"}),n.jsx("p",{className:"text-xs text-gray-500",children:"International Bank Account Number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"bic",children:"BIC / SWIFT"}),n.jsx(ne,{id:"bic",value:c.bic,onChange:y=>h("bic",y.target.value.toUpperCase()),placeholder:"BNPAFRPP",maxLength:11,"data-testid":"input-settings-bic"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Bank Identifier Code (8 ou 11 caractres)"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(H,{onClick:()=>b("legal"),disabled:f.isPending,className:"gap-2","data-testid":"button-save-legal",children:[f.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]})}),n.jsx(wn,{value:"social",children:n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(I0,{className:"h-5 w-5 text-primary"}),"Rseaux sociaux et site web"]}),n.jsx(Ct,{children:"Liens vers vos prsences en ligne"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"website",children:"Site web"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ui,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"website",type:"url",value:c.website,onChange:y=>h("website",y.target.value),placeholder:"https://www.votrecommunaute.fr",className:"pl-10","data-testid":"input-settings-website"})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"facebook",children:"Facebook"}),n.jsxs("div",{className:"relative",children:[n.jsx(Kae,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"facebook",value:c.facebook,onChange:y=>h("facebook",y.target.value),placeholder:"https://facebook.com/votrepage",className:"pl-10","data-testid":"input-settings-facebook"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"twitter",children:"Twitter / X"}),n.jsxs("div",{className:"relative",children:[n.jsx(zoe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"twitter",value:c.twitter,onChange:y=>h("twitter",y.target.value),placeholder:"https://x.com/votrecompte",className:"pl-10","data-testid":"input-settings-twitter"})]})]})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"instagram",children:"Instagram"}),n.jsxs("div",{className:"relative",children:[n.jsx(hie,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"instagram",value:c.instagram,onChange:y=>h("instagram",y.target.value),placeholder:"https://instagram.com/votrecompte",className:"pl-10","data-testid":"input-settings-instagram"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"linkedin",children:"LinkedIn"}),n.jsxs("div",{className:"relative",children:[n.jsx(Tie,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"linkedin",value:c.linkedin,onChange:y=>h("linkedin",y.target.value),placeholder:"https://linkedin.com/company/votrepage",className:"pl-10","data-testid":"input-settings-linkedin"})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(H,{onClick:()=>b("social"),disabled:f.isPending,className:"gap-2","data-testid":"button-save-social",children:[f.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]})}),n.jsx(wn,{value:"appearance",children:n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(D0,{className:"h-5 w-5 text-primary"}),"Apparence et accueil"]}),n.jsx(Ct,{children:"Personnalisez l'apparence et le message d'accueil"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ee,{className:"text-base font-medium",children:"Logo de la communaut"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cette image apparat sur les cartes de membre et dans l'application"})]}),!m&&n.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 px-3 py-1.5 rounded-lg text-sm",children:[n.jsx(xoe,{className:"h-4 w-4"}),"Super Admin uniquement"]})]}),n.jsx("div",{className:"flex justify-center p-6 bg-gray-50 rounded-lg border-2 border-dashed",children:n.jsx(PY,{currentLogo:c.logo,communityName:c.name,onUploadComplete:g,disabled:!m,size:"lg"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"welcomeMessage",children:"Message d'accueil"}),n.jsx(Nn,{id:"welcomeMessage",value:c.welcomeMessage,onChange:y=>h("welcomeMessage",y.target.value),placeholder:`Bienvenue dans notre ${w().toLowerCase()}! Nous sommes ravis de vous accueillir.`,className:"min-h-[150px]","data-testid":"input-settings-welcome-message"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Ce message sera affich aux nouveaux membres lors de leur premire connexion"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"primaryColor",children:"Couleur principale (HSL)"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ne,{id:"primaryColor",value:c.primaryColor,onChange:y=>h("primaryColor",y.target.value),placeholder:"207 100% 63%",className:"flex-1","data-testid":"input-settings-primary-color"}),n.jsx("div",{className:"h-10 w-20 rounded-lg border shadow-sm",style:{backgroundColor:`hsl(${c.primaryColor})`}})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Format HSL (ex: 207 100% 63% pour le bleu Koomy)"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(H,{onClick:()=>b("appearance"),disabled:f.isPending,className:"gap-2","data-testid":"button-save-appearance",children:[f.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]})}),n.jsx(wn,{value:"payment",children:n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(mn,{className:"h-5 w-5 text-primary"}),"Paramtres de paiement"]}),n.jsx(Ct,{children:"Configurez les cotisations et les options de paiement"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(br,{className:"h-5 w-5 text-amber-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Paiement  Inscription"}),n.jsx("p",{className:"text-sm text-amber-700",children:"Le paiement en ligne (Stripe) est requis uniquement si vous proposez des formules payantes en mode OUVERT."}),n.jsxs("ul",{className:"text-sm text-amber-700 mt-2 space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:["Inscription en mode ",n.jsx("strong",{children:"FERM"})," : pas besoin de Stripe (paiement hors-ligne aprs validation)"]}),n.jsxs("li",{children:["Inscription avec ",n.jsx("strong",{children:"formule gratuite"})," : pas besoin de Stripe"]})]})]})]})}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(ee,{className:"text-base font-medium",children:"Activer le paiement en ligne"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Permettez  vos membres de payer leur cotisation en ligne via Stripe"})]}),n.jsx(Qn,{checked:c.membershipFeeEnabled,onCheckedChange:y=>h("membershipFeeEnabled",y),"data-testid":"switch-settings-membership-fee"})]}),c.membershipFeeEnabled&&n.jsxs("div",{className:"space-y-6 pt-4 border-t",children:[n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"membershipFeeAmount",children:"Montant de la cotisation"}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{id:"membershipFeeAmount",type:"number",min:"0",step:"0.01",value:c.membershipFeeAmount,onChange:y=>h("membershipFeeAmount",y.target.value),placeholder:"50",className:"pr-12","data-testid":"input-settings-fee-amount"}),n.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500",children:""})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"currency",children:"Devise"}),n.jsx(ne,{value:"Euro ()",disabled:!0,className:"bg-gray-100 text-gray-600","data-testid":"input-settings-currency"}),n.jsx("p",{className:"text-xs text-gray-500",children:"EUR uniquement (V1)"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"billingPeriod",children:"Priode de facturation"}),n.jsxs(it,{value:c.billingPeriod,onValueChange:y=>h("billingPeriod",y),children:[n.jsx(rt,{"data-testid":"select-settings-billing-period",children:n.jsx(ot,{})}),n.jsx(st,{children:T$e.map(y=>n.jsx(Ae,{value:y.value,children:y.label},y.value))})]})]}),n.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(vr,{className:"h-5 w-5 text-blue-500 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Intgration Stripe"}),n.jsx("p",{className:"text-sm text-blue-600",children:"Les paiements seront traits de manire scurise via Stripe. L'intgration complte sera disponible prochainement."})]})]})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(H,{onClick:()=>b("payment"),disabled:f.isPending,className:"gap-2","data-testid":"button-save-payment",children:[f.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]})}),n.jsx(wn,{value:"enrollment",children:n.jsx(I$e,{communityId:s||"",community:o})}),n.jsx(wn,{value:"member-profile",children:n.jsx(M$e,{communityId:s||""})}),n.jsxs(wn,{value:"emails",className:"space-y-6",children:[n.jsx(D$e,{community:o}),o?.whiteLabel&&n.jsx(R$e,{community:o,communityId:s||""})]})]})]})})}const O$e={ADDRESS:{label:"Adresse postale",description:"Rue, ville, code postal, pays",icon:Kx},EMERGENCY_CONTACT:{label:"Contact d'urgence",description:"Nom, tlphone, relation",icon:br},MINOR_GUARDIANS:{label:"Responsables lgaux (mineurs)",description:"Jusqu' 2 tuteurs avec coordonnes",icon:q9}},k$e={admin_only:{label:"Visible par les admins uniquement",icon:Vi},member_editable:{label:"Modifiable par le membre",icon:ws}};function M$e({communityId:e}){const t=Wt(),{data:r,isLoading:s}=Pe({queryKey:[`/api/communities/${e}/member-profile-config`],queryFn:async()=>(await wo(`/api/communities/${e}/member-profile-config`)).data,enabled:!!e}),[a,i]=v.useState({enabledFields:[],requiredFields:[],visibility:{}});v.useEffect(()=>{r&&i({enabledFields:r.enabledFields||[],requiredFields:r.requiredFields||[],visibility:r.visibility||{}})},[r]);const o=qe({mutationFn:async h=>{const g=await Vx(`/api/communities/${e}/member-profile-config`,h);if(!g.ok){const b=g.data?.error||"Erreur lors de la mise  jour";throw new Error(b)}return g.data},onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/communities/${e}/member-profile-config`]}),X.success("Configuration du profil enregistre")},onError:h=>{X.error(h.message)}}),c=h=>{i(g=>{if(g.enabledFields.includes(h)){const w=g.enabledFields.filter(N=>N!==h),y=g.requiredFields.filter(N=>N!==h),j={...g.visibility};return delete j[h],{enabledFields:w,requiredFields:y,visibility:j}}else return{enabledFields:[...g.enabledFields,h],requiredFields:[...g.requiredFields],visibility:{...g.visibility,[h]:"admin_only"}}})},d=h=>{i(g=>{const b=g.requiredFields.includes(h);return g.enabledFields.includes(h)?{enabledFields:[...g.enabledFields],requiredFields:b?g.requiredFields.filter(y=>y!==h):[...g.requiredFields,h],visibility:{...g.visibility}}:g})},m=(h,g)=>{i(b=>b.enabledFields.includes(h)?{enabledFields:[...b.enabledFields],requiredFields:[...b.requiredFields],visibility:{...b.visibility,[h]:g}}:b)},f=()=>{o.mutate(a)};return s?n.jsx(ve,{children:n.jsx(je,{className:"flex items-center justify-center py-12",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(It,{className:"h-5 w-5 text-primary"}),"Champs du profil adhrent"]}),n.jsx(Ct,{children:"Activez les champs supplmentaires que vos adhrents peuvent renseigner et dfinissez leur visibilit"})]}),n.jsxs(je,{className:"space-y-6",children:[jW.map(h=>{const g=O$e[h],b=a.enabledFields.includes(h),w=a.requiredFields.includes(h),y=a.visibility[h]||"admin_only",j=g.icon;return n.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${b?"bg-primary/10":"bg-gray-100"}`,children:n.jsx(j,{className:`h-5 w-5 ${b?"text-primary":"text-gray-400"}`})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:g.label}),n.jsx("p",{className:"text-sm text-gray-500",children:g.description})]})]}),n.jsx(Qn,{checked:b,onCheckedChange:()=>c(h),"data-testid":`switch-field-${h.toLowerCase()}`})]}),b&&n.jsxs("div",{className:"ml-12 pt-3 border-t space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vs,{id:`required-${h}`,checked:w,onCheckedChange:()=>d(h),"data-testid":`checkbox-required-${h.toLowerCase()}`}),n.jsx(ee,{htmlFor:`required-${h}`,className:"text-sm cursor-pointer",children:"Champ obligatoire"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-sm",children:"Visibilit"}),n.jsxs(it,{value:y,onValueChange:N=>m(h,N),children:[n.jsx(rt,{className:"w-[280px]","data-testid":`select-visibility-${h.toLowerCase()}`,children:n.jsx(ot,{})}),n.jsx(st,{children:wW.map(N=>{const C=k$e[N],E=C.icon;return n.jsx(Ae,{value:N,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(E,{className:"h-4 w-4"}),C.label]})},N)})})]})]})]})]},h)}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs(H,{onClick:f,disabled:o.isPending,className:"gap-2","data-testid":"button-save-member-profile",children:[o.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]})}function R$e({community:e,communityId:t}){const r=Wt(),[s,a]=v.useState(e.webAppUrl||""),[i,o]=v.useState(e.androidStoreUrl||""),[c,d]=v.useState(e.iosStoreUrl||"");v.useEffect(()=>{a(e.webAppUrl||""),o(e.androidStoreUrl||""),d(e.iosStoreUrl||"")},[e]);const m=qe({mutationFn:async h=>{const g=await Vx(`/api/communities/${t}`,h);if(!g.ok){const b=g.data?.error||"Erreur lors de la mise  jour";throw new Error(b)}return g.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${t}`]}),X.success("URLs des stores mises  jour")},onError:h=>{X.error(h.message)}}),f=()=>{m.mutate({webAppUrl:s.trim()||null,androidStoreUrl:i.trim()||null,iosStoreUrl:c.trim()||null})};return n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Bd,{className:"h-5 w-5 text-primary"}),"URLs des applications"]}),n.jsx(Ct,{children:"Configurez les liens vers vos applications pour les emails de bienvenue et d'invitation"})]}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"webAppUrl",children:"URL de l'application Web"}),n.jsx(ne,{id:"webAppUrl",type:"url",placeholder:"https://app.votre-domaine.com",value:s,onChange:h=>a(h.target.value),"data-testid":"input-web-app-url"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"L'adresse de votre application web (obligatoire pour les boutons email)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"androidStoreUrl",children:"URL du Play Store (Android)"}),n.jsx(ne,{id:"androidStoreUrl",type:"url",placeholder:"https://play.google.com/store/apps/details?id=...",value:i,onChange:h=>o(h.target.value),"data-testid":"input-android-store-url"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lien vers votre application Android sur le Google Play Store (optionnel)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"iosStoreUrl",children:"URL de l'App Store (iOS)"}),n.jsx(ne,{id:"iosStoreUrl",type:"url",placeholder:"https://apps.apple.com/app/...",value:c,onChange:h=>d(h.target.value),"data-testid":"input-ios-store-url"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lien vers votre application iOS sur l'Apple App Store (optionnel)"})]}),n.jsx("div",{className:"flex justify-end pt-4",children:n.jsxs(H,{onClick:f,disabled:m.isPending,className:"gap-2","data-testid":"button-save-app-urls",children:[m.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]})}function D$e({community:e}){if(!e)return n.jsx(ve,{children:n.jsxs(je,{className:"py-8 text-center text-muted-foreground",children:[n.jsx(Oe,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),"Chargement..."]})});const t=e.brandConfig,r=e.whiteLabel,s=r&&t?.appName?t.appName:"Koomy",a=r&&t?.logoUrl?t.logoUrl:null,i=r&&t?.brandColor?t.brandColor:"#6366f1",o=t?.replyTo||e.contactEmail||"contact@koomy.app",c=e.customDomain,d=!r||!!e.webAppUrl,m=!r||!!e.androidStoreUrl,f=!r||!!e.iosStoreUrl;return n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Rs,{className:"h-5 w-5 text-primary"}),"Configuration des emails"]}),n.jsx(Ct,{children:"Aperu du branding appliqu aux emails transactionnels envoys  vos adhrents"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-muted-foreground text-sm",children:"Mode"}),n.jsx("div",{className:"flex items-center gap-2",children:r?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"White-label"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Branding personnalis actif"})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Standard"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Branding Koomy par dfaut"})]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-muted-foreground text-sm",children:"Nom affich"}),n.jsx("p",{className:"text-sm font-medium","data-testid":"text-email-product-name",children:s})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-muted-foreground text-sm",children:"Couleur principale"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:i}}),n.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:i})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{className:"text-muted-foreground text-sm",children:"Adresse de rponse"}),n.jsx("p",{className:"text-sm font-medium","data-testid":"text-email-reply-to",children:o})]}),c&&n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(ee,{className:"text-muted-foreground text-sm",children:"Domaine personnalis"}),n.jsx("p",{className:"text-sm font-medium",children:c})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h4",{className:"font-medium mb-4",children:"Boutons de tlchargement"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ces boutons apparaissent automatiquement dans les emails de bienvenue et d'invitation pour guider vos adhrents vers l'application."}),n.jsxs("div",{className:"flex flex-wrap gap-2","data-testid":"app-buttons-preview",children:[d&&n.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-2 text-white rounded-md font-medium text-sm",style:{backgroundColor:i},"data-testid":"app-button-web",children:" Web App"}),m&&n.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-2 text-white rounded-md font-medium text-sm",style:{backgroundColor:"#34A853"},"data-testid":"app-button-android",children:" Android"}),f&&n.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-2 text-white rounded-md font-medium text-sm",style:{backgroundColor:"#000000"},"data-testid":"app-button-ios",children:" iOS"}),!d&&!m&&!f&&n.jsx("span",{className:"text-sm text-muted-foreground italic",children:"Aucun bouton configur"})]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:r?"Les URLs des boutons sont configures dans les paramtres white-label de votre communaut.":"Les boutons pointent vers les URLs par dfaut de Koomy (web, Play Store, App Store)."})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h4",{className:"font-medium mb-4",children:"Aperu d'un email"}),n.jsxs("div",{className:"border rounded-lg overflow-hidden bg-gray-50","data-testid":"email-preview-container",children:[n.jsx("div",{className:"p-4 text-center text-white",style:{backgroundColor:i},children:a?n.jsx("img",{src:a,alt:s,className:"h-10 mx-auto object-contain"}):n.jsx("span",{className:"text-lg font-bold",children:s})}),n.jsxs("div",{className:"p-6 bg-white",children:[n.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Bienvenue sur ",s]}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Bonjour Jean,"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Votre compte a t cr avec succs. Vous pouvez ds maintenant accder  votre espace membre."}),n.jsx("div",{className:"text-center",children:n.jsx("span",{className:"inline-block px-6 py-3 text-white rounded-md font-medium",style:{backgroundColor:i},children:"Accder  mon espace"})}),(d||m||f)&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mt-4 pt-4 border-t border-gray-100",children:[d&&n.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-white rounded-md font-medium text-xs",style:{backgroundColor:i},children:" Web App"}),m&&n.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-white rounded-md font-medium text-xs",style:{backgroundColor:"#34A853"},children:" Android"}),f&&n.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-white rounded-md font-medium text-xs",style:{backgroundColor:"#000000"},children:" iOS"})]}),n.jsx("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Tlchargez l'application ou accdez via le web"})]})]}),n.jsxs("div",{className:"p-4 bg-gray-100 text-center text-sm text-gray-500",children:["Cet email a t envoy par ",s,n.jsx("br",{}),n.jsxs("span",{className:"text-xs",children:["Rpondre  : ",o]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsxs("h4",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[n.jsx(bs,{className:"h-4 w-4"}),"Information"]}),n.jsxs("p",{className:"text-sm text-blue-700",children:["Les paramtres de branding email sont automatiquement appliqus  tous les emails transactionnels : invitations membres, confirmations d'inscription, rappels d'vnements, etc.",!r&&n.jsxs(n.Fragment,{children:[n.jsx("br",{}),n.jsx("br",{}),n.jsx("strong",{children:"Note :"})," Pour personnaliser le branding des emails avec votre propre logo et couleurs, contactez votre gestionnaire de compte pour activer le mode white-label."]})]})]})]})]})}function I$e({communityId:e,community:t}){const r=Wt(),[s,a]=v.useState({selfEnrollmentEnabled:!1,selfEnrollmentChannel:"OFFLINE",selfEnrollmentMode:"CLOSED",selfEnrollmentSlug:"",selfEnrollmentEligiblePlans:[],selfEnrollmentSectionsEnabled:!1,selfEnrollmentRequiredFields:[]}),[i,o]=v.useState(!1),{data:c=[]}=Pe({queryKey:[`/api/communities/${e}/membership-plans`],queryFn:async()=>(await wo(`/api/communities/${e}/membership-plans`)).data,enabled:!!e}),{data:d=[]}=Pe({queryKey:[`/api/communities/${e}/sections`],queryFn:async()=>(await wo(`/api/communities/${e}/sections`)).data,enabled:!!e});v.useEffect(()=>{t&&a({selfEnrollmentEnabled:t.selfEnrollmentEnabled||!1,selfEnrollmentChannel:t.selfEnrollmentChannel||"OFFLINE",selfEnrollmentMode:t.selfEnrollmentMode||"CLOSED",selfEnrollmentSlug:t.selfEnrollmentSlug||"",selfEnrollmentEligiblePlans:t.selfEnrollmentEligiblePlans||[],selfEnrollmentSectionsEnabled:t.selfEnrollmentSectionsEnabled||!1,selfEnrollmentRequiredFields:t.selfEnrollmentRequiredFields||[]})},[t]);const m=qe({mutationFn:async y=>{const j=await Ps(`/api/communities/${e}/self-enrollment/settings`,y);if(!j.ok){const N=j.data?.error||"Erreur lors de la mise  jour";throw new Error(N)}return j.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${e}`]}),X.success("Paramtres d'inscription en ligne enregistrs")},onError:y=>{X.error(y.message)}}),f=qe({mutationFn:async()=>{const y=await kr(`/api/communities/${e}/self-enrollment/generate-slug`);if(!y.ok){const j=y.data?.error||"Erreur lors de la gnration";throw new Error(j)}return y.data},onSuccess:y=>{a(j=>({...j,selfEnrollmentSlug:y.slug})),r.invalidateQueries({queryKey:[`/api/communities/${e}`]}),X.success("Lien d'inscription gnr")},onError:y=>{X.error(y.message)}}),h=()=>{if(s.selfEnrollmentEnabled&&s.selfEnrollmentEligiblePlans.length===0){X.error("Slectionnez au moins une formule d'adhsion pour activer l'inscription en ligne");return}m.mutate(s)},g=()=>{const j=`${window.location.origin}/join/${s.selfEnrollmentSlug}`;navigator.clipboard.writeText(j),o(!0),X.success("Lien copi dans le presse-papiers"),setTimeout(()=>o(!1),2e3)},b=y=>{a(j=>({...j,selfEnrollmentEligiblePlans:j.selfEnrollmentEligiblePlans.includes(y)?j.selfEnrollmentEligiblePlans.filter(N=>N!==y):[...j.selfEnrollmentEligiblePlans,y]}))},w=s.selfEnrollmentSlug?`${window.location.origin}/join/${s.selfEnrollmentSlug}`:null;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Vc,{className:"h-5 w-5 text-primary"}),"Inscription en ligne"]}),n.jsx(Ct,{children:"Permettez aux visiteurs de s'inscrire directement via un lien public. Cette fonctionnalit est indpendante du paiement en ligne."})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(ee,{className:"text-base font-medium",children:"Activer l'inscription en ligne"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Gnrez un lien public permettant aux visiteurs de soumettre une demande d'adhsion"})]}),n.jsx(Qn,{checked:s.selfEnrollmentEnabled,onCheckedChange:y=>a(j=>({...j,selfEnrollmentEnabled:y})),"data-testid":"switch-self-enrollment-enabled"})]}),s.selfEnrollmentEnabled&&n.jsxs("div",{className:"space-y-6 pt-4 border-t",children:[n.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(b4,{className:"h-5 w-5 text-green-600 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-green-800",children:"Lien d'inscription"}),s.selfEnrollmentSlug?n.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n.jsx("code",{className:"flex-1 px-3 py-2 bg-white rounded border text-sm break-all",children:w}),n.jsxs(H,{variant:"outline",size:"sm",onClick:g,className:"gap-1 shrink-0","data-testid":"button-copy-join-link",children:[i?n.jsx(vr,{className:"h-4 w-4"}):n.jsx(uh,{className:"h-4 w-4"}),i?"Copi":"Copier"]}),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>window.open(w,"_blank"),className:"gap-1 shrink-0","data-testid":"button-open-join-link",children:n.jsx(x4,{className:"h-4 w-4"})})]}):n.jsx("div",{className:"mt-2",children:n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>f.mutate(),disabled:f.isPending,className:"gap-2","data-testid":"button-generate-slug",children:[f.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(Sl,{className:"h-4 w-4"}),"Gnrer un lien"]})})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"slug",children:"Identifiant du lien (slug)"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{id:"slug",value:s.selfEnrollmentSlug,onChange:y=>a(j=>({...j,selfEnrollmentSlug:y.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")})),placeholder:"mon-association",className:"flex-1","data-testid":"input-enrollment-slug"}),n.jsx(H,{variant:"outline",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-regenerate-slug",children:f.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(Sl,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Lettres minuscules, chiffres et tirets uniquement. Ce slug doit tre unique."})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Canal d'inscription"}),n.jsxs(it,{value:s.selfEnrollmentChannel,onValueChange:y=>a(j=>({...j,selfEnrollmentChannel:y})),children:[n.jsx(rt,{"data-testid":"select-enrollment-channel",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"ONLINE",children:"En ligne (formulaire web)"}),n.jsx(Ae,{value:"OFFLINE",children:"Hors ligne (back-office uniquement)"})]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:s.selfEnrollmentChannel==="ONLINE"?"Les visiteurs peuvent s'inscrire via le lien public":"L'inscription se fait uniquement via le back-office (espces, chque, virement)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Mode d'approbation"}),n.jsxs(it,{value:s.selfEnrollmentMode,onValueChange:y=>a(j=>({...j,selfEnrollmentMode:y})),children:[n.jsx(rt,{"data-testid":"select-enrollment-mode",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"OPEN",children:"Ouvert (approbation automatique)"}),n.jsx(Ae,{value:"CLOSED",children:"Ferm (validation manuelle)"})]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:s.selfEnrollmentMode==="OPEN"?"Les demandes sont approuves automatiquement":"Un administrateur doit valider chaque demande"})]})]}),n.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(mn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Inscription  Paiement"}),n.jsx("p",{className:"text-sm text-blue-600",children:"Le canal d'inscription est indpendant du mode de paiement :"}),n.jsxs("ul",{className:"text-sm text-blue-600 mt-2 space-y-1 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"FERM + formule gratuite"})," : validation admin, pas de paiement"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"FERM + formule payante"})," : validation admin  invitation  payer (app + email)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"OUVERT + formule gratuite"})," : inscription immdiate"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"OUVERT + formule payante"})," : paiement immdiat sur /join (Phase 5)"]})]}),n.jsx("p",{className:"text-sm text-blue-600 mt-2 italic",children:"Le paiement offline (espces/chque/virement) est gr via la cration manuelle d'adhrent."})]})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(ee,{children:["Formules d'adhsion ligibles ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Slectionnez au moins une formule que les visiteurs pourront choisir lors de l'inscription"}),s.selfEnrollmentEligiblePlans.length===0&&c.length>0&&n.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:n.jsxs("p",{className:"text-sm text-amber-700 flex items-center gap-2",children:[n.jsx(br,{className:"h-4 w-4"}),"Au moins une formule doit tre slectionne pour activer l'inscription"]})}),c.length>0?n.jsx("div",{className:"space-y-2",children:c.map(y=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx(Vs,{id:`plan-${y.id}`,checked:s.selfEnrollmentEligiblePlans.includes(y.id),onCheckedChange:()=>b(y.id),"data-testid":`checkbox-plan-${y.id}`}),n.jsxs("label",{htmlFor:`plan-${y.id}`,className:"flex-1 text-sm font-medium cursor-pointer",children:[y.name,n.jsxs("span",{className:"ml-2 text-gray-500 font-normal",children:[y.amount?`${(y.amount/100).toFixed(2)} `:"Gratuit",y.billingType&&` / ${y.billingType==="yearly"?"an":y.billingType==="monthly"?"mois":"unique"}`]})]})]},y.id))}):n.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-100",children:n.jsxs("p",{className:"text-sm text-amber-700",children:["Aucune formule d'adhsion configure.",n.jsx("a",{href:"/admin/membership-plans",className:"underline ml-1",children:"Crer une formule"})]})})]}),d.length>0&&n.jsx("div",{className:"space-y-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ee,{children:"Permettre le choix de sections"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Les visiteurs pourront choisir une ou plusieurs sections lors de l'inscription"})]}),n.jsx(Qn,{checked:s.selfEnrollmentSectionsEnabled,onCheckedChange:y=>a(j=>({...j,selfEnrollmentSectionsEnabled:y})),"data-testid":"switch-sections-enabled"})]})})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t",children:n.jsxs(H,{onClick:h,disabled:m.isPending,className:"gap-2","data-testid":"button-save-enrollment",children:[m.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(fl,{className:"h-4 w-4"}),"Enregistrer"]})})]})]}),s.selfEnrollmentEnabled&&s.selfEnrollmentChannel==="ONLINE"&&n.jsx(L$e,{communityId:e,membershipPlans:c})]})}function L$e({communityId:e,membershipPlans:t}){const r=Wt(),{data:s=[],isLoading:a,error:i}=Pe({queryKey:[`/api/communities/${e}/enrollment-requests`],queryFn:async()=>(await wo(`/api/communities/${e}/enrollment-requests?status=PENDING`)).data,enabled:!!e}),o=qe({mutationFn:async f=>{const h=await kr(`/api/communities/${e}/enrollment-requests/${f}/approve`);if(!h.ok){const g=h.data?.error||"Erreur lors de l'approbation";throw new Error(g)}return h.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${e}/enrollment-requests`]}),X.success("Demande approuve")},onError:f=>{X.error(f.message)}}),c=qe({mutationFn:async f=>{const h=await kr(`/api/communities/${e}/enrollment-requests/${f}/reject`);if(!h.ok){const g=h.data?.error||"Erreur lors du rejet";throw new Error(g)}return h.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${e}/enrollment-requests`]}),X.success("Demande rejete")},onError:f=>{X.error(f.message)}}),d=f=>f?t.find(g=>g.id===f)?.name||"Formule inconnue":"Non spcifie",m=f=>new Date(f).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsxs(ve,{className:"mt-6",children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Ln,{className:"h-5 w-5 text-amber-600"}),"Demandes d'inscription en attente"]}),n.jsx(Ct,{children:"Demandes soumises via le lien d'inscription en ligne. Approuvez ou rejetez chaque demande."})]}),n.jsx(je,{children:a?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Oe,{className:"h-6 w-6 animate-spin text-gray-400"})}):i?n.jsx("div",{className:"text-center py-8 text-red-500",children:"Erreur lors du chargement des demandes"}):s.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Vc,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Aucune demande en attente"}),n.jsx("p",{className:"text-sm mt-1",children:"Les nouvelles demandes apparatront ici"})]}):n.jsx("div",{className:"space-y-4",children:s.map(f=>n.jsx("div",{className:"border rounded-lg p-4 bg-gray-50","data-testid":`enrollment-request-${f.id}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(gi,{className:"h-4 w-4 text-gray-500"}),n.jsxs("span",{className:"font-medium",children:[f.firstName||""," ",f.lastName||"",!f.firstName&&!f.lastName&&n.jsx("span",{className:"text-gray-400 italic",children:"Nom non renseign"})]})]}),n.jsxs("div",{className:"grid gap-1 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bs,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"truncate",children:f.email})]}),f.phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ll,{className:"h-3.5 w-3.5"}),n.jsx("span",{children:f.phone})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mn,{className:"h-3.5 w-3.5"}),n.jsxs("span",{children:["Formule : ",d(f.membershipPlanId)]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[n.jsx(Ln,{className:"h-3.5 w-3.5"}),n.jsxs("span",{children:["Demande le ",m(f.createdAt)]})]})]})]}),n.jsxs("div",{className:"flex gap-2 shrink-0",children:[n.jsxs(H,{size:"sm",variant:"outline",className:"gap-1 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:()=>o.mutate(f.id),disabled:o.isPending||c.isPending,"data-testid":`button-approve-${f.id}`,children:[o.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(vr,{className:"h-4 w-4"}),"Approuver"]}),n.jsxs(C$e,{children:[n.jsx(A$e,{asChild:!0,children:n.jsxs(H,{size:"sm",variant:"outline",className:"gap-1 text-red-600 hover:text-red-700 hover:bg-red-50",disabled:o.isPending||c.isPending,"data-testid":`button-reject-${f.id}`,children:[n.jsx(Nl,{className:"h-4 w-4"}),"Rejeter"]})}),n.jsxs($J,{children:[n.jsxs(zJ,{children:[n.jsx(FJ,{children:"Rejeter cette demande ?"}),n.jsxs(BJ,{children:["Vous tes sur le point de rejeter la demande d'inscription de ",f.email,". Cette action est irrversible."]})]}),n.jsxs(qJ,{children:[n.jsx(VJ,{children:"Annuler"}),n.jsx(UJ,{className:"bg-red-600 hover:bg-red-700",onClick:()=>c.mutate(f.id),children:"Rejeter"})]})]})]})]})]})},f.id))})})]})}function Qm(e,t="monthly"){return e===null?"Sur devis":`${(e/100).toFixed(2).replace(".",",")}/${t==="yearly"?"an":"mois"}`}function ZB(e){switch(e){case"FREE":return n.jsx(ys,{className:"h-6 w-6"});case"PLUS":return n.jsx(z9,{className:"h-6 w-6"});case"PRO":return n.jsx(Pg,{className:"h-6 w-6"});case"GRAND_COMPTE":return n.jsx(ii,{className:"h-6 w-6"});default:return n.jsx(ys,{className:"h-6 w-6"})}}function $$e(){const{currentMembership:e,currentCommunity:t}=dt(),r=Wt(),s=e?.communityId,[a,i]=v.useState(null),[o,c]=v.useState(!1),[d,m]=v.useState(!1),[f,h]=v.useState("monthly"),{data:g,isLoading:b}=Pe({queryKey:[`/api/communities/${s}`],enabled:!!s}),{data:w,isLoading:y}=Pe({queryKey:[`/api/plans/${g?.planId}`],enabled:!!g?.planId}),{data:j,isLoading:N}=Pe({queryKey:["/api/plans",{public:"true"}],queryFn:async()=>{const z=await wo("/api/plans?public=true");if(!z.ok)throw new Error("Failed to fetch plans");return z.data}}),{data:C,isLoading:E}=Pe({queryKey:[`/api/communities/${s}/quota`],enabled:!!s}),T=qe({mutationFn:async z=>{const q=await Ps(`/api/communities/${s}/plan`,{planId:z});if(!q.ok)throw new Error(q.data?.error||"Erreur lors du changement de plan");return q.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${s}`]}),r.invalidateQueries({queryKey:[`/api/communities/${s}/quota`]}),r.invalidateQueries({queryKey:[`/api/plans/${g?.planId}`]}),X.success("Plan mis  jour avec succs"),c(!1),m(!1),i(null)},onError:z=>{X.error(z.message)}}),A=qe({mutationFn:async({targetPlanId:z,billingPeriod:q})=>{const I=await kr("/api/billing/create-upgrade-checkout-session",{communityId:s,targetPlanId:z,billingPeriod:q});if(!I.ok)throw new Error(I.data?.error||"Erreur lors de la cration de la session de paiement");return I.data},onSuccess:z=>{window.location.href=z.redirectUrl},onError:z=>{X.error(z.message)}}),k=z=>{if(!w||z.id===w.id)return;i(z);const q=w.sortOrder||0;(z.sortOrder||0)>q?c(!0):m(!0)},P=()=>{if(!a||!w)return;const z=w.sortOrder||0,I=(a.sortOrder||0)>z,K=a.priceMonthly&&a.priceMonthly>0||a.priceYearly&&a.priceYearly>0;I&&K?A.mutate({targetPlanId:a.id,billingPeriod:f}):T.mutate(a.id)},O=z=>f==="yearly"?z.priceYearly:z.priceMonthly,M=z=>{if(!z.priceMonthly||!z.priceYearly||z.priceMonthly===0)return null;const q=z.priceMonthly*12,I=(q-z.priceYearly)/q*100;return Math.round(I)};if(b||y||N||E)return n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})});const D=C?.max?Math.min(100,Math.round(C.current/C.max*100)):0,$=C?.max&&C.current>=C.max*.9,V=C?.max&&C.current>=C.max;return n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"page-title",children:"Facturation & Abonnement"}),n.jsx("p",{className:"text-gray-500",children:"Grez votre abonnement et suivez l'utilisation de votre plan"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(ve,{className:"lg:col-span-2",children:[n.jsx(Ge,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center text-sky-600",children:ZB(w?.code||null)}),n.jsxs("div",{children:[n.jsx(Ve,{children:"Plan actuel"}),n.jsx(Ct,{children:w?.name||"Aucun plan"})]})]}),w?.isPopular&&n.jsx(Se,{className:"bg-sky-500 text-white",children:"Populaire"})]})}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-2",children:w?.description}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w?.priceMonthly!==null?Qm(w?.priceMonthly||0):"Gratuit"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Utilisation des membres"}),n.jsxs("span",{className:"font-medium",children:[C?.current||0," / ",C?.max||""," membres"]})]}),n.jsx(zc,{value:C?.max?D:0,className:`h-2 ${V?"bg-red-100":$?"bg-amber-100":""}`}),V&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[n.jsx(br,{className:"h-4 w-4"}),"Limite atteinte. Passez  un plan suprieur pour ajouter plus de membres."]}),$&&!V&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[n.jsx(br,{className:"h-4 w-4"}),"Vous approchez de votre limite de membres."]})]}),w?.features&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Fonctionnalits incluses"}),n.jsx("ul",{className:"space-y-2",children:w.features.map((z,q)=>n.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Ws,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),z]},q))})]})]})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(mn,{className:"h-5 w-5"}),"Rsum"]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[n.jsx("span",{className:"text-gray-500",children:"Plan"}),n.jsx("span",{className:"font-medium",children:w?.name})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[n.jsx("span",{className:"text-gray-500",children:"Membres actifs"}),n.jsx("span",{className:"font-medium",children:C?.current||0})]}),n.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[n.jsx("span",{className:"text-gray-500",children:"Limite"}),n.jsx("span",{className:"font-medium",children:C?.max||"Illimit"})]}),n.jsxs("div",{className:"flex justify-between items-center py-2",children:[n.jsxs("span",{className:"text-gray-500",children:["Cot ",f==="yearly"?"annuel":"mensuel"]}),n.jsx("span",{className:"font-bold text-lg",children:w?f==="yearly"&&w.priceYearly!==null?Qm(w.priceYearly,"yearly"):w.priceMonthly!==null&&w.priceMonthly>0?Qm(w.priceMonthly,"monthly"):"Gratuit":""})]})]})]})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-5 w-5"}),"Changer de plan"]}),n.jsx(Ct,{children:"Passez  un plan suprieur pour dbloquer plus de fonctionnalits"})]}),n.jsx(Gc,{value:f,onValueChange:z=>h(z),className:"w-auto",children:n.jsxs(_l,{className:"grid grid-cols-2",children:[n.jsx(tn,{value:"monthly","data-testid":"toggle-monthly",children:"Mensuel"}),n.jsxs(tn,{value:"yearly","data-testid":"toggle-yearly",className:"relative",children:["Annuel",n.jsx(Se,{className:"absolute -top-2 -right-2 bg-green-500 text-white text-[10px] px-1",children:"-17%"})]})]})})]})}),n.jsx(je,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:j?.map(z=>{const q=z.id===w?.id,I=(z.sortOrder||0)>(w?.sortOrder||0),K=!z.maxMembers||(C?.current||0)<=z.maxMembers,U=O(z),B=f==="yearly"?M(z):null;return n.jsxs(ve,{className:`relative cursor-pointer transition-all hover:shadow-md ${q?"border-2 border-sky-500 bg-sky-50":z.isCustom||z.isWhiteLabel?"border-dashed":""}`,onClick:()=>!q&&k(z),"data-testid":`plan-card-${z.id}`,children:[z.isPopular&&!q&&n.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:n.jsx(Se,{className:"bg-sky-500 text-white text-xs",children:"Populaire"})}),q&&n.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:n.jsx(Se,{className:"bg-green-500 text-white text-xs",children:"Actuel"})}),n.jsxs(Ge,{className:"pb-2",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${q?"bg-sky-500 text-white":"bg-gray-100 text-gray-600"}`,children:ZB(z.code)})}),n.jsx(Ve,{className:"text-sm font-semibold",children:z.name}),n.jsx("div",{className:"text-lg font-bold",children:U!==null&&U>0?Qm(U,f):U===0||z.priceMonthly===0?"Gratuit":"Sur devis"}),B!==null&&B>0&&f==="yearly"&&U!==null&&U>0&&n.jsxs("div",{className:"text-xs text-green-600 flex items-center gap-1",children:[n.jsx(Jie,{className:"h-3 w-3"}),"conomisez ",B,"%"]})]}),n.jsxs(je,{className:"pt-0",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:z.maxMembers?`Jusqu' ${z.maxMembers} membres`:"Membres illimits"}),!q&&n.jsx(H,{size:"sm",variant:I?"default":"outline",className:"w-full mt-2",disabled:!K&&!I,"data-testid":`button-select-plan-${z.id}`,children:z.isCustom||z.isWhiteLabel?"Nous contacter":I?n.jsxs(n.Fragment,{children:["Passer au plan ",n.jsx(En,{className:"h-4 w-4 ml-1"})]}):K?"Rtrograder":"Limite dpasse"})]})]},z.id)})})})]}),n.jsx(ht,{open:o,onOpenChange:c,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsxs(gt,{children:["Passer au plan ",a?.name]}),n.jsxs(Jr,{children:["Vous tes sur le point de mettre  niveau votre abonnement vers le plan ",a?.name,"."]})]}),n.jsxs("div",{className:"py-4 space-y-4",children:[a&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Priode de facturation"}),n.jsx(Gc,{value:f,onValueChange:z=>h(z),className:"w-auto",children:n.jsxs(_l,{className:"h-8",children:[n.jsx(tn,{value:"monthly",className:"text-xs px-3","data-testid":"dialog-toggle-monthly",children:"Mensuel"}),n.jsx(tn,{value:"yearly",className:"text-xs px-3","data-testid":"dialog-toggle-yearly",children:"Annuel"})]})})]}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f==="yearly"&&a.priceYearly?Qm(a.priceYearly,"yearly"):Qm(a.priceMonthly,"monthly")}),f==="yearly"&&M(a)&&M(a)>0&&n.jsxs("div",{className:"text-sm text-green-600 mt-1",children:["conomisez ",M(a),"% avec le paiement annuel"]})]}),a?.features&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium mb-2",children:"Nouvelles fonctionnalits :"}),n.jsx("ul",{className:"space-y-1",children:a.features.slice(0,4).map((z,q)=>n.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Ws,{className:"h-4 w-4 text-green-500"}),z]},q))})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>c(!1),children:"Annuler"}),n.jsxs(H,{onClick:P,disabled:T.isPending||A.isPending,"data-testid":"button-confirm-upgrade",children:[(T.isPending||A.isPending)&&n.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),A.isPending?"Redirection vers le paiement...":"Payer et confirmer"]})]})]})}),n.jsx(ht,{open:d,onOpenChange:m,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsxs(gt,{children:["Rtrograder vers ",a?.name]}),n.jsxs(Jr,{children:["Attention : En rtrogradant votre plan, vous perdrez l'accs  certaines fonctionnalits.",a?.maxMembers&&C&&C.current>a.maxMembers&&n.jsxs("span",{className:"block mt-2 text-red-600 font-semibold",children:["Impossible : Vous avez ",C.current," membres, mais ce plan est limit  ",a.maxMembers," membres."]})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>m(!1),children:"Annuler"}),n.jsxs(H,{variant:"destructive",onClick:P,disabled:T.isPending||a?.maxMembers!==null&&C&&C.current>(a?.maxMembers||0),"data-testid":"button-confirm-downgrade",children:[T.isPending&&n.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Confirmer la rtrogradation"]})]})]})})]})})}function z$e(){const[e,t]=zt(),r=Fx(),s=new URLSearchParams(r),a=s.get("session_id"),i=s.get("upgrade")==="true",[o,c]=v.useState("checking"),[d,m]=v.useState(0),{isAuthenticated:f}=dt(),h=Wt();v.useEffect(()=>{if(!a){c("pending");return}const b=async()=>{try{const w=await ia("/api/billing/registration-status",{sessionId:a});w.ok&&w.data?.activated?(c("activated"),h.invalidateQueries({queryKey:["/api/communities"]})):(m(y=>y+1),d<10?setTimeout(b,2e3):c("pending"))}catch{m(w=>w+1),d<10?setTimeout(b,2e3):c("pending")}};b()},[a,d,h]);const g=()=>{t(f||i?"/admin/billing":"/admin/login")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:n.jsxs(ve,{className:"w-full max-w-md",children:[n.jsxs(Ge,{className:"text-center",children:[n.jsx("img",{src:pi,alt:"Koomy",className:"h-12 mx-auto mb-4"}),n.jsxs(Ve,{className:"text-2xl text-green-600 flex items-center justify-center gap-2",children:[n.jsx(vr,{className:"h-8 w-8"}),"Paiement reu"]}),n.jsx(Ct,{children:"Merci pour votre confiance"})]}),n.jsxs(je,{className:"space-y-6",children:[o==="checking"&&n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx(Oe,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),n.jsx("p",{className:"text-muted-foreground",children:"Activation de votre compte en cours..."})]}),o==="activated"&&n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-green-600 font-medium",children:"Votre compte est activ !"}),n.jsxs(H,{onClick:g,className:"w-full","data-testid":"button-go-dashboard",children:["Accder au tableau de bord",n.jsx(En,{className:"ml-2 h-4 w-4"})]})]}),o==="pending"&&n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("p",{className:"text-muted-foreground",children:"Votre paiement a t reu. L'activation est en cours de traitement."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Vous recevrez un email de confirmation sous peu."}),n.jsxs(H,{onClick:g,variant:"outline",className:"w-full","data-testid":"button-go-login",children:["Se connecter",n.jsx(En,{className:"ml-2 h-4 w-4"})]})]})]})]})})}function q$e(){const[e,t]=zt(),{isAuthenticated:r}=dt(),s=()=>{t("/admin/billing")},a=()=>{t(r?"/admin/billing":"/pricing")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-red-100 flex items-center justify-center p-4",children:n.jsxs(ve,{className:"w-full max-w-md",children:[n.jsxs(Ge,{className:"text-center",children:[n.jsx("img",{src:pi,alt:"Koomy",className:"h-12 mx-auto mb-4"}),n.jsxs(Ve,{className:"text-2xl text-orange-600 flex items-center justify-center gap-2",children:[n.jsx(Nl,{className:"h-8 w-8"}),"Paiement annul"]}),n.jsx(Ct,{children:"Votre paiement n'a pas t finalis"})]}),n.jsxs(je,{className:"space-y-6",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Pas de souci ! Vous pouvez ressayer le paiement ou opter pour notre offre gratuite."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(H,{onClick:s,className:"w-full","data-testid":"button-retry-payment",children:[n.jsx(Sl,{className:"mr-2 h-4 w-4"}),"Ressayer le paiement"]}),n.jsxs(H,{onClick:a,variant:"outline",className:"w-full","data-testid":"button-go-back",children:[n.jsx(Bn,{className:"mr-2 h-4 w-4"}),"Retour"]})]}),n.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Votre compte a t cr mais reste en attente de paiement. Vous ne serez pas factur tant que vous n'avez pas finalis le paiement."})]})]})})}const JB=10,eU=2e3;function F$e(){const[e,t]=zt(),r=Fx(),s=new URLSearchParams(r),a=s.get("status"),i=s.get("session_id"),[o,c]=v.useState("checking"),[d,m]=v.useState(null),{isAuthenticated:f}=dt(),h=Wt(),g=v.useRef(0),b=v.useRef(null),w=v.useRef(!0);v.useEffect(()=>{if(w.current=!0,a==="cancel"){c("cancelled");return}return a==="success"&&i?(g.current=0,y()):a||(c("error"),m("Paramtres manquants dans l'URL de retour.")),()=>{w.current=!1,b.current&&clearTimeout(b.current)}},[a,i]);const y=async()=>{if(w.current){if(!i){c("error"),m("Session ID manquant.");return}try{const E=await ia("/api/billing/verify-checkout-session",{session_id:i});if(!w.current)return;if(E.ok&&E.data){const{paymentStatus:T,subscriptionStatus:A,activated:k}=E.data;if(k||T==="paid"||A==="active"){c("success"),h.invalidateQueries({queryKey:["/api/communities"]}),h.invalidateQueries({queryKey:["/api/admin"]});return}}g.current+=1,g.current<JB?b.current=setTimeout(y,eU):c("pending")}catch(E){if(console.error("[BillingReturn] Error checking session:",E),!w.current)return;g.current+=1,g.current<JB?b.current=setTimeout(y,eU):c("pending")}}},j=()=>{t(f?"/admin/dashboard":"/admin/login")},N=()=>{t("/admin/billing")},C=()=>{t("/admin/billing")};return n.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${o==="cancelled"||o==="error"?"bg-gradient-to-br from-orange-50 to-red-100":"bg-gradient-to-br from-blue-50 to-indigo-100"}`,children:n.jsxs(ve,{className:"w-full max-w-md",children:[n.jsxs(Ge,{className:"text-center",children:[n.jsx("img",{src:pi,alt:"Koomy",className:"h-12 mx-auto mb-4"}),o==="checking"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ve,{className:"text-2xl text-blue-600 flex items-center justify-center gap-2",children:[n.jsx(Oe,{className:"h-8 w-8 animate-spin"}),"Finalisation du paiement..."]}),n.jsx(Ct,{children:"Veuillez patienter pendant que nous vrifions votre paiement."})]}),o==="success"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ve,{className:"text-2xl text-green-600 flex items-center justify-center gap-2",children:[n.jsx(vr,{className:"h-8 w-8"}),"Paiement confirm"]}),n.jsx(Ct,{children:"Votre abonnement a t activ avec succs."})]}),o==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ve,{className:"text-2xl text-amber-600 flex items-center justify-center gap-2",children:[n.jsx(Oe,{className:"h-8 w-8"}),"Paiement en cours de traitement"]}),n.jsx(Ct,{children:"Votre paiement a t reu. L'activation est en cours."})]}),o==="cancelled"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ve,{className:"text-2xl text-orange-600 flex items-center justify-center gap-2",children:[n.jsx(Nl,{className:"h-8 w-8"}),"Paiement annul"]}),n.jsx(Ct,{children:"Le paiement n'a pas t finalis."})]}),o==="error"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ve,{className:"text-2xl text-red-600 flex items-center justify-center gap-2",children:[n.jsx(Nl,{className:"h-8 w-8"}),"Erreur"]}),n.jsx(Ct,{children:d||"Une erreur s'est produite."})]})]}),n.jsxs(je,{className:"space-y-6",children:[o==="checking"&&n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cette opration peut prendre quelques secondes..."})}),o==="success"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-center text-green-600 font-medium",children:"Merci pour votre confiance !"}),n.jsxs(H,{onClick:j,className:"w-full","data-testid":"button-go-dashboard",children:["Accder au tableau de bord",n.jsx(En,{className:"ml-2 h-4 w-4"})]})]}),o==="pending"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Vous recevrez un email de confirmation sous peu."}),n.jsxs(H,{onClick:j,variant:"outline",className:"w-full","data-testid":"button-go-dashboard-pending",children:["Accder au tableau de bord",n.jsx(En,{className:"ml-2 h-4 w-4"})]})]}),o==="cancelled"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-center text-muted-foreground",children:"Pas de souci ! Vous pouvez ressayer le paiement quand vous le souhaitez."}),n.jsxs(H,{onClick:C,className:"w-full","data-testid":"button-retry-payment",children:[n.jsx(Sl,{className:"mr-2 h-4 w-4"}),"Ressayer le paiement"]}),n.jsx(H,{onClick:N,variant:"outline",className:"w-full","data-testid":"button-go-billing",children:"Retour  la facturation"})]}),o==="error"&&n.jsx("div",{className:"space-y-4",children:n.jsx(H,{onClick:N,className:"w-full","data-testid":"button-go-billing-error",children:"Retour  la facturation"})})]})]})})}function _i(e,t="EUR"){return new Intl.NumberFormat("fr-FR",{style:"currency",currency:t}).format(e/100)}function tU(e){return new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}function B$e(e){return new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function U$e(){const{currentMembership:e,currentCommunity:t,allCommunities:r}=dt(),s=Wt(),a=e?.communityId||t?.id||r[0]?.id,[i,o]=v.useState(!1),[c,d]=v.useState(!1),[m,f]=v.useState(null),[h,g]=v.useState(!1),[b,w]=v.useState(!1),[y,j]=v.useState(""),[N,C]=v.useState({title:"",description:"",amountCents:"",allowCustomAmount:!1,targetAmountCents:"",deadline:""}),{data:E,isLoading:T}=Pe({queryKey:[`/api/communities/${a}`],enabled:!!a}),{data:A,isLoading:k}=Pe({queryKey:[`/api/plans/${E?.planId}`],enabled:!!E?.planId}),P=e?.userId,{data:O,isLoading:M}=Pe({queryKey:[`/api/communities/${a}/collections/all?userId=${P}`],enabled:!!a&&!!P}),{data:F,isLoading:D}=Pe({queryKey:[`/api/communities/${a}/transactions?userId=${P}`],enabled:!!a&&!!P}),{data:$}=Pe({queryKey:[`/api/communities/${a}/quota`],enabled:!!a}),V=qe({mutationFn:async()=>{const le=await kr("/api/payments/connect-community",{communityId:a});if(!le.ok)throw new Error(le.data?.error||"Erreur lors de la connexion  Stripe");return le.data},onSuccess:le=>{le.url&&(window.location.href=le.url)},onError:le=>{X.error(le.message),g(!1)}}),z=qe({mutationFn:async le=>{const Re=await Ps(`/api/communities/${a}`,le);if(!Re.ok)throw new Error(Re.data?.error||"Erreur lors de la mise  jour");return Re.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}`]}),X.success("Cotisation mise  jour"),w(!1),j("")},onError:le=>{X.error(le.message)}}),q=qe({mutationFn:async le=>{const Re=await kr("/api/collections",{communityId:a,userId:e?.userId,...le});if(!Re.ok)throw new Error(Re.data?.error||"Erreur lors de la cration");return Re.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/collections/all`]}),X.success("Collecte cre avec succs"),o(!1),C({title:"",description:"",amountCents:"",allowCustomAmount:!1,targetAmountCents:"",deadline:""})},onError:le=>{X.error(le.message)}}),I=qe({mutationFn:async le=>{const Re=await kr(`/api/collections/${le}/close`,{userId:e?.userId});if(!Re.ok)throw new Error(Re.data?.error||"Erreur lors de la fermeture");return Re.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/collections/all`]}),X.success("Collecte ferme"),d(!1),f(null)},onError:le=>{X.error(le.message)}}),K=()=>{g(!0),V.mutate()},U=()=>{const le=Math.round(parseFloat(y)*100);if(isNaN(le)||le<0){X.error("Montant invalide");return}z.mutate({membershipFeeAmount:le})},B=le=>{if(le&&!E?.paymentsEnabled){X.error("Vous devez d'abord configurer Stripe Connect");return}z.mutate({membershipFeeEnabled:le})},ie=()=>{const le=Math.round(parseFloat(N.amountCents)*100);if(isNaN(le)||le<=0){X.error("Montant par participant invalide");return}const Re=N.targetAmountCents?Math.round(parseFloat(N.targetAmountCents)*100):null;q.mutate({title:N.title,description:N.description||null,amountCents:le,allowCustomAmount:N.allowCustomAmount,targetAmountCents:Re,deadline:N.deadline||null})},G=le=>{f(le),d(!0)},Y=()=>{m&&I.mutate(m.id)},se=le=>`https://app.koomy.app/community/${a}/collection/${le}`,he=le=>{navigator.clipboard.writeText(se(le)),X.success("Lien copi dans le presse-papiers")},Q=T||k,xe=O?.collections||[],me=F?.transactions||[],Ue=xe.filter(le=>le.status==="open"),ge=xe.filter(le=>le.status!=="open"),Ee=!!E?.stripeConnectAccountId,Z=E?.paymentsEnabled===!0,re=$?.current||0;return Q?n.jsx(dn,{children:n.jsx("div",{className:"flex items-center justify-center h-96",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):n.jsxs(dn,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"page-title",children:"Finances & Collectes"}),n.jsx("p",{className:"text-gray-500",children:"Grez les paiements en ligne, les cotisations et les collectes de votre communaut"})]}),n.jsxs(Gc,{defaultValue:"overview",className:"space-y-6",children:[n.jsxs(_l,{className:"bg-white border",children:[n.jsx(tn,{value:"overview","data-testid":"tab-overview",children:"Vue d'ensemble"}),n.jsx(tn,{value:"collections","data-testid":"tab-collections",children:"Collectes"}),n.jsx(tn,{value:"transactions","data-testid":"tab-transactions",children:"Transactions"})]}),n.jsx(wn,{value:"overview",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(ve,{className:"lg:col-span-2",children:[n.jsx(Ge,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600",children:n.jsx(tu,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx(Ve,{children:"Statut des paiements"}),n.jsx(Ct,{children:"Configuration Stripe Connect"})]})]})}),n.jsxs(je,{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(mn,{className:"h-5 w-5 text-gray-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Stripe Connect"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Recevoir des paiements en ligne"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[Ee?Z?n.jsxs(Se,{className:"bg-green-100 text-green-700 flex items-center gap-1",children:[n.jsx(vs,{size:12})," Activ"]}):n.jsxs(Se,{className:"bg-yellow-100 text-yellow-700 flex items-center gap-1",children:[n.jsx(Ln,{size:12})," En attente"]}):n.jsx(Se,{variant:"secondary",children:"Non configur"}),n.jsxs(H,{variant:Ee?"outline":"default",size:"sm",onClick:K,disabled:h||V.isPending,"data-testid":"button-connect-stripe",children:[(h||V.isPending)&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),Ee?"Grer":"Configurer",n.jsx(x4,{className:"ml-2 h-4 w-4"})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Cotisation annuelle"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Montant demand aux adhrents"})]}),b?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:y,onChange:le=>j(le.target.value),className:"w-24","data-testid":"input-fee-amount"}),n.jsx("span",{className:"text-gray-500",children:""}),n.jsx(H,{size:"sm",onClick:U,disabled:z.isPending,children:z.isPending?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):"Sauver"}),n.jsx(H,{size:"sm",variant:"ghost",onClick:()=>w(!1),children:n.jsx(fn,{className:"h-4 w-4"})})]}):n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-xl font-bold text-gray-900","data-testid":"text-fee-amount",children:E?.membershipFeeAmount?_i(E.membershipFeeAmount,E.currency||"EUR"):"Non dfinie"}),n.jsx(H,{size:"sm",variant:"outline",onClick:()=>{w(!0),j(E?.membershipFeeAmount?String(E.membershipFeeAmount/100):"")},"data-testid":"button-edit-fee",children:"Modifier"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Paiement en ligne des cotisations"}),n.jsx("p",{className:"text-sm text-gray-500",children:Z?"Les adhrents peuvent payer leur cotisation via l'app":"Configurez Stripe Connect pour activer cette option"})]}),n.jsx(Qn,{checked:E?.membershipFeeEnabled||!1,onCheckedChange:B,disabled:!Z||z.isPending,"data-testid":"switch-fee-enabled"})]})]})]})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ys,{className:"h-5 w-5 text-sky-600"}),"Rsum"]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Plan actuel"}),n.jsx(Se,{variant:"secondary","data-testid":"badge-plan",children:A?.name||"Free"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Membres"}),n.jsxs("span",{className:"font-medium","data-testid":"text-members-count",children:[re,$?.max?` / ${$.max}`:""]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Collectes ouvertes"}),n.jsx("span",{className:"font-medium","data-testid":"text-open-collections",children:Ue.length})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Transactions"}),n.jsx("span",{className:"font-medium","data-testid":"text-transactions-count",children:me.length})]}),me.length>0&&n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-500",children:"Total encaiss"}),n.jsx("span",{className:"font-bold text-emerald-600","data-testid":"text-total-collected",children:_i(me.filter(le=>le.status==="succeeded").reduce((le,Re)=>le+Re.amountToCommunity,0),E?.currency||"EUR")})]})})]})]})]})}),n.jsxs(wn,{value:"collections",className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Collectes"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Organisez des collectes de fonds pour votre communaut"})]}),n.jsxs(H,{onClick:()=>o(!0),disabled:!Z,"data-testid":"button-create-collection",children:[n.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Nouvelle collecte"]})]}),!Z&&n.jsx(ve,{className:"border-yellow-200 bg-yellow-50",children:n.jsx(je,{className:"pt-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(br,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-yellow-800",children:"Configuration requise"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Vous devez configurer Stripe Connect avant de pouvoir crer des collectes."}),n.jsx(H,{variant:"outline",size:"sm",className:"mt-3",onClick:K,children:"Configurer Stripe Connect"})]})]})})}),Ue.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-medium text-gray-700",children:"Collectes en cours"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ue.map(le=>n.jsxs(ve,{"data-testid":`card-collection-${le.id}`,children:[n.jsx(Ge,{className:"pb-2",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx(Ve,{className:"text-base",children:le.title}),le.description&&n.jsx(Ct,{className:"mt-1",children:le.description})]}),n.jsx(Se,{className:"bg-green-100 text-green-700",children:"En cours"})]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(oa,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:_i(le.amountCents)}),le.allowCustomAmount&&n.jsx("span",{className:"text-gray-400",children:"(libre)"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(It,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{children:[le.participantsCount," participants"]})]})]}),le.targetAmountCents&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Progression"}),n.jsxs("span",{className:"font-medium",children:[_i(le.collectedAmountCents)," / ",_i(le.targetAmountCents)]})]}),n.jsx(zc,{value:le.percentComplete||0,className:"h-2"})]}),!le.targetAmountCents&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Collect"}),n.jsx("span",{className:"font-medium text-emerald-600",children:_i(le.collectedAmountCents)})]}),le.deadline&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[n.jsx(Gn,{className:"h-4 w-4"}),n.jsxs("span",{children:["Jusqu'au ",tU(le.deadline)]})]})]}),n.jsxs(fh,{className:"border-t pt-4 gap-2",children:[n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>he(le.id),"data-testid":`button-share-${le.id}`,children:[n.jsx(b4,{className:"mr-2 h-4 w-4"}),"Copier le lien"]}),n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>G(le),"data-testid":`button-close-${le.id}`,children:[n.jsx(fn,{className:"mr-2 h-4 w-4"}),"Clore"]})]})]},le.id))})]}),ge.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"font-medium text-gray-700",children:"Collectes termines"}),n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Titre"}),n.jsx(Ke,{children:"Statut"}),n.jsx(Ke,{children:"Collect"}),n.jsx(Ke,{children:"Participants"}),n.jsx(Ke,{children:"Ferme le"})]})}),n.jsx(Bs,{children:ge.map(le=>n.jsxs(rn,{children:[n.jsx(Be,{className:"font-medium",children:le.title}),n.jsx(Be,{children:n.jsx(Se,{variant:le.status==="closed"?"secondary":"destructive",children:le.status==="closed"?"Ferme":"Annule"})}),n.jsx(Be,{children:_i(le.collectedAmountCents)}),n.jsx(Be,{children:le.participantsCount}),n.jsx(Be,{children:le.closedAt?tU(le.closedAt):"-"})]},le.id))})]})]}),xe.length===0&&Z&&n.jsx(ve,{children:n.jsxs(je,{className:"py-12 text-center",children:[n.jsx(wd,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune collecte"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Crez votre premire collecte pour commencer  recevoir des contributions."}),n.jsxs(H,{onClick:()=>o(!0),children:[n.jsx(Sn,{className:"mr-2 h-4 w-4"}),"Crer une collecte"]})]})})]}),n.jsxs(wn,{value:"transactions",className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Historique des transactions"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Toutes les transactions de paiement de votre communaut"})]}),D?n.jsx("div",{className:"flex items-center justify-center h-48",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})}):me.length===0?n.jsx(ve,{children:n.jsxs(je,{className:"py-12 text-center",children:[n.jsx(mn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune transaction"}),n.jsx("p",{className:"text-gray-500",children:"Les transactions apparatront ici lorsque des paiements seront effectus."})]})}):n.jsx(ve,{children:n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Date"}),n.jsx(Ke,{children:"Type"}),n.jsx(Ke,{children:"Statut"}),n.jsx(Ke,{className:"text-right",children:"Montant total"}),n.jsx(Ke,{className:"text-right",children:"Commission Koomy"}),n.jsx(Ke,{className:"text-right",children:"Revers"})]})}),n.jsx(Bs,{children:me.map(le=>n.jsxs(rn,{"data-testid":`row-transaction-${le.id}`,children:[n.jsx(Be,{className:"font-medium",children:B$e(le.createdAt)}),n.jsx(Be,{children:n.jsxs(Se,{variant:"outline",children:[le.type==="subscription"&&"Abonnement",le.type==="membership"&&"Cotisation",le.type==="collection"&&"Collecte"]})}),n.jsx(Be,{children:le.status==="succeeded"?n.jsxs(Se,{className:"bg-green-100 text-green-700",children:[n.jsx(vs,{size:12,className:"mr-1"}),"Russi"]}):le.status==="pending"?n.jsxs(Se,{className:"bg-yellow-100 text-yellow-700",children:[n.jsx(Ln,{size:12,className:"mr-1"}),"En attente"]}):n.jsx(Se,{variant:"destructive",children:le.status})}),n.jsx(Be,{className:"text-right",children:_i(le.amountTotalCents,le.currency)}),n.jsx(Be,{className:"text-right text-gray-500",children:_i(le.amountFeeKoomyCents,le.currency)}),n.jsx(Be,{className:"text-right font-medium text-emerald-600",children:_i(le.amountToCommunity,le.currency)})]},le.id))})]})})]})]})]}),n.jsx(ht,{open:i,onOpenChange:o,children:n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsxs(pt,{children:[n.jsx(gt,{children:"Nouvelle collecte"}),n.jsx(Jr,{children:"Crez une collecte pour recevoir des contributions de vos adhrents."})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"title",children:"Titre de la collecte *"}),n.jsx(ne,{id:"title",placeholder:"Ex: Pot de dpart, Cagnotte Nol...",value:N.title,onChange:le=>C(Re=>({...Re,title:le.target.value})),"data-testid":"input-collection-title"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"description",children:"Description"}),n.jsx(Nn,{id:"description",placeholder:"Dcrivez l'objectif de cette collecte...",value:N.description,onChange:le=>C(Re=>({...Re,description:le.target.value})),"data-testid":"input-collection-description"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"amount",children:"Montant par participant () *"}),n.jsx(ne,{id:"amount",type:"number",step:"0.01",min:"0.50",placeholder:"10.00",value:N.amountCents,onChange:le=>C(Re=>({...Re,amountCents:le.target.value})),"data-testid":"input-collection-amount"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vs,{id:"allowCustom",checked:N.allowCustomAmount,onCheckedChange:le=>C(Re=>({...Re,allowCustomAmount:le===!0})),"data-testid":"checkbox-allow-custom"}),n.jsx(ee,{htmlFor:"allowCustom",className:"text-sm",children:"Permettre un montant libre"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"target",children:"Objectif ()"}),n.jsx(ne,{id:"target",type:"number",step:"0.01",min:"0",placeholder:"Optionnel",value:N.targetAmountCents,onChange:le=>C(Re=>({...Re,targetAmountCents:le.target.value})),"data-testid":"input-collection-target"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"deadline",children:"Date limite"}),n.jsx(ne,{id:"deadline",type:"date",value:N.deadline,onChange:le=>C(Re=>({...Re,deadline:le.target.value})),"data-testid":"input-collection-deadline"})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>o(!1),children:"Annuler"}),n.jsxs(H,{onClick:ie,disabled:!N.title||!N.amountCents||q.isPending,"data-testid":"button-submit-collection",children:[q.isPending&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Crer"]})]})]})}),n.jsx(ht,{open:c,onOpenChange:d,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(gt,{children:"Clore la collecte"}),n.jsxs(Jr,{children:['tes-vous sr de vouloir clore la collecte "',m?.title,'" ? Cette action est irrversible.']})]}),m&&n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Montant collect"}),n.jsx("span",{className:"font-medium",children:_i(m.collectedAmountCents)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500",children:"Participants"}),n.jsx("span",{className:"font-medium",children:m.participantsCount})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>d(!1),children:"Annuler"}),n.jsxs(H,{variant:"destructive",onClick:Y,disabled:I.isPending,children:[I.isPending&&n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Clore la collecte"]})]})]})})]})}const nU={user:{label:"Membres",icon:It},content:{label:"Contenus",icon:jd},hybrid:{label:"Hybride",icon:zi}},rU=["#6366f1","#8b5cf6","#d946ef","#ec4899","#f43f5e","#f97316","#eab308","#84cc16","#22c55e","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#64748b","#1e293b"];function V$e(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function K$e(){const{currentMembership:e,currentCommunity:t,user:r}=dt(),s=Wt(),a=e?.communityId||t?.id||"",[i,o]=v.useState(!1),[c,d]=v.useState(!1),[m,f]=v.useState(!1),[h,g]=v.useState(null),[b,w]=v.useState(""),[y,j]=v.useState(!1),[N,C]=v.useState({name:"",slug:"",color:"#6366f1",type:"user",description:""}),{data:E=[],isLoading:T,error:A}=Pe({queryKey:[`/api/communities/${a}/tags`,y,b],queryFn:async()=>{const z=new URLSearchParams;y||z.append("activeOnly","true"),b&&z.append("search",b);const q=await wo(`/api/communities/${a}/tags?${z}`);if(!q.ok)throw new Error(q.data?.error||"Failed to fetch tags");return q.data},enabled:!!a}),k=qe({mutationFn:async z=>{const q=await kr(`/api/communities/${a}/tags`,{...z,userId:r?.id});if(!q.ok)throw new Error(q.data?.error||"Failed to create tag");return q.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/tags`]}),o(!1),C({name:"",slug:"",color:"#6366f1",type:"user",description:""}),X.success("Tag cr avec succs")},onError:z=>{X.error(z.message)}}),P=qe({mutationFn:async({id:z,...q})=>{const I=await Vx(`/api/tags/${z}`,{...q,userId:r?.id});if(!I.ok)throw new Error(I.data?.error||"Failed to update tag");return I.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/tags`]}),d(!1),g(null),X.success("Tag mis  jour")},onError:z=>{X.error(z.message)}}),O=qe({mutationFn:async z=>{const q=await qd(`/api/tags/${z}?userId=${r?.id}`);if(!q.ok)throw new Error(q.data?.error||"Failed to delete tag");return q.data},onSuccess:()=>{s.invalidateQueries({queryKey:[`/api/communities/${a}/tags`]}),f(!1),g(null),X.success("Tag supprim")},onError:z=>{X.error(z.message)}}),M=z=>{C(q=>({...q,name:z,slug:V$e(z)}))},F=()=>{if(!N.name||!N.slug){X.error("Le nom et le slug sont requis");return}k.mutate(N)},D=()=>{h&&P.mutate({id:h.id,name:h.name,slug:h.slug,color:h.color||void 0,type:h.type||void 0,description:h.description||void 0,isActive:h.isActive})},$=z=>{g({...z}),d(!0)},V=z=>{g(z),f(!0)};return n.jsx(dn,{children:n.jsxs("div",{className:"container mx-auto p-6","data-testid":"page-tags",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(zi,{className:"h-6 w-6 text-primary"}),"Tags & Segmentation"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Crez des tags pour organiser vos membres et cibler vos communications"})]}),n.jsxs(ht,{open:i,onOpenChange:o,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{"data-testid":"button-create-tag",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Nouveau tag"]})}),n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Crer un tag"})}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"name",children:"Nom du tag *"}),n.jsx(ne,{id:"name",value:N.name,onChange:z=>M(z.target.value),placeholder:"Ex: Bureau, Adhrent actif...","data-testid":"input-tag-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"slug",children:"Slug (identifiant unique) *"}),n.jsx(ne,{id:"slug",value:N.slug,onChange:z=>C(q=>({...q,slug:z.target.value})),placeholder:"ex: bureau, adherent-actif","data-testid":"input-tag-slug"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Type de tag"}),n.jsxs(it,{value:N.type,onValueChange:z=>C(q=>({...q,type:z})),children:[n.jsx(rt,{"data-testid":"select-tag-type",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"user",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(It,{className:"h-4 w-4"}),"Membres (segmentation)"]})}),n.jsx(Ae,{value:"content",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jd,{className:"h-4 w-4"}),"Contenus (catgorisation)"]})}),n.jsx(Ae,{value:"hybrid",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zi,{className:"h-4 w-4"}),"Hybride (les deux)"]})})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Couleur"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:rU.map(z=>n.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 transition-all ${N.color===z?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:z},onClick:()=>C(q=>({...q,color:z})),"data-testid":`color-${z}`},z))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"description",children:"Description (optionnel)"}),n.jsx(Nn,{id:"description",value:N.description,onChange:z=>C(q=>({...q,description:z.target.value})),placeholder:"Dcrivez l'usage de ce tag...",rows:2,"data-testid":"input-tag-description"})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{onClick:F,disabled:k.isPending,"data-testid":"button-submit-create",children:[k.isPending&&n.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Crer"]})]})]})]})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{placeholder:"Rechercher un tag...",value:b,onChange:z=>w(z.target.value),className:"pl-10","data-testid":"input-search-tags"})]}),n.jsxs(H,{variant:y?"secondary":"outline",onClick:()=>j(!y),"data-testid":"button-toggle-inactive",children:[y?n.jsx(ws,{className:"h-4 w-4 mr-2"}):n.jsx(ma,{className:"h-4 w-4 mr-2"}),y?"Tags actifs & inactifs":"Tags actifs uniquement"]})]}),T?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})}):A?n.jsx(ve,{className:"border-destructive",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[n.jsx(ii,{className:"h-5 w-5"}),n.jsx("p",{children:A.message})]}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Les tags sont disponibles pour les plans Pro et Entreprise."})]})}):E.length===0?n.jsx(ve,{children:n.jsxs(je,{className:"pt-6 text-center",children:[n.jsx(zi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Aucun tag cr"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Crez votre premier tag pour commencer  segmenter vos membres."}),n.jsxs(H,{onClick:()=>o(!0),"data-testid":"button-create-first",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Crer un tag"]})]})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:E.map(z=>{const q=z.type||"user",I=nU[q]?.icon||zi;return n.jsxs(ve,{className:`relative ${z.isActive?"":"opacity-60"}`,"data-testid":`card-tag-${z.id}`,children:[n.jsxs(Ge,{className:"pb-2",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:z.color||"#6366f1"}}),n.jsx(Ve,{className:"text-lg",children:z.name})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>$(z),"data-testid":`button-edit-${z.id}`,children:n.jsx(zl,{className:"h-4 w-4"})}),n.jsx(H,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>V(z),"data-testid":`button-delete-${z.id}`,children:n.jsx(js,{className:"h-4 w-4"})})]})]}),n.jsx(Ct,{className:"text-xs font-mono",children:z.slug})]}),n.jsxs(je,{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs(Se,{variant:"outline",className:"text-xs",children:[n.jsx(I,{className:"h-3 w-3 mr-1"}),nU[q]?.label||q]}),!z.isActive&&n.jsx(Se,{variant:"secondary",className:"text-xs",children:"Inactif"})]}),z.description&&n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:z.description}),n.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[n.jsx(It,{className:"h-4 w-4"}),n.jsxs("span",{children:[z.userCount," membre",z.userCount!==1?"s":""]})]})]})]},z.id)})}),n.jsx(ht,{open:c,onOpenChange:d,children:n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Modifier le tag"})}),h&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-name",children:"Nom du tag *"}),n.jsx(ne,{id:"edit-name",value:h.name,onChange:z=>g(q=>q?{...q,name:z.target.value}:null),"data-testid":"input-edit-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-slug",children:"Slug *"}),n.jsx(ne,{id:"edit-slug",value:h.slug,onChange:z=>g(q=>q?{...q,slug:z.target.value}:null),"data-testid":"input-edit-slug"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Type"}),n.jsxs(it,{value:h.type||"user",onValueChange:z=>g(q=>q?{...q,type:z}:null),children:[n.jsx(rt,{"data-testid":"select-edit-type",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"user",children:"Membres"}),n.jsx(Ae,{value:"content",children:"Contenus"}),n.jsx(Ae,{value:"hybrid",children:"Hybride"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Couleur"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:rU.map(z=>n.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 transition-all ${h.color===z?"border-foreground scale-110":"border-transparent"}`,style:{backgroundColor:z},onClick:()=>g(q=>q?{...q,color:z}:null)},z))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"edit-description",children:"Description"}),n.jsx(Nn,{id:"edit-description",value:h.description||"",onChange:z=>g(q=>q?{...q,description:z.target.value}:null),rows:2,"data-testid":"input-edit-description"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[n.jsx(ee,{children:"Statut du tag"}),n.jsx(H,{variant:h.isActive?"outline":"default",size:"sm",onClick:()=>g(z=>z?{...z,isActive:!z.isActive}:null),"data-testid":"button-toggle-status",children:h.isActive?"Dsactiver":"Activer"})]})]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{onClick:D,disabled:P.isPending,"data-testid":"button-submit-edit",children:[P.isPending&&n.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Enregistrer"]})]})]})}),n.jsx(ht,{open:m,onOpenChange:f,children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Supprimer le tag"})}),n.jsxs("p",{children:["tes-vous sr de vouloir supprimer le tag ",n.jsxs("strong",{children:['"',h?.name,'"']})," ?"]}),h&&h.userCount>0&&n.jsxs("p",{className:"text-destructive text-sm",children:["Attention : ",h.userCount," membre",h.userCount>1?"s":""," perdra",h.userCount>1?"ont":""," ce tag."]}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{variant:"destructive",onClick:()=>h&&O.mutate(h.id),disabled:O.isPending,"data-testid":"button-confirm-delete",children:[O.isPending&&n.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Supprimer"]})]})]})})]})})}function XP(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}var H$e=qa[" useInsertionEffect ".trim().toString()]||an;function G$e({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[a,i,o]=W$e({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const h=f.current;h!==c&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,s])}const m=v.useCallback(f=>{if(c){const h=Y$e(f)?f(e):f;h!==e&&o.current?.(h)}else i(f)},[c,e,i,o]);return[d,m]}function W$e({defaultProp:e,onChange:t}){const[r,s]=v.useState(e),a=v.useRef(r),i=v.useRef(t);return H$e(()=>{i.current=t},[t]),v.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,s,i]}function Y$e(e){return typeof e=="function"}var hM="Radio",[Q$e,KJ]=ts(hM),[X$e,Z$e]=Q$e(hM),HJ=v.forwardRef((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:i,disabled:o,value:c="on",onCheck:d,form:m,...f}=e,[h,g]=v.useState(null),b=xt(t,j=>g(j)),w=v.useRef(!1),y=h?m||!!h.closest("form"):!0;return n.jsxs(X$e,{scope:r,checked:a,disabled:o,children:[n.jsx(at.button,{type:"button",role:"radio","aria-checked":a,"data-state":QJ(a),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:b,onClick:XP(e.onClick,j=>{a||d?.(),y&&(w.current=j.isPropagationStopped(),w.current||j.stopPropagation())})}),y&&n.jsx(YJ,{control:h,bubbles:!w.current,name:s,value:c,checked:a,required:i,disabled:o,form:m,style:{transform:"translateX(-100%)"}})]})});HJ.displayName=hM;var GJ="RadioIndicator",WJ=v.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,i=Z$e(GJ,r);return n.jsx(Ls,{present:s||i.checked,children:n.jsx(at.span,{"data-state":QJ(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});WJ.displayName=GJ;var J$e="RadioBubbleInput",YJ=v.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:s=!0,...a},i)=>{const o=v.useRef(null),c=xt(o,i),d=qj(r),m=Fj(t);return v.useEffect(()=>{const f=o.current;if(!f)return;const h=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(h,"checked").set;if(d!==r&&b){const w=new Event("click",{bubbles:s});b.call(f,r),f.dispatchEvent(w)}},[d,r,s]),n.jsx(at.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});YJ.displayName=J$e;function QJ(e){return e?"checked":"unchecked"}var eze=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Vw="RadioGroup",[tze]=ts(Vw,[yh,KJ]),XJ=yh(),ZJ=KJ(),[nze,rze]=tze(Vw),JJ=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:i,required:o=!1,disabled:c=!1,orientation:d,dir:m,loop:f=!0,onValueChange:h,...g}=e,b=XJ(r),w=Ud(m),[y,j]=G$e({prop:i,defaultProp:a??null,onChange:h,caller:Vw});return n.jsx(nze,{scope:r,name:s,required:o,disabled:c,value:y,onValueChange:j,children:n.jsx(SO,{asChild:!0,...b,orientation:d,dir:w,loop:f,children:n.jsx(at.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:w,...g,ref:t})})})});JJ.displayName=Vw;var eee="RadioGroupItem",tee=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,i=rze(eee,r),o=i.disabled||s,c=XJ(r),d=ZJ(r),m=v.useRef(null),f=xt(t,m),h=i.value===a.value,g=v.useRef(!1);return v.useEffect(()=>{const b=y=>{eze.includes(y.key)&&(g.current=!0)},w=()=>g.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",w)}},[]),n.jsx(CO,{asChild:!0,...c,focusable:!o,active:h,children:n.jsx(HJ,{disabled:o,required:i.required,checked:h,...d,...a,name:i.name,ref:f,onCheck:()=>i.onValueChange(a.value),onKeyDown:XP(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:XP(a.onFocus,()=>{g.current&&m.current?.click()})})})});tee.displayName=eee;var sze="RadioGroupIndicator",nee=v.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=ZJ(r);return n.jsx(WJ,{...a,...s,ref:t})});nee.displayName=sze;var ree=JJ,see=tee,aze=nee;const pM=v.forwardRef(({className:e,...t},r)=>n.jsx(ree,{className:Le("grid gap-2",e),...t,ref:r}));pM.displayName=ree.displayName;const fj=v.forwardRef(({className:e,...t},r)=>n.jsx(see,{ref:r,className:Le("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(aze,{className:"flex items-center justify-center",children:n.jsx(D9,{className:"h-3.5 w-3.5 fill-primary"})})}));fj.displayName=see.displayName;const ize=[{value:1,label:"1 mois"},{value:3,label:"3 mois"},{value:6,label:"6 mois"},{value:12,label:"12 mois"}];function oze(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function lze(e){return(e/100).toFixed(2).replace(".",",")}function aee(){const e=new Date,t=e.getFullYear();return e.getMonth()>=8?`${t}${t+1}`:`${t-1}${t}`}function cze(e){return e.membershipType==="ROLLING_DURATION"&&e.rollingDurationMonths?`Dure: ${e.rollingDurationMonths} mois`:e.membershipType==="FIXED_PERIOD"?e.fixedPeriodType==="SEASON"?`Saison ${aee()}`:`Anne ${new Date().getFullYear()}`:"Annuel"}const u_={name:"",slug:"",amount:0,currency:"EUR",description:"",membershipType:"FIXED_PERIOD",fixedPeriodType:"CALENDAR_YEAR",rollingDurationMonths:12};function sU({isEdit:e=!1,formState:t,setFormState:r,isFree:s,setIsFree:a,handleNameChange:i,amountInput:o,setAmountInput:c,handleAmountBlur:d}){return n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:e?"edit-plan-name":"plan-name",children:"Nom"}),n.jsx(ne,{id:e?"edit-plan-name":"plan-name",placeholder:"Ex: Adhesion Standard 2025",value:t.name,onChange:m=>e?r(f=>({...f,name:m.target.value})):i(m.target.value),"data-testid":e?"edit-input-plan-name":"input-plan-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:e?"edit-plan-slug":"plan-slug",children:"Identifiant (slug)"}),n.jsx(ne,{id:e?"edit-plan-slug":"plan-slug",placeholder:"adhesion-standard-2025",value:t.slug,onChange:m=>r(f=>({...f,slug:m.target.value})),"data-testid":e?"edit-input-plan-slug":"input-plan-slug"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Utilise pour l'import CSV"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ee,{children:"Type d'adhesion"}),n.jsxs(pM,{value:t.membershipType,onValueChange:m=>r(f=>({...f,membershipType:m})),className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer",children:[n.jsx(fj,{value:"FIXED_PERIOD",id:e?"edit-fixed":"fixed"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs(ee,{htmlFor:e?"edit-fixed":"fixed",className:"cursor-pointer font-medium",children:[n.jsx(Gn,{className:"h-4 w-4 inline mr-2"}),"Periode fixe"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Annee civile ou saison scolaire"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer",children:[n.jsx(fj,{value:"ROLLING_DURATION",id:e?"edit-rolling":"rolling"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs(ee,{htmlFor:e?"edit-rolling":"rolling",className:"cursor-pointer font-medium",children:[n.jsx(Ln,{className:"h-4 w-4 inline mr-2"}),"Duree glissante"]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"X mois a partir de l'inscription"})]})]})]})]}),t.membershipType==="FIXED_PERIOD"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Periode"}),n.jsxs(it,{value:t.fixedPeriodType,onValueChange:m=>r(f=>({...f,fixedPeriodType:m})),children:[n.jsx(rt,{"data-testid":e?"edit-select-period-type":"select-period-type",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"CALENDAR_YEAR",children:"Annee civile (01/01 - 31/12)"}),n.jsxs(Ae,{value:"SEASON",children:["Saison (",aee(),")"]})]})]}),t.fixedPeriodType==="SEASON"&&n.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-2 rounded",children:"La saison s'etend du 1er septembre au 31 juillet"})]}),t.membershipType==="ROLLING_DURATION"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Duree"}),n.jsxs(it,{value:t.rollingDurationMonths.toString(),onValueChange:m=>r(f=>({...f,rollingDurationMonths:parseInt(m)})),children:[n.jsx(rt,{"data-testid":e?"edit-select-duration":"select-duration",children:n.jsx(ot,{})}),n.jsx(st,{children:ize.map(({value:m,label:f})=>n.jsx(Ae,{value:m.toString(),children:f},m))})]})]}),n.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-muted/50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mg,{className:"h-4 w-4 text-green-600"}),n.jsx(ee,{htmlFor:e?"edit-free-toggle":"free-toggle",className:"cursor-pointer",children:"Adhesion gratuite"})]}),n.jsx(Qn,{id:e?"edit-free-toggle":"free-toggle",checked:s,onCheckedChange:m=>{a(m),m&&(r(f=>({...f,amount:0})),c(""))},"data-testid":e?"edit-toggle-free-plan":"toggle-free-plan"})]}),!s&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:e?"edit-plan-amount":"plan-amount",children:"Montant (EUR)"}),n.jsxs("div",{className:"relative",children:[n.jsx(oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ne,{id:e?"edit-plan-amount":"plan-amount",type:"text",inputMode:"decimal",placeholder:"0,00",className:"pl-9",value:o,onChange:m=>c(m.target.value),onBlur:d,"data-testid":e?"edit-input-plan-amount":"input-plan-amount"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:e?"edit-plan-description":"plan-description",children:"Description (optionnel)"}),n.jsx(Nn,{id:e?"edit-plan-description":"plan-description",placeholder:"Decrivez cette formule...",value:t.description,onChange:m=>r(f=>({...f,description:m.target.value})),"data-testid":e?"edit-input-plan-description":"input-plan-description"})]})]})}function uze(){const{currentMembership:e,user:t}=dt(),r=Wt(),s=e?.communityId||"",[a,i]=v.useState(!1),[o,c]=v.useState(!1),[d,m]=v.useState(!1),[f,h]=v.useState(null),[g,b]=v.useState(!1),[w,y]=v.useState(u_),[j,N]=v.useState(!1),[C,E]=v.useState(""),{data:T=[],isLoading:A,error:k}=Pe({queryKey:[`/api/communities/${s}/membership-plans`,g],queryFn:async()=>{const B=new URLSearchParams;g||B.append("activeOnly","true");const ie=await wo(`/api/communities/${s}/membership-plans?${B}`);if(!ie.ok)throw new Error(ie.data?.error||"Failed to fetch membership plans");return ie.data},enabled:!!s}),P=qe({mutationFn:async B=>{const ie={name:B.name,slug:B.slug,amount:B.amount,currency:B.currency,description:B.description,membershipType:B.membershipType,billingType:"annual"};B.membershipType==="FIXED_PERIOD"?(ie.fixedPeriodType=B.fixedPeriodType,ie.rollingDurationMonths=null):(ie.fixedPeriodType=null,ie.rollingDurationMonths=B.rollingDurationMonths);const G=await kr(`/api/communities/${s}/membership-plans`,ie);if(!G.ok)throw new Error(G.data?.error||"Failed to create membership plan");return G.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${s}/membership-plans`]}),i(!1),y(u_),N(!1),X.success("Formule cre avec succs")},onError:B=>{X.error(B.message)}}),O=qe({mutationFn:async({id:B,...ie})=>{const G={...ie};ie.membershipType==="FIXED_PERIOD"?G.rollingDurationMonths=null:ie.membershipType==="ROLLING_DURATION"&&(G.fixedPeriodType=null);const Y=await Ps(`/api/membership-plans/${B}`,G);if(!Y.ok)throw new Error(Y.data?.error||"Failed to update membership plan");return Y.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${s}/membership-plans`]}),c(!1),h(null),X.success("Formule mise  jour")},onError:B=>{X.error(B.message)}}),M=qe({mutationFn:async B=>{const ie=await qd(`/api/membership-plans/${B}?userId=${t?.id}`);if(!ie.ok)throw new Error(ie.data?.error||"Failed to delete membership plan");return ie.data},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/communities/${s}/membership-plans`]}),m(!1),h(null),X.success("Formule dsactive")},onError:B=>{X.error(B.message)}}),F=B=>{y(ie=>({...ie,name:B,slug:oze(B)}))},D=()=>{const B=parseFloat(C.replace(",","."))||0;y(ie=>({...ie,amount:Math.round(B*100)}))},$=()=>{if(!w.name||!w.slug){X.error("Le nom est requis");return}const B=j?0:Math.round((parseFloat(C.replace(",","."))||0)*100);P.mutate({...w,amount:B})},V=B=>{h(B);const ie=B.amount||0;y({name:B.name,slug:B.slug,amount:ie,currency:B.currency||"EUR",description:B.description||"",membershipType:B.membershipType||"FIXED_PERIOD",fixedPeriodType:B.fixedPeriodType||"CALENDAR_YEAR",rollingDurationMonths:B.rollingDurationMonths||12}),E(ie>0?(ie/100).toFixed(2).replace(".",","):""),N(ie===0),c(!0)},z=()=>{if(!f)return;const B=j?0:Math.round((parseFloat(C.replace(",","."))||0)*100);O.mutate({id:f.id,...w,amount:B})},q=()=>{f&&M.mutate(f.id)},I=B=>{O.mutate({id:B.id,isActive:!B.isActive})},K=()=>{y(u_),N(!1),E("")};return e&&(e.role==="admin"||e.adminRole==="super_admin"||e.isOwner)?n.jsx(dn,{children:n.jsxs("div",{className:"space-y-6","data-testid":"membership-plans-page",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(mn,{className:"h-6 w-6"}),"Formules d'adhsion"]}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Grez les formules d'adhsion pour votre communaut"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs(H,{variant:"outline",size:"sm",onClick:()=>b(!g),className:"gap-2","data-testid":"toggle-inactive-plans",children:[g?n.jsx(ma,{className:"h-4 w-4"}):n.jsx(ws,{className:"h-4 w-4"}),g?"Masquer inactifs":"Voir inactifs"]}),n.jsxs(ht,{open:a,onOpenChange:B=>{i(B),B||K()},children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2","data-testid":"create-plan-button",children:[n.jsx(Sn,{className:"h-4 w-4"}),"Nouvelle formule"]})}),n.jsxs(mt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Crer une formule d'adhsion"})}),n.jsx(sU,{formState:w,setFormState:y,isFree:j,setIsFree:N,handleNameChange:F,amountInput:C,setAmountInput:E,handleAmountBlur:D}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{onClick:$,disabled:P.isPending,"data-testid":"submit-create-plan",children:[P.isPending&&n.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Crer"]})]})]})]})]})]}),A?n.jsx("div",{className:"flex justify-center py-12",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):k?n.jsx(ve,{children:n.jsx(je,{className:"py-12 text-center text-destructive",children:k.message})}):T.length===0?n.jsx(ve,{children:n.jsxs(je,{className:"py-12 text-center",children:[n.jsx(mn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"Aucune formule"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Crez votre premire formule d'adhsion"})]})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:T.map(B=>n.jsxs(ve,{className:`relative ${B.isActive?"":"opacity-60"}`,"data-testid":`plan-card-${B.id}`,children:[n.jsx(Ge,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:n.jsx(oa,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx(Ve,{className:"text-base",children:B.name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:B.slug})]})]}),!B.isActive&&n.jsx(Se,{variant:"secondary",className:"text-xs",children:"Inactif"})]})}),n.jsxs(je,{className:"space-y-4",children:[n.jsx("div",{className:"flex items-baseline gap-1",children:(B.amount||0)===0?n.jsxs(Se,{variant:"secondary",className:"text-lg py-1 px-3 bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",children:[n.jsx(mg,{className:"h-4 w-4 mr-1"}),"Gratuit"]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-3xl font-bold",children:lze(B.amount||0)}),n.jsx("span",{className:"text-muted-foreground",children:""})]})}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[B.membershipType==="ROLLING_DURATION"?n.jsx(Ln,{className:"h-4 w-4"}):n.jsx(Gn,{className:"h-4 w-4"}),n.jsx("span",{children:cze(B)})]}),B.description&&n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:B.description}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsxs(H,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>V(B),"data-testid":`edit-plan-${B.id}`,children:[n.jsx(zl,{className:"h-4 w-4 mr-1"}),"Modifier"]}),n.jsx(H,{variant:"outline",size:"sm",onClick:()=>I(B),"data-testid":`toggle-plan-${B.id}`,children:B.isActive?n.jsx(ma,{className:"h-4 w-4"}):n.jsx(ws,{className:"h-4 w-4"})}),n.jsx(H,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>{h(B),m(!0)},"data-testid":`delete-plan-${B.id}`,children:n.jsx(js,{className:"h-4 w-4"})})]})]})]},B.id))}),n.jsx(ht,{open:o,onOpenChange:c,children:n.jsxs(mt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx(pt,{children:n.jsx(gt,{children:"Modifier la formule"})}),n.jsx(sU,{isEdit:!0,formState:w,setFormState:y,isFree:j,setIsFree:N,handleNameChange:F,amountInput:C,setAmountInput:E,handleAmountBlur:D}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{onClick:z,disabled:O.isPending,"data-testid":"submit-edit-plan",children:[O.isPending&&n.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Enregistrer"]})]})]})}),n.jsx(ht,{open:d,onOpenChange:m,children:n.jsxs(mt,{children:[n.jsx(pt,{children:n.jsx(gt,{children:"Dsactiver cette formule ?"})}),n.jsxs("p",{className:"text-muted-foreground",children:['La formule "',f?.name,'" sera dsactive et ne sera plus propose pour les nouveaux membres. Les membres existants ne seront pas affects.']}),n.jsxs(jt,{children:[n.jsx(Dn,{asChild:!0,children:n.jsx(H,{variant:"outline",children:"Annuler"})}),n.jsxs(H,{variant:"destructive",onClick:q,disabled:M.isPending,"data-testid":"confirm-delete-plan",children:[M.isPending&&n.jsx(Oe,{className:"h-4 w-4 mr-2 animate-spin"}),"Dsactiver"]})]})]})})]})}):n.jsx(dn,{children:n.jsx("div",{className:"p-8 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"Accs rserv aux administrateurs"})})})}function dze(){const[,e]=LU("/join/:slug"),t=e?.slug,[r,s]=v.useState({email:"",firstName:"",lastName:"",phone:"",membershipPlanId:"",sectionIds:[],rgpdConsent:!1,marketingConsent:!1}),[a,i]=v.useState(!1),[o,c]=v.useState(null),{data:d,isLoading:m,error:f}=Pe({queryKey:[`/api/join/${t}`],queryFn:async()=>{const N=await fetch(`/api/join/${t}`);if(!N.ok){const C=await N.json();throw new Error(C.error||"Page non trouve")}return N.json()},enabled:!!t,retry:!1});v.useEffect(()=>{d?.eligiblePlans?.length===1&&s(N=>({...N,membershipPlanId:d.eligiblePlans[0].id}))},[d]);const h=qe({mutationFn:async N=>{const C=await fetch(`/api/join/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),E=await C.json();if(!C.ok)throw new Error(E.error||"Erreur lors de l'inscription");return E},onSuccess:N=>{i(!0),c(N)},onError:N=>{X.error(N.message)}}),g=N=>{if(N.preventDefault(),!r.email){X.error("L'adresse email est requise");return}if(!r.rgpdConsent){X.error("Vous devez accepter les conditions d'utilisation");return}if(d?.eligiblePlans&&d.eligiblePlans.length>0&&!r.membershipPlanId){X.error("Veuillez slectionner une formule d'adhsion");return}h.mutate(r)},b=N=>{s(C=>({...C,sectionIds:C.sectionIds.includes(N)?C.sectionIds.filter(E=>E!==N):[...C.sectionIds,N]}))},w=d?.eligiblePlans?.find(N=>N.id===r.membershipPlanId),y=w&&w.amount&&w.amount>0;if(m)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})});if(f||!d)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsx(ve,{className:"max-w-md w-full",children:n.jsxs(je,{className:"pt-6 text-center",children:[n.jsx(br,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Page non disponible"}),n.jsx("p",{className:"text-gray-600",children:f?.message||"Ce lien d'inscription n'existe pas ou n'est plus actif."})]})})});if(!d.quotaAvailable)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsx(ve,{className:"max-w-md w-full",children:n.jsxs(je,{className:"pt-6 text-center",children:[n.jsx(It,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Inscriptions suspendues"}),n.jsx("p",{className:"text-gray-600",children:d.quotaMessage})]})})});if(a&&o)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsx(ve,{className:"max-w-md w-full",children:n.jsxs(je,{className:"pt-6 text-center",children:[n.jsx(vr,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:o.mode==="open_free"||o.mode==="open_paid"?"Inscription confirme !":"Demande envoye !"}),n.jsx("p",{className:"text-gray-600",children:o.message}),o.requiresPayment&&n.jsx("p",{className:"text-sm text-blue-600 mt-4",children:"Vous recevrez un email avec les instructions de paiement."})]})})});const j=d.community.primaryColor||"207 100% 63%";return n.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:n.jsxs("div",{className:"max-w-lg mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[d.community.logo?n.jsx("img",{src:d.community.logo,alt:d.community.name,className:"h-16 mx-auto mb-4 object-contain"}):n.jsx("div",{className:"h-16 w-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:`hsl(${j})`},children:n.jsx(ys,{className:"h-8 w-8 text-white"})}),n.jsxs("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-join-title",children:["Rejoindre ",d.community.name]}),n.jsx("p",{className:"text-gray-600 mt-2",children:d.community.selfEnrollmentMode==="OPEN"?"Remplissez le formulaire pour devenir membre":"Soumettez votre demande d'adhsion"})]}),n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Vc,{className:"h-5 w-5",style:{color:`hsl(${j})`}}),"Formulaire d'inscription"]}),n.jsx(Ct,{children:"Les champs marqus d'un * sont obligatoires"})]}),n.jsx(je,{children:n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"email",children:"Adresse email *"}),n.jsxs("div",{className:"relative",children:[n.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"email",type:"email",required:!0,value:r.email,onChange:N=>s(C=>({...C,email:N.target.value})),placeholder:"vous@exemple.com",className:"pl-10","data-testid":"input-join-email"})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"firstName",children:"Prnom"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"firstName",value:r.firstName,onChange:N=>s(C=>({...C,firstName:N.target.value})),placeholder:"Jean",className:"pl-10","data-testid":"input-join-firstname"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"lastName",children:"Nom"}),n.jsx(ne,{id:"lastName",value:r.lastName,onChange:N=>s(C=>({...C,lastName:N.target.value})),placeholder:"Dupont","data-testid":"input-join-lastname"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"phone",children:"Tlphone"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ll,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ne,{id:"phone",type:"tel",value:r.phone,onChange:N=>s(C=>({...C,phone:N.target.value})),placeholder:"06 12 34 56 78",className:"pl-10","data-testid":"input-join-phone"})]})]}),d.eligiblePlans&&d.eligiblePlans.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(ee,{children:"Formule d'adhsion *"}),n.jsx(pM,{value:r.membershipPlanId,onValueChange:N=>s(C=>({...C,membershipPlanId:N})),children:d.eligiblePlans.map(N=>n.jsxs("div",{className:`flex items-start space-x-3 p-4 rounded-lg border-2 cursor-pointer transition-colors ${r.membershipPlanId===N.id?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>s(C=>({...C,membershipPlanId:N.id})),children:[n.jsx(fj,{value:N.id,id:`plan-${N.id}`,className:"mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{htmlFor:`plan-${N.id}`,className:"font-medium cursor-pointer",children:N.name}),N.description&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:N.description}),n.jsxs("p",{className:"text-sm font-medium mt-2",style:{color:`hsl(${j})`},children:[N.amount?`${(N.amount/100).toFixed(2)} `:"Gratuit",N.amount&&N.billingType&&n.jsxs("span",{className:"text-gray-500 font-normal",children:[" / ",N.billingType==="yearly"?"an":N.billingType==="monthly"?"mois":"unique"]})]})]})]},N.id))})]}),d.community.selfEnrollmentSectionsEnabled&&d.sections&&d.sections.length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx(ee,{children:"Sections (optionnel)"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Slectionnez les sections auxquelles vous souhaitez adhrer"}),n.jsx("div",{className:"space-y-2",children:d.sections.map(N=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx(Vs,{id:`section-${N.id}`,checked:r.sectionIds.includes(N.id),onCheckedChange:()=>b(N.id)}),n.jsx("label",{htmlFor:`section-${N.id}`,className:"text-sm font-medium cursor-pointer",children:N.name})]},N.id))})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Vs,{id:"rgpdConsent",checked:r.rgpdConsent,onCheckedChange:N=>s(C=>({...C,rgpdConsent:N===!0})),"data-testid":"checkbox-rgpd-consent"}),n.jsxs("label",{htmlFor:"rgpdConsent",className:"text-sm text-gray-600 cursor-pointer",children:["J'accepte que mes donnes personnelles soient traites conformment  la politique de confidentialit de ",d.community.name,". *"]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(Vs,{id:"marketingConsent",checked:r.marketingConsent,onCheckedChange:N=>s(C=>({...C,marketingConsent:N===!0})),"data-testid":"checkbox-marketing-consent"}),n.jsxs("label",{htmlFor:"marketingConsent",className:"text-sm text-gray-600 cursor-pointer",children:["J'accepte de recevoir des communications de la part de ",d.community.name,"(actualits, vnements, offres)."]})]})]}),y&&n.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Information :"})," Aprs validation de votre inscription, vous recevrez un email avec les instructions pour procder au paiement de votre cotisation."]})}),n.jsx(H,{type:"submit",className:"w-full",disabled:h.isPending,style:{backgroundColor:`hsl(${j})`},"data-testid":"button-submit-join",children:h.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"h-4 w-4 animate-spin mr-2"}),"Envoi en cours..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Vc,{className:"h-4 w-4 mr-2"}),d.community.selfEnrollmentMode==="OPEN"?"S'inscrire":"Envoyer ma demande"]})})]})})]}),n.jsx("p",{className:"text-center text-xs text-gray-400 mt-6",children:"Propuls par Koomy"})]})})}function iee(){const[e,t]=zt(),[r,s]=v.useState(!1),[a,i]=v.useState(!1),{setUser:o}=dt(),[c,d]=v.useState(""),[m,f]=v.useState(""),h=async g=>{g.preventDefault(),i(!0);try{const b=await da("/api/platform/login",{email:c,password:m});if(!b.ok)throw new Error(b.data?.error||"Erreur de connexion");const w=b.data;o({...w.user,memberships:[],isPlatformAdmin:!0}),X.success("Bienvenue sur Koomy Platform!"),setTimeout(()=>{t("/platform/dashboard")},100)}catch(b){X.error(b instanceof Error?b.message:"Erreur de connexion")}finally{i(!1)}};return n.jsxs("div",{className:"min-h-screen flex","data-testid":"platform-login-page",children:[n.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden bg-gray-900",children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-full",style:{background:"radial-gradient(circle at 30% 50%, rgba(68, 168, 255, 0.15) 0%, transparent 50%)"}}),n.jsx("div",{className:"absolute top-0 right-0 w-full h-full",style:{background:"radial-gradient(circle at 70% 80%, rgba(138, 43, 226, 0.1) 0%, transparent 40%)"}}),n.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center w-full p-12 text-white",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx("img",{src:$g,alt:"Koomy",className:"h-16 drop-shadow-xl"}),n.jsx("div",{className:"h-8 w-px bg-white/20"}),n.jsx("span",{className:"text-blue-400 font-semibold text-xl",children:"Platform"})]}),n.jsx("h1",{className:"text-4xl font-bold mb-4 text-center",children:"Super Admin Console"}),n.jsx("p",{className:"text-xl text-gray-400 text-center max-w-md",children:"Pilotez l'ensemble de la plateforme Koomy depuis un seul tableau de bord."}),n.jsxs("div",{className:"mt-12 space-y-4 w-full max-w-sm",children:[n.jsxs("div",{className:"flex items-center gap-4 bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:n.jsx(Mr,{className:"h-5 w-5 text-blue-400"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Contrle total"}),n.jsx("div",{className:"text-sm text-gray-400",children:"Gestion multi-tenant centralise"})]})]}),n.jsxs("div",{className:"flex items-center gap-4 bg-white/5 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:n.jsx(Pg,{className:"h-5 w-5 text-purple-400"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Analytics avancs"}),n.jsx("div",{className:"text-sm text-gray-400",children:"MRR, churn, croissance en temps rel"})]})]})]})]})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-gray-100",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsx("div",{className:"lg:hidden flex justify-center mb-8",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:$g,alt:"Koomy",className:"h-12"}),n.jsx("span",{className:"text-blue-500 font-semibold",children:"Platform"})]})}),n.jsxs(ve,{className:"border-0 shadow-xl",children:[n.jsxs(Ge,{className:"text-center pb-2",children:[n.jsx("div",{className:"mx-auto mb-4 h-14 w-14 rounded-2xl bg-gray-900 flex items-center justify-center",children:n.jsx(Mr,{className:"h-7 w-7 text-blue-400"})}),n.jsx(Ve,{className:"text-2xl font-bold",children:"Super Admin"}),n.jsx(Ct,{children:"Accs restreint aux propritaires de la plateforme"})]}),n.jsxs(je,{className:"pt-4",children:[n.jsxs("form",{onSubmit:h,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email administrateur"}),n.jsxs("div",{className:"relative",children:[n.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"email",type:"email",value:c,onChange:g=>d(g.target.value),placeholder:"admin@koomy.app",className:"pl-11 h-12 rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500",required:!0,"data-testid":"input-platform-email"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Mot de passe"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx(ne,{id:"password",type:r?"text":"password",value:m,onChange:g=>f(g.target.value),placeholder:"",className:"pl-11 pr-11 h-12 rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500",required:!0,"data-testid":"input-platform-password"}),n.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?n.jsx(ma,{size:20}):n.jsx(ws,{size:20})})]})]}),n.jsx(H,{type:"submit",disabled:a,className:"w-full h-12 rounded-xl bg-gray-900 hover:bg-gray-800 text-white font-semibold shadow-lg transition-all","data-testid":"button-platform-submit",children:a?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Authentification..."]}):n.jsxs("div",{className:"flex items-center gap-2",children:["Accder  la console",n.jsx(En,{size:18})]})})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[n.jsx(Mr,{size:14}),"Connexion scurise et audite"]})})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>t("/"),className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:" Retour  l'accueil"})})]})})]})}const en=async(e,t)=>{const r=Lt(),s=e.startsWith("/")?`${r}${e}`:`${r}/${e}`;return fetch(s,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t?.headers}})},d_={FREE:"#94a3b8",PLUS:"#3b82f6",PRO:"#8b5cf6",GRAND_COMPTE:"#f59e0b"},d0={platform_super_admin:{label:"Super Owner",color:"bg-purple-100 text-purple-700 border-purple-200",icon:ii,description:"Accs complet  toutes les fonctionnalits"},platform_support:{label:"Support Technique",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Ra,description:"Gestion des tickets et assistance clients"},platform_commercial:{label:"Commercial",color:"bg-green-100 text-green-700 border-green-200",icon:eae,description:"Gestion des prospects et contacts commerciaux"}},kn=e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(e),m0=e=>new Intl.NumberFormat("fr-FR").format(e);function mze(){const[e,t]=zt(),{user:r,logout:s,isPlatformAdmin:a,authReady:i}=dt(),o=Wt(),[c,d]=v.useState(!1),[m,f]=v.useState(""),[h,g]=v.useState(null),[b,w]=v.useState(!1),[y,j]=v.useState(""),[N,C]=v.useState("all"),[E,T]=v.useState(!1),[A,k]=v.useState(null),[P,O]=v.useState(""),[M,F]=v.useState("permanent"),[D,$]=v.useState("30"),[V,z]=v.useState(!1),[q,I]=v.useState(null),[K,U]=v.useState(!1),[B,ie]=v.useState("basic"),[G,Y]=v.useState("self_service"),[se,he]=v.useState(""),[Q,xe]=v.useState("EUR"),[me,Ue]=v.useState(""),[ge,Ee]=v.useState(""),[Z,re]=v.useState("EUR"),[le,Re]=v.useState(""),[Pt,Ot]=v.useState("active"),[_n,ss]=v.useState(""),[Yr,Ns]=v.useState(""),[Jn,vn]=v.useState(""),[as,er]=v.useState(""),[bi,du]=v.useState(""),[Ph,Wl]=v.useState(""),[dy,Zd]=v.useState(""),[my,Oh]=v.useState(""),[ji,is]=v.useState(!0),[wi,os]=v.useState(""),[fy,kh]=v.useState(""),[hy,Yl]=v.useState(""),[qo,Ql]=v.useState(""),[ga,mu]=v.useState(""),[Fo,py]=v.useState(""),[Xl,Jd]=v.useState(""),[Zl,Hw]=v.useState(!1),[Mh,gy]=v.useState(!1),Rh=v.useRef(null),em=v.useRef(null),[Jl,tm]=v.useState(""),[fu,Fa]=v.useState(""),[dr,Ir]=v.useState(null),[ec,tc]=v.useState(!1),[xy,Dh]=v.useState(null),[hu,to]=v.useState(""),[Ih,no]=v.useState(!1),[ro,nc]=v.useState(""),[so,mr]=v.useState(""),[Lh,$h]=v.useState(""),[ao,Bo]=v.useState(""),[zh,qh]=v.useState(""),[Ba,Fh]=v.useState(null),[pu,gu]=v.useState(""),[Ua,$s]=v.useState(""),[xu,yy]=v.useState(""),[Bh,yu]=v.useState(!1),[Uo,Gw]=v.useState("year"),[ls,Uh]=v.useState(""),[vu,Vh]=v.useState(""),[rc,bu]=v.useState(!1),[ln,cs]=v.useState(null),{data:Ww=[],isLoading:vy}=Pe({queryKey:["platform-all-communities",r?.id],queryFn:async()=>{const R=await en(`/api/platform/all-communities?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch communities");return await R.json()},enabled:!!r?.id}),{data:nm=[],isLoading:Kh}=Pe({queryKey:["plans"],queryFn:async()=>{const R=await en("/api/plans");if(!R.ok)throw new Error("Failed to fetch plans");return await R.json()}}),{data:Zt,isLoading:by}=Pe({queryKey:["platform-metrics"],queryFn:async()=>{const R=await en(`/api/platform/metrics?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch metrics");return await R.json()},enabled:!!r?.id}),{data:rm=[]}=Pe({queryKey:["revenue-history"],queryFn:async()=>{const R=await en(`/api/platform/revenue-history?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch revenue history");return await R.json()},enabled:!!r?.id}),{data:Va=[]}=Pe({queryKey:["top-communities"],queryFn:async()=>{const R=await en(`/api/platform/top-communities?userId=${r?.id}&limit=5`);if(!R.ok)throw new Error("Failed to fetch top communities");return await R.json()},enabled:!!r?.id}),{data:sm=[]}=Pe({queryKey:["at-risk-communities"],queryFn:async()=>{const R=await en(`/api/platform/analytics/at-risk?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch at-risk communities");return await R.json()},enabled:!!r?.id}),{data:Hh=[]}=Pe({queryKey:["member-growth"],queryFn:async()=>{const R=await en(`/api/platform/analytics/member-growth?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch member growth");return await R.json()},enabled:!!r?.id}),{data:sc=[]}=Pe({queryKey:["plan-utilization"],queryFn:async()=>{const R=await en(`/api/platform/analytics/plan-utilization?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch plan utilization");return await R.json()},enabled:!!r?.id}),{data:ac=[]}=Pe({queryKey:["registration-timeline"],queryFn:async()=>{const R=await en(`/api/platform/analytics/registrations?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch registrations");return await R.json()},enabled:!!r?.id}),{data:Gh=[]}=Pe({queryKey:["geographic-distribution"],queryFn:async()=>{const R=await en(`/api/platform/analytics/geographic?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch geographic distribution");return await R.json()},enabled:!!r?.id}),{data:Wh=[]}=Pe({queryKey:["top-by-members"],queryFn:async()=>{const R=await en(`/api/platform/analytics/top-by-members?userId=${r?.id}&limit=10`);if(!R.ok)throw new Error("Failed to fetch top by members");return await R.json()},enabled:!!r?.id}),{data:ju=[],isLoading:wu}=Pe({queryKey:["platform-users"],queryFn:async()=>{const R=await en(`/api/platform/users?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch platform users");return await R.json()},enabled:!!r?.id}),{data:wr=[],isLoading:Yh,refetch:am}=Pe({queryKey:["platform-tickets"],queryFn:async()=>{const R=await en(`/api/platform/tickets?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch tickets");return await R.json()},enabled:!!r?.id}),{data:Ss}=Pe({queryKey:["payment-analytics"],queryFn:async()=>{const R=await en(`/api/platform/payments/analytics?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch payment analytics");return await R.json()},enabled:!!r?.id}),Qh=()=>{const R=new Date;let be,Ye=R;switch(Uo){case"month":be=new Date(R.getFullYear(),R.getMonth(),1);break;case"quarter":const _t=Math.floor(R.getMonth()/3)*3;be=new Date(R.getFullYear(),_t,1);break;case"year":be=new Date(R.getFullYear(),0,1);break;case"custom":be=ls?new Date(ls):new Date(R.getFullYear(),0,1),Ye=vu?new Date(vu):R;break;default:be=new Date(R.getFullYear(),0,1)}return{start:be,end:Ye}},{data:tr,isLoading:jy}=Pe({queryKey:["revenue-analytics",Uo,ls,vu],queryFn:async()=>{const{start:R,end:be}=Qh(),Ye=new URLSearchParams({userId:r?.id||"",startDate:R.toISOString(),endDate:be.toISOString()}),_t=await en(`/api/platform/revenue-analytics?${Ye}`);if(!_t.ok)throw new Error("Failed to fetch revenue analytics");return await _t.json()},enabled:!!r?.id}),{data:Nu=[],refetch:im}=Pe({queryKey:["email-templates"],queryFn:async()=>{const R=await en("/api/owner/email-templates");if(!R.ok)throw new Error("Failed to fetch email templates");return await R.json()}}),{data:om=[]}=Pe({queryKey:["email-logs"],queryFn:async()=>{const R=await en("/api/owner/email-logs?limit=50");if(!R.ok)throw new Error("Failed to fetch email logs");return await R.json()}}),{data:De,isLoading:Ni,refetch:Su}=Pe({queryKey:["platform-health"],queryFn:async()=>{const R=await en(`/api/platform/health/summary?userId=${r?.id}`);if(!R.ok)throw new Error("Failed to fetch health data");return await R.json()},enabled:!!r?.id,refetchInterval:6e4}),Vo=qe({mutationFn:async({communityId:R,reason:be,expiresAt:Ye})=>{const _t=await en(`/api/platform/communities/${R}/full-access`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grantedBy:r?.id,reason:be,expiresAt:Ye})});if(!_t.ok){const ir=await _t.json();throw new Error(ir.error||"Failed to grant full access")}return await _t.json()},onSuccess:R=>{o.invalidateQueries({queryKey:["communities"]}),Ut({title:"Accs complet accord",description:R.message}),T(!1),np()},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Xh=qe({mutationFn:async R=>{const be=await en(`/api/platform/communities/${R}/full-access?userId=${r?.id}`,{method:"DELETE"});if(!be.ok){const Ye=await be.json();throw new Error(Ye.error||"Failed to revoke full access")}return await be.json()},onSuccess:R=>{o.invalidateQueries({queryKey:["communities"]}),Ut({title:"Accs complet rvoqu",description:R.message}),T(!1),np()},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Cu=qe({mutationFn:async R=>{const be=await en(`/api/platform/communities/${R.communityId}/white-label?userId=${r?.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!be.ok){const Ye=await be.json();throw new Error(Ye.error||"Failed to update white label settings")}return await be.json()},onSuccess:R=>{o.invalidateQueries({queryKey:["communities"]}),Ut({title:"Paramtres White Label",description:R.message}),z(!1),Ay()},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Au=qe({mutationFn:async({communityId:R,email:be,displayName:Ye})=>{const _t=await en(`/api/platform/communities/${R}/create-owner-admin?userId=${r?.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:be,displayName:Ye})});if(!_t.ok){const ir=await _t.json();throw new Error(ir.error||"chec de la cration de l'administrateur")}return await _t.json()},onSuccess:R=>{o.invalidateQueries({queryKey:["communities"]}),R.emailSent?Ut({title:"Administrateur cr",description:R.message}):Ut({title:"Administrateur cr",description:R.warning,variant:"default"}),tm(""),Fa(""),R.membership&&Ir({email:R.membership.email,displayName:R.membership.displayName,id:R.membership.id})},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Ko=qe({mutationFn:async({communityId:R,name:be})=>{const Ye=await en(`/api/platform/communities/${R}/name?userId=${r?.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:be})});if(!Ye.ok){const _t=await Ye.json();throw new Error(_t.error||"chec de la mise  jour du nom")}return await Ye.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["communities"]}),Ut({title:"Nom mis  jour",description:"Le nom du client a t modifi avec succs."}),tc(!1),Dh(null),to("")},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),ic=qe({mutationFn:async R=>{const be=await en(`/api/platform/users?userId=${r?.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!be.ok){const Ye=await be.json();throw new Error(Ye.error||"Failed to create user")}return await be.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["platform-users"]}),Ut({title:"Utilisateur cr",description:"Le nouvel utilisateur a t ajout avec succs."}),no(!1),Zw()},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),wy=qe({mutationFn:async({userId:R,globalRole:be})=>{const Ye=await en(`/api/platform/users/${R}/role?userId=${r?.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({globalRole:be})});if(!Ye.ok){const _t=await Ye.json();throw new Error(_t.error||"Failed to update user role")}return await Ye.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["platform-users"]}),Ut({title:"Rle mis  jour"})},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Ny=qe({mutationFn:async R=>{const be=await en(`/api/platform/users/${R}/role?userId=${r?.id}`,{method:"DELETE"});if(!be.ok){const Ye=await be.json();throw new Error(Ye.error||"Failed to demote user")}return await be.json()},onSuccess:R=>{o.invalidateQueries({queryKey:["platform-users"]}),Ut({title:"Utilisateur retir",description:R.message})},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Zh=qe({mutationFn:async R=>{const be=await en(`/api/platform/plans/${R.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!be.ok){const Ye=await be.json();throw new Error(Ye.error||"Failed to update plan")}return await be.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["plans"]}),Ut({title:"Plan mis  jour",description:"Les modifications ont t enregistres."}),bu(!1),cs(null)},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Jh=qe({mutationFn:async({type:R,subject:be,html:Ye})=>{const _t=await en(`/api/owner/email-templates/${R}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({subject:be,html:Ye})});if(!_t.ok){const ir=await _t.json();throw new Error(ir.error||"Failed to update template")}return await _t.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["email-templates"]}),Ut({title:"Template mis  jour",description:"Les modifications ont t enregistres."}),Fh(null)},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Eu=qe({mutationFn:async({type:R,email:be,variables:Ye})=>{const _t=await en("/api/owner/email-templates/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:R,email:be,variables:Ye})});if(!_t.ok){const ir=await _t.json();throw new Error(ir.error||"Failed to send test email")}return await _t.json()},onSuccess:R=>{Ut({title:"Email envoy",description:R.message}),yu(!1),yy(""),o.invalidateQueries({queryKey:["email-logs"]})},onError:R=>{Ut({title:"Erreur",description:R.message,variant:"destructive"})}}),Yw=qe({mutationFn:async({ticketId:R,assignedTo:be})=>{const Ye=await en(`/api/platform/tickets/${R}/assign?userId=${r?.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({assignedTo:be})});if(!Ye.ok)throw new Error("Failed to assign ticket");return await Ye.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["platform-tickets"]}),Ut({title:"Ticket assign"})},onError:()=>{Ut({title:"Erreur",description:"Impossible d'assigner le ticket",variant:"destructive"})}}),Qw=qe({mutationFn:async({ticketId:R,status:be})=>{const Ye=await en(`/api/platform/tickets/${R}/status?userId=${r?.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:be})});if(!Ye.ok)throw new Error("Failed to update ticket status");return await Ye.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["platform-tickets"]}),Ut({title:"Statut mis  jour"})},onError:()=>{Ut({title:"Erreur",description:"Impossible de mettre  jour le statut",variant:"destructive"})}}),ep=qe({mutationFn:async({ticketId:R,message:be,isInternal:Ye})=>{const _t=await en(`/api/platform/tickets/${R}/responses?userId=${r?.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:be,isInternal:Ye})});if(!_t.ok)throw new Error("Failed to add response");return await _t.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["platform-tickets"]}),j(""),Ut({title:"Rponse envoye"}),h&&Sy(h.id)},onError:()=>{Ut({title:"Erreur",description:"Impossible d'envoyer la rponse",variant:"destructive"})}}),Sy=async R=>{try{const be=await en(`/api/platform/tickets/${R}?userId=${r?.id}`);if(!be.ok)throw new Error("Failed to fetch ticket details");const Ye=await be.json();g(Ye)}catch{Ut({title:"Erreur",description:"Impossible de charger les dtails du ticket",variant:"destructive"})}},Cy=R=>{Sy(R.id),w(!0)},tp=wr.filter(R=>N==="all"||R.status===N),np=()=>{k(null),O(""),F("permanent"),$("30")},Ay=()=>{I(null),U(!1),ie("basic"),Y("self_service"),he(""),xe("EUR"),Ue(""),Ee(""),re("EUR"),Re(""),Ot("active"),ss(""),Ns(""),vn(""),er(""),du(""),Wl(""),Zd(""),Oh(""),is(!0),os(""),kh(""),Yl(""),Ql(""),tm(""),Fa(""),Ir(null)},Xw=async R=>{if(I(R),U(R.whiteLabel||!1),ie(R.whiteLabelTier||"basic"),Y(R.billingMode||"self_service"),he(R.setupFeeAmountCents?String(R.setupFeeAmountCents/100):""),xe(R.setupFeeCurrency||"EUR"),Ue(R.setupFeeInvoiceRef||""),Ee(R.maintenanceAmountYearCents?String(R.maintenanceAmountYearCents/100):""),re(R.maintenanceCurrency||"EUR"),Re(R.maintenanceNextBillingDate?R.maintenanceNextBillingDate.split("T")[0]:""),Ot(R.maintenanceStatus||"active"),ss(R.internalNotes||""),Ns(R.brandConfig?.appName||""),vn(R.brandConfig?.brandColor||""),er(R.brandConfig?.logoUrl||""),du(R.brandConfig?.appIconUrl||""),Wl(R.brandConfig?.emailFromName||""),Zd(R.brandConfig?.emailFromAddress||""),Oh(R.brandConfig?.replyTo||""),is(R.brandConfig?.showPoweredBy??!0),os(R.brandConfig?.privacyPolicyUrl||""),kh(R.brandConfig?.termsUrl||""),Yl(R.brandConfig?.deleteAccountUrl||""),Ql(R.customDomain||""),mu(R.whiteLabelIncludedMembers?String(R.whiteLabelIncludedMembers):""),py(R.whiteLabelMaxMembersSoftLimit?String(R.whiteLabelMaxMembersSoftLimit):""),Jd(R.whiteLabelAdditionalFeePerMemberCents?String(R.whiteLabelAdditionalFeePerMemberCents/100):""),Ir(null),R.whiteLabel)try{const be=await en(`/api/communities/${R.id}/members`);if(be.ok){const _t=(await be.json()).find(ir=>ir.isOwner===!0);_t&&Ir({email:_t.email||"",displayName:_t.displayName||"",id:_t.id})}}catch(be){console.error("Failed to fetch owner admin:",be)}z(!0)},Ey=async(R,be)=>{const Ye=be==="logo"?Hw:gy,_t=be==="logo"?er:du;Ye(!0);try{const ir=new FormData;ir.append("file",R),ir.append("folder","white-label");const Py=Lt(),lm=await fetch(`${Py}/api/uploads/image-direct`,{method:"POST",body:ir,credentials:"include"});if(!lm.ok){const o1=await lm.json().catch(()=>({}));throw new Error(o1.error||"Upload failed")}const{objectPath:cm}=await lm.json(),oc=cm.startsWith("/objects/")?cm:`/objects/${cm}`;_t(oc),Ut({title:"Image uploade",description:"L'image a t uploade avec succs"})}catch(ir){console.error("Upload error:",ir),Ut({title:"Erreur",description:ir instanceof Error?ir.message:"chec de l'upload de l'image",variant:"destructive"})}finally{Ye(!1)}},rp=()=>{if(!q)return;const R=se?Math.round(parseFloat(se)*100):null,be=ge?Math.round(parseFloat(ge)*100):null,Ye=ga?parseInt(ga):null,_t=Fo?parseInt(Fo):null,ir=Xl?Math.round(parseFloat(Xl)*100):null;Cu.mutate({communityId:q.id,whiteLabel:K,whiteLabelTier:K?B:null,billingMode:G,setupFeeAmountCents:R,setupFeeCurrency:Q,setupFeeInvoiceRef:me||null,maintenanceAmountYearCents:be,maintenanceCurrency:Z,maintenanceNextBillingDate:le||null,maintenanceStatus:G==="manual_contract"?Pt:null,internalNotes:_n||null,brandConfig:K?{appName:Yr||void 0,brandColor:Jn||void 0,logoUrl:as||void 0,appIconUrl:bi||void 0,emailFromName:Ph||void 0,emailFromAddress:dy||void 0,replyTo:my||void 0,showPoweredBy:ji,privacyPolicyUrl:wi||void 0,termsUrl:fy||void 0,deleteAccountUrl:hy||void 0}:null,customDomain:K&&B==="premium"&&qo?qo:null,whiteLabelIncludedMembers:Ye,whiteLabelMaxMembersSoftLimit:_t,whiteLabelAdditionalFeePerMemberCents:ir})},Zw=()=>{nc(""),mr(""),$h(""),Bo(""),qh("")},io=R=>R.fullAccessGrantedAt?R.fullAccessExpiresAt?new Date<new Date(R.fullAccessExpiresAt):!0:!1,Jw=()=>{if(!A||!P.trim())return;let R=null;if(M!=="permanent"){const be=parseInt(M==="custom"?D:M),Ye=new Date;Ye.setDate(Ye.getDate()+be),R=Ye.toISOString()}Vo.mutate({communityId:A.id,reason:P,expiresAt:R})},_y=()=>{A&&Xh.mutate(A.id)},e1=R=>{O(""),F("permanent"),$("30"),k(R),T(!0)},t1=()=>{if(!ro||!so||!zh){Ut({title:"Erreur",description:"Veuillez remplir tous les champs obligatoires",variant:"destructive"});return}ic.mutate({email:ro,password:so,firstName:Lh,lastName:ao,globalRole:zh})};if(v.useEffect(()=>{i&&!a&&t("/platform/login")},[i,a,t]),!i||!a)return n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})});const n1=()=>{s(),t("/platform/login")},r1=()=>{Ut({title:"Client Cr",description:`L'organisation "${m}" a t ajoute avec succs.`}),d(!1),f("")},s1=R=>nm.find(be=>be.id===R)?.name||R,sp=rm.map(R=>({month:R.month.split("-")[1]+"/"+R.month.split("-")[0].slice(2),revenue:R.revenue,payments:R.payments})),Ty=Zt?.revenueByPlan.filter(R=>R.count>0).map(R=>({name:R.planName,value:R.count,mrr:R.mrr,color:d_[R.planCode]||"#6b7280"}))||[],a1=Hh.map(R=>({month:R.month.split("-")[1]+"/"+R.month.split("-")[0].slice(2),total:R.totalMembers,new:R.newMembers})),i1=ac.slice(-14).map(R=>({date:R.date.split("-").slice(1).join("/"),count:R.count}));return n.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans",children:[n.jsxs("header",{className:"bg-gray-900 text-white h-16 px-6 flex items-center justify-between sticky top-0 z-50 shadow-md",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"font-bold text-xl tracking-tight",children:["Koomy ",n.jsx("span",{className:"text-blue-400 font-normal",children:"Platform"})]}),n.jsx(Se,{className:"bg-blue-500/20 text-blue-300 border-0",children:"Super Owner"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm text-gray-400",children:r?.email}),n.jsxs("div",{className:"h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center font-bold border-2 border-blue-500",children:[r?.firstName?.[0],r?.lastName?.[0]]}),n.jsx("button",{onClick:n1,className:"text-gray-400 hover:text-red-400 transition-colors p-2",title:"Dconnexion",children:n.jsx(pl,{size:18})})]})]}),n.jsx("main",{className:"p-8 max-w-7xl mx-auto",children:n.jsxs(Gc,{defaultValue:"overview",className:"space-y-6",children:[n.jsxs(_l,{className:"bg-white p-1 border border-gray-200 rounded-lg w-full justify-start shadow-sm flex-wrap",children:[n.jsxs(tn,{value:"overview",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(R9,{className:"mr-2 h-4 w-4"})," Tableau de Bord"]}),n.jsxs(tn,{value:"finances",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(tu,{className:"mr-2 h-4 w-4"})," Finances"]}),n.jsxs(tn,{value:"analytics",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(Uu,{className:"mr-2 h-4 w-4"})," Analytics"]}),n.jsxs(tn,{value:"clients",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(ys,{className:"mr-2 h-4 w-4"})," Clients"]}),n.jsxs(tn,{value:"users",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(F9,{className:"mr-2 h-4 w-4"})," quipe"]}),n.jsxs(tn,{value:"plans",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(wd,{className:"mr-2 h-4 w-4"})," Plans"]}),n.jsxs(tn,{value:"support",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(xo,{className:"mr-2 h-4 w-4"})," Support"]}),n.jsxs(tn,{value:"emails",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(bs,{className:"mr-2 h-4 w-4"})," Templates Email"]}),n.jsxs(tn,{value:"health",className:"data-[state=active]:bg-gray-100 data-[state=active]:text-gray-900 px-4",children:[n.jsx(aie,{className:"mr-2 h-4 w-4"})," Sant"]})]}),n.jsxs(wn,{value:"overview",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tableau de Bord Financier"}),n.jsx("p",{className:"text-gray-500",children:"Vue globale de la performance de la plateforme"})]})}),by?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(ve,{className:"border-l-4 border-l-blue-500 shadow-sm bg-gradient-to-br from-white to-blue-50/30",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"MRR (Revenu Mensuel)"}),n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(oa,{className:"h-4 w-4 text-blue-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-gray-900","data-testid":"text-mrr",children:kn(Zt?.mrr||0)}),n.jsxs("div",{className:"flex items-center mt-2",children:[(Zt?.mrrGrowth||0)>=0?n.jsxs(Se,{className:"bg-green-100 text-green-700 border-0 gap-1",children:[n.jsx(po,{className:"h-3 w-3"})," +",Zt?.mrrGrowth||0,"%"]}):n.jsxs(Se,{className:"bg-red-100 text-red-700 border-0 gap-1",children:[n.jsx(Doe,{className:"h-3 w-3"})," ",Zt?.mrrGrowth||0,"%"]}),n.jsx("span",{className:"text-xs text-gray-500 ml-2",children:"vs mois dernier"})]})]})}),n.jsx(ve,{className:"border-l-4 border-l-purple-500 shadow-sm bg-gradient-to-br from-white to-purple-50/30",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ARR (Revenu Annuel)"}),n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(__,{className:"h-4 w-4 text-purple-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:kn(Zt?.arr||0)}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Projection annuelle"})]})}),n.jsx(ve,{className:"border-l-4 border-l-green-500 shadow-sm bg-gradient-to-br from-white to-green-50/30",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Volume Collect"}),n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(C6,{className:"h-4 w-4 text-green-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:kn(Zt?.volumeCollected||0)}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["dont ",kn(Zt?.volumeCollectedThisMonth||0)," ce mois"]})]})}),n.jsx(ve,{className:"border-l-4 border-l-amber-500 shadow-sm bg-gradient-to-br from-white to-amber-50/30",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Clients Actifs"}),n.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:n.jsx(ys,{className:"h-4 w-4 text-amber-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:Zt?.activeClients||0}),n.jsx("div",{className:"flex items-center gap-2 mt-2",children:n.jsxs(Se,{className:"bg-green-100 text-green-700 border-0 text-xs",children:["+",Zt?.newClientsThisMonth||0," nouveau",(Zt?.newClientsThisMonth||0)>1?"x":""]})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(ve,{className:"lg:col-span-2",children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Uu,{className:"h-5 w-5 text-blue-500"}),"volution du Volume Collect"]})}),n.jsx(je,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(mo,{width:"100%",height:"100%",children:n.jsxs(u0,{data:sp,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),n.jsx(fo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(sa,{dataKey:"month",tick:{fontSize:12}}),n.jsx(aa,{tick:{fontSize:12},tickFormatter:R=>`${R}`}),n.jsx(Ur,{formatter:R=>[kn(R),"Revenus"]}),n.jsx(Pa,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(gae,{className:"h-5 w-5 text-purple-500"}),"Rpartition par Plan"]})}),n.jsx(je,{children:n.jsx("div",{className:"h-[250px]",children:n.jsx(mo,{width:"100%",height:"100%",children:n.jsxs(_3e,{children:[n.jsx(Vl,{data:Ty,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:2,dataKey:"value",children:Ty.map((R,be)=>n.jsx(yw,{fill:R.color},`cell-${be}`))}),n.jsx(Ur,{formatter:(R,be,Ye)=>[`${R} client${R>1?"s":""}`,be]}),n.jsx(Fc,{verticalAlign:"bottom",height:36})]})})})})]})]}),n.jsxs(ve,{className:"mt-6",children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-5 w-5 text-amber-500"}),"Top Communauts par Volume"]})}),n.jsx(je,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:Va.length>0?Va.map((R,be)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-white ${be===0?"bg-amber-500":be===1?"bg-gray-400":be===2?"bg-amber-700":"bg-gray-300"}`,children:be+1}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:R.communityName}),n.jsx("p",{className:"text-sm text-green-600 font-bold",children:kn(R.totalRevenue)})]})]},R.communityId)):n.jsx("p",{className:"text-gray-500 text-sm col-span-5 text-center py-4",children:"Aucune donne disponible"})})})]})]})]}),n.jsxs(wn,{value:"finances",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dtails Financiers"}),n.jsx("p",{className:"text-gray-500",children:"Analyse dtaille des revenus et paiements de la plateforme"})]})}),n.jsxs(ve,{className:"mb-8 border-l-4 border-l-green-500",children:[n.jsx(Ge,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(oa,{className:"h-5 w-5 text-green-500"}),"Chiffre d'Affaires Koomy"]}),n.jsx(Ct,{children:"Revenus de la plateforme par produit"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(it,{value:Uo,onValueChange:R=>Gw(R),children:[n.jsx(rt,{className:"w-[140px]","data-testid":"select-period",children:n.jsx(ot,{placeholder:"Priode"})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"month",children:"Ce mois"}),n.jsx(Ae,{value:"quarter",children:"Ce trimestre"}),n.jsx(Ae,{value:"year",children:"Cette anne"}),n.jsx(Ae,{value:"custom",children:"Personnalis"})]})]}),Uo==="custom"&&n.jsxs(n.Fragment,{children:[n.jsx(ne,{type:"date",value:ls,onChange:R=>Uh(R.target.value),className:"w-[140px]","data-testid":"input-start-date"}),n.jsx("span",{className:"text-gray-500",children:""}),n.jsx(ne,{type:"date",value:vu,onChange:R=>Vh(R.target.value),className:"w-[140px]","data-testid":"input-end-date"})]})]})]})}),n.jsx(je,{children:jy?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-green-500 border-t-transparent rounded-full"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[n.jsx("p",{className:"text-sm text-green-600 font-medium",children:"CA Total Koomy"}),n.jsx("p",{className:"text-3xl font-bold text-green-700",children:kn(tr?.totalKoomyFees||0)}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:tr?.periodComparison?.growthPercent!==void 0&&n.jsxs("span",{className:tr.periodComparison.growthPercent>=0?"text-green-600":"text-red-600",children:[tr.periodComparison.growthPercent>=0?"":""," ",Math.abs(tr.periodComparison.growthPercent).toFixed(1),"% vs priode prcdente"]})})]}),n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Abonnements SaaS"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:kn(tr?.byProduct?.subscriptions?.fees||0)}),n.jsxs("p",{className:"text-xs text-blue-500",children:[tr?.byProduct?.subscriptions?.count||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:[n.jsx("p",{className:"text-sm text-amber-600 font-medium",children:"Cotisations Membres"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:kn(tr?.byProduct?.memberships?.fees||0)}),n.jsxs("p",{className:"text-xs text-amber-500",children:[tr?.byProduct?.memberships?.count||0," transactions"]})]}),n.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[n.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Collectes (4% com.)"}),n.jsx("p",{className:"text-2xl font-bold text-purple-700",children:kn(tr?.byProduct?.collections?.fees||0)}),n.jsxs("p",{className:"text-xs text-purple-500",children:[tr?.byProduct?.collections?.count||0," transactions"]})]})]}),tr?.byProduct?.whiteLabel?.setupFees||tr?.byProduct?.whiteLabel?.maintenance?n.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg border border-purple-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(ii,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{className:"font-medium text-purple-700",children:"Revenus White Label"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-purple-600",children:"Frais d'installation"}),n.jsx("p",{className:"text-xl font-bold text-purple-700",children:kn(tr.byProduct.whiteLabel.setupFees)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-purple-600",children:"Maintenance annuelle"}),n.jsx("p",{className:"text-xl font-bold text-purple-700",children:kn(tr.byProduct.whiteLabel.maintenance)})]})]})]}):null,tr?.timeline&&tr.timeline.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx(Uu,{className:"h-4 w-4"}),"volution du CA par Produit"]}),n.jsx("div",{className:"h-[300px]",children:n.jsx(mo,{width:"100%",height:"100%",children:n.jsxs(u0,{data:tr.timeline,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorSubscriptions",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorMemberships",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCollections",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})]}),n.jsx(fo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(sa,{dataKey:"month",tick:{fontSize:12}}),n.jsx(aa,{tick:{fontSize:12},tickFormatter:R=>`${R}`}),n.jsx(Ur,{formatter:(R,be)=>[kn(R),be==="subscriptions"?"Abonnements":be==="memberships"?"Cotisations":be==="collections"?"Collectes":be]}),n.jsx(Fc,{formatter:R=>R==="subscriptions"?"Abonnements SaaS":R==="memberships"?"Cotisations":R==="collections"?"Collectes":R}),n.jsx(Pa,{type:"monotone",dataKey:"subscriptions",stackId:"1",stroke:"#3b82f6",strokeWidth:2,fill:"url(#colorSubscriptions)"}),n.jsx(Pa,{type:"monotone",dataKey:"memberships",stackId:"1",stroke:"#f59e0b",strokeWidth:2,fill:"url(#colorMemberships)"}),n.jsx(Pa,{type:"monotone",dataKey:"collections",stackId:"1",stroke:"#8b5cf6",strokeWidth:2,fill:"url(#colorCollections)"})]})})})]})]})})]}),by?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx(ve,{className:"shadow-sm",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nombre de Paiements"}),n.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:n.jsx(mn,{className:"h-4 w-4 text-indigo-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:m0(Zt?.paymentsCount||0)}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["dont ",m0(Zt?.paymentsCountThisMonth||0)," ce mois"]})]})}),n.jsx(ve,{className:"shadow-sm",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Membres"}),n.jsx("div",{className:"p-2 bg-cyan-100 rounded-lg",children:n.jsx(It,{className:"h-4 w-4 text-cyan-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:m0(Zt?.totalMembers||0)}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"sur l'ensemble des communauts"})]})}),n.jsx(ve,{className:"shadow-sm",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Nouveaux Clients"}),n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(k9,{className:"h-4 w-4 text-emerald-600"})})]}),n.jsxs("div",{className:"text-3xl font-bold text-emerald-600",children:["+",Zt?.newClientsThisMonth||0]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ce mois-ci"})]})}),n.jsx(ve,{className:"shadow-sm",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Clients Perdus"}),n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(O9,{className:"h-4 w-4 text-red-600"})})]}),n.jsxs("div",{className:"text-3xl font-bold text-red-600",children:["-",Zt?.churnedClientsThisMonth||0]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ce mois-ci (churn)"})]})})]}),n.jsxs(ve,{className:"mb-6",children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(oa,{className:"h-5 w-5 text-blue-500"}),"Rpartition des Revenus par Plan"]}),n.jsx(Ct,{children:"Dtail du MRR par formule d'abonnement"})]}),n.jsx(je,{children:n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Plan"}),n.jsx(Ke,{className:"text-center",children:"Clients"}),n.jsx(Ke,{className:"text-right",children:"MRR"}),n.jsx(Ke,{className:"text-right",children:"% du Total"})]})}),n.jsxs(Bs,{children:[Zt?.revenueByPlan.map(R=>{const be=Zt.mrr>0?R.mrr/Zt.mrr*100:0;return n.jsxs(rn,{children:[n.jsx(Be,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d_[R.planCode]||"#6b7280"}}),n.jsx("span",{className:"font-medium",children:R.planName})]})}),n.jsx(Be,{className:"text-center",children:n.jsx(Se,{variant:"outline",children:R.count})}),n.jsx(Be,{className:"text-right font-bold text-green-600",children:kn(R.mrr)}),n.jsx(Be,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(zc,{value:be,className:"w-16 h-2"}),n.jsxs("span",{className:"text-sm text-gray-500 w-12 text-right",children:[be.toFixed(1),"%"]})]})})]},R.planId)}),n.jsxs(rn,{className:"bg-gray-50 font-bold",children:[n.jsx(Be,{children:"TOTAL"}),n.jsx(Be,{className:"text-center",children:Zt?.activeClients||0}),n.jsx(Be,{className:"text-right text-green-700",children:kn(Zt?.mrr||0)}),n.jsx(Be,{className:"text-right",children:"100%"})]})]})]})})]}),Zt?.whiteLabel&&Zt.whiteLabel.activeContracts>0&&n.jsx(n.Fragment,{children:n.jsxs(ve,{className:"mb-6 border-l-4 border-l-purple-500",children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(ii,{className:"h-5 w-5 text-purple-500"}),"Contrats White Label"]}),n.jsx(Ct,{children:"Revenus des licences en contrat annuel"})]}),n.jsxs(je,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Contrats Actifs"}),n.jsx("p",{className:"text-2xl font-bold text-purple-700",children:Zt.whiteLabel.activeContracts})]}),n.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Maintenance Annuelle"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:kn(Zt.whiteLabel.totalMaintenanceAnnual)})]}),n.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-green-600 font-medium",children:"MRR Contrats"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:kn(Zt.whiteLabel.maintenanceMRR)})]}),n.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg",children:[n.jsx("p",{className:"text-sm text-amber-600 font-medium",children:"Frais d'Installation"}),n.jsx("p",{className:"text-2xl font-bold text-amber-700",children:kn(Zt.whiteLabel.totalSetupFees)})]})]}),Zt.whiteLabel.upcomingRenewals.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[n.jsx(Gn,{className:"h-4 w-4"}),"Renouvellements  Venir"]}),n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Client"}),n.jsx(Ke,{children:"Date de Renouvellement"}),n.jsx(Ke,{children:"Montant Annuel"}),n.jsx(Ke,{children:"Membres Inclus"}),n.jsx(Ke,{children:"Statut"})]})}),n.jsx(Bs,{children:Zt.whiteLabel.upcomingRenewals.map(R=>n.jsxs(rn,{children:[n.jsx(Be,{className:"font-medium",children:R.communityName}),n.jsx(Be,{children:new Date(R.renewalDate).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}),n.jsxs(Be,{className:"font-bold text-green-600",children:[kn(R.amount)," ",R.currency]}),n.jsx(Be,{children:R.includedMembers?n.jsxs(Se,{variant:"outline",children:[R.includedMembers," membres"]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx(Be,{children:n.jsx(Se,{className:R.status==="active"?"bg-green-100 text-green-700":R.status==="pending"?"bg-yellow-100 text-yellow-700":R.status==="late"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700",children:R.status==="active"?"Actif":R.status==="pending"?"En attente":R.status==="late"?"En retard":"Arrt"})})]},R.communityId))})]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Uu,{className:"h-5 w-5 text-blue-500"}),"volution Mensuelle des Revenus"]}),n.jsx(Ct,{children:"Historique des 12 derniers mois"})]}),n.jsx(je,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(mo,{width:"100%",height:"100%",children:n.jsxs(u0,{data:sp,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRevenueFinance",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),n.jsx(fo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(sa,{dataKey:"month",tick:{fontSize:12}}),n.jsx(aa,{tick:{fontSize:12},tickFormatter:R=>`${R}`}),n.jsx(Ur,{formatter:R=>[kn(R),"Revenus"]}),n.jsx(Pa,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorRevenueFinance)"})]})})})})]}),n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(mn,{className:"h-5 w-5 text-purple-500"}),"Nombre de Paiements Mensuels"]}),n.jsx(Ct,{children:"Volume de transactions par mois"})]}),n.jsx(je,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(mo,{width:"100%",height:"100%",children:n.jsxs(QP,{data:sp,children:[n.jsx(fo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(sa,{dataKey:"month",tick:{fontSize:12}}),n.jsx(aa,{tick:{fontSize:12}}),n.jsx(Ur,{formatter:R=>[R,"Paiements"]}),n.jsx(Dl,{dataKey:"payments",name:"Paiements",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-6 mb-6",children:[n.jsx(ve,{className:"border-l-4 border-l-emerald-500",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Volume de Transactions"}),n.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:n.jsx(Uu,{className:"h-4 w-4 text-emerald-600"})})]}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:kn(Ss?.totalVolume||0)}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Ce mois: ",kn(Ss?.totalVolumeThisMonth||0)]})]})}),n.jsx(ve,{className:"border-l-4 border-l-red-500",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Paiements chous"}),n.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:n.jsx(_s,{className:"h-4 w-4 text-red-600"})})]}),n.jsx("div",{className:"text-2xl font-bold text-red-600",children:Ss?.failedPayments?.count||0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Total: ",kn(Ss?.failedPayments?.amount||0)]})]})}),n.jsx(ve,{className:"border-l-4 border-l-orange-500",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Factures en Attente"}),n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(Ln,{className:"h-4 w-4 text-orange-600"})})]}),n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Ss?.pendingPayments?.count||0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Montant: ",kn(Ss?.pendingPayments?.amount||0)]})]})}),n.jsx(ve,{className:"border-l-4 border-l-blue-500",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Prvision Cash Flow"}),n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(po,{className:"h-4 w-4 text-blue-600"})})]}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:kn(Ss?.monthlyForecast?.[0]?.expectedRevenue||Zt?.mrr||0)}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Projection prochain mois"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx(ve,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:n.jsx(oa,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-100",children:"Revenu Mensuel Rcurrent"}),n.jsx("p",{className:"text-2xl font-bold",children:kn(Zt?.mrr||0)})]})]}),n.jsx("div",{className:"text-xs text-blue-200",children:"Base pour les projections annuelles"})]})}),n.jsx(ve,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:n.jsx(__,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-purple-100",children:"Revenu Annuel Rcurrent"}),n.jsx("p",{className:"text-2xl font-bold",children:kn(Zt?.arr||0)})]})]}),n.jsx("div",{className:"text-xs text-purple-200",children:"MRR  12 mois"})]})}),n.jsx(ve,{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white",children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"p-3 bg-white/20 rounded-lg",children:n.jsx(C6,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-emerald-100",children:"Volume Total Collect"}),n.jsx("p",{className:"text-2xl font-bold",children:kn(Zt?.volumeCollected||0)})]})]}),n.jsx("div",{className:"text-xs text-emerald-200",children:"Depuis le lancement"})]})})]})]})]}),n.jsxs(wn,{value:"analytics",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Communauts"}),n.jsx("p",{className:"text-gray-500",children:"Analyse dtaille des communauts et de leur croissance"})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(It,{className:"h-5 w-5 text-blue-500"}),"Croissance des Membres"]}),n.jsx(Ct,{children:"volution globale de la base membres Koomy"})]}),n.jsx(je,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(mo,{width:"100%",height:"100%",children:n.jsxs(YB,{data:a1,children:[n.jsx(fo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(sa,{dataKey:"month",tick:{fontSize:12}}),n.jsx(aa,{tick:{fontSize:12}}),n.jsx(Ur,{}),n.jsx(xd,{type:"monotone",dataKey:"total",name:"Total Membres",stroke:"#3b82f6",strokeWidth:2,dot:!1}),n.jsx(xd,{type:"monotone",dataKey:"new",name:"Nouveaux",stroke:"#10b981",strokeWidth:2,dot:!1})]})})})})]}),n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Gn,{className:"h-5 w-5 text-green-500"}),"Nouvelles Inscriptions"]}),n.jsx(Ct,{children:"Timeline des crations de communauts (14 derniers jours)"})]}),n.jsx(je,{children:n.jsx("div",{className:"h-[300px]",children:n.jsx(mo,{width:"100%",height:"100%",children:n.jsxs(QP,{data:i1,children:[n.jsx(fo,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(sa,{dataKey:"date",tick:{fontSize:10}}),n.jsx(aa,{tick:{fontSize:12},allowDecimals:!1}),n.jsx(Ur,{}),n.jsx(Dl,{dataKey:"count",name:"Inscriptions",fill:"#10b981",radius:[4,4,0,0]})]})})})})]})]}),n.jsxs(ve,{className:"mb-6",children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(wd,{className:"h-5 w-5 text-purple-500"}),"Taux d'Utilisation par Plan"]}),n.jsx(Ct,{children:"Pourcentage des membres autoriss utiliss par plan"})]}),n.jsx(je,{children:n.jsx("div",{className:"space-y-4",children:sc.filter(R=>R.communityCount>0).map(R=>n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:d_[R.planName.toUpperCase().replace(/ /g,"_")]||"#6b7280"}}),n.jsx("span",{className:"text-sm font-medium",children:R.planName}),n.jsxs(Se,{variant:"outline",className:"text-xs",children:[R.communityCount," communauts"]})]}),n.jsxs("span",{className:"text-sm",children:[R.totalMembersUsed," / ",R.totalMembersAllowed||""," membres",n.jsxs("span",{className:"ml-2 font-bold text-blue-600",children:["(",R.utilizationPercent,"%)"]})]})]}),n.jsx(zc,{value:R.utilizationPercent,className:"h-2"})]},R.planId))})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(br,{className:"h-5 w-5 text-red-500"}),"Communauts  Risque"]}),n.jsx(Ct,{children:"Faible activit, paiements en retard, quota limite"})]}),n.jsx(je,{children:sm.length>0?n.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:sm.map(R=>n.jsx("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border-l-4",style:{borderColor:R.riskLevel==="high"?"#ef4444":R.riskLevel==="medium"?"#f59e0b":"#6b7280"},children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-gray-900",children:R.communityName}),n.jsx(Se,{className:`text-xs ${R.riskLevel==="high"?"bg-red-100 text-red-700":R.riskLevel==="medium"?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-700"}`,children:R.riskLevel==="high"?"Critique":R.riskLevel==="medium"?"Attention":"Info"})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.details}),n.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(It,{size:12})," ",R.memberCount]}),n.jsx("span",{children:R.planName})]})]})},R.communityId))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(vr,{className:"h-12 w-12 mx-auto mb-2 text-green-500"}),n.jsx("p",{children:"Aucune communaut  risque"})]})})]}),n.jsxs(ve,{children:[n.jsxs(Ge,{children:[n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"h-5 w-5 text-blue-500"}),"Rpartition Gographique"]}),n.jsx(Ct,{children:"Distribution des communauts par pays"})]}),n.jsx(je,{children:Gh.length>0?n.jsx("div",{className:"space-y-4",children:Gh.slice(0,5).map((R,be)=>n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-sm",children:be+1}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-medium",children:R.country}),n.jsxs("span",{className:"text-sm text-gray-500",children:[R.count," communauts"]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[n.jsx(It,{size:12})," ",m0(R.totalMembers)," membres",R.cities.length>0&&n.jsxs("span",{className:"text-gray-400",children:[" Top: ",R.cities.slice(0,2).map(Ye=>Ye.city).join(", ")]})]})]})]},R.country))}):n.jsx("p",{className:"text-center py-8 text-gray-500",children:"Aucune donne gographique"})})]})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-5 w-5 text-green-500"}),"Top Communauts par Membres"]})}),n.jsx(je,{children:n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Rang"}),n.jsx(Ke,{children:"Communaut"}),n.jsx(Ke,{children:"Membres"}),n.jsx(Ke,{children:"Plan"}),n.jsx(Ke,{children:"Pays"})]})}),n.jsx(Bs,{children:Wh.map((R,be)=>n.jsxs(rn,{children:[n.jsx(Be,{children:n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${be===0?"bg-amber-500":be===1?"bg-gray-400":be===2?"bg-amber-700":"bg-gray-300"}`,children:be+1})}),n.jsx(Be,{className:"font-medium",children:R.communityName}),n.jsx(Be,{children:n.jsx(Se,{variant:"outline",children:R.memberCount})}),n.jsx(Be,{children:R.planName}),n.jsx(Be,{className:"text-gray-500",children:R.country||"N/A"})]},R.communityId))})]})})]})]}),n.jsxs(wn,{value:"clients",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tenants / Communauts"}),n.jsx("p",{className:"text-gray-500",children:"Grez l'ensemble des organisations hberges sur Koomy."})]}),n.jsxs(ht,{open:c,onOpenChange:d,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2 bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-200",children:[n.jsx(Sn,{size:18})," Nouveau Client"]})}),n.jsxs(mt,{className:"sm:max-w-[500px]",children:[n.jsxs(pt,{children:[n.jsx(gt,{children:"Crer une nouvelle organisation"}),n.jsx(Jr,{children:"Configurez un nouvel espace tenant pour un client."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(ee,{htmlFor:"name",children:"Nom de l'organisation"}),n.jsx(ne,{id:"name",placeholder:"Ex: Association Sportive Paris",value:m,onChange:R=>f(R.target.value)})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(ee,{htmlFor:"plan",children:"Plan d'abonnement"}),n.jsxs(it,{defaultValue:"free",children:[n.jsx(rt,{children:n.jsx(ot,{placeholder:"Slectionner un plan"})}),n.jsx(st,{children:nm.map(R=>n.jsxs(Ae,{value:R.id,children:[R.name," (",R.maxMembers?`${R.maxMembers} membres`:"Illimit",")"]},R.id))})]})]})]}),n.jsx(jt,{children:n.jsx(H,{onClick:r1,children:"Crer l'organisation"})})]})]})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsx(Ve,{children:"Clients Actifs"})}),n.jsx(je,{children:n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Organisation"}),n.jsx(Ke,{children:"Utilisateurs"}),n.jsx(Ke,{children:"Status"}),n.jsx(Ke,{children:"Plan"}),n.jsx(Ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Bs,{children:vy?n.jsx(rn,{children:n.jsx(Be,{colSpan:5,className:"text-center py-8",children:n.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-blue-500 border-t-transparent rounded-full mx-auto"})})}):Ww.map(R=>{const be=R.whiteLabel&&R.brandConfig?.logoUrl?R.brandConfig.logoUrl:R.logo,Ye=ar(be,"super-dashboard-logo");return n.jsxs(rn,{children:[n.jsx(Be,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[Ye?n.jsx("img",{src:Ye,className:"h-10 w-10 rounded-lg object-contain bg-gray-50 p-1 border"}):n.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold",children:R.name.charAt(0)}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-bold flex items-center gap-2",children:[R.name,n.jsx(H,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-50 hover:opacity-100",onClick:()=>{Dh(R),to(R.name),tc(!0)},"data-testid":`button-edit-name-${R.id}`,children:n.jsx(Xie,{size:12})}),R.accountType==="GRAND_COMPTE"&&n.jsxs(Se,{className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-[9px] px-1.5 py-0 gap-0.5 border-0",children:[n.jsx(ys,{size:10})," GC"]}),io(R)&&!R.accountType?.startsWith("GRAND")&&n.jsxs(Se,{className:"bg-gradient-to-r from-amber-400 to-amber-500 text-white text-[9px] px-1.5 py-0 gap-0.5 border-0",children:[n.jsx(Ef,{size:10})," VIP"]}),R.whiteLabel&&n.jsxs(Se,{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white text-[9px] px-1.5 py-0 gap-0.5 border-0",children:[n.jsx(ii,{size:10})," WL"]})]}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[R.id.slice(0,8),"...",R.billingMode==="manual_contract"&&n.jsx("span",{className:"text-purple-600 font-medium",children:"Contrat"})]})]})]})}),n.jsx(Be,{children:n.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[n.jsx(It,{size:14})," ",R.memberCount??0]})}),n.jsx(Be,{children:n.jsx(Se,{className:"bg-green-100 text-green-700 hover:bg-green-100 border-0",children:"Actif"})}),n.jsx(Be,{children:R.accountType==="GRAND_COMPTE"?n.jsx(Se,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-200 text-emerald-700 uppercase text-[10px] tracking-wider",children:"Grand Compte"}):n.jsx(Se,{variant:"outline",className:"border-blue-200 text-blue-700 bg-blue-50 uppercase text-[10px] tracking-wider",children:s1(R.planId||"free")})}),n.jsx(Be,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsxs(H,{variant:io(R)?"default":"outline",size:"sm",className:`h-8 text-xs ${io(R)?"bg-gradient-to-r from-amber-400 to-amber-500 hover:from-amber-500 hover:to-amber-600 text-white border-0":""}`,onClick:()=>e1(R),"data-testid":`button-full-access-${R.id}`,children:[n.jsx(mg,{className:"mr-1 h-3 w-3"}),io(R)?"VIP":"Offrir"]}),n.jsx(H,{variant:R.whiteLabel?"default":"ghost",size:"sm",className:R.whiteLabel?"h-8 text-xs bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white border-0":"",onClick:()=>Xw(R),"data-testid":`button-white-label-${R.id}`,children:n.jsx(Cl,{size:16})})]})})]},R.id)})})]})})]})]}),n.jsxs(wn,{value:"users",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion de l'quipe"}),n.jsx("p",{className:"text-gray-500",children:"Grez les utilisateurs et les rles de la plateforme Koomy."})]}),n.jsxs(ht,{open:Ih,onOpenChange:no,children:[n.jsx(fa,{asChild:!0,children:n.jsxs(H,{className:"gap-2 bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-200",children:[n.jsx(Vc,{size:18})," Nouvel Utilisateur"]})}),n.jsxs(mt,{className:"sm:max-w-[500px]",children:[n.jsxs(pt,{children:[n.jsx(gt,{children:"Ajouter un utilisateur plateforme"}),n.jsx(Jr,{children:"Crez un nouvel accs pour un membre de l'quipe."})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(ee,{htmlFor:"firstName",children:"Prnom"}),n.jsx(ne,{id:"firstName",placeholder:"Jean",value:Lh,onChange:R=>$h(R.target.value),"data-testid":"input-user-firstname"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(ee,{htmlFor:"lastName",children:"Nom"}),n.jsx(ne,{id:"lastName",placeholder:"Dupont",value:ao,onChange:R=>Bo(R.target.value),"data-testid":"input-user-lastname"})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(ee,{htmlFor:"email",children:"Email *"}),n.jsx(ne,{id:"email",type:"email",placeholder:"jean@koomy.app",value:ro,onChange:R=>nc(R.target.value),"data-testid":"input-user-email"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(ee,{htmlFor:"password",children:"Mot de passe *"}),n.jsx(ne,{id:"password",type:"password",placeholder:"",value:so,onChange:R=>mr(R.target.value),"data-testid":"input-user-password"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(ee,{children:"Rle *"}),n.jsxs(it,{value:zh,onValueChange:qh,children:[n.jsx(rt,{"data-testid":"select-user-role",children:n.jsx(ot,{placeholder:"Slectionner un rle"})}),n.jsx(st,{children:Object.entries(d0).map(([R,be])=>n.jsx(Ae,{value:R,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(be.icon,{size:14}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:be.label}),n.jsx("div",{className:"text-xs text-gray-500",children:be.description})]})]})},R))})]})]})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>no(!1),children:"Annuler"}),n.jsx(H,{onClick:t1,disabled:ic.isPending,"data-testid":"button-create-user",children:ic.isPending?"Cration...":"Crer l'utilisateur"})]})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:Object.entries(d0).map(([R,be])=>{const Ye=ju.filter(_t=>_t.globalRole===R).length;return n.jsx(ve,{className:"border-l-4",style:{borderLeftColor:R==="platform_super_admin"?"#8b5cf6":R==="platform_support"?"#3b82f6":"#10b981"},children:n.jsx(je,{className:"pt-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${R==="platform_super_admin"?"bg-purple-100":R==="platform_support"?"bg-blue-100":"bg-green-100"}`,children:n.jsx(be.icon,{className:`h-5 w-5 ${R==="platform_super_admin"?"text-purple-600":R==="platform_support"?"text-blue-600":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Ye}),n.jsx("p",{className:"text-sm text-gray-500",children:be.label})]})]})})},R)})}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsx(Ve,{children:"Utilisateurs Plateforme"})}),n.jsx(je,{children:n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Utilisateur"}),n.jsx(Ke,{children:"Email"}),n.jsx(Ke,{children:"Rle"}),n.jsx(Ke,{children:"Date d'ajout"}),n.jsx(Ke,{className:"text-right",children:"Actions"})]})}),n.jsx(Bs,{children:wu?n.jsx(rn,{children:n.jsx(Be,{colSpan:5,className:"text-center py-8",children:n.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-blue-500 border-t-transparent rounded-full mx-auto"})})}):ju.length===0?n.jsx(rn,{children:n.jsx(Be,{colSpan:5,className:"text-center py-8 text-gray-500",children:"Aucun utilisateur plateforme"})}):ju.map(R=>{const be=d0[R.globalRole||""];return n.jsxs(rn,{children:[n.jsx(Be,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:[(R.firstName?.[0]||R.email[0]).toUpperCase(),R.lastName?.[0]?.toUpperCase()||""]}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium",children:[R.firstName," ",R.lastName]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[R.id.slice(0,8),"..."]})]})]})}),n.jsx(Be,{className:"text-gray-600",children:R.email}),n.jsx(Be,{children:be?n.jsxs(Se,{className:`${be.color} border gap-1`,children:[n.jsx(be.icon,{size:12}),be.label]}):n.jsx(Se,{variant:"outline",children:"Inconnu"})}),n.jsx(Be,{className:"text-gray-500",children:new Date(R.createdAt).toLocaleDateString("fr-FR")}),n.jsx(Be,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsxs(it,{value:R.globalRole||"",onValueChange:Ye=>wy.mutate({userId:R.id,globalRole:Ye}),children:[n.jsx(rt,{className:"w-[180px] h-8",children:n.jsx(ot,{})}),n.jsx(st,{children:Object.entries(d0).map(([Ye,_t])=>n.jsx(Ae,{value:Ye,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_t.icon,{size:12}),_t.label]})},Ye))})]}),R.id!==r?.id&&n.jsx(H,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>Ny.mutate(R.id),disabled:Ny.isPending,children:n.jsx(fn,{size:16})})]})})]},R.id)})})]})})]})]}),n.jsxs(wn,{value:"plans",children:[n.jsx("div",{className:"flex justify-between items-center mb-8",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Plans & Tarification"}),n.jsx("p",{className:"text-gray-500",children:"Configuration des offres d'abonnement SaaS."})]})}),Kh?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:nm.filter(R=>R.isPublic).sort((R,be)=>(R.sortOrder||0)-(be.sortOrder||0)).map(R=>n.jsxs(ve,{className:`flex flex-col ${R.isPopular?"border-2 border-blue-500 shadow-xl relative":"border-gray-200"}`,children:[R.isPopular&&n.jsx("div",{className:"absolute top-0 right-0 bg-blue-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg",children:"POPULAIRE"}),R.isWhiteLabel&&n.jsx("div",{className:"absolute top-0 right-0 bg-purple-500 text-white text-[10px] font-bold px-2 py-1 rounded-bl-lg",children:"WHITE LABEL"}),n.jsxs(Ge,{children:[n.jsx(Ve,{className:"text-xl",children:R.name}),n.jsx(Ct,{children:R.maxMembers?`Jusqu' ${R.maxMembers.toLocaleString()} membres`:"Membres illimits"})]}),n.jsxs(je,{className:"flex-1",children:[n.jsx("div",{className:"mb-6",children:R.isCustom||R.isWhiteLabel?n.jsxs("div",{children:[n.jsx("span",{className:"text-2xl font-bold text-gray-700",children:"Sur devis"}),R.isWhiteLabel&&R.priceYearly&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[" partir de ",(R.priceYearly/100).toLocaleString()," /an"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-3xl font-bold",children:[R.priceMonthly?(R.priceMonthly/100).toFixed(0):"0",""]}),n.jsx("span",{className:"text-gray-500 text-sm",children:"/mois"}),R.priceYearly&&R.priceYearly>0&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["ou ",(R.priceYearly/100).toFixed(0)," /an"]})]})}),n.jsx("ul",{className:"space-y-3 text-sm",children:(R.features||[]).map((be,Ye)=>n.jsxs("li",{className:"flex items-start gap-2 text-gray-600",children:[n.jsx(vr,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),n.jsx("span",{children:be})]},Ye))})]}),n.jsx(fh,{children:n.jsx(H,{variant:R.isPopular?"default":"outline",className:"w-full",onClick:()=>{cs(R),bu(!0)},children:"Modifier"})})]},R.id))})]}),n.jsxs(wn,{value:"support",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestion des Tickets"}),n.jsx("p",{className:"text-gray-500",children:"Support centralis pour tous les clients."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(it,{value:N,onValueChange:R=>C(R),children:[n.jsx(rt,{className:"w-40","data-testid":"select-ticket-filter",children:n.jsx(ot,{placeholder:"Filtrer"})}),n.jsxs(st,{children:[n.jsxs(Ae,{value:"all",children:["Tous (",wr.length,")"]}),n.jsxs(Ae,{value:"open",children:["Ouverts (",wr.filter(R=>R.status==="open").length,")"]}),n.jsxs(Ae,{value:"in_progress",children:["En cours (",wr.filter(R=>R.status==="in_progress").length,")"]}),n.jsxs(Ae,{value:"resolved",children:["Rsolus (",wr.filter(R=>R.status==="resolved").length,")"]}),n.jsxs(Ae,{value:"closed",children:["Ferms (",wr.filter(R=>R.status==="closed").length,")"]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[n.jsx(ve,{className:"bg-green-50 border-green-200",children:n.jsx(je,{className:"pt-4 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-green-700",children:"Ouverts"}),n.jsx("p",{className:"text-2xl font-bold text-green-800",children:wr.filter(R=>R.status==="open").length})]}),n.jsx(_s,{className:"h-8 w-8 text-green-600"})]})})}),n.jsx(ve,{className:"bg-blue-50 border-blue-200",children:n.jsx(je,{className:"pt-4 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-700",children:"En cours"}),n.jsx("p",{className:"text-2xl font-bold text-blue-800",children:wr.filter(R=>R.status==="in_progress").length})]}),n.jsx(Ln,{className:"h-8 w-8 text-blue-600"})]})})}),n.jsx(ve,{className:"bg-purple-50 border-purple-200",children:n.jsx(je,{className:"pt-4 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-purple-700",children:"Rsolus"}),n.jsx("p",{className:"text-2xl font-bold text-purple-800",children:wr.filter(R=>R.status==="resolved").length})]}),n.jsx(vr,{className:"h-8 w-8 text-purple-600"})]})})}),n.jsx(ve,{className:"bg-gray-50 border-gray-200",children:n.jsx(je,{className:"pt-4 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-700",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-800",children:wr.length})]}),n.jsx(xo,{className:"h-8 w-8 text-gray-600"})]})})})]}),Yh?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):tp.length===0?n.jsx(ve,{children:n.jsxs(je,{className:"py-12 text-center",children:[n.jsx(xo,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsxs("p",{className:"text-gray-500",children:["Aucun ticket ",N!=="all"?`avec le statut "${N}"`:""]})]})}):n.jsx(ve,{children:n.jsx(je,{className:"p-0",children:n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{className:"w-24",children:"Priorit"}),n.jsx(Ke,{children:"Sujet"}),n.jsx(Ke,{children:"Client"}),n.jsx(Ke,{children:"Demandeur"}),n.jsx(Ke,{children:"Assign "}),n.jsx(Ke,{children:"Statut"}),n.jsx(Ke,{children:"Rponses"}),n.jsx(Ke,{children:"Date"}),n.jsx(Ke,{className:"text-right",children:"Action"})]})}),n.jsx(Bs,{children:tp.map(R=>n.jsxs(rn,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>Cy(R),children:[n.jsx(Be,{children:R.priority==="high"?n.jsxs(Se,{variant:"destructive",className:"gap-1",children:[n.jsx(_s,{size:10})," Haute"]}):R.priority==="medium"?n.jsx(Se,{variant:"secondary",className:"bg-orange-100 text-orange-800 hover:bg-orange-100 gap-1",children:"Moyenne"}):n.jsx(Se,{variant:"outline",className:"text-gray-500 gap-1",children:"Basse"})}),n.jsxs(Be,{children:[n.jsx("div",{className:"font-medium text-gray-900",children:R.subject}),n.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[250px]",children:R.message})]}),n.jsx(Be,{children:n.jsx("div",{className:"text-sm text-gray-700 font-medium",children:R.communityName})}),n.jsx(Be,{children:n.jsx("div",{className:"text-sm",children:R.userName})}),n.jsx(Be,{children:R.assignedUserName?n.jsx(Se,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:R.assignedUserName}):n.jsx("span",{className:"text-xs text-gray-400",children:"Non assign"})}),n.jsx(Be,{children:n.jsx(Se,{variant:"outline",className:R.status==="open"?"bg-green-50 text-green-700 border-green-200":R.status==="in_progress"?"bg-blue-50 text-blue-700 border-blue-200":R.status==="resolved"?"bg-purple-50 text-purple-700 border-purple-200":"bg-gray-50 text-gray-600",children:R.status==="open"?"Ouvert":R.status==="in_progress"?"En cours":R.status==="resolved"?"Rsolu":"Ferm"})}),n.jsx(Be,{children:n.jsx(Se,{variant:"outline",children:R.responseCount})}),n.jsx(Be,{className:"text-sm text-gray-500",children:new Date(R.createdAt).toLocaleDateString("fr-FR")}),n.jsx(Be,{className:"text-right",children:n.jsx(H,{size:"sm",variant:"outline",onClick:be=>{be.stopPropagation(),Cy(R)},"data-testid":`button-manage-ticket-${R.id}`,children:"Grer"})})]},R.id))})]})})})]}),n.jsxs(wn,{value:"emails",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Templates Email"}),n.jsx("p",{className:"text-gray-500",children:"Personnalisez les emails envoys par Koomy."})]}),n.jsxs(H,{variant:"outline",onClick:()=>im(),className:"gap-2",children:[n.jsx(Sl,{size:16})," Actualiser"]})]}),n.jsx(ve,{className:"mb-6 border-amber-200 bg-amber-50",children:n.jsx(je,{className:"py-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(br,{className:"h-5 w-5 text-amber-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-amber-800",children:"Attention"}),n.jsx("p",{className:"text-sm text-amber-700",children:"Les emails modifis affectent toutes les communauts utilisant Koomy."})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(jd,{className:"h-5 w-5 text-blue-500"}),"Liste des Templates (",Nu.length,")"]})}),n.jsx(je,{className:"p-0",children:n.jsx("div",{className:"divide-y",children:Nu.map(R=>n.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors ${Ba?.id===R.id?"bg-blue-50 border-l-4 border-l-blue-500":""}`,onClick:()=>{Fh(R),gu(R.subject),$s(R.html)},"data-testid":`template-item-${R.type}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:R.label}),n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R.type})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Se,{variant:"outline",className:"text-xs",children:[R.variables.length," variables"]}),n.jsx("span",{className:"text-xs text-gray-400",children:new Date(R.updatedAt).toLocaleDateString("fr-FR")})]})]})},R.id))})})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Cl,{className:"h-5 w-5 text-purple-500"}),Ba?"Modifier le Template":"Slectionnez un Template"]})}),n.jsx(je,{children:Ba?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ee,{children:"Type"}),n.jsx(ne,{value:Ba.label,disabled:!0,className:"bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx(ee,{children:"Variables disponibles"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Ba.variables.map(R=>n.jsx(Se,{variant:"outline",className:"font-mono text-xs bg-purple-50 text-purple-700 border-purple-200",children:`{{${R}}}`},R))})]}),n.jsxs("div",{children:[n.jsx(ee,{children:"Objet de l'email"}),n.jsx(ne,{value:pu,onChange:R=>gu(R.target.value),placeholder:"Objet de l'email","data-testid":"input-template-subject"})]}),n.jsxs("div",{children:[n.jsx(ee,{children:"Contenu HTML"}),n.jsx(Nn,{value:Ua,onChange:R=>$s(R.target.value),className:"font-mono text-xs min-h-[200px]",placeholder:"Contenu HTML de l'email","data-testid":"textarea-template-html"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{className:"flex-1",onClick:()=>Jh.mutate({type:Ba.type,subject:pu,html:Ua}),disabled:Jh.isPending,"data-testid":"button-save-template",children:Jh.isPending?"Enregistrement...":"Enregistrer"}),n.jsxs(H,{variant:"outline",className:"gap-2",onClick:()=>yu(!0),"data-testid":"button-test-template",children:[n.jsx(Rs,{size:16})," Tester"]}),n.jsx(H,{variant:"ghost",onClick:()=>Fh(null),children:"Annuler"})]})]}):n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(bs,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Slectionnez un template dans la liste pour le modifier"})]})})]})]}),n.jsxs(ve,{className:"mt-6",children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(Uu,{className:"h-5 w-5 text-green-500"}),"Historique des Envois (",om.length," derniers)"]})}),n.jsx(je,{className:"p-0",children:om.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(bs,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Aucun email envoy pour le moment"})]}):n.jsxs(qs,{children:[n.jsx(Fs,{children:n.jsxs(rn,{children:[n.jsx(Ke,{children:"Destinataire"}),n.jsx(Ke,{children:"Type"}),n.jsx(Ke,{children:"Statut"}),n.jsx(Ke,{children:"Date"}),n.jsx(Ke,{children:"Erreur"})]})}),n.jsx(Bs,{children:om.slice(0,20).map(R=>n.jsxs(rn,{children:[n.jsx(Be,{className:"font-mono text-sm",children:R.to}),n.jsx(Be,{children:n.jsx(Se,{variant:"outline",className:"text-xs",children:R.type})}),n.jsx(Be,{children:R.success?n.jsxs(Se,{className:"bg-green-100 text-green-700 border-0",children:[n.jsx(vr,{size:12,className:"mr-1"})," Envoy"]}):n.jsxs(Se,{variant:"destructive",children:[n.jsx(fn,{size:12,className:"mr-1"})," chec"]})}),n.jsx(Be,{className:"text-sm text-gray-500",children:new Date(R.sentAt).toLocaleString("fr-FR")}),n.jsx(Be,{className:"text-sm text-red-500",children:R.errorMessage||"-"})]},R.id))})]})})]})]}),n.jsxs(wn,{value:"health",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sant Plateforme"}),n.jsx("p",{className:"text-gray-500",children:"Surveillance des mtriques cls et projections"})]}),n.jsxs(H,{variant:"outline",onClick:()=>Su(),disabled:Ni,"data-testid":"button-refresh-health",children:[n.jsx(Sl,{className:`mr-2 h-4 w-4 ${Ni?"animate-spin":""}`}),"Actualiser"]})]}),Ni?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):De?.latest?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[n.jsx(ve,{className:`border-l-4 ${De.status.usage.status==="green"?"border-l-green-500":De.status.usage.status==="yellow"?"border-l-yellow-500":De.status.usage.status==="orange"?"border-l-orange-500":De.status.usage.status==="red"?"border-l-red-500":"border-l-gray-300"} shadow-sm`,children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Usage"}),n.jsx("div",{className:`p-2 rounded-lg ${De.status.usage.status==="green"?"bg-green-100":De.status.usage.status==="yellow"?"bg-yellow-100":De.status.usage.status==="orange"?"bg-orange-100":De.status.usage.status==="red"?"bg-red-100":"bg-gray-100"}`,children:n.jsx(It,{className:`h-4 w-4 ${De.status.usage.status==="green"?"text-green-600":De.status.usage.status==="yellow"?"text-yellow-600":De.status.usage.status==="orange"?"text-orange-600":De.status.usage.status==="red"?"text-red-600":"text-gray-600"}`})})]}),n.jsx("div",{className:"text-2xl font-bold text-gray-900","data-testid":"text-total-members",children:De.latest.totalMembers?.toLocaleString()||0}),n.jsx("p",{className:"text-sm text-gray-500",children:"membres totaux"}),n.jsx(Se,{className:`mt-2 ${De.status.usage.status==="green"?"bg-green-100 text-green-700":De.status.usage.status==="yellow"?"bg-yellow-100 text-yellow-700":De.status.usage.status==="orange"?"bg-orange-100 text-orange-700":De.status.usage.status==="red"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"} border-0`,children:De.status.usage.label})]})}),n.jsx(ve,{className:`border-l-4 ${De.status.performance.status==="green"?"border-l-green-500":De.status.performance.status==="yellow"?"border-l-yellow-500":De.status.performance.status==="orange"?"border-l-orange-500":De.status.performance.status==="red"?"border-l-red-500":"border-l-gray-300"} shadow-sm`,children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Performance"}),n.jsx("div",{className:`p-2 rounded-lg ${De.status.performance.status==="green"?"bg-green-100":De.status.performance.status==="yellow"?"bg-yellow-100":De.status.performance.status==="orange"?"bg-orange-100":De.status.performance.status==="red"?"bg-red-100":"bg-gray-100"}`,children:n.jsx(Pg,{className:`h-4 w-4 ${De.status.performance.status==="green"?"text-green-600":De.status.performance.status==="yellow"?"text-yellow-600":De.status.performance.status==="orange"?"text-orange-600":De.status.performance.status==="red"?"text-red-600":"text-gray-600"}`})})]}),n.jsxs("div",{className:"text-2xl font-bold text-gray-900","data-testid":"text-latency-p95",children:[De.latest.apiLatencyP95Ms||"-","ms"]}),n.jsx("p",{className:"text-sm text-gray-500",children:"P95 latence"}),n.jsx(Se,{className:`mt-2 ${De.status.performance.status==="green"?"bg-green-100 text-green-700":De.status.performance.status==="yellow"?"bg-yellow-100 text-yellow-700":De.status.performance.status==="orange"?"bg-orange-100 text-orange-700":De.status.performance.status==="red"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"} border-0`,children:De.status.performance.label})]})}),n.jsx(ve,{className:`border-l-4 ${De.status.database.status==="green"?"border-l-green-500":De.status.database.status==="yellow"?"border-l-yellow-500":De.status.database.status==="orange"?"border-l-orange-500":De.status.database.status==="red"?"border-l-red-500":"border-l-gray-300"} shadow-sm`,children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Base de donnes"}),n.jsx("div",{className:`p-2 rounded-lg ${De.status.database.status==="green"?"bg-green-100":De.status.database.status==="yellow"?"bg-yellow-100":De.status.database.status==="orange"?"bg-orange-100":De.status.database.status==="red"?"bg-red-100":"bg-gray-100"}`,children:n.jsx(y0,{className:`h-4 w-4 ${De.status.database.status==="green"?"text-green-600":De.status.database.status==="yellow"?"text-yellow-600":De.status.database.status==="orange"?"text-orange-600":De.status.database.status==="red"?"text-red-600":"text-gray-600"}`})})]}),n.jsxs("div",{className:"text-2xl font-bold text-gray-900","data-testid":"text-db-size",children:[De.latest.dbSizeMb||0," Mo"]}),n.jsx("p",{className:"text-sm text-gray-500",children:De.quotaUsagePct?`${De.quotaUsagePct.toFixed(0)}% du quota`:`sur ${De.latest.neonQuotaMb||512} Mo`}),De.latest.neonQuotaMb&&n.jsx(zc,{value:De.quotaUsagePct||0,className:"mt-2 h-2"}),n.jsx(Se,{className:`mt-2 ${De.status.database.status==="green"?"bg-green-100 text-green-700":De.status.database.status==="yellow"?"bg-yellow-100 text-yellow-700":De.status.database.status==="orange"?"bg-orange-100 text-orange-700":De.status.database.status==="red"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"} border-0`,children:De.status.database.label})]})}),n.jsx(ve,{className:`border-l-4 ${De.status.costs.status==="green"?"border-l-green-500":(De.status.costs.status==="unknown","border-l-gray-300")} shadow-sm`,children:n.jsxs(je,{className:"pt-6",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cots Infra"}),n.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:n.jsx(oa,{className:"h-4 w-4 text-gray-600"})})]}),n.jsx("div",{className:"text-2xl font-bold text-gray-900","data-testid":"text-infra-cost",children:De.latest.infraCostEstimateEur?`${parseFloat(De.latest.infraCostEstimateEur).toFixed(2)}`:"-"}),n.jsx("p",{className:"text-sm text-gray-500",children:"estimation mensuelle"}),n.jsx(Se,{className:"mt-2 bg-gray-100 text-gray-700 border-0",children:De.status.costs.label})]})})]}),De.insights.length>0&&n.jsxs(ve,{className:"mb-8 border-l-4 border-l-amber-500 bg-gradient-to-r from-amber-50/50 to-white",children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2 text-amber-700",children:[n.jsx(br,{className:"h-5 w-5"})," Anticiper"]})}),n.jsx(je,{children:n.jsx("ul",{className:"space-y-2",children:De.insights.map((R,be)=>n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx(_s,{className:"h-5 w-5 text-amber-500 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"text-gray-700",children:R})]},be))})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(po,{className:"h-5 w-5 text-blue-500"}),"volution Membres (30j)"]})}),n.jsx(je,{children:De.series.length>0?n.jsx(mo,{width:"100%",height:250,children:n.jsxs(u0,{data:De.series,children:[n.jsx(fo,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(sa,{dataKey:"metricDate",tickFormatter:R=>new Date(R).toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),tick:{fontSize:12}}),n.jsx(aa,{tick:{fontSize:12}}),n.jsx(Ur,{formatter:R=>[R?.toLocaleString()||0,"Membres"],labelFormatter:R=>new Date(R).toLocaleDateString("fr-FR")}),n.jsx(Pa,{type:"monotone",dataKey:"totalMembers",stroke:"#3b82f6",fill:"url(#membersGradient)",strokeWidth:2}),n.jsx("defs",{children:n.jsxs("linearGradient",{id:"membersGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})})]})}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Uu,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Donnes insuffisantes"})]})})]}),n.jsxs(ve,{children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(nie,{className:"h-5 w-5 text-purple-500"}),"volution Base de Donnes (30j)"]})}),n.jsx(je,{children:De.series.length>0?n.jsx(mo,{width:"100%",height:250,children:n.jsxs(YB,{data:De.series,children:[n.jsx(fo,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),n.jsx(sa,{dataKey:"metricDate",tickFormatter:R=>new Date(R).toLocaleDateString("fr-FR",{day:"numeric",month:"short"}),tick:{fontSize:12}}),n.jsx(aa,{tick:{fontSize:12},unit:" Mo"}),n.jsx(Ur,{formatter:R=>[`${R} Mo`,"Taille DB"],labelFormatter:R=>new Date(R).toLocaleDateString("fr-FR")}),n.jsx(xd,{type:"monotone",dataKey:"dbSizeMb",stroke:"#8b5cf6",strokeWidth:2,dot:!1})]})}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(y0,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Donnes insuffisantes"})]})})]})]}),De.latest.topTablesBySize&&De.latest.topTablesBySize.length>0&&n.jsxs(ve,{className:"mt-6",children:[n.jsx(Ge,{children:n.jsxs(Ve,{className:"flex items-center gap-2",children:[n.jsx(y0,{className:"h-5 w-5 text-indigo-500"}),"Tables les plus volumineuses"]})}),n.jsx(je,{children:n.jsx("div",{className:"space-y-3",children:De.latest.topTablesBySize.map((R,be)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-gray-400 font-mono text-sm w-6",children:[be+1,"."]}),n.jsx("span",{className:"font-mono text-sm",children:R.tableName})]}),n.jsxs(Se,{variant:"outline",className:"font-mono",children:[R.sizeMb," Mo"]})]},be))})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[n.jsx(ve,{children:n.jsxs(je,{className:"pt-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Communauts"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-communities",children:De.latest.totalCommunities||0})]})}),n.jsx(ve,{children:n.jsxs(je,{className:"pt-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Admins"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"text-total-admins",children:De.latest.totalAdmins||0})]})}),n.jsx(ve,{children:n.jsxs(je,{className:"pt-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Plan Neon"}),n.jsx("p",{className:"text-2xl font-bold capitalize","data-testid":"text-neon-plan",children:De.latest.neonPlan||"Free"})]})}),n.jsx(ve,{children:n.jsxs(je,{className:"pt-4",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Date mtriques"}),n.jsx("p",{className:"text-lg font-medium","data-testid":"text-metrics-date",children:new Date(De.latest.metricDate).toLocaleDateString("fr-FR")})]})})]})]}):n.jsx(ve,{className:"border-dashed border-2",children:n.jsxs(je,{className:"py-12 text-center",children:[n.jsx(v0,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"Pas de donnes disponibles"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Les mtriques de sant n'ont pas encore t collectes."}),n.jsxs(H,{onClick:async()=>{try{(await en("/api/internal/platform/health/collect",{method:"POST"})).ok&&(Ut({title:"Collecte lance",description:"Les mtriques sont en cours de collecte."}),setTimeout(()=>Su(),2e3))}catch{Ut({title:"Erreur",description:"chec de la collecte des mtriques",variant:"destructive"})}},"data-testid":"button-collect-metrics",children:[n.jsx(Pg,{className:"mr-2 h-4 w-4"}),"Collecter maintenant"]})]})})]})]})}),n.jsx(ht,{open:Bh,onOpenChange:yu,children:n.jsxs(mt,{children:[n.jsxs(pt,{children:[n.jsx(gt,{children:"Envoyer un email de test"}),n.jsx(Jr,{children:"L'email sera envoy avec des variables de dmonstration."})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{children:[n.jsx(ee,{children:"Email de destination"}),n.jsx(ne,{type:"email",value:xu,onChange:R=>yy(R.target.value),placeholder:"votre@email.com","data-testid":"input-test-email"})]})}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>yu(!1),children:"Annuler"}),n.jsx(H,{onClick:()=>{if(Ba&&xu){const R={};Ba.variables.forEach(be=>{R[be]=`[TEST_${be.toUpperCase()}]`}),Eu.mutate({type:Ba.type,email:xu,variables:R})}},disabled:!xu||Eu.isPending,"data-testid":"button-confirm-test-email",children:Eu.isPending?"Envoi...":"Envoyer"})]})]})}),n.jsx(ht,{open:b,onOpenChange:w,children:n.jsxs(mt,{className:"sm:max-w-[700px] max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs(pt,{children:[n.jsxs(gt,{className:"flex items-center gap-2",children:[n.jsx(xo,{className:"h-5 w-5 text-blue-500"}),"Ticket #",h?.id?.slice(0,8)]}),n.jsx(Jr,{children:h?.subject})]}),h?n.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Statut"}),n.jsxs(it,{value:h.status,onValueChange:R=>Qw.mutate({ticketId:h.id,status:R}),children:[n.jsx(rt,{className:"h-8 text-xs","data-testid":"select-ticket-status",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"open",children:"Ouvert"}),n.jsx(Ae,{value:"in_progress",children:"En cours"}),n.jsx(Ae,{value:"resolved",children:"Rsolu"}),n.jsx(Ae,{value:"closed",children:"Ferm"})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Priorit"}),n.jsx(Se,{className:h.priority==="high"?"bg-red-100 text-red-700":h.priority==="medium"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700",children:h.priority==="high"?"Haute":h.priority==="medium"?"Moyenne":"Basse"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Client"}),n.jsx("p",{className:"text-sm font-medium",children:h.community?.name||h.communityName})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Assign "}),n.jsxs(it,{value:h.assignedTo||"",onValueChange:R=>R&&Yw.mutate({ticketId:h.id,assignedTo:R}),children:[n.jsx(rt,{className:"h-8 text-xs","data-testid":"select-ticket-assign",children:n.jsx(ot,{placeholder:"Non assign"})}),n.jsx(st,{children:ju.map(R=>n.jsxs(Ae,{value:R.id,children:[R.firstName," ",R.lastName]},R.id))})]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(It,{className:"h-4 w-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:h.user?`${h.user.firstName} ${h.user.lastName}`:h.userName}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(h.createdAt).toLocaleString("fr-FR")})]})]}),n.jsx("p",{className:"text-sm text-gray-700",children:h.message})]}),n.jsx("div",{className:"flex-1 overflow-auto mb-4",children:n.jsx(fM,{className:"h-[200px] pr-4",children:h.responses&&h.responses.length>0?n.jsx("div",{className:"space-y-3",children:h.responses.map(R=>n.jsxs("div",{className:`p-3 rounded-lg ${R.isInternal?"bg-yellow-50 border border-yellow-200":"bg-white border border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${R.isInternal?"bg-yellow-100":"bg-green-100"}`,children:n.jsx(Ra,{className:`h-3 w-3 ${R.isInternal?"text-yellow-600":"text-green-600"}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-xs font-medium",children:"Agent Support"}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(R.createdAt).toLocaleString("fr-FR")})]}),R.isInternal&&n.jsx(Se,{variant:"outline",className:"text-xs bg-yellow-100 text-yellow-700",children:"Note interne"})]}),n.jsx("p",{className:"text-sm text-gray-700",children:R.message})]},R.id))}):n.jsx("p",{className:"text-center text-gray-400 text-sm py-8",children:"Aucune rponse pour le moment"})})}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx(Nn,{placeholder:"crire une rponse...",value:y,onChange:R=>j(R.target.value),className:"min-h-[80px] mb-3","data-testid":"input-ticket-response"}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"internal",className:"rounded"}),n.jsx("label",{htmlFor:"internal",className:"text-xs text-gray-500",children:"Note interne (non visible par le client)"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(H,{variant:"outline",onClick:()=>w(!1),children:"Fermer"}),n.jsx(H,{onClick:()=>ep.mutate({ticketId:h.id,message:y,isInternal:document.getElementById("internal")?.checked||!1}),disabled:!y.trim()||ep.isPending,"data-testid":"button-send-response",children:ep.isPending?"Envoi...":"Envoyer"})]})]})]})]}):n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 border-t-transparent rounded-full"})})]})}),n.jsx(ht,{open:E,onOpenChange:R=>{T(R),R||np()},children:n.jsxs(mt,{className:"sm:max-w-[500px]",children:[n.jsxs(pt,{children:[n.jsxs(gt,{className:"flex items-center gap-2",children:[n.jsx(mg,{className:"h-5 w-5 text-amber-500"}),A&&io(A)?"Grer l'accs VIP":"Offrir un accs complet gratuit"]}),n.jsxs(Jr,{children:[A?.name," - ",A&&io(A)?"Cette communaut bnficie actuellement d'un accs VIP.":"Accordez un accs illimit sans limite de membres."]})]}),A&&io(A)?n.jsx("div",{className:"py-4 space-y-4",children:n.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ef,{className:"h-5 w-5 text-amber-500 mt-0.5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-amber-800",children:"Accs VIP actif"}),n.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:[n.jsx("strong",{children:"Raison:"})," ",A.fullAccessReason]}),n.jsxs("p",{className:"text-sm text-amber-700",children:[n.jsx("strong",{children:"Expire:"})," ",A.fullAccessExpiresAt?new Date(A.fullAccessExpiresAt).toLocaleDateString("fr-FR"):"Permanent"]}),n.jsxs("p",{className:"text-sm text-amber-700",children:[n.jsx("strong",{children:"Accord le:"})," ",A.fullAccessGrantedAt?new Date(A.fullAccessGrantedAt).toLocaleDateString("fr-FR"):"-"]})]})]})})}):n.jsxs("div",{className:"py-4 space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"reason",children:"Raison de l'offre"}),n.jsx(Nn,{id:"reason",placeholder:"Ex: Partenariat, Beta testeur, Client VIP, Essai gratuit...",value:P,onChange:R=>O(R.target.value),className:"min-h-[80px]","data-testid":"input-full-access-reason"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Dure"}),n.jsxs(it,{value:M,onValueChange:F,children:[n.jsx(rt,{"data-testid":"select-full-access-duration",children:n.jsx(ot,{placeholder:"Slectionner une dure"})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"permanent",children:"Permanent (illimit)"}),n.jsx(Ae,{value:"30",children:"30 jours"}),n.jsx(Ae,{value:"60",children:"60 jours"}),n.jsx(Ae,{value:"90",children:"90 jours (3 mois)"}),n.jsx(Ae,{value:"180",children:"180 jours (6 mois)"}),n.jsx(Ae,{value:"365",children:"365 jours (1 an)"}),n.jsx(Ae,{value:"custom",children:"Personnalis"})]})]})]}),M==="custom"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"customDays",children:"Nombre de jours"}),n.jsx(ne,{id:"customDays",type:"number",min:"1",max:"3650",value:D,onChange:R=>$(R.target.value),"data-testid":"input-custom-days"})]})]}),n.jsx(jt,{className:"gap-2 sm:gap-0",children:A&&io(A)?n.jsxs(n.Fragment,{children:[n.jsx(H,{variant:"outline",onClick:()=>T(!1),children:"Fermer"}),n.jsxs(H,{variant:"destructive",onClick:_y,disabled:Xh.isPending,"data-testid":"button-revoke-full-access",children:[n.jsx(fn,{className:"mr-2 h-4 w-4"}),Xh.isPending?"Rvocation...":"Rvoquer l'accs"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(H,{variant:"outline",onClick:()=>T(!1),children:"Annuler"}),n.jsxs(H,{className:"bg-gradient-to-r from-amber-400 to-amber-500 hover:from-amber-500 hover:to-amber-600 text-white",onClick:Jw,disabled:!P.trim()||Vo.isPending,"data-testid":"button-grant-full-access",children:[n.jsx(mg,{className:"mr-2 h-4 w-4"}),Vo.isPending?"En cours...":"Accorder l'accs"]})]})})]})}),n.jsx(ht,{open:ec,onOpenChange:R=>{tc(R),R||(Dh(null),to(""))},children:n.jsxs(mt,{className:"sm:max-w-[400px]",children:[n.jsxs(pt,{children:[n.jsx(gt,{children:"Modifier le nom du client"}),n.jsx(Jr,{children:"Changez le nom affich pour cette organisation"})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"editName",children:"Nom de l'organisation"}),n.jsx(ne,{id:"editName",value:hu,onChange:R=>to(R.target.value),placeholder:"Nom de l'organisation","data-testid":"input-edit-name"})]})}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>tc(!1),children:"Annuler"}),n.jsx(H,{onClick:()=>{xy&&hu.trim()&&Ko.mutate({communityId:xy.id,name:hu})},disabled:Ko.isPending||!hu.trim(),"data-testid":"button-save-name",children:Ko.isPending?"Enregistrement...":"Enregistrer"})]})]})}),n.jsx(ht,{open:rc,onOpenChange:R=>{bu(R),R||cs(null)},children:n.jsxs(mt,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(pt,{children:[n.jsx(gt,{children:"Modifier le plan"}),n.jsxs(Jr,{children:[ln?.name," - Modifiez les paramtres de ce plan d'abonnement"]})]}),ln&&n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"planName",children:"Nom du plan"}),n.jsx(ne,{id:"planName",value:ln.name,onChange:R=>cs({...ln,name:R.target.value}),"data-testid":"input-plan-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"planMaxMembers",children:"Limite membres"}),n.jsx(ne,{id:"planMaxMembers",type:"number",value:ln.maxMembers||"",onChange:R=>cs({...ln,maxMembers:R.target.value?parseInt(R.target.value):null}),placeholder:"Illimit","data-testid":"input-plan-max-members"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"planDescription",children:"Description"}),n.jsx(ne,{id:"planDescription",value:ln.description||"",onChange:R=>cs({...ln,description:R.target.value}),placeholder:"Description du plan","data-testid":"input-plan-description"})]}),!ln.isCustom&&!ln.isWhiteLabel&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"planPriceMonthly",children:"Prix mensuel ()"}),n.jsx(ne,{id:"planPriceMonthly",type:"number",step:"0.01",value:ln.priceMonthly?(ln.priceMonthly/100).toFixed(2):"",onChange:R=>cs({...ln,priceMonthly:R.target.value?Math.round(parseFloat(R.target.value)*100):null}),placeholder:"0.00","data-testid":"input-plan-price-monthly"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"planPriceYearly",children:"Prix annuel ()"}),n.jsx(ne,{id:"planPriceYearly",type:"number",step:"0.01",value:ln.priceYearly?(ln.priceYearly/100).toFixed(2):"",onChange:R=>cs({...ln,priceYearly:R.target.value?Math.round(parseFloat(R.target.value)*100):null}),placeholder:"0.00","data-testid":"input-plan-price-yearly"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Fonctionnalits incluses"}),n.jsx(Nn,{value:(ln.features||[]).join(`
`),onChange:R=>cs({...ln,features:R.target.value.split(`
`).filter(be=>be.trim())}),placeholder:"Une fonctionnalit par ligne",rows:6,"data-testid":"textarea-plan-features"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Entrez une fonctionnalit par ligne"})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:ln.isPopular||!1,onChange:R=>cs({...ln,isPopular:R.target.checked}),className:"w-4 h-4 rounded border-gray-300","data-testid":"checkbox-plan-popular"}),n.jsx("span",{className:"text-sm",children:"Plan populaire (badge affich)"})]})})]}),n.jsxs(jt,{children:[n.jsx(H,{variant:"outline",onClick:()=>bu(!1),children:"Annuler"}),n.jsx(H,{onClick:()=>{ln&&Zh.mutate({id:ln.id,name:ln.name,description:ln.description||void 0,maxMembers:ln.maxMembers,priceMonthly:ln.priceMonthly,priceYearly:ln.priceYearly,features:ln.features,isPopular:ln.isPopular||!1})},disabled:Zh.isPending||!ln?.name.trim(),"data-testid":"button-save-plan",children:Zh.isPending?"Enregistrement...":"Enregistrer"})]})]})}),n.jsx(ht,{open:V,onOpenChange:R=>{z(R),R||Ay()},children:n.jsxs(mt,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[n.jsxs(pt,{children:[n.jsxs(gt,{className:"flex items-center gap-2",children:[n.jsx(ii,{className:"h-5 w-5 text-purple-500"}),"Configuration White Label"]}),n.jsxs(Jr,{children:[q?.name," - Configurez les paramtres de marque blanche et facturation"]})]}),n.jsxs(Gc,{defaultValue:"billing",className:"w-full",children:[n.jsxs(_l,{className:"grid w-full grid-cols-4",children:[n.jsx(tn,{value:"billing","data-testid":"tab-billing",children:"Facturation"}),n.jsx(tn,{value:"contract","data-testid":"tab-contract",children:"Contrat"}),n.jsx(tn,{value:"branding","data-testid":"tab-branding",children:"Branding"}),n.jsx(tn,{value:"owner-admin","data-testid":"tab-owner-admin",children:"Admin"})]}),n.jsxs(wn,{value:"billing",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"White Label activ"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Activer les fonctionnalits de marque blanche pour cette communaut"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(H,{variant:K?"default":"outline",size:"sm",onClick:()=>U(!K),className:K?"bg-purple-600 hover:bg-purple-700":"","data-testid":"toggle-white-label",children:K?"Activ":"Dsactiv"})})]}),K&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Tier White Label"}),n.jsxs(it,{value:B,onValueChange:R=>ie(R),children:[n.jsx(rt,{"data-testid":"select-wl-tier",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"basic",children:"Basic - Personnalisation logos et couleurs"}),n.jsx(Ae,{value:"standard",children:"Standard - Emails personnaliss inclus"}),n.jsx(Ae,{value:"premium",children:"Premium - Domaine personnalis + support ddi"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Mode de facturation"}),n.jsxs(it,{value:G,onValueChange:R=>Y(R),children:[n.jsx(rt,{"data-testid":"select-billing-mode",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"self_service",children:"Self-service (Stripe automatique)"}),n.jsx(Ae,{value:"manual_contract",children:"Contrat manuel (facturation hors Stripe)"})]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:G==="manual_contract"?"La facturation est gre manuellement par l'quipe Koomy":"Le client gre son abonnement via Stripe"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Notes internes (non visibles par le client)"}),n.jsx(Nn,{placeholder:"Notes pour l'quipe interne...",value:_n,onChange:R=>ss(R.target.value),className:"min-h-[100px]","data-testid":"input-internal-notes"})]})]}),n.jsxs(wn,{value:"contract",className:"space-y-4 pt-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Frais de setup"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{type:"number",placeholder:"0",value:se,onChange:R=>he(R.target.value),className:"flex-1","data-testid":"input-setup-fee"}),n.jsxs(it,{value:Q,onValueChange:xe,children:[n.jsx(rt,{className:"w-24",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"EUR",children:"EUR"}),n.jsx(Ae,{value:"USD",children:"USD"}),n.jsx(Ae,{value:"CHF",children:"CHF"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Rf. facture setup"}),n.jsx(ne,{placeholder:"INV-2024-001",value:me,onChange:R=>Ue(R.target.value),"data-testid":"input-setup-invoice-ref"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Maintenance annuelle"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{type:"number",placeholder:"0",value:ge,onChange:R=>Ee(R.target.value),className:"flex-1","data-testid":"input-maintenance-fee"}),n.jsxs(it,{value:Z,onValueChange:re,children:[n.jsx(rt,{className:"w-24",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"EUR",children:"EUR"}),n.jsx(Ae,{value:"USD",children:"USD"}),n.jsx(Ae,{value:"CHF",children:"CHF"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Prochaine chance"}),n.jsx(ne,{type:"date",value:le,onChange:R=>Re(R.target.value),"data-testid":"input-maintenance-next-date"})]})]}),G==="manual_contract"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Statut maintenance"}),n.jsxs(it,{value:Pt,onValueChange:R=>Ot(R),children:[n.jsx(rt,{"data-testid":"select-maintenance-status",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"active",children:"Actif - Paiement  jour"}),n.jsx(Ae,{value:"pending",children:"En attente - Facture mise"}),n.jsx(Ae,{value:"late",children:"En retard - Paiement attendu"}),n.jsx(Ae,{value:"stopped",children:"Arrt - Contrat suspendu"})]})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(It,{className:"h-4 w-4"}),"Quota membres (contrat WL)"]}),n.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Ces quotas sont indpendants du plan technique. Ils dfinissent les termes commerciaux du contrat White Label."}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Membres inclus"}),n.jsx(ne,{type:"number",placeholder:"500",value:ga,onChange:R=>mu(R.target.value),"data-testid":"input-wl-included-members"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Quota contractuel"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Seuil d'alerte"}),n.jsx(ne,{type:"number",placeholder:"600",value:Fo,onChange:R=>py(R.target.value),"data-testid":"input-wl-soft-limit"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Alerte interne (ex: 120%)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Supplment/membre ()"}),n.jsx(ne,{type:"number",placeholder:"0.50",step:"0.01",value:Xl,onChange:R=>Jd(R.target.value),"data-testid":"input-wl-additional-fee"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Au-del du quota"})]})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Rsum contrat"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Setup:"}),n.jsx("span",{className:"font-medium",children:se?`${se} ${Q}`:"-"}),n.jsx("span",{className:"text-gray-500",children:"Maintenance/an:"}),n.jsx("span",{className:"font-medium",children:ge?`${ge} ${Z}`:"-"}),n.jsx("span",{className:"text-gray-500",children:"Mode:"}),n.jsx("span",{className:"font-medium",children:G==="manual_contract"?"Contrat manuel":"Self-service"}),n.jsx("span",{className:"text-gray-500",children:"Quota membres WL:"}),n.jsx("span",{className:"font-medium",children:ga?`${ga} membres`:"-"}),Xl&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-gray-500",children:"Supplment/membre:"}),n.jsxs("span",{className:"font-medium",children:[Xl," "]})]})]})]})]}),n.jsx(wn,{value:"branding",className:"space-y-4 pt-4",children:K?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Nom de l'application"}),n.jsx(ne,{placeholder:"MonApp",value:Yr,onChange:R=>Ns(R.target.value),"data-testid":"input-app-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Couleur principale"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{type:"color",value:Jn||"#6366f1",onChange:R=>vn(R.target.value),className:"w-16 h-10 p-1"}),n.jsx(ne,{placeholder:"#6366f1",value:Jn,onChange:R=>vn(R.target.value),className:"flex-1","data-testid":"input-brand-color"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Logo"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{placeholder:"https://... ou uploader",value:as,onChange:R=>er(R.target.value),className:"flex-1","data-testid":"input-logo-url"}),n.jsx("input",{type:"file",ref:Rh,accept:"image/*",className:"hidden",onChange:R=>{const be=R.target.files?.[0];be&&Ey(be,"logo")}}),n.jsx(H,{type:"button",variant:"outline",size:"icon",onClick:()=>Rh.current?.click(),disabled:Zl,"data-testid":"button-upload-logo",children:Zl?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(Uc,{className:"h-4 w-4"})})]}),as&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:ar(as,"wl-logo-preview"),alt:"Logo preview",className:"h-12 w-12 object-contain border rounded"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Icne app"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{placeholder:"https://... ou uploader",value:bi,onChange:R=>du(R.target.value),className:"flex-1","data-testid":"input-app-icon-url"}),n.jsx("input",{type:"file",ref:em,accept:"image/*",className:"hidden",onChange:R=>{const be=R.target.files?.[0];be&&Ey(be,"icon")}}),n.jsx(H,{type:"button",variant:"outline",size:"icon",onClick:()=>em.current?.click(),disabled:Mh,"data-testid":"button-upload-icon",children:Mh?n.jsx(Oe,{className:"h-4 w-4 animate-spin"}):n.jsx(Uc,{className:"h-4 w-4"})})]}),bi&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:ar(bi,"wl-icon-preview"),alt:"Icon preview",className:"h-12 w-12 object-contain border rounded"})})]})]}),B==="premium"&&n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[n.jsx(Ui,{className:"h-4 w-4"}),"Domaine personnalis"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Sous-domaine Koomy"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{placeholder:"monorganisation",value:qo,onChange:R=>Ql(R.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),className:"flex-1","data-testid":"input-custom-domain"}),n.jsx("span",{className:"text-gray-500 font-medium",children:".koomy.app"})]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["L'app sera accessible via: ",n.jsxs("span",{className:"font-mono",children:[qo||"monorganisation",".koomy.app"]})]})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx("h4",{className:"font-medium mb-3",children:"Personnalisation emails"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Nom expditeur"}),n.jsx(ne,{placeholder:"MonApp",value:Ph,onChange:R=>Wl(R.target.value),"data-testid":"input-email-from-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Email expditeur"}),n.jsx(ne,{type:"email",placeholder:"noreply@monapp.com",value:dy,onChange:R=>Zd(R.target.value),"data-testid":"input-email-from-address"})]})]}),n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsx(ee,{children:"Reply-to"}),n.jsx(ne,{type:"email",placeholder:"support@monapp.com",value:my,onChange:R=>Oh(R.target.value),"data-testid":"input-reply-to"})]})]}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx("h4",{className:"font-medium mb-3",children:"Pages lgales"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"URLs des pages lgales spcifiques  ce client (pour l'app native et le web)"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Politique de confidentialit"}),n.jsx(ne,{type:"url",placeholder:"https://app.koomy.app/website/client/privacy",value:wi,onChange:R=>os(R.target.value),"data-testid":"input-privacy-policy-url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Conditions Gnrales d'Utilisation (CGU)"}),n.jsx(ne,{type:"url",placeholder:"https://app.koomy.app/website/client/terms",value:fy,onChange:R=>kh(R.target.value),"data-testid":"input-terms-url"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Page de suppression de compte"}),n.jsx(ne,{type:"url",placeholder:"https://app.koomy.app/website/client/delete-account",value:hy,onChange:R=>Yl(R.target.value),"data-testid":"input-delete-account-url"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border mt-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:'Afficher "Powered by Koomy"'}),n.jsx("p",{className:"text-sm text-gray-500",children:"Ajoute une mention discrte dans les emails et l'app"})]}),n.jsx(H,{variant:ji?"outline":"default",size:"sm",onClick:()=>is(!ji),className:ji?"":"bg-purple-600 hover:bg-purple-700","data-testid":"toggle-powered-by",children:ji?"Visible":"Masqu"})]}),Yr&&n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg p-4 mt-4",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Aperu"}),n.jsxs("div",{className:"flex items-center gap-3",children:[as?n.jsx("img",{src:ar(as,"wl-apercu-logo"),alt:"Logo",className:"h-10 w-10 rounded-lg object-contain border"}):n.jsx("div",{className:"h-10 w-10 rounded-lg flex items-center justify-center text-white font-bold",style:{backgroundColor:Jn||"#6366f1"},children:Yr.charAt(0)}),n.jsx("span",{className:"font-bold text-lg",style:{color:Jn||"#6366f1"},children:Yr})]})]})]}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ii,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Activez le mode White Label pour configurer le branding"})]})}),n.jsx(wn,{value:"owner-admin",className:"space-y-4 pt-4",children:K?dr?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:n.jsx(Mr,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-800",children:"Administrateur propritaire configur"}),n.jsx("p",{className:"text-sm text-green-600",children:dr.displayName}),n.jsx("p",{className:"text-sm text-green-600",children:dr.email})]})]})}),n.jsx("p",{className:"text-sm text-gray-500",children:"L'administrateur propritaire est le compte principal de cette communaut White Label. Il ne peut pas tre supprim."})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-2",children:[n.jsx(_s,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Aucun administrateur propritaire"})]}),n.jsx("p",{className:"text-sm text-amber-600",children:"Crez un administrateur propritaire pour cette communaut. Un mot de passe sera gnr automatiquement et envoy par email."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Nom complet de l'administrateur"}),n.jsx(ne,{placeholder:"Jean Dupont",value:fu,onChange:R=>Fa(R.target.value),"data-testid":"input-owner-admin-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{children:"Email de l'administrateur"}),n.jsx(ne,{type:"email",placeholder:"admin@organisation.com",value:Jl,onChange:R=>tm(R.target.value),"data-testid":"input-owner-admin-email"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Un email avec les identifiants de connexion sera envoy  cette adresse."})]}),n.jsx(H,{className:"w-full bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700",onClick:()=>{q&&Jl&&fu&&Au.mutate({communityId:q.id,email:Jl,displayName:fu})},disabled:!Jl||!fu||Au.isPending,"data-testid":"button-create-owner-admin",children:Au.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Cration en cours..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ii,{className:"mr-2 h-4 w-4"}),"Crer l'administrateur propritaire"]})})]}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ii,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),n.jsx("p",{children:"Activez le mode White Label pour crer un administrateur propritaire"})]})})]}),n.jsxs(jt,{className:"mt-4",children:[n.jsx(H,{variant:"outline",onClick:()=>z(!1),children:"Annuler"}),n.jsxs(H,{className:"bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white",onClick:rp,disabled:Cu.isPending,"data-testid":"button-save-white-label",children:[n.jsx(ii,{className:"mr-2 h-4 w-4"}),Cu.isPending?"Enregistrement...":"Enregistrer"]})]})]})})]})}function fze(){const[e,t]=v.useState(null),[r,s]=v.useState(null);return v.useEffect(()=>{const a=window.location.hostname,o=["sandbox","localhost","127.0.0.1",".replit.dev",".replit.app"].some(c=>a.includes(c));t(o),o&&s({MODE:"production",CF_PAGES_BRANCH:void 0,CF_PAGES_COMMIT_SHA:void 0,FIREBASE:{PROJECT_ID:void 0,AUTH_DOMAIN:void 0},API:{BASE_URL:void 0},CDN:{BASE_URL:void 0},BUILD_TIME:new Date().toISOString(),HOSTNAME:a})},[]),e===null?n.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-8 font-mono",children:n.jsx("p",{children:"Checking environment..."})}):e?n.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-8 font-mono",children:[n.jsx("h1",{className:"text-2xl font-bold text-green-400 mb-2",children:"Koomy Environment Check"}),n.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Debug page - Sandbox only - Temporary"}),n.jsx("div",{className:"bg-gray-800 rounded-lg p-6 max-w-2xl",children:n.jsx("pre",{className:"text-sm overflow-auto whitespace-pre-wrap",children:JSON.stringify(r,null,2)})}),n.jsxs("div",{className:"mt-6 text-xs text-gray-500",children:[n.jsx("p",{children:"To remove this page:"}),n.jsxs("ul",{className:"list-disc list-inside mt-2",children:[n.jsx("li",{children:"Delete client/src/pages/debug/EnvCheck.tsx"}),n.jsx("li",{children:"Remove route from client/src/App.tsx"})]})]})]}):n.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 p-8 font-mono",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Access Denied"}),n.jsx("p",{className:"text-gray-400",children:"This debug page is only available in sandbox environments."})]})}const St=e=>typeof e=="string",eg=()=>{let e,t;const r=new Promise((s,a)=>{e=s,t=a});return r.resolve=e,r.reject=t,r},aU=e=>e==null?"":""+e,hze=(e,t,r)=>{e.forEach(s=>{t[s]&&(r[s]=t[s])})},pze=/###/g,iU=e=>e&&e.indexOf("###")>-1?e.replace(pze,"."):e,oU=e=>!e||St(e),Ag=(e,t,r)=>{const s=St(t)?t.split("."):t;let a=0;for(;a<s.length-1;){if(oU(e))return{};const i=iU(s[a]);!e[i]&&r&&(e[i]=new r),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return oU(e)?{}:{obj:e,k:iU(s[a])}},lU=(e,t,r)=>{const{obj:s,k:a}=Ag(e,t,Object);if(s!==void 0||t.length===1){s[a]=r;return}let i=t[t.length-1],o=t.slice(0,t.length-1),c=Ag(e,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=Ag(e,o,Object),c?.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=r},gze=(e,t,r,s)=>{const{obj:a,k:i}=Ag(e,t,Object);a[i]=a[i]||[],a[i].push(r)},hj=(e,t)=>{const{obj:r,k:s}=Ag(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,s))return r[s]},xze=(e,t,r)=>{const s=hj(e,r);return s!==void 0?s:hj(t,r)},oee=(e,t,r)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?St(e[s])||e[s]instanceof String||St(t[s])||t[s]instanceof String?r&&(e[s]=t[s]):oee(e[s],t[s],r):e[s]=t[s]);return e},Xm=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const vze=e=>St(e)?e.replace(/[&<>"'\/]/g,t=>yze[t]):e;class bze{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const jze=[" ",",","?","!",";"],wze=new bze(20),Nze=(e,t,r)=>{t=t||"",r=r||"";const s=jze.filter(o=>t.indexOf(o)<0&&r.indexOf(o)<0);if(s.length===0)return!0;const a=wze.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(r);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},ZP=(e,t,r=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(r);let a=e;for(let i=0;i<s.length;){if(!a||typeof a!="object")return;let o,c="";for(let d=i;d<s.length;++d)if(d!==i&&(c+=r),c+=s[d],o=a[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<s.length-1)continue;i+=d-i+1;break}a=o}return a},qx=e=>e?.replace("_","-"),Sze={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class pj{constructor(t,r={}){this.init(t,r)}init(t,r={}){this.prefix=r.prefix||"i18next:",this.logger=t||Sze,this.options=r,this.debug=r.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,s,a){return a&&!this.debug?null:(St(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new pj(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new pj(this.logger,t)}}var jo=new pj;class Kw{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(r)||0;this.observers[s].set(r,a+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t,...r){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[t,...r])})}}class cU extends Kw{constructor(t,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,s,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,r],s&&(Array.isArray(s)?c.push(...s):St(s)&&i?c.push(...s.split(i)):c.push(s)));const d=hj(this.data,c);return!d&&!r&&!s&&t.indexOf(".")>-1&&(t=c[0],r=c[1],s=c.slice(2).join(".")),d||!o||!St(s)?d:ZP(this.data?.[t]?.[r],s,i)}addResource(t,r,s,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[t,r];s&&(c=c.concat(o?s.split(o):s)),t.indexOf(".")>-1&&(c=t.split("."),a=r,r=c[1]),this.addNamespaces(r),lU(this.data,c,a),i.silent||this.emit("added",t,r,s,a)}addResources(t,r,s,a={silent:!1}){for(const i in s)(St(s[i])||Array.isArray(s[i]))&&this.addResource(t,r,i,s[i],{silent:!0});a.silent||this.emit("added",t,r,s)}addResourceBundle(t,r,s,a,i,o={silent:!1,skipCopy:!1}){let c=[t,r];t.indexOf(".")>-1&&(c=t.split("."),a=s,s=r,r=c[1]),this.addNamespaces(r);let d=hj(this.data,c)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?oee(d,s,i):d={...d,...s},lU(this.data,c,d),o.silent||this.emit("added",t,r,s)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var lee={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,s,a){return e.forEach(i=>{t=this.processors[i]?.process(t,r,s,a)??t}),t}};const cee=Symbol("i18next/PATH_KEY");function Cze(){const e=[],t=Object.create(null);let r;return t.get=(s,a)=>(r?.revoke?.(),a===cee?e:(e.push(a),r=Proxy.revocable(s,t),r.proxy)),Proxy.revocable(Object.create(null),t).proxy}function JP(e,t){const{[cee]:r}=e(Cze());return r.join(t?.keySeparator??".")}const uU={},m_=e=>!St(e)&&typeof e!="boolean"&&typeof e!="number";class gj extends Kw{constructor(t,r={}){super(),hze(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jo.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,r={interpolation:{}}){const s={...r};if(t==null)return!1;const a=this.resolve(t,s);if(a?.res===void 0)return!1;const i=m_(a.res);return!(s.returnObjects===!1&&i)}extractFromKey(t,r){let s=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=s&&t.indexOf(s)>-1,c=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Nze(t,s,a);if(o&&!c){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:St(i)?[i]:i};const m=t.split(s);(s!==a||s===a&&this.options.ns.indexOf(m[0])>-1)&&(i=m.shift()),t=m.join(a)}return{key:t,namespaces:St(i)?[i]:i}}translate(t,r,s){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=JP(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(t[t.length-1],a),m=d[d.length-1];let f=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const h=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return g?i?{res:`${m}${f}${c}`,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:`${m}${f}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:c;const b=this.resolve(t,a);let w=b?.res;const y=b?.usedKey||c,j=b?.exactUsedKey||c,N=["[object Number]","[object Function]","[object RegExp]"],C=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,T=a.count!==void 0&&!St(a.count),A=gj.hasDefaultValue(a),k=T?this.pluralResolver.getSuffix(h,a.count,a):"",P=a.ordinal&&T?this.pluralResolver.getSuffix(h,a.count,{ordinal:!1}):"",O=T&&!a.ordinal&&a.count===0,M=O&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${k}`]||a[`defaultValue${P}`]||a.defaultValue;let F=w;E&&!w&&A&&(F=M);const D=m_(F),$=Object.prototype.toString.apply(F);if(E&&F&&D&&N.indexOf($)<0&&!(St(C)&&Array.isArray(F))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,F,{...a,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(b.res=V,b.usedParams=this.getUsedParamsDetails(a),b):V}if(o){const V=Array.isArray(F),z=V?[]:{},q=V?j:y;for(const I in F)if(Object.prototype.hasOwnProperty.call(F,I)){const K=`${q}${o}${I}`;A&&!w?z[I]=this.translate(K,{...a,defaultValue:m_(M)?M[I]:void 0,joinArrays:!1,ns:d}):z[I]=this.translate(K,{...a,joinArrays:!1,ns:d}),z[I]===K&&(z[I]=F[I])}w=z}}else if(E&&St(C)&&Array.isArray(w))w=w.join(C),w&&(w=this.extendTranslation(w,t,a,s));else{let V=!1,z=!1;!this.isValidLookup(w)&&A&&(V=!0,w=M),this.isValidLookup(w)||(z=!0,w=c);const I=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:w,K=A&&M!==w&&this.options.updateMissing;if(z||V||K){if(this.logger.log(K?"updateKey":"missingKey",h,m,c,K?M:w),o){const G=this.resolve(c,{...a,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let G=0;G<B.length;G++)U.push(B[G]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(a.lng||this.language):U.push(a.lng||this.language);const ie=(G,Y,se)=>{const he=A&&se!==w?se:I;this.options.missingKeyHandler?this.options.missingKeyHandler(G,m,Y,he,K,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(G,m,Y,he,K,a),this.emit("missingKey",G,m,Y,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?U.forEach(G=>{const Y=this.pluralResolver.getSuffixes(G,a);O&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(se=>{ie([G],c+se,a[`defaultValue${se}`]||M)})}):ie(U,c,M))}w=this.extendTranslation(w,t,a,b,s),z&&w===c&&this.options.appendNamespaceToMissingKey&&(w=`${m}${f}${c}`),(z||V)&&this.options.parseMissingKeyHandler&&(w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${f}${c}`:c,V?w:void 0,a))}return i?(b.res=w,b.usedParams=this.getUsedParamsDetails(a),b):w}extendTranslation(t,r,s,a,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=St(t)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(d){const h=t.match(this.interpolator.nestingRegexp);m=h&&h.length}let f=s.replace&&!St(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,s.lng||this.language||a.usedLng,s),d){const h=t.match(this.interpolator.nestingRegexp),g=h&&h.length;m<g&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...h)=>i?.[0]===h[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${r[0]}`),null):this.translate(...h,r),s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,c=St(o)?[o]:o;return t!=null&&c?.length&&s.applyPostProcessor!==!1&&(t=lee.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,r={}){let s,a,i,o,c;return St(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(s))return;const m=this.extractFromKey(d,r),f=m.key;a=f;let h=m.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=r.count!==void 0&&!St(r.count),b=g&&!r.ordinal&&r.count===0,w=r.context!==void 0&&(St(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(j=>{this.isValidLookup(s)||(c=j,!uU[`${y[0]}-${j}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(uU[`${y[0]}-${j}`]=!0,this.logger.warn(`key "${a}" for languages "${y.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(N=>{if(this.isValidLookup(s))return;o=N;const C=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,f,N,j,r);else{let T;g&&(T=this.pluralResolver.getSuffix(N,r.count,r));const A=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(r.ordinal&&T.indexOf(k)===0&&C.push(f+T.replace(k,this.options.pluralSeparator)),C.push(f+T),b&&C.push(f+A)),w){const P=`${f}${this.options.contextSeparator||"_"}${r.context}`;C.push(P),g&&(r.ordinal&&T.indexOf(k)===0&&C.push(P+T.replace(k,this.options.pluralSeparator)),C.push(P+T),b&&C.push(P+A))}}let E;for(;E=C.pop();)this.isValidLookup(s)||(i=E,s=this.getResource(N,j,E,r))}))})}),{res:s,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,s,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,r,s,a):this.resourceStore.getResource(t,r,s,a)}getUsedParamsDetails(t={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!St(t.replace);let a=s?t.replace:t;if(s&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(t){const r="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r===s.substring(0,r.length)&&t[s]!==void 0)return!0;return!1}}class dU{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jo.create("languageUtils")}getScriptPartFromCode(t){if(t=qx(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=qx(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(St(t)&&t.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(t)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(s=>{if(r)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&t.forEach(s=>{if(r)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return r=a;const i=this.getLanguagePartFromCode(s);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),St(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let s=t[r];return s||(s=t[this.getScriptPartFromCode(r)]),s||(s=t[this.formatLanguageCode(r)]),s||(s=t[this.getLanguagePartFromCode(r)]),s||(s=t.default),s||[]}toResolveHierarchy(t,r){const s=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return St(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):St(t)&&i(this.formatLanguageCode(t)),s.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const mU={zero:0,one:1,two:2,few:3,many:4,other:5},fU={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Aze{constructor(t,r={}){this.languageUtils=t,this.options=r,this.logger=jo.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t,r={}){const s=qx(t==="dev"?"en":t),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),fU;if(!t.match(/-|_/))return fU;const d=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(d,r)}return this.pluralRulesCache[i]=o,o}needsPlural(t,r={}){let s=this.getRule(t,r);return s||(s=this.getRule("dev",r)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,r,s={}){return this.getSuffixes(t,s).map(a=>`${r}${a}`)}getSuffixes(t,r={}){let s=this.getRule(t,r);return s||(s=this.getRule("dev",r)),s?s.resolvedOptions().pluralCategories.sort((a,i)=>mU[a]-mU[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,r,s={}){const a=this.getRule(t,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",r,s))}}const hU=(e,t,r,s=".",a=!0)=>{let i=xze(e,t,r);return!i&&a&&St(r)&&(i=ZP(e,r,s),i===void 0&&(i=ZP(t,r,s))),i},f_=e=>e.replace(/\$/g,"$$$$");class pU{constructor(t={}){this.logger=jo.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:s,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:d,formatSeparator:m,unescapeSuffix:f,unescapePrefix:h,nestingPrefix:g,nestingPrefixEscaped:b,nestingSuffix:w,nestingSuffixEscaped:y,nestingOptionsSeparator:j,maxReplaces:N,alwaysFormat:C}=t.interpolation;this.escape=r!==void 0?r:vze,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?Xm(i):o||"{{",this.suffix=c?Xm(c):d||"}}",this.formatSeparator=m||",",this.unescapePrefix=f?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=g?Xm(g):b||Xm("$t("),this.nestingSuffix=w?Xm(w):y||Xm(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=N||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,s)=>r?.source===s?(r.lastIndex=0,r):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,r,s,a){let i,o,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=b=>{if(b.indexOf(this.formatSeparator)<0){const N=hU(r,d,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,s,{...a,...r,interpolationkey:b}):N}const w=b.split(this.formatSeparator),y=w.shift().trim(),j=w.join(this.formatSeparator).trim();return this.format(hU(r,d,y,this.options.keySeparator,this.options.ignoreJSONStructure),j,s,{...a,...r,interpolationkey:y})};this.resetRegExp();const f=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>f_(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?f_(this.escape(b)):f_(b)}].forEach(b=>{for(c=0;i=b.regex.exec(t);){const w=i[1].trim();if(o=m(w),o===void 0)if(typeof f=="function"){const j=f(t,i,a);o=St(j)?j:""}else if(a&&Object.prototype.hasOwnProperty.call(a,w))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${t}`),o="";else!St(o)&&!this.useRawValueToEscape&&(o=aU(o));const y=b.safeValue(o);if(t=t.replace(i[0],y),h?(b.regex.lastIndex+=o.length,b.regex.lastIndex-=i[0].length):b.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,r,s={}){let a,i,o;const c=(d,m)=>{const f=this.nestingOptionsSeparator;if(d.indexOf(f)<0)return d;const h=d.split(new RegExp(`${f}[ ]*{`));let g=`{${h[1]}`;d=h[0],g=this.interpolate(g,o);const b=g.match(/'/g),w=g.match(/"/g);((b?.length??0)%2===0&&!w||w.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),m&&(o={...m,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,y),`${d}${f}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;a=this.nestingRegexp.exec(t);){let d=[];o={...s},o=o.replace&&!St(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const m=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(m!==-1&&(d=a[1].slice(m).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),a[1]=a[1].slice(0,m)),i=r(c.call(this,a[1].trim(),o),o),i&&a[0]===t&&!St(i))return i;St(i)||(i=aU(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),d.length&&(i=d.reduce((f,h)=>this.format(f,h,s.lng,{...s,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const Eze=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);t==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[c,...d]=o.split(":"),m=d.join(":").trim().replace(/^'+|'+$/g,""),f=c.trim();r[f]||(r[f]=m),m==="false"&&(r[f]=!1),m==="true"&&(r[f]=!0),isNaN(m)||(r[f]=parseInt(m,10))}})}return{formatName:t,formatOptions:r}},gU=e=>{const t={};return(r,s,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=s+JSON.stringify(i);let c=t[o];return c||(c=e(qx(s),a),t[o]=c),c(r)}},_ze=e=>(t,r,s)=>e(qx(r),s)(t);class Tze{constructor(t={}){this.logger=jo.create("formatter"),this.options=t,this.init(t)}init(t,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const s=r.cacheInBuiltFormats?gU:_ze;this.formats={number:s((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return c=>o.format(c)}),currency:s((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return c=>o.format(c)}),datetime:s((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return c=>o.format(c)}),relativetime:s((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return c=>o.format(c,i.range||"day")}),list:s((a,i)=>{const o=new Intl.ListFormat(a,{...i});return c=>o.format(c)})}}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=gU(r)}format(t,r,s,a={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,d)=>{const{formatName:m,formatOptions:f}=Eze(d);if(this.formats[m]){let h=c;try{const g=a?.formatParams?.[a.interpolationkey]||{},b=g.locale||g.lng||a.locale||a.lng||s;h=this.formats[m](c,b,{...f,...a,...g})}catch(g){this.logger.warn(g)}return h}else this.logger.warn(`there was no format function for ${m}`);return c},t)}}const Pze=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Oze extends Kw{constructor(t,r,s,a={}){super(),this.backend=t,this.store=r,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=jo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,a.backend,a)}queueLoad(t,r,s,a){const i={},o={},c={},d={};return t.forEach(m=>{let f=!0;r.forEach(h=>{const g=`${m}|${h}`;!s.reload&&this.store.hasResourceBundle(m,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,f=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),d[h]===void 0&&(d[h]=!0)))}),f||(c[m]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(t,r,s){const a=t.split("|"),i=a[0],o=a[1];r&&this.emit("failedLoading",i,o,r),!r&&s&&this.store.addResourceBundle(i,o,s,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&s&&(this.state[t]=0);const c={};this.queue.forEach(d=>{gze(d.loaded,[i],o),Pze(d,t),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(m=>{c[m]||(c[m]={});const f=d.loaded[m];f.length&&f.forEach(h=>{c[m][h]===void 0&&(c[m][h]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(t,r,s,a=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:s,tried:a,wait:i,callback:o});return}this.readingCalls++;const c=(m,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(m&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,s,a+1,i*2,o)},i);return}o(m,f)},d=this.backend[s].bind(this.backend);if(d.length===2){try{const m=d(t,r);m&&typeof m.then=="function"?m.then(f=>c(null,f)).catch(c):c(null,m)}catch(m){c(m)}return}return d(t,r,c)}prepareLoading(t,r,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();St(t)&&(t=this.languageUtils.toResolveHierarchy(t)),St(r)&&(r=[r]);const i=this.queueLoad(t,r,s,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,r,s){this.prepareLoading(t,r,{},s)}reload(t,r,s){this.prepareLoading(t,r,{reload:!0},s)}loadOne(t,r=""){const s=t.split("|"),a=s[0],i=s[1];this.read(a,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,o),!o&&c&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,c),this.loaded(t,o,c)})}saveMissing(t,r,s,a,i,o={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${s}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const d={...o,isUpdate:i},m=this.backend.create.bind(this.backend);if(m.length<6)try{let f;m.length===5?f=m(t,r,s,a,d):f=m(t,r,s,a),f&&typeof f.then=="function"?f.then(h=>c(null,h)).catch(c):c(null,f)}catch(f){c(f)}else m(t,r,s,a,c,d)}!t||!t[0]||this.store.addResource(t[0],r,s,a)}}}const xU=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),St(e[1])&&(t.defaultValue=e[1]),St(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(s=>{t[s]=r[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yU=e=>(St(e.ns)&&(e.ns=[e.ns]),St(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),St(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),f0=()=>{},kze=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class Eg extends Kw{constructor(t={},r){if(super(),this.options=yU(t),this.services={},this.logger=jo,this.modules={external:[]},kze(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(t={},r){this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(St(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=xU();this.options={...s,...this.options,...yU(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?jo.init(a(this.modules.logger),this.options):jo.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=Tze;const f=new dU(this.options);this.store=new cU(this.options.resources,this.options);const h=this.services;h.logger=jo,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Aze(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(h.formatter=a(m),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new pU(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Oze(a(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(b,...w)=>{this.emit(b,...w)}),this.modules.languageDetector&&(h.languageDetector=a(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=a(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new gj(this.services,this.options),this.translator.on("*",(b,...w)=>{this.emit(b,...w)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,r||(r=f0),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...f)=>this.store[m](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...f)=>(this.store[m](...f),this)});const c=eg(),d=()=>{const m=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),r(f,h)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(t,r=f0){let s=r;const a=St(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(m=>{m!=="cimode"&&i.indexOf(m)<0&&i.push(m)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>o(d)),this.options.preload?.forEach?.(c=>o(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(c)})}else s(null)}reloadResources(t,r,s){const a=eg();return typeof t=="function"&&(s=t,t=void 0),typeof r=="function"&&(s=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),s||(s=f0),this.services.backendConnector.reload(t,r,i=>{a.resolve(),s(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&lee.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let r=0;r<this.languages.length;r++){const s=this.languages[r];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,r){this.isLanguageChangingTo=t;const s=eg();this.emit("languageChanging",t);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,d)=>{d?this.isLanguageChangingTo===t&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve((...m)=>this.t(...m)),r&&r(c,(...m)=>this.t(...m))},o=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const d=St(c)?c:c&&c[0],m=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(St(c)?[c]:c);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,f=>{i(f,m)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),s}getFixedT(t,r,s){const a=(i,o,...c)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([i,o].concat(c)):d={...o},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||s||a.keyPrefix);const m=this.options.keySeparator||".";let f;return d.keyPrefix&&Array.isArray(i)?f=i.map(h=>(typeof h=="function"&&(h=JP(h,{...this.options,...o})),`${d.keyPrefix}${m}${h}`)):(typeof i=="function"&&(i=JP(i,{...this.options,...o})),f=d.keyPrefix?`${d.keyPrefix}${m}${i}`:i),this.t(f,d)};return St(t)?a.lng=t:a.lngs=t,a.ns=r,a.keyPrefix=s,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(c,d)=>{const m=this.services.backendConnector.state[`${c}|${d}`];return m===-1||m===0||m===2};if(r.precheck){const c=r.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,t)&&(!a||o(i,t)))}loadNamespaces(t,r){const s=eg();return this.options.ns?(St(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),r&&r(a)}),s):(r&&r(),Promise.resolve())}loadLanguages(t,r){const s=eg();St(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{s.resolve(),r&&r(o)}),s):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new dU(xU());return t.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},r){const s=new Eg(t,r);return s.createInstance=Eg.createInstance,s}cloneInstance(t={},r=f0){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new Eg(a);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s){const c=Object.keys(this.store.data).reduce((d,m)=>(d[m]={...this.store.data[m]},d[m]=Object.keys(d[m]).reduce((f,h)=>(f[h]={...d[m][h]},f),d[m]),d),{});i.store=new cU(c,a),i.services.resourceStore=i.store}return t.interpolation&&(i.services.interpolator=new pU(a)),i.translator=new gj(i.services,a),i.translator.on("*",(c,...d)=>{i.emit(c,...d)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xs=Eg.createInstance();Xs.createInstance;Xs.dir;Xs.init;Xs.loadResources;Xs.reloadResources;Xs.use;Xs.changeLanguage;Xs.getFixedT;Xs.t;Xs.exists;Xs.setDefaultNamespace;Xs.hasLoadedNamespace;Xs.loadNamespaces;Xs.loadLanguages;const Mze=(e,t,r,s)=>{const a=[r,{code:t,...s||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);Ld(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},vU={},uee=(e,t,r,s)=>{Ld(r)&&vU[r]||(Ld(r)&&(vU[r]=new Date),Mze(e,t,r,s))},dee=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},e4=(e,t,r)=>{e.loadNamespaces(t,dee(e,r))},bU=(e,t,r,s)=>{if(Ld(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return e4(e,r,s);r.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,dee(e,s))},Rze=(e,t,r={})=>!t.languages||!t.languages.length?(uee(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:r.lng,precheck:(s,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,e))return!1}}),Ld=e=>typeof e=="string",Dze=e=>typeof e=="object"&&e!==null,Ize=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Lze={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},$ze=e=>Lze[e],zze=e=>e.replace(Ize,$ze);let t4={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zze};const qze=(e={})=>{t4={...t4,...e}},Fze=()=>t4;let mee;const Bze=e=>{mee=e},Uze=()=>mee,Vze={type:"3rdParty",init(e){qze(e.options.react),Bze(e)}},Kze=v.createContext();class Hze{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Gze=(e,t)=>Ld(t)?t:Dze(t)&&Ld(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Wze={t:Gze,ready:!1},Yze=()=>()=>{},Gl=(e,t={})=>{const{i18n:r}=t,{i18n:s,defaultNS:a}=v.useContext(Kze)||{},i=r||s||Uze();i&&!i.reportNamespaces&&(i.reportNamespaces=new Hze),i||uee(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=v.useMemo(()=>({...Fze(),...i?.options?.react,...t}),[i,t]),{useSuspense:c,keyPrefix:d}=o,m=a||i?.options?.defaultNS,f=Ld(m)?[m]:m||["translation"],h=v.useMemo(()=>f,f);i?.reportNamespaces?.addUsedNamespaces?.(h);const g=v.useRef(0),b=v.useCallback(M=>{if(!i)return Yze;const{bindI18n:F,bindI18nStore:D}=o,$=()=>{g.current+=1,M()};return F&&i.on(F,$),D&&i.store.on(D,$),()=>{F&&F.split(" ").forEach(V=>i.off(V,$)),D&&D.split(" ").forEach(V=>i.store.off(V,$))}},[i,o]),w=v.useRef(),y=v.useCallback(()=>{if(!i)return Wze;const M=!!(i.isInitialized||i.initializedStoreOnce)&&h.every(q=>Rze(q,i,o)),F=t.lng||i.language,D=g.current,$=w.current;if($&&$.ready===M&&$.lng===F&&$.keyPrefix===d&&$.revision===D)return $;const z={t:i.getFixedT(F,o.nsMode==="fallback"?h:h[0],d),ready:M,lng:F,keyPrefix:d,revision:D};return w.current=z,z},[i,h,d,o,t.lng]),[j,N]=v.useState(0),{t:C,ready:E}=n4.useSyncExternalStore(b,y,y);v.useEffect(()=>{if(i&&!E&&!c){const M=()=>N(F=>F+1);t.lng?bU(i,t.lng,h,M):e4(i,h,M)}},[i,t.lng,h,E,c,j]);const T=i||{},A=v.useRef(null),k=v.useRef(),P=M=>{const F=Object.getOwnPropertyDescriptors(M);F.__original&&delete F.__original;const D=Object.create(Object.getPrototypeOf(M),F);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:M,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},O=v.useMemo(()=>{const M=T,F=M?.language;let D=M;M&&(A.current&&A.current.__original===M?k.current!==F?(D=P(M),A.current=D,k.current=F):D=A.current:(D=P(M),A.current=D,k.current=F));const $=[C,D,E];return $.t=C,$.i18n=D,$.ready=E,$},[C,T,E,T.resolvedLanguage,T.language,T.languages]);if(i&&c&&!E)throw new Promise(M=>{const F=()=>M();t.lng?bU(i,t.lng,h,F):e4(i,h,F)});return O},jU="Bonjour !  Je suis l'assistant Koomy. Comment puis-je vous aider aujourd'hui ?",Qze=["Quels sont vos tarifs ?","Quelles fonctionnalits proposez-vous ?","Y a-t-il un essai gratuit ?"];function Xze(){const[e,t]=v.useState(!1),[r,s]=v.useState([]),[a,i]=v.useState([]),[o,c]=v.useState(""),[d,m]=v.useState(!1),[f,h]=v.useState(!1),[g,b]=v.useState(!1),[w,y]=v.useState(""),[j,N]=v.useState(""),[C,E]=v.useState(!1),T=v.useRef(null);v.useEffect(()=>{e&&r.length===0&&s([{id:"welcome",content:jU,sender:"bot",timestamp:new Date}])},[e,r.length]),v.useEffect(()=>{T.current?.scrollIntoView({behavior:"smooth"})},[r]);const A=(D,$)=>{s(V=>[...V,{id:Date.now().toString(),content:D,sender:$,timestamp:new Date}])},k=async D=>{const $=[...a,{role:"user",content:D}];i($),m(!0);try{const V=await fetch(`${Lt()}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:$})});if(!V.ok)throw new Error("Failed to get response");const q=(await V.json()).reply;i(I=>[...I,{role:"assistant",content:q}]),A(q,"bot")}catch(V){console.error("Chat error:",V),A("Dsol, une erreur s'est produite. Veuillez ressayer ou contacter notre support.","bot")}finally{m(!1)}},P=async()=>{if(!o.trim()||d)return;const D=o.trim();if(A(D,"user"),c(""),g){A("Notre agent a bien reu votre message. Il vous rpondra dans quelques instants...","bot");return}const $=D.toLowerCase();if($.includes("agent")||$.includes("humain")||$.includes("conseiller")||$.includes("parler  quelqu'un")){E(!0),A("Je comprends que vous souhaitez parler  un conseiller. Merci de remplir le formulaire ci-dessous.","bot");return}await k(D)},O=async D=>{A(D,"user"),await k(D)},M=()=>{!w||!j||(E(!1),h(!0),A(`Merci ${w} ! Je transfre votre conversation  un conseiller. Veuillez patienter quelques instants...`,"bot"),setTimeout(()=>{h(!1),b(!0),s(D=>[...D,{id:Date.now().toString(),content:`Bonjour ${w} ! Je suis Marie de l'quipe commerciale Koomy. Comment puis-je vous aider ?`,sender:"agent",timestamp:new Date}])},3e3))},F=()=>{s([{id:"welcome",content:jU,sender:"bot",timestamp:new Date}]),i([]),b(!1),h(!1),E(!1)};return n.jsxs(n.Fragment,{children:[!e&&n.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 z-50 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg shadow-blue-200 transition-all hover:scale-110 animate-bounce","data-testid":"button-open-chat",children:n.jsx(R0,{size:24})}),e&&n.jsxs("div",{className:"fixed bottom-6 right-6 z-50 w-96 max-w-[calc(100vw-3rem)] bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden animate-in slide-in-from-bottom-5",style:{height:"500px",maxHeight:"calc(100vh - 6rem)"},children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-3",children:g?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(Ra,{size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Marie - quipe Koomy"}),n.jsxs("p",{className:"text-xs text-blue-100 flex items-center gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"En ligne"]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(p2,{size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold",children:"Assistant Koomy"}),n.jsx("p",{className:"text-xs text-blue-100",children:"Support 24/7"})]})]})}),n.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors","data-testid":"button-close-chat",children:n.jsx(fn,{size:20})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[r.map(D=>n.jsxs("div",{className:Le("flex gap-2 animate-in fade-in slide-in-from-bottom-2",D.sender==="user"?"flex-row-reverse":""),children:[n.jsx("div",{className:Le("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",D.sender==="user"?"bg-blue-100 text-blue-600":D.sender==="agent"?"bg-purple-100 text-purple-600":"bg-gray-200 text-gray-600"),children:D.sender==="user"?n.jsx(gi,{size:16}):D.sender==="agent"?n.jsx(Ra,{size:16}):n.jsx(p2,{size:16})}),n.jsxs("div",{className:Le("max-w-[75%] rounded-2xl px-4 py-2 text-sm",D.sender==="user"?"bg-blue-600 text-white rounded-br-md":D.sender==="agent"?"bg-purple-100 text-purple-900 rounded-bl-md":"bg-white text-gray-800 rounded-bl-md shadow-sm border border-gray-100"),children:[n.jsx("p",{className:"whitespace-pre-line",children:D.content}),n.jsx("p",{className:Le("text-[10px] mt-1",D.sender==="user"?"text-blue-200":"text-gray-400"),children:D.timestamp.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})]},D.id)),d&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:n.jsx(p2,{size:16,className:"text-gray-600"})}),n.jsx("div",{className:"bg-white rounded-2xl px-4 py-3 rounded-bl-md shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[n.jsx(Oe,{size:16,className:"animate-spin"}),n.jsx("span",{className:"text-sm",children:"En train de rflchir..."})]})})]}),f&&n.jsxs("div",{className:"text-center py-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Connexion  un conseiller..."})]}),C&&n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 animate-in fade-in",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800 mb-3",children:"Pour vous mettre en relation avec un conseiller :"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ne,{placeholder:"Votre nom",value:w,onChange:D=>y(D.target.value),className:"h-10","data-testid":"input-chat-name"}),n.jsx(ne,{type:"email",placeholder:"Votre email",value:j,onChange:D=>N(D.target.value),className:"h-10","data-testid":"input-chat-email"}),n.jsxs(H,{onClick:M,disabled:!w||!j,className:"w-full bg-purple-600 hover:bg-purple-700","data-testid":"button-connect-agent",children:[n.jsx(Ra,{size:16,className:"mr-2"}),"Parler  un conseiller"]})]})]}),!g&&!f&&!C&&!d&&r.length===1&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Suggestions :"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Qze.map((D,$)=>n.jsx("button",{onClick:()=>O(D),className:"text-xs bg-white border border-gray-200 text-gray-700 px-3 py-1.5 rounded-full hover:bg-blue-50 hover:border-blue-200 hover:text-blue-600 transition-colors","data-testid":`quick-suggestion-${$}`,children:D},$))})]}),n.jsx("div",{ref:T})]}),n.jsxs("div",{className:"p-3 bg-white border-t border-gray-100",children:[g&&n.jsxs("button",{onClick:F,className:"w-full text-xs text-gray-500 hover:text-gray-700 mb-2 flex items-center justify-center gap-1",children:[n.jsx(Bn,{size:12})," Retour  l'assistant IA"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{value:o,onChange:D=>c(D.target.value),placeholder:g?"crivez  l'agent...":"Posez votre question...",onKeyDown:D=>D.key==="Enter"&&!D.shiftKey&&P(),disabled:d,className:"flex-1","data-testid":"input-chat-message"}),n.jsx(H,{onClick:P,disabled:!o.trim()||d,className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-send-message",children:d?n.jsx(Oe,{size:18,className:"animate-spin"}):n.jsx(Rs,{size:18})})]}),n.jsx("p",{className:"text-[10px] text-gray-400 text-center mt-2",children:"Assistance automatise"})]})]})]})}const wU="koomy_cookie_consent",NU="koomy_cookie_preferences";v.createContext(null);function Zze(){const{t:e}=Gl(),[t,r]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState({necessary:!0,analytics:!1,marketing:!1,functional:!1});v.useEffect(()=>{if(localStorage.getItem(wU)){const g=localStorage.getItem(NU);if(g){const b=JSON.parse(g);o(b)}}else{const g=setTimeout(()=>r(!0),1e3);return()=>clearTimeout(g)}},[]),v.useEffect(()=>{const h=()=>{r(!0),a(!0)};return window.addEventListener("openCookieSettings",h),()=>window.removeEventListener("openCookieSettings",h)},[]);const c=h=>{localStorage.setItem(wU,"true"),localStorage.setItem(NU,JSON.stringify(h)),o(h),r(!1),a(!1),window.dispatchEvent(new CustomEvent("cookieConsentChanged"))},d=()=>{c({necessary:!0,analytics:!0,marketing:!0,functional:!0})},m=()=>{c({necessary:!0,analytics:!1,marketing:!1,functional:!1})},f=()=>{c(i)};return t?n.jsxs("div",{className:"fixed inset-0 z-50 pointer-events-none","data-testid":"cookie-consent-container",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20 pointer-events-auto",onClick:()=>{}}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 pointer-events-auto",children:n.jsx("div",{className:"bg-white shadow-2xl border-t border-gray-200 p-6 md:p-8 animate-in slide-in-from-bottom-10 duration-500",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:s?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Cl,{className:"h-5 w-5 text-blue-600"}),e("cookies.settingsTitle","Paramtres des cookies")]}),n.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","data-testid":"button-close-settings",children:n.jsx(fn,{className:"h-5 w-5 text-gray-500"})})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:n.jsx(Mr,{className:"h-4 w-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:e("cookies.necessary.title","Cookies essentiels")}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("cookies.necessary.desc","Ncessaires au fonctionnement du site. Ne peuvent pas tre dsactivs.")})]})]}),n.jsx(Qn,{checked:!0,disabled:!0,className:"opacity-50"})]}),n.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(cae,{className:"h-4 w-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:e("cookies.analytics.title","Cookies analytiques")}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("cookies.analytics.desc","Nous aident  comprendre comment vous utilisez le site pour l'amliorer.")})]})]}),n.jsx(Qn,{checked:i.analytics,onCheckedChange:h=>o(g=>({...g,analytics:h})),"data-testid":"switch-analytics"})]}),n.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:n.jsx(wd,{className:"h-4 w-4 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:e("cookies.marketing.title","Cookies marketing")}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("cookies.marketing.desc","Utiliss pour afficher des publicits pertinentes et mesurer leur efficacit.")})]})]}),n.jsx(Qn,{checked:i.marketing,onCheckedChange:h=>o(g=>({...g,marketing:h})),"data-testid":"switch-marketing"})]}),n.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-xl",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:n.jsx(N6,{className:"h-4 w-4 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:e("cookies.functional.title","Cookies fonctionnels")}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e("cookies.functional.desc","Permettent des fonctionnalits personnalises comme la langue et les prfrences.")})]})]}),n.jsx(Qn,{checked:i.functional,onCheckedChange:h=>o(g=>({...g,functional:h})),"data-testid":"switch-functional"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t",children:[n.jsx(H,{variant:"outline",onClick:m,className:"w-full sm:w-auto",children:e("cookies.rejectAll","Tout refuser")}),n.jsx(H,{variant:"outline",onClick:d,className:"w-full sm:w-auto",children:e("cookies.acceptAll","Tout accepter")}),n.jsx(H,{onClick:f,className:"w-full sm:flex-1 bg-blue-600 hover:bg-blue-700","data-testid":"button-save-preferences",children:e("cookies.savePreferences","Enregistrer mes prfrences")})]}),n.jsxs("p",{className:"text-xs text-gray-400 text-center",children:[e("cookies.moreInfo","Pour en savoir plus, consultez notre")," "," ",n.jsx("a",{href:"/website/privacy",className:"text-blue-500 hover:underline",children:e("cookies.privacyPolicy","politique de confidentialit")})]})]}):n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[n.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-xl shrink-0",children:n.jsx(N6,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e("cookies.title"," Nous respectons votre vie prive")}),n.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e("cookies.description","Ce site utilise des cookies pour amliorer votre exprience. Certains cookies sont essentiels au fonctionnement du site, d'autres nous aident  comprendre comment vous l'utilisez.")}),n.jsxs("button",{onClick:()=>a(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium mt-2 flex items-center gap-1","data-testid":"button-cookie-settings",children:[n.jsx(Cl,{className:"h-4 w-4"}),e("cookies.customize","Personnaliser mes choix")]})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[n.jsx(H,{variant:"outline",onClick:m,className:"w-full sm:w-auto","data-testid":"button-reject-cookies",children:e("cookies.rejectAll","Tout refuser")}),n.jsx(H,{onClick:d,className:"w-full sm:w-auto bg-blue-600 hover:bg-blue-700","data-testid":"button-accept-cookies",children:e("cookies.acceptAll","Tout accepter")})]})]})})})})]}):null}function Jze(){window.dispatchEvent(new CustomEvent("openCookieSettings"))}const h_="/assets/koomy-logo-cropped-C1yPeXIX.png";function Yi({children:e}){const[t,r]=v.useState(!1),[s,a]=v.useState(!1),[i,o]=v.useState(!1),[c,d]=v.useState(""),[m,f]=v.useState(""),[h,g]=zt(),{setUser:b}=dt(),w=_xe(),{t:y,i18n:j}=Gl(),N=v.useRef(null);v.useEffect(()=>{s&&N.current&&setTimeout(()=>N.current?.focus(),100)},[s]);const C=j.language,E=()=>{const P=C==="fr"?"en":"fr";j.changeLanguage(P)},T=[{label:y("nav.features"),path:"/website/features"},{label:y("nav.pricing"),path:"/website/pricing"},{label:y("nav.faq"),path:"/website/faq"},{label:y("nav.contact"),path:"/website/contact"}],A=async P=>{P.preventDefault();try{const O=await w.mutateAsync({email:c,password:m});O.sessionToken&&await vj(O.sessionToken),await ho("koomy_user",JSON.stringify(O.user)),O.memberships.length>0&&await ho("koomy_current_membership",JSON.stringify(O.memberships[0])),b({...O.user,memberships:O.memberships}),a(!1),d(""),f(""),X.success(y("login.success"));const M=O.memberships.find(F=>F.role==="admin");g(M?"/admin/dashboard":"/app/hub")}catch(O){const M=O instanceof Error?O.message:"";M.includes("401")||M.toLowerCase().includes("incorrect")||M.toLowerCase().includes("invalid")?X.error(y("login.invalidCredentials")):M.includes("5")||M.toLowerCase().includes("server")?X.error(y("login.serverError")):X.error(M||y("login.error"))}},k=()=>{a(!0),r(!1)};return n.jsxs("div",{className:"min-h-screen flex flex-col font-sans bg-white",children:[n.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-slate-100 bg-white/80 backdrop-blur-md",children:[n.jsxs("div",{className:"container mx-auto px-4 md:px-6 h-16 flex items-center justify-between",children:[n.jsx($e,{href:"/website",className:"flex items-center gap-2",children:n.jsx("img",{src:h_,alt:"Koomy",className:"h-10"})}),n.jsx("nav",{className:"hidden md:flex items-center gap-8",children:T.map(P=>n.jsx($e,{href:P.path,className:`text-sm font-medium transition-colors hover:text-blue-600 ${h===P.path?"text-blue-600":"text-slate-600"}`,children:P.label},P.path))}),n.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[n.jsxs("button",{onClick:E,className:"flex items-center gap-1.5 text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors px-2 py-1 rounded-md hover:bg-blue-50","data-testid":"button-language-toggle",children:[n.jsx(Ui,{size:16}),C.toUpperCase()]}),n.jsxs(H,{variant:"ghost",className:"text-slate-700 hover:text-blue-600 hover:bg-blue-50",onClick:k,"data-testid":"button-open-login",children:[n.jsx(M0,{size:18,className:"mr-2"}),y("nav.login")]}),n.jsx($e,{href:"/website/pricing",children:n.jsx(H,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-200",children:y("login.createClub")})})]}),n.jsx("button",{className:"md:hidden p-2",onClick:()=>r(!t),children:t?n.jsx(fn,{size:24}):n.jsx(Fie,{size:24})})]}),t&&n.jsx("div",{className:"md:hidden absolute top-16 left-0 w-full bg-white border-b border-slate-100 p-4 shadow-lg animate-in slide-in-from-top-5",children:n.jsxs("nav",{className:"flex flex-col gap-4",children:[T.map(P=>n.jsx($e,{href:P.path,className:"text-base font-medium text-slate-700 py-2 block",onClick:()=>r(!1),children:P.label},P.path)),n.jsx("hr",{className:"border-slate-100 my-2"}),n.jsxs("button",{onClick:E,className:"flex items-center gap-2 text-base font-medium text-slate-700 py-2",children:[n.jsx(Ui,{size:18}),C==="fr"?"English":"Franais"]}),n.jsxs(H,{variant:"outline",className:"w-full justify-start",onClick:k,children:[n.jsx(M0,{size:18,className:"mr-2"}),y("nav.login")]}),n.jsx($e,{href:"/website/pricing",children:n.jsx(H,{className:"w-full bg-blue-600 text-white",onClick:()=>r(!1),children:y("nav.signup")})})]})})]}),n.jsx(ht,{open:s,onOpenChange:a,children:n.jsxs(mt,{className:"sm:max-w-md",children:[n.jsxs(pt,{children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("img",{src:h_,alt:"Koomy",className:"h-12"})}),n.jsx(gt,{className:"text-center text-2xl",children:y("login.title")}),n.jsx("p",{className:"text-center text-slate-500 text-sm mt-2",children:y("login.subtitle")})]}),n.jsxs("form",{onSubmit:A,className:"space-y-5 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:y("login.email")}),n.jsx(ne,{ref:N,type:"email",placeholder:y("login.emailPlaceholder"),value:c,onChange:P=>d(P.target.value),className:"h-11",required:!0,autoComplete:"email","data-testid":"modal-input-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-slate-700",children:y("login.password")}),n.jsxs("div",{className:"relative",children:[n.jsx(ne,{type:i?"text":"password",value:m,onChange:P=>f(P.target.value),className:"h-11 pr-10",required:!0,"data-testid":"modal-input-password"}),n.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:i?n.jsx(ma,{size:18}):n.jsx(ws,{size:18})})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("a",{href:"#",className:"text-xs font-medium text-blue-600 hover:underline",children:y("login.forgotPassword")})})]}),n.jsx(H,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-base font-semibold",disabled:w.isPending,"data-testid":"modal-button-login",children:w.isPending?y("login.loading"):n.jsxs("span",{className:"flex items-center gap-2",children:[y("login.submit")," ",n.jsx(En,{size:18})]})})]}),n.jsxs("div",{className:"border-t border-slate-100 pt-4 space-y-3",children:[n.jsxs("p",{className:"text-sm text-slate-500 text-center",children:[y("login.noAccount")," ",n.jsx($e,{href:"/website/pricing",className:"text-blue-600 font-medium hover:underline",onClick:()=>a(!1),children:y("login.createAccount")})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-400",children:[n.jsx(Bd,{size:14}),n.jsx("span",{children:y("login.memberHint")}),n.jsx("a",{href:"https://koomy.app/download",className:"text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",children:y("login.downloadApp")})]})]})]})}),n.jsx("main",{className:"flex-1",children:e}),n.jsx(Xze,{}),n.jsx(Zze,{}),n.jsx("footer",{className:"bg-gradient-to-b from-slate-50 to-slate-100 py-16 border-t border-slate-200",children:n.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("img",{src:h_,alt:"Koomy",className:"h-14"})}),n.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:y("footer.description")}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx("a",{href:"#",className:"w-9 h-9 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:text-blue-600 hover:border-blue-200 transition-colors","aria-label":"Twitter",children:n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),n.jsx("a",{href:"#",className:"w-9 h-9 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:text-blue-600 hover:border-blue-200 transition-colors","aria-label":"LinkedIn",children:n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),n.jsx("a",{href:"#",className:"w-9 h-9 rounded-full bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:text-pink-500 hover:border-pink-200 transition-colors","aria-label":"Instagram",children:n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"})})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-slate-900 font-bold mb-4",children:y("footer.product")}),n.jsxs("ul",{className:"space-y-3 text-sm",children:[n.jsx("li",{children:n.jsx($e,{href:"/website/features",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("footer.features")})}),n.jsx("li",{children:n.jsx($e,{href:"/website/pricing",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("footer.pricing")})}),n.jsx("li",{children:n.jsx("a",{href:"https://calendar.app.google/UpPZuRhRtGgqZCTE7",target:"_blank",rel:"noopener noreferrer",className:"text-slate-600 hover:text-blue-600 transition-colors","data-testid":"cta-demo-footer",children:y("demo.bookDemo")})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-slate-900 font-bold mb-4",children:y("footer.resources")}),n.jsxs("ul",{className:"space-y-3 text-sm",children:[n.jsx("li",{children:n.jsx($e,{href:"/website/faq",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("footer.faq")})}),n.jsx("li",{children:n.jsx($e,{href:"/website/support",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("footer.support")})}),n.jsx("li",{children:n.jsx($e,{href:"/website/blog",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("footer.blog")})}),n.jsx("li",{children:n.jsx($e,{href:"/website/contact",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("nav.contact")})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-slate-900 font-bold mb-4",children:y("footer.legal")}),n.jsxs("ul",{className:"space-y-3 text-sm",children:[n.jsx("li",{children:n.jsx($e,{href:"/website/privacy",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("footer.privacy")})}),n.jsx("li",{children:n.jsx($e,{href:"/website/terms",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("footer.terms")})}),n.jsx("li",{children:n.jsx($e,{href:"/website/legal",className:"text-slate-600 hover:text-blue-600 transition-colors",children:y("footer.cookies")})}),n.jsx("li",{children:n.jsx("button",{onClick:Jze,className:"text-slate-600 hover:text-blue-600 transition-colors cursor-pointer","data-testid":"button-footer-cookie-settings",children:y("cookies.settingsTitle","Paramtres cookies")})})]})]})]}),n.jsxs("div",{className:"border-t border-slate-200 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-slate-500",children:[n.jsxs("p",{children:[" 2025 Koomy. ",y("footer.allRights")]}),n.jsx("p",{className:"text-slate-400 text-xs",children:"Fait avec soin en France"})]})]})})]})}const SU="/assets/Multicolor%20Vivid%20Summer%20Photo%20Collage%20A4%20Document%20(1)_1764652857180-DDD9QJIU.png";function eqe(){const[e,t]=v.useState(null),[r,s]=v.useState(!1),[a,i]=v.useState(!1),[o,c]=v.useState(!1);v.useEffect(()=>{const m=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;i(m);const f=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;c(f);const h=g=>{g.preventDefault(),t(g),s(!0)};return window.addEventListener("beforeinstallprompt",h),()=>{window.removeEventListener("beforeinstallprompt",h)}},[]);const d=v.useCallback(async()=>{if(!e)return{success:!1,reason:"no_prompt"};try{await e.prompt();const{outcome:m}=await e.userChoice;return m==="accepted"?(t(null),s(!1),{success:!0}):{success:!1,reason:"dismissed"}}catch{return{success:!1,reason:"error"}}},[e]);return{isInstallable:r,isIOS:a,isInstalled:o,promptInstall:d}}function CU({variant:e}){const{t}=Gl(),{isIOS:r,isInstalled:s}=eqe(),[a,i]=v.useState(!1),o=e==="member"?{title:t("pwa.member.title","Koomy - Membres"),description:t("pwa.member.description","Accdez  votre espace membre en 1 clic depuis votre tlphone."),icon:"/icons/iconeapppublic.png",url:"/app",buttonColor:"bg-sky-500 hover:bg-sky-600"}:{title:t("pwa.pro.title","Koomy - Pro"),description:t("pwa.pro.description","Grez votre communaut et vos adhsions depuis votre mobile."),icon:"/icons/icone-appPro-koomy.png",url:"/app-pro",buttonColor:"bg-blue-700 hover:bg-blue-800"},c=async()=>{if(r){i(!0);return}window.location.href=o.url};return s?null:n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"relative rounded-2xl p-6 bg-white shadow-xl border border-slate-100 transition-all hover:shadow-2xl hover:-translate-y-1",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden shadow-md flex-shrink-0 bg-slate-50",children:n.jsx("img",{src:o.icon,alt:o.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg font-bold text-slate-900",children:o.title}),n.jsx("p",{className:"text-sm text-slate-600 mt-1 leading-relaxed",children:o.description})]})]}),n.jsxs(H,{onClick:c,className:`w-full mt-4 ${o.buttonColor} text-white font-semibold`,"data-testid":`button-install-${e}`,children:[n.jsx(p4,{className:"w-4 h-4 mr-2"}),t("pwa.install","Installer l'application")]})]}),a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>i(!1),children:n.jsxs("div",{className:"bg-white rounded-2xl max-w-sm w-full p-6 relative",onClick:d=>d.stopPropagation(),children:[n.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600",children:n.jsx(fn,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden shadow-md mx-auto mb-4",children:n.jsx("img",{src:o.icon,alt:o.title,className:"w-full h-full object-cover"})}),n.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:t("pwa.ios.title","Installer sur iOS")}),n.jsx("p",{className:"text-sm text-slate-600 mb-6",children:t("pwa.ios.instructions","Pour installer Koomy sur votre iPhone ou iPad :")}),n.jsxs("div",{className:"space-y-4 text-left",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:n.jsx(I0,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:t("pwa.ios.step1.title","1. Appuyez sur Partager")}),n.jsx("p",{className:"text-xs text-slate-500",children:t("pwa.ios.step1.desc","Dans Safari, appuyez sur l'icne de partage en bas de l'cran")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:n.jsx(Sn,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-slate-900",children:t("pwa.ios.step2.title","2. Sur l'cran d'accueil")}),n.jsx("p",{className:"text-xs text-slate-500",children:t("pwa.ios.step2.desc",`Slectionnez "Sur l'cran d'accueil" puis "Ajouter"`)})]})]})]}),n.jsx(H,{onClick:()=>{i(!1),window.open(o.url,"_blank")},className:`w-full mt-6 ${o.buttonColor} text-white`,children:t("pwa.ios.openApp","Ouvrir l'application")})]})]})})]})}function fee(){const{t:e}=Gl();return n.jsxs(Yi,{children:[n.jsx("section",{className:"relative overflow-hidden bg-slate-50 pt-16 pb-24 lg:pt-32 lg:pb-40",children:n.jsx("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12 lg:gap-20",children:[n.jsxs("div",{className:"lg:w-1/2 space-y-8 text-center lg:text-left",children:[n.jsxs("h1",{className:"text-4xl lg:text-6xl font-extrabold text-slate-900 tracking-tight leading-tight",children:[e("home.hero.title")," ",n.jsx("span",{className:"text-blue-600",children:e("home.hero.titleHighlight")})]}),n.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto lg:mx-0 leading-relaxed",children:e("home.hero.subtitle")}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:n.jsx($e,{href:"/website/pricing",children:n.jsxs(H,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white h-12 px-8 text-base shadow-xl shadow-blue-200/50",children:[e("home.hero.cta")," ",n.jsx(En,{className:"ml-2 h-5 w-5"})]})})})]}),n.jsxs("div",{className:"lg:w-1/2 relative",children:[n.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-gradient-to-tr from-blue-100 to-purple-100 rounded-full blur-3xl opacity-60"}),n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl border border-slate-200 p-2 rotate-2 hover:rotate-0 transition-transform duration-500",children:[n.jsx("img",{src:SU,alt:"Koomy Communities",className:"rounded-xl shadow-inner border border-slate-100"}),n.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-xl border border-slate-100 flex items-center gap-4 animate-in slide-in-from-bottom-4 duration-1000 delay-300",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600",children:n.jsx(It,{size:24})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase",children:e("home.stats.newMembers")}),n.jsx("p",{className:"text-xl font-bold text-slate-900",children:e("home.stats.thisWeek")})]})]})]})]})]})})}),n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[n.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:e("home.features.title")}),n.jsx("p",{className:"text-lg text-slate-600",children:e("home.features.subtitle")})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:Bd,title:e("home.features.mobile.title"),desc:e("home.features.mobile.desc")},{icon:v4,title:e("home.features.dashboard.title"),desc:e("home.features.dashboard.desc")},{icon:Mr,title:e("home.features.tools.title"),desc:e("home.features.tools.desc")}].map((t,r)=>n.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8 border border-slate-100 hover:shadow-lg transition-all hover:-translate-y-1",children:[n.jsx("div",{className:"w-14 h-14 bg-white rounded-xl shadow-sm flex items-center justify-center text-blue-600 mb-6",children:n.jsx(t.icon,{size:28})}),n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:t.title}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:t.desc})]},r))})]})}),n.jsxs("section",{className:"py-24 relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${SU})`}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/85 via-blue-800/80 to-purple-900/85"}),n.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10",children:[n.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-12",children:[n.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold leading-tight mb-4 text-white drop-shadow-lg",children:[e("home.mobile.title"),n.jsx("br",{}),n.jsx("span",{className:"text-blue-300",children:e("home.mobile.titleHighlight")})]}),n.jsx("p",{className:"text-blue-100 text-lg drop-shadow",children:e("pwa.subtitle","Installez nos applications sur votre tlphone en un clic. Pas besoin de store.")})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[n.jsx(CU,{variant:"member"}),n.jsx(CU,{variant:"pro"})]})]})]}),n.jsx("section",{className:"py-16 bg-slate-50",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:e("demo.ctaTitle")}),n.jsx("p",{className:"text-slate-600 mb-6",children:e("demo.ctaSubtitle")}),n.jsx("a",{href:"https://calendar.app.google/UpPZuRhRtGgqZCTE7",target:"_blank",rel:"noopener noreferrer",children:n.jsx(H,{variant:"outline",className:"h-12 px-8 border-slate-300 hover:border-blue-500 hover:text-blue-600","data-testid":"cta-demo-home-section",children:e("demo.scheduleCall")})})]})})}),n.jsx("section",{className:"py-24 bg-blue-600 text-white text-center",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:e("home.cta.title")}),n.jsx("p",{className:"text-blue-100 text-lg max-w-2xl mx-auto mb-10",children:e("home.cta.subtitle")}),n.jsx($e,{href:"/website/pricing",children:n.jsx(H,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 h-14 px-10 text-lg font-bold shadow-xl",children:e("home.cta.button")})}),n.jsxs("p",{className:"mt-6 text-sm text-blue-200",children:[e("home.cta.alreadyMember")," ",n.jsx($e,{href:"/app/login",className:"underline hover:text-white",children:e("home.cta.downloadApp")})," ",e("common.or")," ",n.jsx($e,{href:"/admin/dashboard",className:"underline hover:text-white",children:e("home.cta.adminLogin")})]})]})})]})}const AU={understand:ys,features:Ef,pricing:mn,gettingStarted:loe,security:Mr,support:Ra},EU=["understand","features","pricing","gettingStarted","security","support"],tqe={understand:["whatIs","whoFor","whyChoose","vsExcel"],features:["mobileApp","digitalCard","onlinePayments","communication","sections"],pricing:["isFree","hiddenFees","roi","changePlan","paymentMethods"],gettingStarted:["howToStart","importMembers","setupTime","training","freeTrial"],security:["dataSecurity","gdpr","dataOwnership","uptime","backups"],support:["channels","language","onboarding","existingCustomer","featureRequests"]};function nqe(){const{t:e}=Gl();return n.jsxs(Yi,{children:[n.jsx("div",{className:"bg-gradient-to-b from-slate-50 to-white py-16",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-100 text-blue-600 mb-6",children:n.jsx(Il,{className:"h-8 w-8"})}),n.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:e("faq.title")}),n.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:e("faq.subtitle")})]})}),n.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[n.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-12",children:EU.map(t=>{const r=AU[t];return n.jsxs("a",{href:`#${t}`,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-slate-100 hover:bg-blue-100 hover:text-blue-700 text-slate-700 text-sm font-medium transition-colors",children:[n.jsx(r,{className:"h-4 w-4"}),e(`faq.sections.${t}.title`)]},t)})}),n.jsx("div",{className:"space-y-12",children:EU.map(t=>{const r=AU[t],s=tqe[t];return n.jsxs("div",{id:t,className:"scroll-mt-24",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-100 text-blue-600",children:n.jsx(r,{className:"h-5 w-5"})}),n.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:e(`faq.sections.${t}.title`)})]}),n.jsx(xh,{type:"single",collapsible:!0,className:"w-full space-y-3",children:s.map(a=>n.jsxs(Di,{value:`${t}-${a}`,className:"border border-slate-200 rounded-xl px-5 bg-white shadow-sm hover:shadow-md transition-shadow","data-testid":`faq-item-${t}-${a}`,children:[n.jsx(Ii,{className:"text-left text-slate-900 font-medium hover:no-underline hover:text-blue-600 py-5",children:e(`faq.sections.${t}.questions.${a}.question`)}),n.jsx(Li,{className:"text-slate-600 pb-5 leading-relaxed",children:e(`faq.sections.${t}.questions.${a}.answer`)})]},a))})]},t)})}),n.jsxs("div",{className:"mt-16 grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-2xl p-8 border border-blue-100",children:[n.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:e("faq.readyToStart.title")}),n.jsx("p",{className:"text-blue-700 mb-6",children:e("faq.readyToStart.subtitle")}),n.jsx($e,{href:"/website/pricing",children:n.jsxs(H,{className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[e("faq.readyToStart.cta"),n.jsx(En,{className:"h-4 w-4"})]})})]}),n.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8 border border-slate-200",children:[n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:e("faq.existingCustomer.title")}),n.jsx("p",{className:"text-slate-600 mb-6",children:e("faq.existingCustomer.subtitle")}),n.jsx($e,{href:"/admin/support",children:n.jsxs(H,{variant:"outline",className:"gap-2",children:[n.jsx(Ra,{className:"h-4 w-4"}),e("faq.existingCustomer.cta")]})})]})]}),n.jsxs("div",{className:"mt-12 text-center",children:[n.jsx("p",{className:"text-slate-500 mb-4",children:e("faq.needMoreHelp")}),n.jsx($e,{href:"/website/contact",children:n.jsxs(H,{variant:"link",className:"text-blue-600 hover:text-blue-700 gap-2",children:[e("faq.contactTeam"),n.jsx(En,{className:"h-4 w-4"})]})})]})]})]})}function rqe(e){switch(e){case Aa.FREE:return n.jsx(ys,{className:"h-8 w-8"});case Aa.PLUS:return n.jsx(z9,{className:"h-8 w-8"});case Aa.PRO:return n.jsx(Pg,{className:"h-8 w-8"});case Aa.GRAND_COMPTE:return n.jsx(ii,{className:"h-8 w-8"});default:return n.jsx(ys,{className:"h-8 w-8"})}}function sqe(e){return e.includes("Branding")?n.jsx(D0,{className:"h-5 w-5"}):e.includes("domaine")?n.jsx(Ui,{className:"h-5 w-5"}):e.includes("App")?n.jsx(Bd,{className:"h-5 w-5"}):e.includes("Dploiement")?n.jsx(ele,{className:"h-5 w-5"}):e.includes("Support")?n.jsx(Ra,{className:"h-5 w-5"}):n.jsx(vr,{className:"h-5 w-5"})}function aqe(){const{t:e,i18n:t}=Gl(),[r,s]=v.useState(!0),a=z2e();return n.jsxs(Yi,{children:[n.jsxs("div",{className:"bg-gradient-to-b from-sky-50 to-white py-16 lg:py-24",children:[n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h1",{className:"text-4xl lg:text-5xl font-extrabold text-slate-900 mb-6 tracking-tight font-nunito",children:e("pricing.title","Des offres adaptes  chaque communaut")}),n.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto mb-12",children:e("pricing.subtitle","Choisissez le plan qui correspond  vos besoins. Passez  un plan suprieur  tout moment.")}),n.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[n.jsx("span",{className:`font-medium transition-colors ${r?"text-slate-500":"text-slate-900"}`,children:e("pricing.monthly","Mensuel")}),n.jsx("button",{onClick:()=>s(!r),className:`w-14 h-8 rounded-full relative cursor-pointer p-1 transition-colors ${r?"bg-sky-500":"bg-slate-300"}`,"data-testid":"toggle-billing-period",children:n.jsx("div",{className:`w-6 h-6 bg-white rounded-full absolute top-1 shadow-sm transition-all ${r?"right-1":"left-1"}`})}),n.jsxs("span",{className:`font-medium transition-colors ${r?"text-slate-900":"text-slate-500"}`,children:[e("pricing.yearly","Annuel"),n.jsx("span",{className:"text-green-600 text-xs font-normal bg-green-100 px-2 py-0.5 rounded-full ml-2",children:e("pricing.twoMonthsFree","2 mois offerts")})]})]})]}),n.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:a.map(i=>n.jsx(iqe,{plan:i,isYearly:r,locale:t.language},i.id))}),n.jsx(oqe,{}),n.jsx("div",{className:"mt-12 text-center",children:n.jsxs("div",{className:"inline-flex flex-col items-center bg-white rounded-xl p-8 border border-slate-200 shadow-sm",children:[n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:e("demo.pricingTitle","Des questions sur l'offre adapte ?")}),n.jsx("p",{className:"text-slate-600 mb-4 max-w-md",children:e("demo.pricingSubtitle","changeons pour trouver la formule qui correspond  vos besoins.")}),n.jsx("a",{href:"https://calendar.app.google/UpPZuRhRtGgqZCTE7",target:"_blank",rel:"noopener noreferrer",children:n.jsx(H,{variant:"outline",className:"h-11 px-6 border-sky-300 text-sky-600 hover:bg-sky-50 hover:border-sky-500","data-testid":"cta-demo-pricing",children:e("demo.bookDemo","Rserver une dmo")})})]})})]})]}),n.jsx(lqe,{})]})}function iqe({plan:e,isYearly:t,locale:r}){const s=q2e(e,t),a=t?e.priceYearly:e.priceMonthly;return n.jsxs(ve,{className:`flex flex-col relative border-2 transition-all hover:shadow-xl ${e.isPopular?"border-sky-500 shadow-lg lg:scale-105 z-10 bg-white":e.isCustom?"border-dashed border-slate-300 bg-slate-50/50":"border-slate-200 hover:border-sky-300 bg-white"}`,"data-testid":`plan-card-${e.id}`,children:[e.isPopular&&n.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-sky-500 text-white text-xs font-bold px-4 py-1 rounded-full uppercase tracking-wide shadow-md",children:"Le plus populaire"}),n.jsxs(Ge,{className:"pb-4 text-center",children:[n.jsx("div",{className:"mx-auto mb-3 w-16 h-16 rounded-full bg-sky-100 flex items-center justify-center text-sky-600",children:rqe(e.code)}),n.jsx(Ve,{className:"text-2xl font-bold text-slate-900",children:e.name}),n.jsx("p",{className:"text-sm text-sky-600 font-medium mt-1",children:e.tagline}),n.jsxs(Ct,{className:"text-slate-500 mt-2",children:[e.maxMembers?n.jsxs(n.Fragment,{children:["Jusqu' ",n.jsxs("span",{className:"font-bold text-slate-700",children:[e.maxMembers.toLocaleString(r==="fr"?"fr-FR":"en-US")," membres"]})]}):n.jsx("span",{className:"font-bold text-slate-700",children:"Membres illimits"}),e.maxAdmins===1&&n.jsx("span",{className:"block text-xs text-slate-400 mt-1",children:"1 administrateur"})]})]}),n.jsxs(je,{className:"flex-1",children:[n.jsx("div",{className:"mb-6 pb-6 border-b border-slate-100 text-center",children:e.isCustom?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-3xl font-extrabold text-slate-900",children:"Sur devis"}),n.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Contrat annuel obligatoire"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-baseline gap-1 justify-center",children:[n.jsx("span",{className:"text-4xl font-extrabold text-slate-900",children:ZL(s)}),n.jsx("span",{className:"text-slate-500 font-medium",children:"/mois"})]}),n.jsx("p",{className:"text-sm text-slate-400 mt-2",children:a===0||a===null?"Gratuit pour toujours":t?`Factur ${ZL(e.priceYearly)}/an`:"Factur mensuellement"})]})}),n.jsxs("ul",{className:"space-y-3",children:[e.features.map((i,o)=>n.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-600",children:[n.jsx(vr,{className:"h-5 w-5 text-green-500 shrink-0 mt-0.5"}),n.jsx("span",{children:i})]},o)),e.exclusions?.map((i,o)=>n.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-400",children:[n.jsx(fn,{className:"h-5 w-5 text-slate-300 shrink-0 mt-0.5"}),n.jsx("span",{children:i})]},`ex-${o}`))]})]}),n.jsx(fh,{className:"pt-4",children:n.jsx($e,{href:e.ctaLink,className:"w-full",children:n.jsx(H,{variant:e.isPopular?"default":"outline",className:`w-full h-12 font-bold ${e.isPopular?"bg-sky-500 hover:bg-sky-600 text-white shadow-lg shadow-sky-200":"border-slate-300 text-slate-700 hover:border-sky-500 hover:text-sky-600"}`,"data-testid":`button-choose-plan-${e.id}`,children:e.ctaText})})})]})}function oqe(){return n.jsx("div",{className:"mt-16 lg:mt-24",children:n.jsx(ve,{className:"border-2 border-dashed border-indigo-300 bg-gradient-to-r from-indigo-50 via-purple-50 to-pink-50 overflow-hidden","data-testid":"whitelabel-section",children:n.jsx("div",{className:"p-8 lg:p-12",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center text-white shadow-xl",children:n.jsx(D0,{className:"h-12 w-12"})})}),n.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[n.jsx("div",{className:"inline-block bg-indigo-100 text-indigo-700 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide mb-3",children:"Option Grand Compte"}),n.jsx("h3",{className:"text-2xl lg:text-3xl font-bold text-slate-900 mb-2",children:Km.title}),n.jsx("p",{className:"text-slate-600 text-lg mb-6",children:Km.subtitle}),n.jsx("div",{className:"flex flex-wrap gap-3 justify-center lg:justify-start",children:Km.features.map((e,t)=>n.jsxs("span",{className:"inline-flex items-center gap-2 text-sm bg-white px-4 py-2 rounded-full border border-indigo-200 text-indigo-700 shadow-sm",children:[sqe(e.label),n.jsx("span",{className:"font-medium",children:e.label}),e.description&&n.jsxs("span",{className:"text-indigo-400 text-xs",children:["(",e.description,")"]})]},t))}),n.jsx("p",{className:"text-sm text-slate-500 mt-4 italic",children:Km.note})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx($e,{href:Km.ctaLink,children:n.jsx(H,{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 text-white px-8 h-12 shadow-lg",children:Km.ctaText})})})]})})})})}function lqe(){const{t:e}=Gl();return n.jsxs("div",{className:"container mx-auto px-4 py-24 max-w-4xl",children:[n.jsx("h2",{className:"text-3xl font-bold text-center text-slate-900 mb-12",children:e("pricing.faq.title","Questions frquentes")}),n.jsxs(xh,{type:"single",collapsible:!0,className:"w-full space-y-4",children:[n.jsxs(Di,{value:"item-1",className:"border border-slate-200 rounded-lg px-4 bg-white",children:[n.jsx(Ii,{className:"text-slate-900 hover:text-sky-600 font-medium",children:e("pricing.faq.changePlan.question","Puis-je changer de plan  tout moment ?")}),n.jsx(Li,{className:"text-slate-600",children:e("pricing.faq.changePlan.answer","Oui, vous pouvez passer  un plan suprieur  tout moment. Le changement prend effet immdiatement et vous ne payez que la diffrence au prorata.")})]}),n.jsxs(Di,{value:"item-2",className:"border border-slate-200 rounded-lg px-4 bg-white",children:[n.jsx(Ii,{className:"text-slate-900 hover:text-sky-600 font-medium",children:e("pricing.faq.hiddenFees.question","Y a-t-il des frais cachs ?")}),n.jsx(Li,{className:"text-slate-600",children:e("pricing.faq.hiddenFees.answer","Non, les prix affichs sont les prix finaux. Il n'y a pas de frais de mise en service ni de cots supplmentaires.")})]}),n.jsxs(Di,{value:"item-3",className:"border border-slate-200 rounded-lg px-4 bg-white",children:[n.jsx(Ii,{className:"text-slate-900 hover:text-sky-600 font-medium",children:e("pricing.faq.freeTrial.question","Proposez-vous un essai gratuit ?")}),n.jsx(Li,{className:"text-slate-600",children:e("pricing.faq.freeTrial.answer","Le plan Free vous permet de tester Koomy sans engagement avec jusqu' 20 membres. Pour les plans payants, contactez-nous pour une dmonstration personnalise.")})]}),n.jsxs(Di,{value:"item-4",className:"border border-slate-200 rounded-lg px-4 bg-white",children:[n.jsx(Ii,{className:"text-slate-900 hover:text-sky-600 font-medium",children:e("pricing.faq.memberLimit.question","Que se passe-t-il si je dpasse la limite de membres ?")}),n.jsx(Li,{className:"text-slate-600",children:e("pricing.faq.memberLimit.answer","Vous recevrez une notification vous invitant  passer au plan suprieur. Vos membres existants ne seront pas affects, mais vous ne pourrez pas en ajouter de nouveaux.")})]}),n.jsxs(Di,{value:"item-5",className:"border border-slate-200 rounded-lg px-4 bg-white",children:[n.jsx(Ii,{className:"text-slate-900 hover:text-sky-600 font-medium",children:e("pricing.faq.federation.question","Avez-vous des offres pour les fdrations ?")}),n.jsx(Li,{className:"text-slate-600",children:e("pricing.faq.federation.answer","Oui, notre offre Grand Compte est spcialement conue pour les fdrations et grandes organisations. Contactez-nous pour un devis personnalis.")})]}),n.jsxs(Di,{value:"item-6",className:"border border-slate-200 rounded-lg px-4 bg-white",children:[n.jsx(Ii,{className:"text-slate-900 hover:text-sky-600 font-medium",children:"Qu'est-ce que l'option Marque Blanche ?"}),n.jsx(Li,{className:"text-slate-600",children:"La Marque Blanche permet d'avoir votre propre plateforme aux couleurs de votre organisation, avec un domaine personnalis et une application mobile ddie. Cette option est disponible uniquement pour les projets Grand Compte et fait l'objet d'un devis spar."})]})]}),n.jsxs("div",{className:"mt-16 text-center bg-slate-900 rounded-2xl p-10 text-white",children:[n.jsx(Il,{size:48,className:"mx-auto text-sky-400 mb-4"}),n.jsx("h3",{className:"text-2xl font-bold mb-4",children:e("pricing.moreQuestions.title","Besoin de plus d'informations ?")}),n.jsx("p",{className:"text-slate-300 mb-8 max-w-lg mx-auto",children:e("pricing.moreQuestions.subtitle","Notre quipe est l pour rpondre  toutes vos questions et vous accompagner dans votre choix.")}),n.jsxs("div",{className:"flex justify-center gap-4 flex-wrap",children:[n.jsx($e,{href:"/website/contact",children:n.jsx(H,{className:"bg-sky-500 hover:bg-sky-600",children:e("pricing.moreQuestions.contactSales","Contacter l'quipe")})}),n.jsx($e,{href:"/website/faq",children:n.jsx(H,{variant:"outline",className:"border-slate-600 text-white hover:bg-slate-800 hover:text-white",children:e("pricing.moreQuestions.viewFaq","Voir la FAQ complte")})})]})]})]})}const cqe=[{code:"+33",country:"France",flag:""},{code:"+32",country:"Belgique",flag:""},{code:"+41",country:"Suisse",flag:""},{code:"+352",country:"Luxembourg",flag:""},{code:"+377",country:"Monaco",flag:""},{code:"+1",country:"Canada",flag:""},{code:"+212",country:"Maroc",flag:""},{code:"+216",country:"Tunisie",flag:""},{code:"+213",country:"Algrie",flag:""},{code:"+221",country:"Sngal",flag:""},{code:"+225",country:"Cte d'Ivoire",flag:""}];function uqe(){const{t:e}=Gl(),[t,r]=v.useState({name:"",email:"",organization:"",countryCode:"+33",phone:"",message:"",type:"info"}),[s,a]=v.useState(!1),[i,o]=v.useState(!1),c=async d=>{d.preventDefault(),a(!0);try{if(!(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,phone:t.phone?`${t.countryCode} ${t.phone}`:null})})).ok)throw new Error("Erreur lors de l'envoi");o(!0),X.success(e("contact.toast.success"))}catch{X.error(e("contact.toast.error"))}finally{a(!1)}};return i?n.jsx(Yi,{children:n.jsx("div",{className:"min-h-[60vh] flex items-center justify-center bg-slate-50",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(vr,{size:40,className:"text-green-600"})}),n.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:e("contact.success.title")}),n.jsx("p",{className:"text-slate-600 mb-6",children:e("contact.success.message")}),n.jsx(H,{onClick:()=>{o(!1),r({name:"",email:"",organization:"",countryCode:"+33",phone:"",message:"",type:"info"})},variant:"outline",children:e("contact.success.sendAnother")})]})})}):n.jsxs(Yi,{children:[n.jsx("div",{className:"bg-slate-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:e("contact.title")}),n.jsx("p",{className:"text-slate-600 max-w-2xl mx-auto",children:e("contact.subtitle")})]})}),n.jsx("div",{className:"container mx-auto px-4 py-16",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:n.jsxs("form",{onSubmit:c,className:"space-y-6","data-testid":"contact-form",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ee,{htmlFor:"name",children:[e("contact.form.name")," *"]}),n.jsx(ne,{id:"name",value:t.name,onChange:d=>r({...t,name:d.target.value}),placeholder:e("contact.form.namePlaceholder"),required:!0,className:"h-11","data-testid":"input-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ee,{htmlFor:"email",children:[e("contact.form.email")," *"]}),n.jsx(ne,{id:"email",type:"email",value:t.email,onChange:d=>r({...t,email:d.target.value}),placeholder:e("contact.form.emailPlaceholder"),required:!0,className:"h-11","data-testid":"input-email"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ee,{htmlFor:"organization",children:[e("contact.form.organization")," *"]}),n.jsx(ne,{id:"organization",value:t.organization,onChange:d=>r({...t,organization:d.target.value}),placeholder:e("contact.form.organizationPlaceholder"),required:!0,className:"h-11","data-testid":"input-organization"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"phone",children:e("contact.form.phone")}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(it,{value:t.countryCode,onValueChange:d=>r({...t,countryCode:d}),children:[n.jsx(rt,{className:"w-[140px] h-11","data-testid":"select-country-code",children:n.jsx(ot,{})}),n.jsx(st,{children:cqe.map(d=>n.jsx(Ae,{value:d.code,children:n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{children:d.flag}),n.jsx("span",{children:d.code})]})},d.code))})]}),n.jsx(ne,{id:"phone",type:"tel",value:t.phone,onChange:d=>r({...t,phone:d.target.value}),placeholder:e("contact.form.phonePlaceholder"),className:"flex-1 h-11","data-testid":"input-phone"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ee,{htmlFor:"type",children:e("contact.form.requestType")}),n.jsxs(it,{value:t.type,onValueChange:d=>r({...t,type:d}),children:[n.jsx(rt,{className:"h-11","data-testid":"select-type",children:n.jsx(ot,{})}),n.jsxs(st,{children:[n.jsx(Ae,{value:"info",children:e("contact.form.requestTypes.info")}),n.jsx(Ae,{value:"demo",children:e("contact.form.requestTypes.demo")}),n.jsx(Ae,{value:"devis",children:e("contact.form.requestTypes.quote")}),n.jsx(Ae,{value:"partenariat",children:e("contact.form.requestTypes.partnership")}),n.jsx(Ae,{value:"autre",children:e("contact.form.requestTypes.other")})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ee,{htmlFor:"message",children:[e("contact.form.message")," *"]}),n.jsx(Nn,{id:"message",value:t.message,onChange:d=>r({...t,message:d.target.value}),placeholder:e("contact.form.messagePlaceholder"),required:!0,rows:5,className:"resize-none","data-testid":"input-message"})]}),n.jsx(H,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 text-base font-semibold",disabled:s,"data-testid":"button-submit",children:s?e("contact.form.submitting"):n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Rs,{size:18}),e("contact.form.submit")]})}),n.jsxs("p",{className:"text-xs text-slate-500 text-center",children:[e("contact.form.privacyNotice")," ",n.jsx("a",{href:"/website/privacy",className:"text-blue-600 hover:underline",children:e("contact.form.privacyPolicy")}),"."]})]})})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",children:[n.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:e("contact.info.title")}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(bs,{size:18,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-900",children:e("contact.info.email")}),n.jsx("a",{href:"mailto:contact@koomy.app",className:"text-blue-600 hover:underline",children:"contact@koomy.app"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Ll,{size:18,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-900",children:e("contact.info.phone")}),n.jsx("p",{className:"text-slate-600",children:"+33 1 23 45 67 89"}),n.jsx("p",{className:"text-xs text-slate-500",children:e("contact.info.phoneHours")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(Hr,{size:18,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-900",children:e("contact.info.address")}),n.jsxs("p",{className:"text-slate-600",children:["123 Avenue de la Rpublique",n.jsx("br",{}),"75011 Paris, France"]})]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-2xl border border-blue-100 p-6",children:[n.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:e("contact.quickHelp.title")}),n.jsx("p",{className:"text-blue-700 text-sm mb-4",children:e("contact.quickHelp.subtitle")}),n.jsx("a",{href:"/website/faq",children:n.jsx(H,{variant:"outline",className:"w-full border-blue-200 text-blue-700 hover:bg-blue-100",children:e("contact.quickHelp.viewFaq")})})]})]})]})})]})}function dqe(){const[,e]=zt();return v.useEffect(()=>{e("/website/contact?type=demo")},[e]),null}function mqe(){return n.jsxs(Yi,{children:[n.jsx("div",{className:"bg-slate-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Conditions Gnrales d'Utilisation"}),n.jsx("p",{className:"text-slate-600",children:"Dernire mise  jour : 1er dcembre 2025"})]})}),n.jsx("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:n.jsxs("div",{className:"prose prose-slate max-w-none",children:[n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"1. Objet"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:`Les prsentes Conditions Gnrales d'Utilisation (ci-aprs "CGU") ont pour objet de dfinir les modalits et conditions d'utilisation des services proposs par Koomy (ci-aprs "le Service"), ainsi que de dfinir les droits et obligations des parties dans ce cadre.`}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"Elles sont accessibles et imprimables  tout moment par un lien direct en bas de la page d'accueil du site. Elles peuvent tre compltes, le cas chant, par des conditions d'utilisation particulires  certains services, lesquelles compltent les prsentes CGU et, en cas de contradiction, prvalent sur ces dernires."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"2. Exploitant du Service"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Le Service est exploit par Koomy SAS, socit par actions simplifie au capital de 10 000 euros, immatricule au Registre du Commerce et des Socits de Paris sous le numro [ COMPLTER], dont le sige social est situ au 123 Avenue de la Rpublique, 75011 Paris, France."}),n.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mt-4",children:n.jsxs("p",{className:"text-slate-600",children:[n.jsx("strong",{children:"Contact :"})," contact@koomy.app",n.jsx("br",{}),n.jsx("strong",{children:"Tlphone :"})," +33 1 23 45 67 89",n.jsx("br",{}),n.jsx("strong",{children:"Directeur de la publication :"})," [ COMPLTER]"]})})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"3. Accs au Service"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Le Service est accessible gratuitement  tout utilisateur disposant d'un accs  Internet. Tous les cots affrents  l'accs au Service, que ce soient les frais matriels, logiciels ou d'accs  Internet sont exclusivement  la charge de l'utilisateur."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"L'utilisateur non membre n'a pas accs aux services rservs aux membres. Pour cela, il doit s'inscrire en remplissant le formulaire disponible sur le site. En acceptant de s'inscrire aux services rservs, l'utilisateur membre s'engage  fournir des informations sincres et exactes concernant son tat civil et ses coordonnes, notamment son adresse email."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"4. Donnes personnelles"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Conformment au Rglement Gnral sur la Protection des Donnes (RGPD) et  la loi Informatique et Liberts, l'utilisateur dispose d'un droit d'accs, de rectification, d'effacement, de limitation, de portabilit et d'opposition au traitement de ses donnes personnelles."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"Pour exercer ces droits, l'utilisateur peut contacter Koomy  l'adresse suivante : dpo@koomy.app"}),n.jsxs("p",{className:"text-slate-600 leading-relaxed mt-4",children:["Pour plus d'informations sur le traitement de vos donnes personnelles, veuillez consulter notre"," ",n.jsx("a",{href:"/website/privacy",className:"text-blue-600 hover:underline",children:"Politique de Confidentialit"}),"."]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"5. Proprit intellectuelle"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Les marques, logos, signes et tout autre contenu du site font l'objet d'une protection par le Code de la proprit intellectuelle et plus particulirement par le droit d'auteur."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"L'utilisateur sollicite l'autorisation pralable du site pour toute reproduction, publication, copie des diffrents contenus. L'utilisateur s'engage  une utilisation des contenus du site dans un cadre strictement priv. Une utilisation des contenus  des fins commerciales est strictement interdite."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"6. Responsabilit"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Koomy s'efforce de fournir sur le site des informations aussi prcises que possible. Toutefois, elle ne pourra tre tenue responsable des omissions, des inexactitudes et des carences dans la mise  jour, qu'elles soient de son fait ou du fait des tiers partenaires qui lui fournissent ces informations."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"Koomy dcline toute responsabilit en cas d'interruption ou d'inaccessibilit du Service, de survenance de bogues ou de tout dommage rsultant d'une intrusion frauduleuse d'un tiers."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"7. Liens hypertextes"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Le site peut contenir des liens hypertextes vers d'autres sites internet ou ressources. Koomy n'a pas la possibilit de vrifier le contenu de ces sites extrieurs et n'assume de ce fait aucune responsabilit de ce chef."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"8. Cookies"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"L'utilisateur est inform que lors de ses visites sur le site, un ou des cookies peuvent s'installer automatiquement sur son logiciel de navigation. Un cookie est un lment qui ne permet pas d'identifier l'utilisateur mais sert  enregistrer des informations relatives  la navigation de celui-ci sur le site."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"L'utilisateur peut dsactiver ces cookies par l'intermdiaire des paramtres de son logiciel de navigation. Toutefois, la dsactivation de ces cookies peut empcher l'utilisateur d'accder  certaines fonctionnalits du Service."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"9. Droit applicable et juridiction comptente"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Les prsentes CGU sont rgies par le droit franais. En cas de litige, les tribunaux franais seront seuls comptents."}),n.jsxs("p",{className:"text-slate-600 leading-relaxed mt-4",children:["Conformment  l'article 14.1 du Rglement (UE) n524/2013, l'utilisateur est inform qu'il peut recourir  une procdure de mdiation conventionnelle ou  tout autre mode alternatif de rglement des diffrends. Le lien vers la plateforme europenne de rsolution des litiges en ligne est le suivant :"," ",n.jsx("a",{href:"https://ec.europa.eu/consumers/odr",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://ec.europa.eu/consumers/odr"})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"10. Modifications des CGU"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Koomy se rserve le droit de modifier les prsentes CGU  tout moment. L'utilisateur sera inform de ces modifications par tout moyen utile. L'utilisateur qui n'accepte pas les CGU modifies doit se dsinscrire des services. Tout utilisateur qui a recours aux services postrieurement  l'entre en vigueur des CGU modifies est rput avoir accept ces modifications."})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-100 mt-12",children:[n.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:"Des questions ?"}),n.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"Pour toute question concernant ces conditions, n'hsitez pas  nous contacter."}),n.jsx("a",{href:"/website/contact",className:"text-blue-600 font-medium hover:underline",children:"Contactez-nous "})]})]})})]})}function fqe(){return n.jsxs(Yi,{children:[n.jsx("div",{className:"bg-slate-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Mentions Lgales"}),n.jsx("p",{className:"text-slate-600",children:"Conformment aux dispositions de la loi n2004-575 du 21 juin 2004"})]})}),n.jsx("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:n.jsxs("div",{className:"prose prose-slate max-w-none",children:[n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"1. diteur du site"}),n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:n.jsxs("p",{className:"text-slate-600 leading-relaxed",children:[n.jsx("strong",{children:"Raison sociale :"})," Koomy SAS",n.jsx("br",{}),n.jsx("strong",{children:"Forme juridique :"})," Socit par Actions Simplifie (SAS)",n.jsx("br",{}),n.jsx("strong",{children:"Capital social :"})," 10 000 ",n.jsx("br",{}),n.jsx("strong",{children:"Sige social :"})," 123 Avenue de la Rpublique, 75011 Paris, France",n.jsx("br",{}),n.jsx("strong",{children:"RCS :"})," Paris [Numro  complter]",n.jsx("br",{}),n.jsx("strong",{children:"SIRET :"})," [Numro  complter]",n.jsx("br",{}),n.jsx("strong",{children:"Numro de TVA intracommunautaire :"})," FR [Numro  complter]",n.jsx("br",{}),n.jsx("strong",{children:"Directeur de la publication :"})," [Nom du dirigeant]",n.jsx("br",{}),n.jsx("strong",{children:"Email :"})," contact@koomy.app",n.jsx("br",{}),n.jsx("strong",{children:"Tlphone :"})," +33 1 23 45 67 89"]})})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"2. Hbergeur"}),n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:n.jsxs("p",{className:"text-slate-600 leading-relaxed",children:[n.jsx("strong",{children:"Raison sociale :"})," Replit, Inc.",n.jsx("br",{}),n.jsx("strong",{children:"Adresse :"})," 350 Page Mill Rd, Palo Alto, CA 94306, tats-Unis",n.jsx("br",{}),n.jsx("strong",{children:"Site web :"})," ",n.jsx("a",{href:"https://replit.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://replit.com"})]})})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"3. Proprit intellectuelle"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"L'ensemble de ce site relve des lgislations franaises et europennes sur le droit d'auteur et la proprit intellectuelle. Tous les droits de reproduction sont rservs, y compris pour les documents tlchargeables et les reprsentations iconographiques et photographiques."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"La reproduction de tout ou partie de ce site sur un support lectronique quel qu'il soit est formellement interdite sauf autorisation expresse du directeur de la publication."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"Les marques et logos reproduits sur ce site sont dposs par les socits qui en sont propritaires."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"4. Donnes personnelles"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Conformment au Rglement (UE) 2016/679 du Parlement europen et du Conseil du 27 avril 2016 (Rglement Gnral sur la Protection des Donnes - RGPD) et  la loi n78-17 du 6 janvier 1978 relative  l'informatique, aux fichiers et aux liberts, le traitement des donnes personnelles effectu par Koomy fait l'objet d'une dclaration auprs de la CNIL."}),n.jsxs("p",{className:"text-slate-600 leading-relaxed mt-4",children:[n.jsx("strong",{children:"Dlgu  la Protection des Donnes (DPO) :"}),n.jsx("br",{}),"Email : dpo@koomy.app"]}),n.jsxs("p",{className:"text-slate-600 leading-relaxed mt-4",children:["Pour plus d'informations sur le traitement de vos donnes personnelles, consultez notre"," ",n.jsx("a",{href:"/website/privacy",className:"text-blue-600 hover:underline",children:"Politique de Confidentialit"}),"."]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"5. Cookies"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Le site koomy.app peut tre amen  vous demander l'acceptation des cookies pour des besoins de statistiques et d'affichage. Un cookie est une information dpose sur votre disque dur par le serveur du site que vous visitez."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"Il contient plusieurs donnes qui sont stockes sur votre ordinateur dans un simple fichier texte auquel un serveur accde pour lire et enregistrer des informations. Certaines parties de ce site ne peuvent tre fonctionnelles sans l'acceptation de cookies."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"6. Conditions d'utilisation"}),n.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["L'utilisation du site koomy.app implique l'acceptation pleine et entire des conditions gnrales d'utilisation dcrites dans nos"," ",n.jsx("a",{href:"/website/terms",className:"text-blue-600 hover:underline",children:"Conditions Gnrales d'Utilisation"}),"."]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"7. Litiges"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Les prsentes mentions lgales sont rgies par le droit franais. En cas de litige et aprs chec de toute tentative de recherche d'une solution amiable, les tribunaux franais seront seuls comptents."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"Conformment aux dispositions du Code de la consommation concernant le rglement amiable des litiges, Koomy adhre au Service du Mdiateur. Le service de mdiation peut tre joint par voie lectronique  l'adresse suivante : mediation@koomy.app"}),n.jsxs("p",{className:"text-slate-600 leading-relaxed mt-4",children:["Plateforme europenne de rsolution des litiges en ligne :"," ",n.jsx("a",{href:"https://ec.europa.eu/consumers/odr",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"https://ec.europa.eu/consumers/odr"})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"8. Crdits"}),n.jsxs("p",{className:"text-slate-600 leading-relaxed",children:[n.jsx("strong",{children:"Conception et dveloppement :"})," Koomy SAS",n.jsx("br",{}),n.jsx("strong",{children:"Design :"})," Koomy SAS",n.jsx("br",{}),n.jsx("strong",{children:"Photographies :"})," Unsplash, stock images libres de droits"]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-100 mt-12",children:[n.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:"Des questions ?"}),n.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"Pour toute question concernant ces mentions lgales, n'hsitez pas  nous contacter."}),n.jsx("a",{href:"/website/contact",className:"text-blue-600 font-medium hover:underline",children:"Contactez-nous "})]})]})})]})}function hqe(){return n.jsxs(Yi,{children:[n.jsx("div",{className:"bg-slate-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Politique de Confidentialit"}),n.jsx("p",{className:"text-slate-600",children:"Dernire mise  jour : 1er dcembre 2025"})]})}),n.jsx("div",{className:"container mx-auto px-4 py-16 max-w-4xl",children:n.jsxs("div",{className:"prose prose-slate max-w-none",children:[n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Introduction"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:`Koomy SAS (ci-aprs "Koomy", "nous", "notre") s'engage  protger la vie prive de ses utilisateurs. La prsente politique de confidentialit dcrit comment nous collectons, utilisons, stockons et protgeons vos donnes personnelles conformment au Rglement Gnral sur la Protection des Donnes (RGPD - Rglement UE 2016/679) et  la loi franaise Informatique et Liberts.`})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"1. Responsable du traitement"}),n.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:n.jsxs("p",{className:"text-slate-600",children:[n.jsx("strong",{children:"Koomy SAS"}),n.jsx("br",{}),"123 Avenue de la Rpublique",n.jsx("br",{}),"75011 Paris, France",n.jsx("br",{}),"Email : dpo@koomy.app",n.jsx("br",{}),"Tlphone : +33 1 23 45 67 89"]})})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"2. Donnes collectes"}),n.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:"Nous collectons diffrentes catgories de donnes personnelles :"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Donnes d'identification"}),n.jsx("p",{className:"text-slate-600 text-sm",children:"Nom, prnom, adresse email, numro de tlphone, adresse postale"})]}),n.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Donnes de connexion"}),n.jsx("p",{className:"text-slate-600 text-sm",children:"Adresse IP, type de navigateur, pages visites, dure de visite"})]}),n.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Donnes de paiement"}),n.jsx("p",{className:"text-slate-600 text-sm",children:"Informations de facturation (traites par nos prestataires de paiement certifis PCI-DSS)"})]}),n.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Donnes d'adhsion"}),n.jsx("p",{className:"text-slate-600 text-sm",children:"Informations relatives  votre appartenance  une communaut, statut de cotisation"})]})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"3. Finalits du traitement"}),n.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:"Vos donnes sont traites pour les finalits suivantes :"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-600 space-y-2",children:[n.jsx("li",{children:"Gestion de votre compte utilisateur et de vos adhsions"}),n.jsx("li",{children:"Fourniture et amlioration de nos services"}),n.jsx("li",{children:"Communication avec vous (notifications, actualits, support)"}),n.jsx("li",{children:"Facturation et gestion des paiements"}),n.jsx("li",{children:"Respect de nos obligations lgales"}),n.jsx("li",{children:"Analyse statistique et amlioration de l'exprience utilisateur"}),n.jsx("li",{children:"Prvention de la fraude et scurit"})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"4. Base lgale du traitement"}),n.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:"Nous traitons vos donnes personnelles sur les bases lgales suivantes :"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-600 space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Excution du contrat :"})," pour vous fournir nos services"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Consentement :"})," pour l'envoi de communications marketing"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Intrt lgitime :"})," pour amliorer nos services et prvenir la fraude"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Obligation lgale :"})," pour respecter nos obligations fiscales et lgales"]})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"5. Dure de conservation"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Nous conservons vos donnes personnelles uniquement pendant la dure ncessaire aux finalits pour lesquelles elles ont t collectes :"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-600 space-y-2 mt-4",children:[n.jsx("li",{children:"Donnes de compte : pendant la dure de votre inscription + 3 ans"}),n.jsx("li",{children:"Donnes de facturation : 10 ans (obligation lgale)"}),n.jsx("li",{children:"Donnes de connexion : 1 an"}),n.jsx("li",{children:"Cookies : selon leur type (session ou 13 mois maximum)"})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"6. Vos droits"}),n.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:"Conformment au RGPD, vous disposez des droits suivants :"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Droit d'accs"}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Obtenir une copie de vos donnes"})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Droit de rectification"}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Corriger vos donnes inexactes"})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Droit  l'effacement"}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Demander la suppression de vos donnes"})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Droit  la portabilit"}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Rcuprer vos donnes dans un format standard"})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Droit d'opposition"}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Vous opposer  certains traitements"})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Droit de limitation"}),n.jsx("p",{className:"text-blue-700 text-sm",children:"Limiter le traitement de vos donnes"})]})]}),n.jsxs("p",{className:"text-slate-600 leading-relaxed mt-4",children:["Pour exercer ces droits, contactez notre DPO  : ",n.jsx("strong",{children:"dpo@koomy.app"})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"7. Transferts de donnes"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Vos donnes peuvent tre transfres vers des pays situs hors de l'Union Europenne. Dans ce cas, nous nous assurons que des garanties appropries sont mises en place (clauses contractuelles types de la Commission europenne, certification Privacy Shield, etc.)."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"8. Scurit"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Nous mettons en uvre des mesures techniques et organisationnelles appropries pour protger vos donnes personnelles contre la destruction accidentelle ou illicite, la perte, l'altration, la divulgation ou l'accs non autoris."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"Ces mesures incluent : chiffrement des donnes, contrles d'accs, sauvegardes rgulires, formation du personnel, audits de scurit."})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"9. Cookies"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Notre site utilise des cookies pour amliorer votre exprience. Vous pouvez  tout moment configurer vos prfrences en matire de cookies via les paramtres de votre navigateur."}),n.jsx("p",{className:"text-slate-600 leading-relaxed mt-4",children:"Types de cookies utiliss :"}),n.jsxs("ul",{className:"list-disc list-inside text-slate-600 space-y-2 mt-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Cookies essentiels :"})," ncessaires au fonctionnement du site"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Cookies analytiques :"})," pour comprendre l'utilisation du site"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Cookies de prfrences :"})," pour mmoriser vos choix"]})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"10. Rclamation"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Si vous estimez que le traitement de vos donnes personnelles constitue une violation du RGPD, vous avez le droit d'introduire une rclamation auprs de la CNIL (Commission Nationale de l'Informatique et des Liberts) :"}),n.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mt-4",children:n.jsxs("p",{className:"text-slate-600",children:[n.jsx("strong",{children:"CNIL"}),n.jsx("br",{}),"3 Place de Fontenoy, TSA 80715",n.jsx("br",{}),"75334 Paris Cedex 07",n.jsx("br",{}),"Site web :"," ",n.jsx("a",{href:"https://www.cnil.fr",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"www.cnil.fr"})]})})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"11. Modifications"}),n.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Nous nous rservons le droit de modifier cette politique de confidentialit  tout moment. Toute modification sera publie sur cette page avec une date de mise  jour actualise. Nous vous encourageons  consulter rgulirement cette page."})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-100 mt-12",children:[n.jsx("h3",{className:"font-bold text-blue-900 mb-2",children:"Des questions sur vos donnes ?"}),n.jsx("p",{className:"text-blue-700 text-sm mb-4",children:"Notre Dlgu  la Protection des Donnes est  votre disposition pour rpondre  toutes vos questions."}),n.jsx("a",{href:"mailto:dpo@koomy.app",className:"text-blue-600 font-medium hover:underline",children:"Contacter le DPO : dpo@koomy.app "})]})]})})]})}const pqe=[{icon:Xse,title:"Premiers pas",desc:"Cration de compte, configuration initiale",articles:12,color:"bg-blue-100 text-blue-600"},{icon:R0,title:"Gestion des membres",desc:"Adhsions, cotisations, cartes digitales",articles:18,color:"bg-green-100 text-green-600"},{icon:Xoe,title:"Communication",desc:"Actualits, messagerie, notifications",articles:9,color:"bg-purple-100 text-purple-600"},{icon:jd,title:"Facturation",desc:"Plans, paiements, factures",articles:7,color:"bg-orange-100 text-orange-600"}],gqe=["Comment crer ma premire communaut ?","Importer une liste de membres existants","Configurer les cotisations annuelles","Personnaliser l'application mobile","Envoyer une notification push aux membres","Exporter les donnes de ma communaut"],xqe=[{question:"Comment puis-je crer mon compte Koomy ?",answer:"Rendez-vous sur notre page d'inscription, choisissez votre plan (vous pouvez commencer gratuitement), et suivez les tapes guides. En moins de 5 minutes, votre espace communaut sera prt !"},{question:"Puis-je importer mes membres existants ?",answer:"Absolument ! Koomy accepte les fichiers Excel (.xlsx) et CSV. Vous pouvez mapper les colonnes de votre fichier avec nos champs, et l'import se fait en quelques clics. Un assistant vous guide tout au long du processus."},{question:"Mes donnes sont-elles scurises ?",answer:"Oui, la scurit est notre priorit. Vos donnes sont hberges en France sur des serveurs certifis, nous sommes conformes RGPD, et des sauvegardes automatiques sont effectues quotidiennement."},{question:"Comment contacter le support technique ?",answer:"Notre quipe est disponible par email  support@koomy.app ou par tlphone au +33 1 23 45 67 89, du lundi au vendredi de 9h  18h. Vous pouvez aussi utiliser le chat en bas de page."},{question:"Puis-je changer de plan en cours d'abonnement ?",answer:"Oui, vous pouvez upgrader ou downgrader votre plan  tout moment. Le changement prend effet immdiatement et la facturation est ajuste au prorata."}];function yqe(){const[e,t]=v.useState(""),[r,s]=v.useState(null),[a,i]=v.useState({name:"",email:"",subject:"",message:""}),[o,c]=v.useState(!1),[d,m]=v.useState(!1),f=async h=>{h.preventDefault(),c(!0),await new Promise(g=>setTimeout(g,1e3)),m(!0),c(!1),i({name:"",email:"",subject:"",message:""})};return n.jsxs(Yi,{children:[n.jsx("section",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-20",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:n.jsx(Ra,{className:"w-8 h-8 text-blue-600"})}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-4",children:"Centre d'aide Koomy"}),n.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto mb-8",children:"Trouvez des rponses  vos questions et apprenez  tirer le meilleur parti de Koomy."}),n.jsxs("div",{className:"max-w-xl mx-auto relative",children:[n.jsx(za,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),n.jsx(ne,{type:"search",placeholder:"Rechercher dans l'aide...",value:e,onChange:h=>t(h.target.value),className:"w-full h-14 pl-12 pr-4 rounded-xl text-slate-900 border-slate-200 shadow-lg bg-white","data-testid":"input-search-help"})]}),n.jsxs("div",{className:"flex items-center justify-center gap-6 mt-8 text-sm text-slate-500",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Ln,{className:"w-4 h-4"}),"Rponse en -24h"]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"w-4 h-4"}),"Support franais"]})]})]})}),n.jsxs("section",{className:"container mx-auto px-4 py-16",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-8 text-center",children:"Parcourir par catgorie"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:pqe.map((h,g)=>n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 hover:shadow-lg transition-all hover:-translate-y-1 cursor-pointer group","data-testid":`card-category-${g}`,children:[n.jsx("div",{className:`w-12 h-12 rounded-xl ${h.color} flex items-center justify-center mb-4`,children:n.jsx(h.icon,{size:24})}),n.jsx("h3",{className:"font-bold text-slate-900 mb-2 group-hover:text-blue-600 transition-colors",children:h.title}),n.jsx("p",{className:"text-slate-500 text-sm mb-4",children:h.desc}),n.jsxs("span",{className:"text-xs text-slate-400",children:[h.articles," articles"]})]},g))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Articles populaires"}),n.jsx("div",{className:"bg-white rounded-xl border border-slate-200 divide-y divide-slate-100",children:gqe.map((h,g)=>n.jsxs("a",{href:"#",className:"flex items-center justify-between p-4 hover:bg-slate-50 transition-colors group","data-testid":`link-article-${g}`,children:[n.jsx("span",{className:"text-slate-700 group-hover:text-blue-600 transition-colors",children:h}),n.jsx(xs,{size:18,className:"text-slate-400 group-hover:text-blue-600 transition-colors"})]},g))}),n.jsx("div",{className:"mt-6",children:n.jsx($e,{href:"/website/faq",children:n.jsx(H,{variant:"outline",className:"w-full h-12","data-testid":"button-view-all-faq",children:"Voir toutes les questions frquentes"})})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(Il,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Questions frquentes"})]}),n.jsx("div",{className:"space-y-3",children:xqe.map((h,g)=>n.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[n.jsxs("button",{onClick:()=>s(r===g?null:g),className:"w-full flex items-center justify-between p-5 text-left hover:bg-slate-50 transition-colors","data-testid":`button-faq-${g}`,children:[n.jsx("span",{className:"font-medium text-slate-900 pr-4",children:h.question}),n.jsx(Nj,{className:`w-5 h-5 text-slate-400 flex-shrink-0 transition-transform ${r===g?"rotate-180":""}`})]}),r===g&&n.jsx("div",{className:"px-5 pb-5 text-slate-600 text-sm leading-relaxed border-t border-slate-100 pt-4",children:h.answer})]},g))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-xl border border-blue-100 p-6",children:[n.jsx("h3",{className:"font-bold text-blue-900 mb-4",children:"Besoin d'aide personnalise ?"}),n.jsx("p",{className:"text-blue-700 text-sm mb-6",children:"Notre quipe support est disponible du lundi au vendredi, de 9h  18h."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("a",{href:"mailto:support@koomy.app",className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-blue-100 hover:border-blue-300 transition-colors","data-testid":"link-email-support",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(bs,{size:18,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-900 text-sm",children:"Par email"}),n.jsx("p",{className:"text-xs text-slate-500",children:"support@koomy.app"})]})]}),n.jsxs("a",{href:"tel:+33123456789",className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-blue-100 hover:border-blue-300 transition-colors","data-testid":"link-phone-support",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Ll,{size:18,className:"text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-slate-900 text-sm",children:"Par tlphone"}),n.jsx("p",{className:"text-xs text-slate-500",children:"+33 1 23 45 67 89"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl border border-indigo-100 p-6",children:[n.jsx("h3",{className:"font-bold text-indigo-900 mb-2",children:"Vous prfrez un accompagnement ?"}),n.jsx("p",{className:"text-indigo-700 text-sm mb-4",children:"Demandez une dmonstration personnalise avec un membre de notre quipe."}),n.jsx($e,{href:"/website/contact?type=demo",children:n.jsx(H,{className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white","data-testid":"button-request-demo",children:"Demander une dmo"})})]})]})]})]}),n.jsx("section",{className:"bg-slate-50 py-16 border-t border-slate-100",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),n.jsx("p",{className:"text-slate-600",children:"Envoyez-nous un message, nous vous rpondons sous 24h."})]}),d?n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-8 text-center",children:[n.jsx(vs,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-bold text-green-900 mb-2",children:"Message envoy !"}),n.jsx("p",{className:"text-green-700",children:"Merci pour votre message. Notre quipe vous rpondra dans les plus brefs dlais."})]}):n.jsxs("form",{onSubmit:f,className:"bg-white rounded-xl border border-slate-200 p-8 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Votre nom"}),n.jsx(ne,{type:"text",value:a.name,onChange:h=>i({...a,name:h.target.value}),placeholder:"Jean Dupont",required:!0,className:"h-12","data-testid":"input-contact-name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Votre email"}),n.jsx(ne,{type:"email",value:a.email,onChange:h=>i({...a,email:h.target.value}),placeholder:"jean@exemple.com",required:!0,className:"h-12","data-testid":"input-contact-email"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Sujet"}),n.jsx(ne,{type:"text",value:a.subject,onChange:h=>i({...a,subject:h.target.value}),placeholder:"Question sur mon abonnement",required:!0,className:"h-12","data-testid":"input-contact-subject"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Votre message"}),n.jsx(Nn,{value:a.message,onChange:h=>i({...a,message:h.target.value}),placeholder:"Dcrivez votre question ou problme...",rows:5,required:!0,"data-testid":"input-contact-message"})]}),n.jsx(H,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700",disabled:o,"data-testid":"button-submit-contact",children:o?"Envoi en cours...":n.jsxs(n.Fragment,{children:[n.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Envoyer le message"]})})]})]})})})]})}const vqe=[{id:1,title:"5 conseils pour digitaliser votre association en 2025",excerpt:"Dcouvrez les meilleures pratiques pour moderniser la gestion de votre communaut et offrir une exprience numrique  vos membres.",image:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=800",category:"Guide",author:"quipe Koomy",date:"28 nov. 2025",readTime:"5 min"},{id:2,title:"Comment augmenter l'engagement de vos membres ?",excerpt:"L'engagement des membres est crucial pour la prennit de votre organisation. Voici nos stratgies prouves.",image:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800",category:"Conseils",author:"Marie Dupont",date:"22 nov. 2025",readTime:"7 min"},{id:3,title:"Nouveau : l'application mobile Koomy 2.0",excerpt:"Dcouvrez toutes les nouveauts de notre dernire mise  jour : nouveau design, fonctionnalits amliores et plus encore.",image:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=800",category:"Nouveaut",author:"quipe Koomy",date:"15 nov. 2025",readTime:"3 min"},{id:4,title:"tude de cas : Une fdration modernise sa gestion des adhrents",excerpt:"Comment une grande fdration a transform sa relation avec ses membres grce  Koomy.",image:"https://images.unsplash.com/photo-1557804506-669a67965ba0?w=800",category:"tude de cas",author:"Thomas Martin",date:"8 nov. 2025",readTime:"10 min"},{id:5,title:"RGPD et associations : ce que vous devez savoir",excerpt:"Un guide complet sur la conformit RGPD pour les associations et organisations  but non lucratif.",image:"https://images.unsplash.com/photo-1450101499163-c8848c66ca85?w=800",category:"Juridique",author:"Claire Dubois",date:"1 nov. 2025",readTime:"8 min"},{id:6,title:"Webinaire : Optimiser vos campagnes de cotisation",excerpt:"Replay de notre webinaire sur les meilleures techniques pour maximiser le renouvellement des adhsions.",image:"https://images.unsplash.com/photo-1591115765373-5207764f72e7?w=800",category:"Webinaire",author:"quipe Koomy",date:"25 oct. 2025",readTime:"45 min"}],bqe=["Tous","Guide","Conseils","Nouveaut","tude de cas","Juridique","Webinaire"];function jqe(){return n.jsxs(Yi,{children:[n.jsx("div",{className:"bg-slate-50 py-16",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-4",children:"Blog Koomy"}),n.jsx("p",{className:"text-slate-600 max-w-2xl mx-auto",children:"Actualits, conseils et ressources pour mieux grer votre communaut."})]})}),n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-4 scrollbar-hide",children:bqe.map(e=>n.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${e==="Tous"?"bg-blue-600 text-white":"bg-white text-slate-600 border border-slate-200 hover:bg-slate-50"}`,children:e},e))})}),n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:vqe.map(e=>n.jsxs("article",{className:"bg-white rounded-2xl border border-slate-200 overflow-hidden hover:shadow-lg transition-all hover:-translate-y-1 group",children:[n.jsxs("div",{className:"h-48 overflow-hidden relative",children:[n.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),n.jsx(Se,{className:"absolute top-4 left-4 bg-white/90 text-slate-700 backdrop-blur-sm border-0",children:e.category})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Gn,{size:12}),e.date]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Ln,{size:12}),e.readTime]})]}),n.jsx("h2",{className:"font-bold text-lg text-slate-900 mb-3 group-hover:text-blue-600 transition-colors line-clamp-2",children:e.title}),n.jsx("p",{className:"text-slate-600 text-sm line-clamp-3 mb-4",children:e.excerpt}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xs font-bold",children:e.author.split(" ").map(t=>t[0]).join("")}),n.jsx("span",{className:"text-xs text-slate-600",children:e.author})]}),n.jsxs("button",{className:"text-blue-600 text-sm font-medium flex items-center gap-1 hover:gap-2 transition-all",children:["Lire ",n.jsx(En,{size:14})]})]})]})]},e.id))}),n.jsx("div",{className:"text-center mt-12",children:n.jsx(H,{variant:"outline",className:"h-12 px-8",children:"Charger plus d'articles"})})]}),n.jsx("div",{className:"bg-blue-600 py-16 mt-16",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Restez inform des dernires actualits"}),n.jsx("p",{className:"text-blue-100 mb-8 max-w-xl mx-auto",children:"Inscrivez-vous  notre newsletter pour recevoir nos conseils et actualits directement dans votre bote mail."}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[n.jsx("input",{type:"email",placeholder:"Votre email",className:"flex-1 h-12 px-4 rounded-lg border-0 focus:ring-2 focus:ring-white"}),n.jsx(H,{className:"h-12 bg-white text-blue-600 hover:bg-blue-50 font-semibold",children:"S'inscrire"})]})]})})]})}const wqe={members:It,payments:mn,events:Gn,news:eu,support:Ra,plans:Sie},Nqe={members:{text:"text-blue-600",light:"bg-blue-50"},payments:{text:"text-green-600",light:"bg-green-50"},events:{text:"text-orange-600",light:"bg-orange-50"},news:{text:"text-purple-600",light:"bg-purple-50"},support:{text:"text-indigo-600",light:"bg-indigo-50"},plans:{text:"text-teal-600",light:"bg-teal-50"}},Sqe=["members","payments","events","news","support","plans"],Cqe=["free","setup","stripe","dataSecurity","help"];function Aqe(){const{t:e}=Gl(),t=e("features.hero.benefits",{returnObjects:!0});return n.jsxs(Yi,{children:[n.jsx("section",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 py-20",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsxs(Se,{className:"mb-6 bg-blue-100 text-blue-700 hover:bg-blue-100",children:[n.jsx(Ef,{className:"w-3 h-3 mr-1"}),e("features.hero.badge")]}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:e("features.hero.title")}),n.jsx("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto mb-8",children:e("features.hero.subtitle")}),n.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-10",children:t.map((r,s)=>n.jsxs("div",{className:"flex items-center gap-2 bg-white/80 backdrop-blur rounded-full px-4 py-2 shadow-sm",children:[n.jsx(vs,{className:"w-4 h-4 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-slate-700",children:r})]},s))}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx($e,{href:"/website/pricing",children:n.jsxs(H,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 h-12 px-8","data-testid":"button-create-community",children:[e("features.hero.ctaCreate"),n.jsx(En,{className:"ml-2 h-4 w-4"})]})}),n.jsx($e,{href:"/website/contact",children:n.jsx(H,{size:"lg",variant:"outline",className:"h-12 px-8","data-testid":"button-request-demo",children:e("features.hero.ctaDemo")})})]})]})}),n.jsx("section",{className:"bg-white border-y border-slate-100 py-8",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0",children:n.jsx(Ln,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:e("features.benefitsBar.time.title")}),n.jsx("p",{className:"text-xs text-slate-500",children:e("features.benefitsBar.time.desc")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0",children:n.jsx(wd,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:e("features.benefitsBar.engage.title")}),n.jsx("p",{className:"text-xs text-slate-500",children:e("features.benefitsBar.engage.desc")})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0",children:n.jsx(po,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-slate-900 text-sm",children:e("features.benefitsBar.grow.title")}),n.jsx("p",{className:"text-xs text-slate-500",children:e("features.benefitsBar.grow.desc")})]})]})]})})}),n.jsx("section",{className:"py-16 bg-slate-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:e("features.modulesTitle")}),n.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:e("features.modulesSubtitle")})]}),n.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:Sqe.map(r=>{const s=wqe[r],a=Nqe[r],i=e(`features.modules.${r}.features`,{returnObjects:!0});return n.jsxs("div",{id:`feature-${r}`,className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition-shadow","data-testid":`feature-card-${r}`,children:[n.jsx("div",{className:`w-12 h-12 rounded-xl ${a.light} ${a.text} flex items-center justify-center mb-4`,children:n.jsx(s,{className:"w-6 h-6"})}),n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:e(`features.modules.${r}.title`)}),n.jsx("p",{className:"text-slate-600 text-sm mb-4",children:e(`features.modules.${r}.subtitle`)}),n.jsx("ul",{className:"space-y-2",children:i.map((o,c)=>n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx(vs,{className:`w-4 h-4 ${a.text} flex-shrink-0 mt-0.5`}),n.jsx("span",{className:"text-slate-700",children:o})]},c))})]},r)})})]})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-8 md:p-12 border border-indigo-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs(Se,{className:"mb-4 bg-indigo-100 text-indigo-700",children:[n.jsx(Bd,{className:"w-3 h-3 mr-1"}),e("features.whiteLabel.badge")]}),n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-slate-900 mb-3",children:e("features.whiteLabel.title")}),n.jsx("p",{className:"text-slate-600 mb-6",children:e("features.whiteLabel.subtitle")}),n.jsx("ul",{className:"space-y-2 mb-6",children:e("features.whiteLabel.features",{returnObjects:!0}).map((r,s)=>n.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[n.jsx(vs,{className:"w-4 h-4 text-indigo-600"}),n.jsx("span",{className:"text-slate-700",children:r})]},s))}),n.jsx($e,{href:"/website/contact",children:n.jsxs(H,{className:"bg-indigo-600 hover:bg-indigo-700","data-testid":"button-whitelabel-contact",children:[e("features.whiteLabel.cta"),n.jsx(En,{className:"ml-2 h-4 w-4"})]})})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-48 h-48 rounded-2xl bg-white shadow-lg flex items-center justify-center border border-indigo-100",children:n.jsx($l,{className:"w-20 h-20 text-indigo-300"})})})]})})})})}),n.jsx("section",{className:"py-16 bg-slate-50",children:n.jsxs("div",{className:"container mx-auto px-4",children:[n.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[n.jsxs(Se,{className:"mb-4 bg-green-100 text-green-700",children:[n.jsx(Mr,{className:"w-3 h-3 mr-1"}),e("features.security.badge")]}),n.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:e("features.security.title")}),n.jsx("p",{className:"text-lg text-slate-600",children:e("features.security.subtitle")})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-green-100 flex items-center justify-center mx-auto mb-4",children:n.jsx(Mr,{className:"w-7 h-7 text-green-600"})}),n.jsx("h3",{className:"font-bold text-slate-900 mb-2",children:e("features.security.gdpr.title")}),n.jsx("p",{className:"text-slate-600 text-sm",children:e("features.security.gdpr.desc")})]}),n.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-blue-100 flex items-center justify-center mx-auto mb-4",children:n.jsx(mn,{className:"w-7 h-7 text-blue-600"})}),n.jsx("h3",{className:"font-bold text-slate-900 mb-2",children:e("features.security.payments.title")}),n.jsx("p",{className:"text-slate-600 text-sm",children:e("features.security.payments.desc")})]}),n.jsxs("div",{className:"text-center p-6 bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-purple-100 flex items-center justify-center mx-auto mb-4",children:n.jsx(Ra,{className:"w-7 h-7 text-purple-600"})}),n.jsx("h3",{className:"font-bold text-slate-900 mb-2",children:e("features.security.supportFr.title")}),n.jsx("p",{className:"text-slate-600 text-sm",children:e("features.security.supportFr.desc")})]})]})]})}),n.jsx("section",{className:"py-12 bg-white",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[n.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:e("demo.featuresTitle")}),n.jsx("p",{className:"text-slate-600 mb-5",children:e("demo.featuresSubtitle")}),n.jsx("a",{href:"https://calendar.app.google/UpPZuRhRtGgqZCTE7",target:"_blank",rel:"noopener noreferrer",children:n.jsx(H,{variant:"outline",className:"h-11 px-6 border-blue-300 text-blue-600 hover:bg-blue-50 hover:border-blue-500","data-testid":"cta-demo-features",children:e("demo.discoverDemo")})})]})})}),n.jsx("section",{className:"py-16 bg-white",children:n.jsx("div",{className:"container mx-auto px-4",children:n.jsxs("div",{className:"max-w-3xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-10",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 text-blue-600 mb-4",children:n.jsx(Il,{className:"h-6 w-6"})}),n.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:e("features.miniFaq.title")}),n.jsx("p",{className:"text-slate-600",children:e("features.miniFaq.subtitle")})]}),n.jsx(xh,{type:"single",collapsible:!0,className:"w-full space-y-3",children:Cqe.map(r=>n.jsxs(Di,{value:r,className:"border border-slate-200 rounded-xl px-5 bg-slate-50 hover:bg-slate-100 transition-colors","data-testid":`mini-faq-${r}`,children:[n.jsx(Ii,{className:"text-left text-slate-900 font-medium hover:no-underline py-4",children:e(`features.miniFaq.questions.${r}.question`)}),n.jsx(Li,{className:"text-slate-600 pb-4",children:e(`features.miniFaq.questions.${r}.answer`)})]},r))}),n.jsx("div",{className:"text-center mt-8",children:n.jsx($e,{href:"/website/faq",children:n.jsxs(H,{variant:"link",className:"text-blue-600 hover:text-blue-700","data-testid":"link-full-faq",children:[e("features.miniFaq.viewAll"),n.jsx(En,{className:"ml-1 h-4 w-4"})]})})})]})})}),n.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-indigo-600",children:n.jsxs("div",{className:"container mx-auto px-4 text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:e("features.cta.title")}),n.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto mb-8",children:e("features.cta.subtitle")}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[n.jsx($e,{href:"/website/pricing",children:n.jsxs(H,{size:"lg",className:"bg-white text-blue-600 hover:bg-blue-50 h-12 px-8","data-testid":"button-cta-start",children:[e("features.cta.startFree"),n.jsx(En,{className:"ml-2 h-4 w-4"})]})}),n.jsx($e,{href:"/website/pricing",children:n.jsx(H,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10 h-12 px-8","data-testid":"button-cta-pricing",children:e("features.cta.viewPricing")})})]})]})})]})}jre();const qr=e=>t=>n.jsx(li,{children:n.jsx(e,{...t})}),ra=e=>t=>{const{isWhiteLabel:r,isLoading:s}=Xi(),{account:a}=dt();return s?n.jsx(li,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):r&&!a?n.jsx(li,{children:n.jsx(l7,{})}):n.jsx(li,{children:n.jsx(e,{...t})})};function Eqe(){const{isWhiteLabel:e,isLoading:t}=Xi(),r=s7(),{mode:s,isForcedMode:a,isSandbox:i}=r;if(w4())return t?n.jsx(li,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):e?n.jsx(wL,{}):n.jsx(li,{children:n.jsx(lT,{})});if(a)switch(console.log(`[DomainAwareRoot] Forced mode: ${s}, isSandbox: ${i}`),s){case"SITE_PUBLIC":return n.jsx(fee,{});case"WALLET":return n.jsx(li,{children:n.jsx(lT,{})});case"BACKOFFICE":return n.jsx(TY,{});case"CLUB_MOBILE":return n.jsx(li,{children:n.jsx(qH,{})});case"SAAS_OWNER":return n.jsx(iee,{})}return s==="WHITE_LABEL"?t?n.jsx(li,{children:n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsx(Oe,{className:"h-8 w-8 animate-spin text-primary"})})}):e?n.jsx(wL,{}):n.jsx(k6,{}):n.jsx(k6,{})}function _qe(){return I2e(),n.jsxs(zU,{children:[n.jsx(ze,{path:"/__env",component:fze}),n.jsx(ze,{path:"/join/:slug",component:dze}),n.jsx(ze,{path:"/website",component:fee}),n.jsx(ze,{path:"/website/pricing",component:aqe}),n.jsx(ze,{path:"/website/faq",component:nqe}),n.jsx(ze,{path:"/website/contact",component:uqe}),n.jsx(ze,{path:"/website/demo",component:dqe}),n.jsx(ze,{path:"/website/terms",component:mqe}),n.jsx(ze,{path:"/website/legal",component:fqe}),n.jsx(ze,{path:"/website/privacy",component:hqe}),n.jsx(ze,{path:"/website/support",component:yqe}),n.jsx(ze,{path:"/website/blog",component:jqe}),n.jsx(ze,{path:"/website/features",component:Aqe}),n.jsx(ze,{path:"/website/signup",children:()=>(window.location.href="/website/pricing",null)}),n.jsx(ze,{path:"/website/download",children:()=>(window.location.href="/app/login",null)}),n.jsx(ze,{path:"/app/login",component:qr(lT)}),n.jsx(ze,{path:"/app/hub",component:qr(kxe)}),n.jsx(ze,{path:"/app/add-card",component:qr(Mxe)}),n.jsx(ze,{path:"/app/claim/:code",component:qr(Qxe)}),n.jsx(ze,{path:"/app/:communityId/home",component:ra(p7)}),n.jsx(ze,{path:"/app/:communityId/card",component:ra(PK)}),n.jsx(ze,{path:"/app/:communityId/news",component:ra(OK)}),n.jsx(ze,{path:"/app/:communityId/news/:articleId",component:ra(kK)}),n.jsx(ze,{path:"/app/:communityId/events",component:ra(MK)}),n.jsx(ze,{path:"/app/:communityId/events/:eventId",component:ra(RK)}),n.jsx(ze,{path:"/app/:communityId/messages",component:ra(VK)}),n.jsx(ze,{path:"/app/:communityId/profile",component:ra(KK)}),n.jsx(ze,{path:"/app/:communityId/profile/personal-info",component:ra(Dxe)}),n.jsx(ze,{path:"/app/:communityId/profile/notifications",component:ra(Hxe)}),n.jsx(ze,{path:"/app/:communityId/profile/security",component:ra(Gxe)}),n.jsx(ze,{path:"/app/:communityId/profile/build-info",component:ra(k2e)}),n.jsx(ze,{path:"/app/:communityId/payment",component:ra(HK)}),n.jsx(ze,{path:"/app/:communityId/support",component:ra(hH)}),n.jsx(ze,{path:"/app/payment/success",component:qr(Wxe)}),n.jsx(ze,{path:"/app/payment/cancel",component:qr(Yxe)}),n.jsx(ze,{path:"/app/admin/login",component:qr(qH)}),n.jsx(ze,{path:"/app/admin/register",component:qr(I1e)}),n.jsx(ze,{path:"/app/admin/select-community",component:qr(L1e)}),n.jsx(ze,{path:"/app/:communityId/admin",component:qr(c2e)}),n.jsx(ze,{path:"/app/:communityId/admin/scanner",component:qr(u2e)}),n.jsx(ze,{path:"/app/:communityId/admin/messages",component:qr(d2e)}),n.jsx(ze,{path:"/app/:communityId/admin/articles",component:qr(h2e)}),n.jsx(ze,{path:"/app/:communityId/admin/events",component:qr(g2e)}),n.jsx(ze,{path:"/app/:communityId/admin/collections",component:qr(x2e)}),n.jsx(ze,{path:"/app/:communityId/admin/members",component:qr(y2e)}),n.jsx(ze,{path:"/app/:communityId/admin/finances",component:qr(T2e)}),n.jsx(ze,{path:"/app/:communityId/admin/tags",component:qr(O2e)}),n.jsx(ze,{path:"/app/:communityId/admin/settings",component:qr(v2e)}),n.jsx(ze,{path:"/admin/login",component:TY}),n.jsx(ze,{path:"/admin/register",component:B2e}),n.jsx(ze,{path:"/admin/select-community",component:U2e}),n.jsx(ze,{path:"/admin/dashboard",component:T3e}),n.jsx(ze,{path:"/admin/members",component:k3e}),n.jsx(ze,{path:"/admin/members/:id",component:M3e}),n.jsx(ze,{path:"/admin/news",component:D3e}),n.jsx(ze,{path:"/admin/events",component:I3e}),n.jsx(ze,{path:"/admin/events/:id",component:$3e}),n.jsx(ze,{path:"/admin/messages",component:Z3e}),n.jsx(ze,{path:"/admin/admins",component:e$e}),n.jsx(ze,{path:"/admin/sections",component:t$e}),n.jsx(ze,{path:"/admin/categories",component:n$e}),n.jsx(ze,{path:"/admin/support",component:l$e}),n.jsx(ze,{path:"/admin/payments",component:c$e}),n.jsx(ze,{path:"/admin/billing",component:$$e}),n.jsx(ze,{path:"/admin/billing/success",component:z$e}),n.jsx(ze,{path:"/admin/billing/cancel",component:q$e}),n.jsx(ze,{path:"/billing/return",component:F$e}),n.jsx(ze,{path:"/admin/finances",component:U$e}),n.jsx(ze,{path:"/admin/tags",component:K$e}),n.jsx(ze,{path:"/admin/membership-plans",component:uze}),n.jsx(ze,{path:"/admin/settings",component:P$e}),n.jsx(ze,{path:"/platform/login",component:iee}),n.jsx(ze,{path:"/platform/dashboard",component:mze}),n.jsx(ze,{path:"/",component:Eqe}),n.jsx(ze,{component:tce})]})}function Tqe(){return n.jsx(ece,{children:n.jsx(qne,{client:zre,children:n.jsx(Xle,{children:n.jsxs(Vle,{children:[n.jsx(ice,{}),n.jsx(oce,{}),n.jsx(Ble,{}),n.jsx(_qe,{})]})})})})}const Pqe={features:"Fonctionnalits",pricing:"Tarifs",blog:"Blog",contact:"Contact",demo:"Demander une dmo",login:"Se connecter",signup:"Crer un compte",faq:"FAQ"},Oqe={title:"Espace Responsable",subtitle:"Accs rserv aux responsables de communaut",email:"Email",emailPlaceholder:"votre@email.com",password:"Mot de passe",forgotPassword:"Mot de passe oubli ?",submit:"Se connecter",loading:"Connexion...",noAccount:"Pas encore inscrit ?",createAccount:"Crer un compte",success:"Connexion russie!",error:"Erreur de connexion",invalidCredentials:"Email ou mot de passe incorrect",serverError:"Une erreur est survenue, veuillez ressayer",createClub:"Crer mon club",memberHint:"Vous tes membre ?",downloadApp:"Tlchargez l'app"},kqe={hero:{title:"Grez votre communaut",titleHighlight:"simplement.",subtitle:"Koomy est la solution SaaS complte pour les associations, syndicats et clubs. Digitalisez vos adhsions, communiquez efficacement et fidlisez vos membres.",cta:"Commencer",noCard:"Pas de carte requise",easyCancel:"Annulation facile"},stats:{newMembers:"Nouveaux Membres",thisWeek:"+124 cette semaine"},features:{title:"Tout ce dont vous avez besoin",subtitle:"Une suite d'outils puissants pour les administrateurs et une exprience mobile fluide pour vos membres.",mobile:{title:"App Mobile Membres",desc:"Carte d'adhrent digitale, actualits, messagerie et vnements dans la poche de vos membres."},dashboard:{title:"Dashboard Admin",desc:"Gestion centralise des cotisations, de la base de donnes et communication multi-canal."},tools:{title:"Outils Dlgus",desc:"App ddie pour les admins de terrain avec scanner QR code pour le contrle d'accs."}},mobile:{title:"Vos membres sont mobiles.",titleHighlight:"Votre communaut aussi.",subtitle:"Offrez  vos adhrents une exprience moderne. Plus de cartes plastiques perdues, plus d'emails non lus. Tout se passe sur leur smartphone.",appStore:"Tlcharger sur l'",playStore:"Disponible sur"},cta:{title:"Prt  moderniser votre structure ?",subtitle:"Rejoignez plus de 500 communauts qui utilisent Koomy au quotidien. Essai gratuit de 14 jours, sans engagement.",button:"Crer mon compte Admin",alreadyMember:"Dj membre ?",downloadApp:"Tlcharger l'app",adminLogin:"Connexion Admin"}},Mqe={title:"Des tarifs simples et transparents",subtitle:"Choisissez le plan adapt  la taille de votre communaut. Commencez gratuitement, voluez quand vous tes prt.",monthly:"Mensuel",yearly:"Annuel",twoMonthsFree:"-2 mois offerts",perMonth:"/mois",perYear:"/an",upTo:"Jusqu'",members:"membres",unlimitedMembers:"Membres illimits",onQuote:"Sur devis",customPricing:"Tarification personnalise",freeForever:"Gratuit  vie",billedYearly:"Factur {{price}} par an",billedMonthly:"Facturation mensuelle",mostPopular:"Le plus populaire",contactUs:"Contactez-nous",createFreeAccount:"Crer un compte gratuit",startFreeTrial:"Commencer l'essai gratuit",loadingError:"Une erreur est survenue lors du chargement des plans.",startingFrom:" partir de",setupIncluded:"Installation et configuration incluses",requestDemo:"Demander une dmo",whiteLabelCta:"Un projet sur mesure ? Parlons de vos besoins spcifiques.",plans:{STARTER_FREE:{name:"Free Starter",description:"Idal pour les petites communauts qui dbutent",features:["Jusqu' 20 membres","Cartes de membre digitales","Fil d'actualits","vnements basiques","Support par email"]},COMMUNAUTE_STANDARD:{name:"Communaut Plus",description:"Pour les associations et clubs en croissance",features:["Jusqu' 1 000 membres","Cartes de membre avec QR code","Gestion des cotisations","vnements et inscriptions","Messagerie membres-admins","Statistiques de base","Support prioritaire"]},COMMUNAUTE_PRO:{name:"Communaut Pro",description:"Pour les grandes organisations avec des besoins avancs",features:["Jusqu' 5 000 membres","Multi-administrateurs avec rles","Sections/rgions illimites","Personnalisation complte","Analytiques avances","Export de donnes","Intgrations API","Support 24/7"]},ENTREPRISE_CUSTOM:{name:"Grand Compte",description:"Solution sur mesure pour les trs grandes organisations",features:["Membres illimits","Configuration personnalise","Manager de succs ddi","Intgrations sur mesure","SLA garanti","Formation des quipes","Scurit renforce","Support prioritaire 24/7"]},WHITE_LABEL:{name:"Marque Blanche",description:"Votre propre plateforme  vos couleurs",features:["Application  votre marque","Domaine personnalis","Support ddi","Dploiement sur mesure"]}},faq:{title:"Questions frquentes sur les tarifs",changePlan:{question:"Puis-je changer de plan  tout moment ?",answer:`Oui, vous pouvez passer  un plan suprieur ou infrieur  tout moment depuis votre espace d'administration dans la section "Facturation". Les changements prennent effet immdiatement et la diffrence est calcule au prorata de votre priode de facturation.`},hiddenFees:{question:"Y a-t-il des frais cachs ?",answer:"Non, aucun frais cach. Le prix affich est le prix que vous payez. Les frais de transaction pour les paiements par carte bancaire de vos membres sont standards (1.4% + 0.25 par transaction russie via Stripe)."},freeTrial:{question:"Comment fonctionne l'essai gratuit ?",answer:"Vous bnficiez de 14 jours d'essai complet sur les plans Communaut Plus et Communaut Pro, sans carte bancaire requise.  la fin de l'essai, vous pouvez choisir de souscrire ou de continuer avec le plan gratuit (limit  20 membres)."},memberLimit:{question:"Que se passe-t-il si je dpasse ma limite de membres ?",answer:"Si vous approchez de votre limite de membres, vous recevrez une notification. Une fois la limite atteinte, vous ne pourrez plus ajouter de nouveaux membres tant que vous n'aurez pas mis  niveau votre plan ou libr des places."},federation:{question:"Proposez-vous des tarifs pour les grandes fdrations ?",answer:"Oui, le plan Grand Compte est conu pour les grandes structures avec des besoins spcifiques. Contactez notre quipe commerciale pour une offre sur mesure incluant le dploiement multi-sites, les intgrations personnalises et un accompagnement ddi."}},moreQuestions:{title:"Encore des questions ?",subtitle:"Notre quipe est l pour vous aider  choisir la meilleure solution pour votre communaut.",contactSales:"Contacter les ventes",viewFaq:"Consulter la FAQ"}},Rqe={title:"Contactez-nous",subtitle:"Une question ? Un projet ? Notre quipe est  votre coute pour vous accompagner.",form:{name:"Nom complet",namePlaceholder:"Jean Dupont",email:"Email",emailPlaceholder:"jean@exemple.com",organization:"Nom de l'organisation",organizationPlaceholder:"Association, syndicat, club...",phone:"Tlphone",phonePlaceholder:"06 12 34 56 78",requestType:"Type de demande",requestTypes:{info:"Demande d'informations",demo:"Demande de dmonstration",quote:"Demande de devis",partnership:"Partenariat",other:"Autre"},message:"Message",messagePlaceholder:"Dcrivez votre projet ou posez vos questions...",submit:"Envoyer le message",submitting:"Envoi en cours...",privacyNotice:"En soumettant ce formulaire, vous acceptez notre",privacyPolicy:"politique de confidentialit"},info:{title:"Nos coordonnes",email:"Email",phone:"Tlphone",phoneHours:"Du lundi au vendredi, 9h-18h",address:"Adresse"},quickHelp:{title:"Besoin d'une rponse rapide ?",subtitle:"Consultez notre FAQ pour trouver les rponses aux questions les plus frquentes.",viewFaq:"Voir la FAQ"},success:{title:"Message envoy !",message:"Merci pour votre message. Notre quipe vous rpondra dans les plus brefs dlais.",sendAnother:"Envoyer un autre message"},toast:{success:"Message envoy avec succs !",error:"Une erreur est survenue. Veuillez ressayer."}},Dqe=JSON.parse(`{"title":"Questions frquentes","subtitle":"Tout ce que vous devez savoir pour bien dmarrer avec Koomy. Vous avez d'autres questions ? Notre quipe est l pour vous.","sections":{"understand":{"title":"Comprendre Koomy","questions":{"whatIs":{"question":"Qu'est-ce que Koomy exactement ?","answer":"Koomy est une plateforme tout-en-un conue pour les associations, syndicats, clubs sportifs et communauts. Elle combine une application mobile pour vos membres (carte digitale, actualits, vnements) et un espace administrateur web pour grer votre structure (adhsions, paiements, communication). En quelques clics, vous digitalisez votre gestion et offrez une exprience moderne  vos adhrents."},"whoFor":{"question":" qui s'adresse Koomy ?","answer":"Koomy s'adresse  toutes les structures qui grent des membres : associations loi 1901, clubs sportifs amateurs ou professionnels, syndicats, fdrations, alumni, comits d'entreprise, confrries... Que vous ayez 50 ou 50 000 membres, Koomy s'adapte  votre taille et  vos besoins spcifiques."},"whyChoose":{"question":"Pourquoi choisir Koomy plutt qu'un autre outil ?","answer":"Koomy a t conu spcifiquement pour les communauts franaises, avec une comprhension fine de vos enjeux : gestion des cotisations, conformit RGPD, communication cible. Contrairement aux outils gnralistes, nous offrons une solution cl en main qui ne ncessite aucune comptence technique. Notre quipe est base en France et vous accompagne en franais."},"vsExcel":{"question":"Quelle diffrence avec un simple fichier Excel ?","answer":"Un fichier Excel devient vite ingrable : doublons, donnes obsoltes, pas de scurit, impossible de communiquer avec vos membres. Koomy centralise tout dans un outil unique : vos membres mettent  jour leurs infos eux-mmes, les paiements sont automatiss, et vous communiquez directement via l'app. Vous gagnez des heures chaque semaine et rduisez les erreurs  zro."}}},"features":{"title":"Fonctionnalits cls","questions":{"mobileApp":{"question":"Mes membres auront-ils une application mobile ?","answer":"Oui ! Vos membres tlchargent l'application Koomy (disponible sur iOS et Android) et accdent  leur carte d'adhrent digitale, aux actualits de votre communaut, aux vnements  venir, et peuvent mme payer leur cotisation directement. Fini les cartes plastiques perdues et les emails ignors."},"digitalCard":{"question":"Comment fonctionne la carte d'adhrent digitale ?","answer":"Chaque membre dispose d'une carte virtuelle avec QR code unique dans l'application. Lors d'un vnement ou d'un contrle d'accs, vous scannez simplement le QR code avec l'application administrateur pour valider l'adhsion. Plus besoin d'imprimer ou d'envoyer des cartes par la poste."},"onlinePayments":{"question":"Puis-je encaisser les cotisations en ligne ?","answer":"Absolument. Koomy intgre Stripe, le leader mondial du paiement en ligne. Vos membres paient leur cotisation directement depuis l'application, et l'argent arrive sur votre compte bancaire en quelques jours. Vous suivez tous les paiements en temps rel depuis votre tableau de bord."},"communication":{"question":"Comment communiquer avec mes membres ?","answer":"Vous publiez des actualits directement dans l'application : vos membres les voient instantanment. Vous pouvez cibler par groupe, par section ou par tag (par exemple, informer uniquement les licencis U15 ou les dlgus syndicaux). Vous crez aussi des vnements avec inscription en ligne."},"sections":{"question":"Puis-je organiser mes membres en groupes ou sections ?","answer":"Oui, Koomy propose un systme de sections et de tags trs flexible. Vous pouvez crer des sections gographiques (Paris, Lyon, Marseille), par catgorie d'ge, par fonction, ou tout autre critre. Les tags permettent ensuite de cibler finement vos communications et vnements."}}},"pricing":{"title":"Tarifs & modle conomique","questions":{"isFree":{"question":"Koomy est-il gratuit ?","answer":"Oui, Koomy propose un plan gratuit pour les petites communauts (jusqu' 20 membres). Ce plan inclut les fonctionnalits essentielles : gestion des membres, carte digitale, actualits. Pour les structures plus importantes ou des fonctionnalits avances (paiements, analytics, QR code), nos plans payants dmarrent  partir de 19/mois."},"hiddenFees":{"question":"Y a-t-il des frais cachs ?","answer":"Non, nos tarifs sont transparents et affichs clairement. Vous payez un abonnement mensuel ou annuel fixe selon votre plan. Les seuls frais additionnels sont les frais de transaction Stripe standard (1,4% + 0,25) sur les paiements de vos membres, directement prlevs par Stripe."},"roi":{"question":"Quel retour sur investissement puis-je esprer ?","answer":"Nos clients constatent en moyenne : 30% de temps gagn sur l'administratif, un taux de recouvrement des cotisations en hausse de 40%, et une meilleure fidlisation grce  une communication plus rgulire. Le cot de Koomy est gnralement amorti ds les premires semaines."},"changePlan":{"question":"Puis-je changer de plan  tout moment ?","answer":"Oui, vous pouvez passer  un plan suprieur ou revenir  un plan infrieur  tout moment depuis votre espace d'administration. Les changements prennent effet immdiatement et la facturation est ajuste au prorata."},"paymentMethods":{"question":"Quels moyens de paiement acceptez-vous ?","answer":"Votre abonnement Koomy peut tre rgl par carte bancaire (Visa, Mastercard). Pour les grandes structures (plan Grand Compte), nous proposons galement le paiement par virement et la facturation annuelle."}}},"gettingStarted":{"title":"Dmarrer avec Koomy","questions":{"howToStart":{"question":"Comment dmarrer avec Koomy ?","answer":"C'est simple : crez votre compte administrateur en 2 minutes sur notre site. Vous accdez immdiatement  votre espace de gestion o vous pouvez paramtrer votre communaut, importer vos membres existants et personnaliser votre espace. Aucune carte bancaire n'est requise pour l'essai gratuit."},"importMembers":{"question":"Puis-je importer mes membres existants ?","answer":"Oui, vous pouvez importer vos membres depuis un fichier Excel ou CSV en quelques clics. Notre assistant d'import vous guide tape par tape. Vous pouvez galement ajouter des membres manuellement ou les laisser s'inscrire eux-mmes via un lien d'invitation."},"setupTime":{"question":"Combien de temps faut-il pour tout mettre en place ?","answer":"La plupart de nos clients sont oprationnels en moins d'une heure. La cration du compte prend 2 minutes, l'import des membres 10 minutes, et la personnalisation de votre espace 15  30 minutes. Vos membres peuvent tlcharger l'app et activer leur carte immdiatement aprs."},"training":{"question":"Faut-il une formation pour utiliser Koomy ?","answer":"Non, Koomy a t conu pour tre intuitif et ne ncessite aucune comptence technique. L'interface est disponible en franais et en anglais, avec des guides intgrs et des tutoriels vido. Si besoin, notre quipe support vous accompagne par email ou tlphone."},"freeTrial":{"question":"Puis-je essayer avant de m'engager ?","answer":"Bien sr ! Le plan gratuit vous permet de tester Koomy sans limite de temps avec jusqu' 20 membres. Pour les plans payants, vous bnficiez de 14 jours d'essai complet sans engagement et sans carte bancaire requise."}}},"security":{"title":"Scurit & confiance","questions":{"dataSecurity":{"question":"Mes donnes sont-elles en scurit ?","answer":"Absolument. Vos donnes sont hberges sur des serveurs scuriss en Europe (conformes RGPD). Toutes les communications sont chiffres (HTTPS), et les donnes de paiement transitent uniquement via Stripe, certifi PCI-DSS niveau 1. Nous n'avons jamais accs  vos coordonnes bancaires."},"gdpr":{"question":"Koomy est-il conforme au RGPD ?","answer":"Oui, Koomy est 100% conforme au Rglement Gnral sur la Protection des Donnes. Vos membres peuvent exercer leurs droits (accs, rectification, suppression) directement depuis l'application. Vous disposez galement d'outils pour grer le consentement et exporter les donnes sur demande."},"dataOwnership":{"question":" qui appartiennent les donnes de mes membres ?","answer":"Vos donnes vous appartiennent  100%. Koomy n'utilise ni ne revend jamais les donnes de vos membres. Vous pouvez exporter l'intgralit de votre base  tout moment. En cas de rsiliation, vos donnes sont supprimes selon vos instructions."},"uptime":{"question":"Quelle est la disponibilit du service ?","answer":"Koomy garantit une disponibilit de 99,9% grce  une infrastructure cloud redondante. En cas d'incident (rare), notre quipe technique intervient 24h/24 pour rtablir le service. Vous pouvez consulter notre page de statut en temps rel."},"backups":{"question":"Mes donnes sont-elles sauvegardes ?","answer":"Oui, des sauvegardes automatiques sont effectues plusieurs fois par jour. En cas de problme, nous pouvons restaurer vos donnes jusqu' 30 jours en arrire. Vous dormez tranquille."}}},"support":{"title":"Support & accompagnement","questions":{"channels":{"question":"Comment puis-je contacter le support ?","answer":"Notre quipe support est joignable par email, chat en ligne et tlphone du lundi au vendredi de 9h  18h. Les clients des plans payants bnficient d'un support prioritaire avec des dlais de rponse garantis. Nous rpondons gnralement en moins de 24h."},"language":{"question":"Le support est-il en franais ?","answer":"Oui, notre quipe est 100% francophone et base en France. Nous comprenons les spcificits des associations et clubs franais. Pas de traduction automatique ou de centre d'appels  l'tranger."},"onboarding":{"question":"Proposez-vous un accompagnement au dmarrage ?","answer":"Oui, tous les nouveaux clients bnficient d'un accompagnement gratuit : guides de dmarrage, tutoriels vido, et support ractif pour vos premires questions. Les clients Grand Compte disposent en plus d'un chef de projet ddi pour le dploiement."},"existingCustomer":{"question":"Je suis dj client, o trouver de l'aide technique ?","answer":"Les clients existants disposent d'un Centre d'aide complet accessible depuis leur espace administrateur. Vous y trouverez des rponses aux questions frquentes, des guides pas  pas, et la possibilit de crer un ticket de support si ncessaire."},"featureRequests":{"question":"Puis-je suggrer des amliorations ?","answer":"Absolument ! Nous coutons activement nos clients. Vous pouvez soumettre vos ides via le support ou lors de nos enqutes rgulires. De nombreuses fonctionnalits de Koomy ont t dveloppes suite aux retours de notre communaut d'utilisateurs."}}}},"readyToStart":{"title":"Prt  vous lancer ?","subtitle":"Crez votre compte gratuitement et dcouvrez Koomy par vous-mme.","cta":"Voir les tarifs"},"existingCustomer":{"title":"Dj client ?","subtitle":"Accdez  notre Centre d'aide complet depuis votre espace administrateur.","cta":"Centre d'aide"},"needMoreHelp":"Vous ne trouvez pas votre rponse ?","contactTeam":"Contactez notre quipe"}`),Iqe={hero:{badge:"Plateforme tout-en-un",title:"Tout ce dont votre communaut a besoin",subtitle:"Koomy runit les outils essentiels pour grer et animer votre association, club ou syndicat. Simple et efficace.",benefits:["Gestion simplifie de vos adhrents","Paiements en ligne scuriss","Communication cible avec vos membres"],ctaCreate:"Crer une communaut",ctaDemo:"Demander une dmo"},benefitsBar:{time:{title:"Gagnez du temps",desc:"Automatisez la gestion des adhsions et paiements"},engage:{title:"Engagez vos membres",desc:"Communiquez via l'app mobile et les actualits"},grow:{title:"Dveloppez votre communaut",desc:"Outils modernes pour attirer et fidliser"}},modulesTitle:"Fonctionnalits",modulesSubtitle:"Dcouvrez les outils qui simplifient la gestion de votre communaut au quotidien.",modules:{members:{title:"Membres & Carte membre",subtitle:"Digitalisez vos adhsions avec une carte membre moderne",features:["Carte membre digitale avec QR code unique","Activation par code envoy par email","Fiches membres compltes (coordonnes, photo)","Organisation en sections et tags personnaliss","Import de membres depuis Excel/CSV","Recherche et filtres avancs"]},payments:{title:"Paiements & Cotisations",subtitle:"Encaissez les cotisations en ligne via Stripe",features:["Paiement par carte bancaire scuris (Stripe)","Cration de demandes de cotisation","Suivi des paiements en temps rel","Configuration simple de Stripe Connect","Virements automatiques vers votre compte bancaire"]},events:{title:"vnements & Prsences",subtitle:"Organisez vos vnements et grez les inscriptions",features:["Cration d'vnements en quelques clics","Inscriptions en ligne (gratuit ou payant)","Contrle d'accs par scan QR code","Ciblage par section ou tag (vnements rservs)","Gestion de la capacit et des places"]},news:{title:"Actualits & Contenus",subtitle:"Informez vos membres avec des actualits cibles",features:["Fil d'actualits dans l'application","Catgories d'articles personnalisables","Ciblage par section ou tag","Ajout d'images et mise en forme","Visibilit sur la fiche communaut"]},support:{title:"Support & Accompagnement",subtitle:"Une quipe  votre coute pour vous aider",features:["Support de niveau 1 par votre communaut","Escalade vers l'quipe Koomy si ncessaire","Centre d'aide avec questions frquentes","Accompagnement au dmarrage","quipe 100% francophone base en France"]},plans:{title:"Abonnements & Plans",subtitle:"Des formules adaptes  la taille de votre communaut",features:["Plan gratuit jusqu' 20 membres","Plans payants sans limite de membres","Fonctionnalits avances selon le plan","Changement de plan  tout moment","Facturation mensuelle ou annuelle"]}},whiteLabel:{badge:"Option disponible",title:"Application White-Label",subtitle:"Proposez  vos membres une application mobile  votre image, avec votre nom et votre identit visuelle.",features:["Application mobile  votre nom et logo","Couleurs et branding personnaliss","Domaine personnalis possible","Activation selon plan ou contrat spcifique"],cta:"En savoir plus"},security:{badge:"Scurit & Conformit",title:"Vos donnes sont entre de bonnes mains",subtitle:"Koomy est conu avec la scurit et la confidentialit comme priorits.",gdpr:{title:"Conforme RGPD",desc:"Respect total du Rglement sur la Protection des Donnes."},payments:{title:"Paiements scuriss",desc:"Stripe certifi PCI-DSS niveau 1 pour vos transactions."},supportFr:{title:"Support franais",desc:"quipe 100% francophone base en France."}},miniFaq:{title:"Questions frquentes",subtitle:"Les rponses aux questions les plus courantes",viewAll:"Voir toutes les questions",questions:{free:{question:"Koomy est-il vraiment gratuit ?",answer:"Oui, le plan gratuit permet de grer jusqu' 20 membres sans limite de temps. Pour les communauts plus grandes ou des fonctionnalits avances, nos plans payants sont disponibles  partir de 19/mois."},setup:{question:"Combien de temps pour mettre en place ?",answer:"La plupart de nos clients sont oprationnels en moins d'une heure. Cration du compte en 2 minutes, import des membres en 10 minutes, et vos adhrents peuvent tlcharger l'app immdiatement."},stripe:{question:"Comment fonctionnent les paiements ?",answer:"Les paiements sont scuriss par Stripe, leader mondial du paiement en ligne. Vos membres paient par carte bancaire dans l'app, et l'argent arrive sur votre compte bancaire en quelques jours."},dataSecurity:{question:"Mes donnes sont-elles en scurit ?",answer:"Vos donnes sont hberges sur des serveurs scuriss en Europe, conformes au RGPD. Les communications sont chiffres et nous n'avons jamais accs aux donnes bancaires de vos membres."},help:{question:"Comment obtenir de l'aide ?",answer:"Notre quipe francophone est disponible par email et tlphone du lundi au vendredi. Les clients existants bnficient galement d'un Centre d'aide complet accessible depuis leur espace administrateur."}}},cta:{title:"Prt  digitaliser votre communaut ?",subtitle:"Rejoignez les associations, clubs et syndicats qui font confiance  Koomy pour grer leurs membres au quotidien.",startFree:"Commencer gratuitement",viewPricing:"Voir les tarifs"}},Lqe={description:"La solution tout-en-un pour les associations, syndicats et clubs qui souhaitent moderniser leur gestion et engager leurs membres.",product:"Produit",resources:"Ressources",legal:"Lgal",followUs:"Suivez-nous",features:"Fonctionnalits",pricing:"Tarifs",demo:"Demander une dmo",blog:"Blog",faq:"FAQ",support:"Support",terms:"CGU",privacy:"Confidentialit",cookies:"Cookies",allRights:"Tous droits rservs."},$qe={or:"ou",required:"*"},zqe={bookDemo:"Rserver une dmo",scheduleCall:"Planifier un change",discoverDemo:"Dcouvrir en dmo",preferDirectCall:"Prfrez un change direct ?",bookSlot:"Rservez un crneau",ctaTitle:"Besoin d'une prsentation personnalise ?",ctaSubtitle:"15 minutes pour dcouvrir comment Koomy peut s'adapter  votre communaut. Sans engagement.",pricingTitle:"Des questions sur l'offre adapte ?",pricingSubtitle:"changeons pour trouver la formule qui correspond  vos besoins.",featuresTitle:"Envie de voir Koomy en action ?",featuresSubtitle:"Dcouvrez toutes les fonctionnalits en conditions relles."},qqe={title:" Nous respectons votre vie prive",description:"Ce site utilise des cookies pour amliorer votre exprience. Certains cookies sont essentiels au fonctionnement du site, d'autres nous aident  comprendre comment vous l'utilisez.",customize:"Personnaliser mes choix",acceptAll:"Tout accepter",rejectAll:"Tout refuser",savePreferences:"Enregistrer mes prfrences",settingsTitle:"Paramtres des cookies",moreInfo:"Pour en savoir plus, consultez notre",privacyPolicy:"politique de confidentialit",necessary:{title:"Cookies essentiels",desc:"Ncessaires au fonctionnement du site. Ne peuvent pas tre dsactivs."},analytics:{title:"Cookies analytiques",desc:"Nous aident  comprendre comment vous utilisez le site pour l'amliorer."},marketing:{title:"Cookies marketing",desc:"Utiliss pour afficher des publicits pertinentes et mesurer leur efficacit."},functional:{title:"Cookies fonctionnels",desc:"Permettent des fonctionnalits personnalises comme la langue et les prfrences."}},Fqe={nav:Pqe,login:Oqe,home:kqe,pricing:Mqe,contact:Rqe,faq:Dqe,features:Iqe,footer:Lqe,common:$qe,demo:zqe,cookies:qqe},Bqe={features:"Features",pricing:"Pricing",blog:"Blog",contact:"Contact",demo:"Request a Demo",login:"Log in",signup:"Sign up",faq:"FAQ"},Uqe={title:"Manager Access",subtitle:"Access reserved for community managers",email:"Email",emailPlaceholder:"your@email.com",password:"Password",forgotPassword:"Forgot password?",submit:"Log in",loading:"Logging in...",noAccount:"Don't have an account?",createAccount:"Create an account",success:"Login successful!",error:"Login error",invalidCredentials:"Invalid email or password",serverError:"An error occurred, please try again",createClub:"Create my club",memberHint:"Are you a member?",downloadApp:"Download the app"},Vqe={hero:{title:"Manage your community",titleHighlight:"effortlessly.",subtitle:"Koomy is the complete SaaS solution for associations, unions, and clubs. Digitize memberships, communicate effectively, and engage your members.",cta:"Get started",noCard:"No credit card required",easyCancel:"Cancel anytime"},stats:{newMembers:"New Members",thisWeek:"+124 this week"},features:{title:"Everything you need",subtitle:"A powerful suite of tools for administrators and a seamless mobile experience for your members.",mobile:{title:"Member Mobile App",desc:"Digital membership card, news, messaging, and events right in your members' pockets."},dashboard:{title:"Admin Dashboard",desc:"Centralized management of dues, database, and multi-channel communication."},tools:{title:"Delegate Tools",desc:"Dedicated app for field admins with QR code scanner for access control."}},mobile:{title:"Your members are mobile.",titleHighlight:"So is your community.",subtitle:"Give your members a modern experience. No more lost plastic cards, no more unread emails. Everything happens on their smartphone.",appStore:"Download on the",playStore:"Get it on"},cta:{title:"Ready to modernize your organization?",subtitle:"Join over 500 communities using Koomy daily. 14-day free trial, no commitment.",button:"Create my Admin account",alreadyMember:"Already a member?",downloadApp:"Download the app",adminLogin:"Admin Login"}},Kqe={title:"Simple and transparent pricing",subtitle:"Choose the plan that fits your community size. Start free, upgrade when you're ready.",monthly:"Monthly",yearly:"Yearly",twoMonthsFree:"2 months free",perMonth:"/month",perYear:"/year",upTo:"Up to",members:"members",unlimitedMembers:"Unlimited members",onQuote:"On quote",customPricing:"Custom pricing",freeForever:"Free forever",billedYearly:"Billed {{price}} per year",billedMonthly:"Billed monthly",mostPopular:"Most popular",contactUs:"Contact us",createFreeAccount:"Create free account",startFreeTrial:"Start free trial",loadingError:"An error occurred while loading plans.",startingFrom:"Starting from",setupIncluded:"Setup and configuration included",requestDemo:"Request a demo",whiteLabelCta:"Custom project? Let's discuss your specific needs.",plans:{STARTER_FREE:{name:"Free Starter",description:"Perfect for small communities just getting started",features:["Up to 20 members","Digital membership cards","News feed","Basic events","Email support"]},COMMUNAUTE_STANDARD:{name:"Community Plus",description:"For growing associations and clubs",features:["Up to 1,000 members","Membership cards with QR code","Dues management","Events and registrations","Member-admin messaging","Basic analytics","Priority support"]},COMMUNAUTE_PRO:{name:"Community Pro",description:"For large organizations with advanced needs",features:["Up to 5,000 members","Multi-admin with roles","Unlimited sections/regions","Full customization","Advanced analytics","Data export","API integrations","24/7 support"]},ENTREPRISE_CUSTOM:{name:"Enterprise",description:"Custom solution for very large organizations",features:["Unlimited members","Custom configuration","Dedicated success manager","Custom integrations","Guaranteed SLA","Team training","Enhanced security","Priority 24/7 support"]},WHITE_LABEL:{name:"White Label",description:"Your own platform with your branding",features:["Branded application","Custom domain","Dedicated support","Custom deployment"]}},faq:{title:"Frequently asked pricing questions",changePlan:{question:"Can I change plans at any time?",answer:'Yes, you can upgrade or downgrade at any time from your admin dashboard in the "Billing" section. Changes take effect immediately and the difference is prorated based on your billing period.'},hiddenFees:{question:"Are there any hidden fees?",answer:"No hidden fees. The price shown is the price you pay. Transaction fees for your members' card payments are standard (1.4% + 0.25 per successful transaction via Stripe)."},freeTrial:{question:"How does the free trial work?",answer:"You get a full 14-day trial on Community Plus and Community Pro plans, no credit card required. At the end of the trial, you can choose to subscribe or continue with the free plan (limited to 20 members)."},memberLimit:{question:"What happens if I exceed my member limit?",answer:"If you're approaching your member limit, you'll receive a notification. Once the limit is reached, you won't be able to add new members until you upgrade your plan or free up slots."},federation:{question:"Do you offer pricing for large federations?",answer:"Yes, the Enterprise plan is designed for large organizations with specific needs. Contact our sales team for a custom offer including multi-site deployment, custom integrations, and dedicated support."}},moreQuestions:{title:"Still have questions?",subtitle:"Our team is here to help you choose the best solution for your community.",contactSales:"Contact sales",viewFaq:"View FAQ"}},Hqe={title:"Contact us",subtitle:"Have a question? A project? Our team is here to help you.",form:{name:"Full name",namePlaceholder:"John Doe",email:"Email",emailPlaceholder:"john@example.com",organization:"Organization name",organizationPlaceholder:"Association, union, club...",phone:"Phone",phonePlaceholder:"+1 555 123 4567",requestType:"Request type",requestTypes:{info:"Information request",demo:"Demo request",quote:"Quote request",partnership:"Partnership",other:"Other"},message:"Message",messagePlaceholder:"Describe your project or ask your questions...",submit:"Send message",submitting:"Sending...",privacyNotice:"By submitting this form, you agree to our",privacyPolicy:"privacy policy"},info:{title:"Our contact details",email:"Email",phone:"Phone",phoneHours:"Monday to Friday, 9am-6pm",address:"Address"},quickHelp:{title:"Need a quick answer?",subtitle:"Check our FAQ for answers to the most common questions.",viewFaq:"View FAQ"},success:{title:"Message sent!",message:"Thank you for your message. Our team will respond as soon as possible.",sendAnother:"Send another message"},toast:{success:"Message sent successfully!",error:"An error occurred. Please try again."}},Gqe={title:"Frequently Asked Questions",subtitle:"Everything you need to know to get started with Koomy. Have other questions? Our team is here for you.",sections:{understand:{title:"Understanding Koomy",questions:{whatIs:{question:"What exactly is Koomy?",answer:"Koomy is an all-in-one platform designed for associations, unions, sports clubs, and communities. It combines a mobile app for your members (digital card, news, events) and a web admin dashboard to manage your organization (memberships, payments, communication). In just a few clicks, you digitize your management and offer a modern experience to your members."},whoFor:{question:"Who is Koomy for?",answer:"Koomy is designed for any organization that manages members: nonprofits, amateur or professional sports clubs, unions, federations, alumni groups, works councils, fraternities... Whether you have 50 or 50,000 members, Koomy adapts to your size and specific needs."},whyChoose:{question:"Why choose Koomy over other tools?",answer:"Koomy was specifically designed for French communities, with a deep understanding of your challenges: dues management, GDPR compliance, targeted communication. Unlike generic tools, we offer a turnkey solution that requires no technical skills. Our team is based in France and supports you in French."},vsExcel:{question:"What's the difference from a simple Excel file?",answer:"An Excel file quickly becomes unmanageable: duplicates, outdated data, no security, impossible to communicate with your members. Koomy centralizes everything in one tool: your members update their own info, payments are automated, and you communicate directly via the app. You save hours every week and reduce errors to zero."}}},features:{title:"Key Features",questions:{mobileApp:{question:"Will my members have a mobile app?",answer:"Yes! Your members download the Koomy app (available on iOS and Android) and access their digital membership card, community news, upcoming events, and can even pay their dues directly. No more lost plastic cards and ignored emails."},digitalCard:{question:"How does the digital membership card work?",answer:"Each member has a virtual card with a unique QR code in the app. At an event or access control point, you simply scan the QR code with the admin app to validate membership. No need to print or mail cards anymore."},onlinePayments:{question:"Can I collect dues online?",answer:"Absolutely. Koomy integrates Stripe, the world leader in online payments. Your members pay their dues directly from the app, and the money arrives in your bank account within days. You track all payments in real-time from your dashboard."},communication:{question:"How do I communicate with my members?",answer:"You publish news directly in the app: your members see it instantly. You can target by group, section, or tag (for example, inform only U15 players or union delegates). You also create events with online registration."},sections:{question:"Can I organize my members into groups or sections?",answer:"Yes, Koomy offers a very flexible system of sections and tags. You can create geographic sections (Paris, Lyon, Marseille), by age group, by function, or any other criteria. Tags then allow you to precisely target your communications and events."}}},pricing:{title:"Pricing & Business Model",questions:{isFree:{question:"Is Koomy free?",answer:"Yes, Koomy offers a free plan for small communities (up to 20 members). This plan includes essential features: member management, digital card, news. For larger organizations or advanced features (payments, analytics, QR code), our paid plans start at 19/month."},hiddenFees:{question:"Are there any hidden fees?",answer:"No, our pricing is transparent and clearly displayed. You pay a fixed monthly or annual subscription based on your plan. The only additional fees are standard Stripe transaction fees (1.4% + 0.25) on your members' payments, collected directly by Stripe."},roi:{question:"What return on investment can I expect?",answer:"Our clients typically see: 30% time saved on admin tasks, a 40% increase in dues collection rate, and better retention through more regular communication. The cost of Koomy is usually recovered within the first few weeks."},changePlan:{question:"Can I change plans at any time?",answer:"Yes, you can upgrade or downgrade at any time from your admin dashboard. Changes take effect immediately and billing is adjusted pro-rata."},paymentMethods:{question:"What payment methods do you accept?",answer:"Your Koomy subscription can be paid by credit card (Visa, Mastercard). For large organizations (Enterprise plan), we also offer bank transfer and annual invoicing."}}},gettingStarted:{title:"Getting Started with Koomy",questions:{howToStart:{question:"How do I get started with Koomy?",answer:"It's simple: create your admin account in 2 minutes on our website. You immediately access your management dashboard where you can configure your community, import existing members, and customize your space. No credit card required for the free trial."},importMembers:{question:"Can I import my existing members?",answer:"Yes, you can import your members from an Excel or CSV file in just a few clicks. Our import wizard guides you step by step. You can also add members manually or let them sign up themselves via an invitation link."},setupTime:{question:"How long does it take to set everything up?",answer:"Most of our clients are up and running in less than an hour. Account creation takes 2 minutes, member import 10 minutes, and customizing your space 15-30 minutes. Your members can download the app and activate their card immediately after."},training:{question:"Do I need training to use Koomy?",answer:"No, Koomy is designed to be intuitive and requires no technical skills. The interface is available in French and English, with built-in guides and video tutorials. If needed, our support team assists you by email or phone."},freeTrial:{question:"Can I try before committing?",answer:"Of course! The free plan lets you test Koomy with no time limit for up to 20 members. For paid plans, you get a full 14-day trial with no commitment and no credit card required."}}},security:{title:"Security & Trust",questions:{dataSecurity:{question:"Is my data secure?",answer:"Absolutely. Your data is hosted on secure servers in Europe (GDPR compliant). All communications are encrypted (HTTPS), and payment data only goes through Stripe, certified PCI-DSS Level 1. We never have access to your banking details."},gdpr:{question:"Is Koomy GDPR compliant?",answer:"Yes, Koomy is 100% compliant with the General Data Protection Regulation. Your members can exercise their rights (access, rectification, deletion) directly from the app. You also have tools to manage consent and export data on request."},dataOwnership:{question:"Who owns my members' data?",answer:"Your data belongs to you 100%. Koomy never uses or sells your members' data. You can export your entire database at any time. If you cancel, your data is deleted according to your instructions."},uptime:{question:"What is the service availability?",answer:"Koomy guarantees 99.9% availability thanks to redundant cloud infrastructure. In case of an incident (rare), our technical team intervenes 24/7 to restore service. You can check our real-time status page."},backups:{question:"Is my data backed up?",answer:"Yes, automatic backups are performed several times a day. In case of a problem, we can restore your data up to 30 days back. You can sleep easy."}}},support:{title:"Support & Guidance",questions:{channels:{question:"How can I contact support?",answer:"Our support team is available by email, live chat, and phone Monday to Friday 9am-6pm. Paid plan customers get priority support with guaranteed response times. We typically respond within 24 hours."},language:{question:"Is support available in French?",answer:"Yes, our team is 100% French-speaking and based in France. We understand the specifics of French associations and clubs. No automatic translation or overseas call centers."},onboarding:{question:"Do you offer onboarding support?",answer:"Yes, all new customers get free onboarding support: getting started guides, video tutorials, and responsive support for your first questions. Enterprise customers also get a dedicated project manager for deployment."},existingCustomer:{question:"I'm already a customer, where can I find technical help?",answer:"Existing customers have access to a comprehensive Help Center from their admin dashboard. You'll find answers to common questions, step-by-step guides, and the ability to create a support ticket if needed."},featureRequests:{question:"Can I suggest improvements?",answer:"Absolutely! We actively listen to our customers. You can submit your ideas through support or during our regular surveys. Many Koomy features were developed based on feedback from our user community."}}}},readyToStart:{title:"Ready to get started?",subtitle:"Create your account for free and discover Koomy for yourself.",cta:"View pricing"},existingCustomer:{title:"Already a customer?",subtitle:"Access our comprehensive Help Center from your admin dashboard.",cta:"Help Center"},needMoreHelp:"Can't find your answer?",contactTeam:"Contact our team"},Wqe={hero:{badge:"All-in-one platform",title:"Everything your community needs",subtitle:"Koomy brings together the essential tools to manage and engage your association, club or union. Simple and effective.",benefits:["Simplified member management","Secure online payments","Targeted communication with your members"],ctaCreate:"Create a community",ctaDemo:"Request a demo"},benefitsBar:{time:{title:"Save time",desc:"Automate membership management and payments"},engage:{title:"Engage your members",desc:"Communicate via mobile app and news updates"},grow:{title:"Grow your community",desc:"Modern tools to attract and retain members"}},modulesTitle:"Features",modulesSubtitle:"Discover the tools that simplify your community management every day.",modules:{members:{title:"Members & Member Card",subtitle:"Digitize your memberships with a modern member card",features:["Digital member card with unique QR code","Activation by code sent via email","Complete member profiles (contact info, photo)","Organization into sections and custom tags","Import members from Excel/CSV","Advanced search and filters"]},payments:{title:"Payments & Dues",subtitle:"Collect dues online via Stripe",features:["Secure card payment (Stripe)","Create payment requests","Real-time payment tracking","Simple Stripe Connect setup","Automatic transfers to your bank account"]},events:{title:"Events & Attendance",subtitle:"Organize your events and manage registrations",features:["Create events in a few clicks","Online registration (free or paid)","QR code access control","Target by section or tag (restricted events)","Capacity and seat management"]},news:{title:"News & Content",subtitle:"Keep your members informed with targeted news",features:["News feed in the app","Customizable article categories","Target by section or tag","Add images and formatting","Visibility on community profile"]},support:{title:"Support & Guidance",subtitle:"A team at your service to help you",features:["Level 1 support by your community","Escalation to Koomy team if needed","Help center with FAQs","Onboarding assistance","100% French-speaking team based in France"]},plans:{title:"Subscriptions & Plans",subtitle:"Plans tailored to your community size",features:["Free plan up to 20 members","Paid plans with unlimited members","Advanced features by plan","Change plans anytime","Monthly or annual billing"]}},whiteLabel:{badge:"Available option",title:"White-Label App",subtitle:"Offer your members a mobile app with your branding, your name and your visual identity.",features:["Mobile app with your name and logo","Custom colors and branding","Custom domain available","Activation based on plan or contract"],cta:"Learn more"},security:{badge:"Security & Compliance",title:"Your data is in good hands",subtitle:"Koomy is built with security and privacy as priorities.",gdpr:{title:"GDPR Compliant",desc:"Full compliance with the General Data Protection Regulation."},payments:{title:"Secure payments",desc:"Stripe certified PCI-DSS Level 1 for your transactions."},supportFr:{title:"French support",desc:"100% French-speaking team based in France."}},miniFaq:{title:"Frequently asked questions",subtitle:"Answers to the most common questions",viewAll:"View all questions",questions:{free:{question:"Is Koomy really free?",answer:"Yes, the free plan allows you to manage up to 20 members with no time limit. For larger communities or advanced features, our paid plans start at 19/month."},setup:{question:"How long does setup take?",answer:"Most of our clients are up and running in less than an hour. Account creation takes 2 minutes, member import 10 minutes, and your members can download the app immediately."},stripe:{question:"How do payments work?",answer:"Payments are secured by Stripe, the world leader in online payments. Your members pay by card in the app, and the money arrives in your bank account within a few days."},dataSecurity:{question:"Is my data secure?",answer:"Your data is hosted on secure servers in Europe, GDPR compliant. Communications are encrypted and we never have access to your members' banking data."},help:{question:"How can I get help?",answer:"Our French-speaking team is available by email and phone Monday to Friday. Existing clients also benefit from a comprehensive Help Center accessible from their admin dashboard."}}},cta:{title:"Ready to digitize your community?",subtitle:"Join the associations, clubs and unions that trust Koomy to manage their members every day.",startFree:"Start for free",viewPricing:"View pricing"}},Yqe={description:"The all-in-one solution for associations, unions, and clubs looking to modernize their management and engage their members.",product:"Product",resources:"Resources",legal:"Legal",followUs:"Follow us",features:"Features",pricing:"Pricing",demo:"Request a Demo",blog:"Blog",faq:"FAQ",support:"Support",terms:"Terms of Service",privacy:"Privacy Policy",cookies:"Cookies",allRights:"All rights reserved."},Qqe={or:"or",required:"*"},Xqe={bookDemo:"Book a demo",scheduleCall:"Schedule a call",discoverDemo:"See it in action",preferDirectCall:"Prefer a direct call?",bookSlot:"Book a slot",ctaTitle:"Need a personalized presentation?",ctaSubtitle:"15 minutes to discover how Koomy can adapt to your community. No commitment.",pricingTitle:"Questions about the right plan?",pricingSubtitle:"Let's chat to find the formula that fits your needs.",featuresTitle:"Want to see Koomy in action?",featuresSubtitle:"Discover all features in real conditions."},Zqe={title:" We respect your privacy",description:"This site uses cookies to enhance your experience. Some cookies are essential for the site to function, others help us understand how you use it.",customize:"Customize my choices",acceptAll:"Accept all",rejectAll:"Reject all",savePreferences:"Save my preferences",settingsTitle:"Cookie settings",moreInfo:"To learn more, see our",privacyPolicy:"privacy policy",necessary:{title:"Essential cookies",desc:"Required for the site to work. Cannot be disabled."},analytics:{title:"Analytics cookies",desc:"Help us understand how you use the site to improve it."},marketing:{title:"Marketing cookies",desc:"Used to display relevant ads and measure their effectiveness."},functional:{title:"Functional cookies",desc:"Enable personalized features like language and preferences."}},Jqe={nav:Bqe,login:Uqe,home:Vqe,pricing:Kqe,contact:Hqe,faq:Gqe,features:Wqe,footer:Yqe,common:Qqe,demo:Xqe,cookies:Zqe},e8e={fr:{translation:Fqe},en:{translation:Jqe}};Xs.use(Vze).init({resources:e8e,lng:"fr",fallbackLng:"fr",interpolation:{escapeValue:!1}});Zte.createRoot(document.getElementById("root")).render(n.jsx(Tqe,{}));export{u4 as W};
